
window.Modernizr=function(n,h,t){function r(a){o.cssText=a}function L(a,b){return r(u.join(a+";")+(b||""))}function m(a,b){return typeof a===b}function w(a,b){return!!~(""+a).indexOf(b)}function F(a,b){for(var c in a)if(o[a[c]]!==t)return b=="pfx"?a[c]:true;return false}function M(a,b,c){for(var e in a){var f=b[a[e]];if(f!==t)return c===false?a[e]:m(f,"function")?f.bind(c||b):f}return false}function k(a,b,c){var e=a.charAt(0).toUpperCase()+a.substr(1),f=(a+" "+G.join(e+" ")+e).split(" ");return m(b,
"string")||m(b,"undefined")?F(f,b):(f=(a+" "+H.join(e+" ")+e).split(" "),M(f,b,c))}function N(){g.input=function(a){for(var b=0,c=a.length;b<c;b++)x[a[b]]=a[b]in i;return x.list&&(x.list=!!h.createElement("datalist")&&!!n.HTMLDataListElement),x}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));g.inputtypes=function(a){for(var b=0,c,e,f,j=a.length;b<j;b++){i.setAttribute("type",e=a[b]);(c=i.type!=="text")&&(i.value=y,i.style.cssText="position:absolute;visibility:hidden;",
/^range$/.test(e)&&i.style.WebkitAppearance!==t?(p.appendChild(i),f=h.defaultView,c=f.getComputedStyle&&f.getComputedStyle(i,null).WebkitAppearance!=="textfield"&&i.offsetHeight!==0,p.removeChild(i)):/^(search|tel)$/.test(e)||(/^(url|email)$/.test(e)?(c=i.checkValidity&&i.checkValidity()===false):/^color$/.test(e)?(p.appendChild(i),c=i.value!=y,p.removeChild(i)):(c=i.value!=y)));I[a[b]]=!!c}return I}("search tel url email datetime date month week time datetime-local number range color".split(" "))}
var g={},p=h.documentElement,d=h.createElement("modernizr"),o=d.style,i=h.createElement("input"),y=":)",u=" -webkit- -moz- -o- -ms- ".split(" "),G="Webkit Moz O ms".split(" "),H="Webkit Moz O ms".toLowerCase().split(" ");d={};var I={},x={},A=[],B=A.slice,z,J=function(a,b,c,e){var f,j,l,q=h.createElement("div"),v=h.body,s=v?v:h.createElement("body");if(parseInt(c,10))for(;c--;){l=h.createElement("div");l.id=e?e[c]:"modernizr"+(c+1);q.appendChild(l)}return f=["&#173;<style>",a,"</style>"].join(""),
q.id="modernizr",(v?q:s).innerHTML+=f,s.appendChild(q),v||(s.style.background="",p.appendChild(s)),j=b(q,a),v?q.parentNode.removeChild(q):s.parentNode.removeChild(s),!!j},K=function(){function a(c,e){e=e||h.createElement(b[c]||"div");c="on"+c;var f=c in e;return f||(e.setAttribute||(e=h.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(c,""),f=m(e[c],"function"),m(e[c],"undefined")||(e[c]=t),e.removeAttribute(c))),null,f}var b={select:"input",change:"input",submit:"form",reset:"form",
error:"img",load:"img",abort:"img"};return a}(),C={}.hasOwnProperty,D;!m(C,"undefined")&&!m(C.call,"undefined")?(D=function(a,b){return C.call(a,b)}):(D=function(a,b){return b in a&&m(a.constructor.prototype[b],"undefined")});Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(typeof b!="function")throw new TypeError;var c=B.call(arguments,1),e=function(){if(this instanceof e){var f=function(){};f.prototype=b.prototype;f=new f;var j=b.apply(f,c.concat(B.call(arguments)));return Object(j)===
j?j:f}return b.apply(a,c.concat(B.call(arguments)))};return e});(function(a,b){a=a.join("");var c=b.length;J(a,function(e,f){var j=h.styleSheets[h.styleSheets.length-1];j=j?j.cssRules&&j.cssRules[0]?j.cssRules[0].cssText:j.cssText||"":"";e=e.childNodes;for(var l={};c--;)l[e[c].id]=e[c];g.touch="ontouchstart"in n||n.DocumentTouch&&h instanceof DocumentTouch||(l.touch&&l.touch.offsetTop)===9;g.csstransforms3d=(l.csstransforms3d&&l.csstransforms3d.offsetLeft)===9&&l.csstransforms3d.offsetHeight===3;
g.generatedcontent=(l.generatedcontent&&l.generatedcontent.offsetHeight)>=1;g.fontface=/src/i.test(j)&&j.indexOf(f.split(" ")[0])===0},c,b)})(['@font-face {font-family:"font";src:url("https://")}',["@media (",u.join("touch-enabled),("),"modernizr){#touch{top:9px;position:absolute}}"].join(""),["@media (",u.join("transform-3d),("),"modernizr){#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join(""),['#generatedcontent:after{content:"',y,'";visibility:hidden}'].join("")],["fontface","touch",
"csstransforms3d","generatedcontent"]);d.flexbox=function(){return k("flexOrder")};d["flexbox-legacy"]=function(){return k("boxDirection")};d.canvas=function(){var a=h.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")};d.canvastext=function(){return!!g.canvas&&!!m(h.createElement("canvas").getContext("2d").fillText,"function")};d.touch=function(){return g.touch};d.geolocation=function(){return!!navigator.geolocation};d.postmessage=function(){return!!n.postMessage};d.indexedDB=function(){return!!k("indexedDB",
n)};d.hashchange=function(){return K("hashchange",n)&&(h.documentMode===t||h.documentMode>7)};d.history=function(){return!!n.history&&!!history.pushState};d.draganddrop=function(){var a=h.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a};d.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),w(o.backgroundColor,"rgba")};d.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),w(o.backgroundColor,"rgba")||w(o.backgroundColor,"hsla")};d.multiplebgs=
function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(o.background)};d.backgroundsize=function(){return k("backgroundSize")};d.borderimage=function(){return k("borderImage")};d.borderradius=function(){return k("borderRadius")};d.boxshadow=function(){return k("boxShadow")};d.textshadow=function(){return h.createElement("div").style.textShadow===""};d.opacity=function(){return L("opacity:.55"),/^0.55$/.test(o.opacity)};d.cssanimations=function(){return k("animationName")};
d.csscolumns=function(){return k("columnCount")};d.cssgradients=function(){return r(("background-image:"+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+u.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17)),w(o.backgroundImage,"gradient")};d.cssreflections=function(){return k("boxReflect")};d.csstransforms=function(){return!!k("transform")};d.csstransforms3d=function(){var a=!!k("perspective");return a&&"webkitPerspective"in
p.style&&(a=g.csstransforms3d),a};d.csstransitions=function(){return k("transition")};d.fontface=function(){return g.fontface};d.generatedcontent=function(){return g.generatedcontent};d.video=function(){var a=h.createElement("video"),b=false;try{if(b=!!a.canPlayType){b=new Boolean(b);b.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,
"")}}catch(c){}return b};d.audio=function(){var a=h.createElement("audio"),b=false;try{if(b=!!a.canPlayType){b=new Boolean(b);b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");b.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,"");b.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");b.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(c){}return b};d.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),
localStorage.removeItem("modernizr"),true}catch(a){return false}};d.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),true}catch(a){return false}};d.applicationcache=function(){return!!n.applicationCache};for(var E in d)D(d,E)&&(z=E.toLowerCase(),g[z]=d[E](),A.push((g[z]?"":"no-")+z));return g.input||N(),r(""),d=i=null,g._version="2.5.3",g._prefixes=u,g._domPrefixes=H,g._cssomPrefixes=G,g.hasEvent=K,g.testProp=function(a){return F([a])},
g.testAllProps=k,g.testStyles=J,g.prefixed=function(a,b,c){return b?k(a,b,c):k(a,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+A.join(" ")),g}(this,this.document);

(function(a,n,m){function g(b){var c=n.console;if(!p[b]){p[b]=true;a.migrateWarnings.push(b);if(c&&c.warn&&!a.migrateMute){c.warn("JQMIGRATE: "+b);a.migrateTrace&&c.trace&&c.trace()}}}function q(b,c,d,e){if(Object.defineProperty)try{Object.defineProperty(b,c,{configurable:true,enumerable:true,get:function(){g(e);return d},set:function(i){g(e);d=i}});return}catch(f){}a._definePropertyBroken=true;b[c]=d}var p={};a.migrateWarnings=[];a.migrateMute=true;!a.migrateMute&&n.console&&n.console.log&&n.console.log("JQMIGRATE: Logging is active");
if(a.migrateTrace===m)a.migrateTrace=true;a.migrateReset=function(){p={};a.migrateWarnings.length=0};document.compatMode==="BackCompat"&&g("jQuery is not compatible with Quirks Mode");var r=a("<input/>",{size:1}).attr("size")&&a.attrFn,s=a.attr,A=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},B=a.attrHooks.value&&a.attrHooks.value.set||function(){},C=/^(?:input|button)$/i,D=/^[238]$/,E=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
F=/^(?:checked|selected)$/i;q(a,"attrFn",r||{},"jQuery.attrFn is deprecated");a.attr=function(b,c,d,e){var f=c.toLowerCase(),i=b&&b.nodeType;if(e){s.length<4&&g("jQuery.fn.attr( props, pass ) is deprecated");if(b&&!D.test(i)&&(r?c in r:a.isFunction(a.fn[c])))return a(b)[c](d)}c==="type"&&d!==m&&C.test(b.nodeName)&&b.parentNode&&g("Can't change the 'type' of an input or button in IE 6/7/8");if(!a.attrHooks[f]&&E.test(f)){a.attrHooks[f]={get:function(h,j){var k,t=a.prop(h,j);return t===true||typeof t!==
"boolean"&&(k=h.getAttributeNode(j))&&k.nodeValue!==false?j.toLowerCase():m},set:function(h,j,k){if(j===false)a.removeAttr(h,k);else{j=a.propFix[k]||k;if(j in h)h[j]=true;h.setAttribute(k,k.toLowerCase())}return k}};F.test(f)&&g("jQuery.fn.attr('"+f+"') may use property instead of attribute")}return s.call(a,b,c,d)};a.attrHooks.value={get:function(b,c){var d=(b.nodeName||"").toLowerCase();if(d==="button")return A.apply(this,arguments);d!=="input"&&d!=="option"&&g("jQuery.fn.attr('value') no longer gets properties");
return c in b?b.value:null},set:function(b,c){var d=(b.nodeName||"").toLowerCase();if(d==="button")return B.apply(this,arguments);d!=="input"&&d!=="option"&&g("jQuery.fn.attr('value', val) no longer sets properties");b.value=c}};var o,l,u=a.fn.init,G=a.parseJSON,H=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,c,d){var e;if(b&&typeof b==="string"&&!a.isPlainObject(c)&&(e=H.exec(a.trim(b)))&&e[0]){b.charAt(0)!=="<"&&g("$(html) HTML strings must start with '<' character");e[3]&&g("$(html) HTML text after last tag is ignored");
if(e[0].charAt(0)==="#"){g("HTML string cannot start with a '#' character");a.error("JQMIGRATE: Invalid selector string (XSS)")}if(c&&c.context)c=c.context;if(a.parseHTML)return u.call(this,a.parseHTML(e[2],c,true),c,d)}return u.apply(this,arguments)};a.fn.init.prototype=a.fn;a.parseJSON=function(b){if(!b&&b!==null){g("jQuery.parseJSON requires a valid JSON string");return null}return G.apply(this,arguments)};a.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||
/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};if(!a.browser){o=a.uaMatch(navigator.userAgent);l={};if(o.browser){l[o.browser]=true;l.version=o.version}if(l.chrome)l.webkit=true;else if(l.webkit)l.safari=true;a.browser=l}q(a,"browser",a.browser,"jQuery.browser is deprecated");a.sub=function(){function b(d,e){return new b.fn.init(d,e)}a.extend(true,b,this);b.superclass=
this;b.fn=b.prototype=this();b.fn.constructor=b;b.sub=this.sub;b.fn.init=function(d,e){if(e&&e instanceof a&&!(e instanceof b))e=b(e);return a.fn.init.call(this,d,e,c)};b.fn.init.prototype=b.fn;var c=b(document);g("jQuery.sub() is deprecated");return b};a.ajaxSetup({converters:{"text json":a.parseJSON}});var I=a.fn.data;a.fn.data=function(b){var c,d;if((d=this[0])&&b==="events"&&arguments.length===1){c=a.data(d,b);d=a._data(d,b);if((c===m||c===d)&&d!==m){g("Use of jQuery.fn.data('events') is deprecated");
return d}}return I.apply(this,arguments)};var J=/\/(java|ecma)script/i,K=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){g("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");return K.apply(this,arguments)};if(!a.clean)a.clean=function(b,c,d,e){c=c||document;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;g("jQuery.clean() is deprecated");var f,i=[];a.merge(i,a.buildFragment(b,c).childNodes);if(d){c=function(h){if(!h.type||J.test(h.type))return e?e.push(h.parentNode?h.parentNode.removeChild(h):
h):d.appendChild(h)};for(b=0;(f=i[b])!=null;b++)if(!(a.nodeName(f,"script")&&c(f))){d.appendChild(f);if(typeof f.getElementsByTagName!=="undefined"){f=a.grep(a.merge([],f.getElementsByTagName("script")),c);i.splice.apply(i,[b+1,0].concat(f));b+=f.length}}}return i};var L=a.event.add,M=a.event.remove,N=a.event.trigger,O=a.fn.toggle,v=a.fn.live,w=a.fn.die,x=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,y=/(?:^|\s)hover(\.\S+|)\b/,z=function(b){if(typeof b!=="string"||a.event.special.hover)return b;
y.test(b)&&g("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'");return b&&b.replace(y,"mouseenter$1 mouseleave$1")};a.event.props&&a.event.props[0]!=="attrChange"&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement");a.event.dispatch&&q(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated");a.event.add=function(b,c,d,e,f){b!==document&&x.test(c)&&g("AJAX events should be attached to document: "+c);L.call(this,b,z(c||""),d,e,f)};
a.event.remove=function(b,c,d,e,f){M.call(this,b,z(c)||"",d,e,f)};a.fn.error=function(){var b=Array.prototype.slice.call(arguments,0);g("jQuery.fn.error() is deprecated");b.splice(0,0,"error");if(arguments.length)return this.bind.apply(this,b);this.triggerHandler.apply(this,b);return this};a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return O.apply(this,arguments);g("jQuery.fn.toggle(handler, handler...) is deprecated");var d=arguments,e=b.guid||a.guid++,f=0,i=function(h){var j=
(a._data(this,"lastToggle"+b.guid)||0)%f;a._data(this,"lastToggle"+b.guid,j+1);h.preventDefault();return d[j].apply(this,arguments)||false};for(i.guid=e;f<d.length;)d[f++].guid=e;return this.click(i)};a.fn.live=function(b,c,d){g("jQuery.fn.live() is deprecated");if(v)return v.apply(this,arguments);a(this.context).on(b,this.selector,c,d);return this};a.fn.die=function(b,c){g("jQuery.fn.die() is deprecated");if(w)return w.apply(this,arguments);a(this.context).off(b,this.selector||"**",c);return this};
a.event.trigger=function(b,c,d,e){!d&&!x.test(b)&&g("Global events are undocumented and deprecated");return N.call(this,b,c,d||document,e)};a.each("ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess".split("|"),function(b,c){a.event.special[c]={setup:function(){var d=this;if(d!==document){a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,d,true)});a._data(this,c,a.guid++)}return false},teardown:function(){this!==document&&a.event.remove(document,c+"."+a._data(this,c));
return false}}})})(jQuery,window);

if(!this.JSON)this.JSON={};
(function(){function k(a){return a<10?"0"+a:a}function n(a){o.lastIndex=0;return o.test(a)?'"'+a.replace(o,function(c){var d=q[c];return typeof d==="string"?d:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function l(a,c){var d,f,i=g,e,b=c[a];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(a);if(typeof j==="function")b=j.call(c,a,b);switch(typeof b){case "string":return n(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);case "object":if(!b)return"null";
g+=m;e=[];if(Object.prototype.toString.apply(b)==="[object Array]"){f=b.length;for(a=0;a<f;a+=1)e[a]=l(a,b)||"null";c=e.length===0?"[]":g?"[\n"+g+e.join(",\n"+g)+"\n"+i+"]":"["+e.join(",")+"]";g=i;return c}if(j&&typeof j==="object"){f=j.length;for(a=0;a<f;a+=1){d=j[a];if(typeof d==="string")if(c=l(d,b))e.push(n(d)+(g?": ":":")+c)}}else for(d in b)if(Object.hasOwnProperty.call(b,d))if(c=l(d,b))e.push(n(d)+(g?": ":":")+c);c=e.length===0?"{}":g?"{\n"+g+e.join(",\n"+g)+"\n"+i+"}":"{"+e.join(",")+"}";
g=i;return c}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var p=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,m,q={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;if(typeof JSON.stringify!=="function")JSON.stringify=function(a,c,d){var f;m=g="";if(typeof d==="number")for(f=0;f<d;f+=1)m+=" ";else if(typeof d==="string")m=d;if((j=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!=="number"))throw new Error("JSON.stringify");return l("",
{"":a})};if(typeof JSON.parse!=="function")JSON.parse=function(a,c){function d(f,i){var e,b,h=f[i];if(h&&typeof h==="object")for(e in h)if(Object.hasOwnProperty.call(h,e)){b=d(h,e);if(b!==undefined)h[e]=b;else delete h[e]}return c.call(f,i,h)}a=String(a);p.lastIndex=0;if(p.test(a))a=a.replace(p,function(f){return"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){a=eval("("+a+")");return typeof c==="function"?d({"":a},""):a}throw new SyntaxError("JSON.parse");}})();

window.matchMedia=window.matchMedia||function(f){var d=f.documentElement,n=d.firstElementChild||d.firstChild,g=f.createElement("body"),b=f.createElement("div");b.id="mq-test-1";b.style.cssText="position:absolute;top:-100em";g.style.background="none";g.appendChild(b);var i=function(a){b.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>';d.insertBefore(g,n);bool=b.offsetWidth===42;d.removeChild(g);return{matches:bool,media:a}},j=function(){var a=d.body,c=false;b.style.cssText=
"position:absolute;font-size:1em;width:1em";if(!a){a=c=f.createElement("body");a.style.background="none"}a.appendChild(b);d.insertBefore(a,d.firstChild);c?d.removeChild(a):a.removeChild(b);return h=parseFloat(b.offsetWidth)},h,o=i("(min-width: 0px)").matches;return function(a){if(o)return i(a);else{var c=a.match(/\(min\-width[\s]*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),e=a.match(/\(max\-width[\s]*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||
""),k=c===null,l=e===null,m=f.body.offsetWidth;if(c)c=parseFloat(c)*(c.indexOf("em")>-1?h||j():1);if(e)e=parseFloat(e)*(e.indexOf("em")>-1?h||j():1);bool=(!k||!l)&&(k||m>=c)&&(l||m<=e);return{matches:bool,media:a}}}}(document);

/*! Picturefill - v2.0.0-beta - 2014-05-02
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b){"use strict";function c(a){var b,c,d,f,g,h;a=a||{},b=a.elements||e.getAllElements();for(var i=0,j=b.length;j>i;i++)if(c=b[i],d=c.nodeName.toUpperCase(),f=void 0,g=void 0,h=void 0,c[e.ns]||(c[e.ns]={}),a.reevaluate||!c[e.ns].evaluated){if("PICTURE"===d){if(e.removeVideoShim(c),f=e.getMatch(c),f===!1)continue;h=c.getElementsByTagName("img")[0]}else f=void 0,h=c;h&&(h[e.ns]||(h[e.ns]={}),h.srcset&&("PICTURE"===d||h.getAttribute("sizes"))&&e.dodgeSrcset(h),f?(g=e.processSourceSet(f),e.applyBestCandidate(g,h)):(g=e.processSourceSet(h),(void 0===h.srcset||h.getAttribute("sizes"))&&e.applyBestCandidate(g,h)),c[e.ns].evaluated=!0)}}function d(){c();var d=setInterval(function(){return a.picturefill(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(d):void 0},250);if(a.addEventListener){var e;a.addEventListener("resize",function(){a.clearTimeout(e),e=a.setTimeout(function(){c({reevaluate:!0})},60)},!1)}}if(!a.HTMLPictureElement){b.createElement("picture");var e={};e.ns="picturefill",e.srcsetSupported=void 0!==(new a.Image).srcset,e.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},e.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)},e.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},e.getDpr=function(){return a.devicePixelRatio||1},e.getWidthFromLength=function(a){return a=a&&parseFloat(a)>0?a:"100vw",a=a.replace("vw","%"),e.lengthEl||(e.lengthEl=b.createElement("div"),b.documentElement.insertBefore(e.lengthEl,b.documentElement.firstChild)),e.lengthEl.style.cssText="position: absolute; left: 0; width: "+a+";",e.lengthEl.offsetWidth},e.types={},e.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),e.types["image/webp"]=function(){var b=new a.Image,d="image/webp";b.onerror=function(){e.types[d]=!1,c()},b.onload=function(){e.types[d]=1===b.width,c()},b.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},e.verifyTypeSupport=function(a){var b=a.getAttribute("type");return null===b||""===b?!0:"function"==typeof e.types[b]?(e.types[b](),"pending"):e.types[b]},e.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},e.findWidthFromSourceSize=function(a){for(var b,c=e.trim(a).split(/\s*,\s*/),d=0,f=c.length;f>d;d++){var g=c[d],h=e.parseSize(g),i=h.length,j=h.media;if(i&&(!j||e.matchesMedia(j))){b=i;break}}return e.getWidthFromLength(b)},e.getCandidatesFromSourceSet=function(a,b){for(var c=e.trim(a).split(/,\s+/),d=b?e.findWidthFromSourceSize(b):"100%",f=[],g=0,h=c.length;h>g;g++){var i,j=c[g],k=j.split(/\s+/),l=k[1];!l||"w"!==l.slice(-1)&&"x"!==l.slice(-1)||(l=l.slice(0,-1)),i=b?parseFloat(parseInt(l,10)/d):l?parseFloat(l,10):1;var m={url:k[0],resolution:i};f.push(m)}return f},e.dodgeSrcset=function(a){a.srcset&&(a[e.ns].srcset=a.srcset,a.removeAttribute("srcset"))},e.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[e.ns]&&a[e.ns].srcset&&(b=a[e.ns].srcset),b&&(d=e.getCandidatesFromSourceSet(b,c)),d},e.applyBestCandidate=function(a,b){var c,d,f;a.sort(e.ascendingSort),d=a.length,f=a[d-1];for(var g=0;d>g;g++)if(c=a[g],c.resolution>=e.getDpr()){f=c;break}e.endsWith(b.src,f.url)||(b.src=f.url,b.currentSrc=b.src)},e.ascendingSort=function(a,b){return a.resolution-b.resolution},e.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},e.getAllElements=function(){for(var a=b.getElementsByTagName("picture"),c=[],d=b.getElementsByTagName("img"),f=0,g=a.length+d.length;g>f;f++)if(f<a.length)c[f]=a[f];else{var h=d[f-a.length];"PICTURE"!==h.parentNode.nodeName.toUpperCase()&&(e.srcsetSupported&&h.getAttribute("sizes")||null!==h.getAttribute("srcset"))&&c.push(h)}return c},e.getMatch=function(a){for(var b,c=a.childNodes,d=0,f=c.length;f>d;d++){var g=c[d];if(1===g.nodeType){if("IMG"===g.nodeName.toUpperCase())return b;if("SOURCE"===g.nodeName.toUpperCase()){var h=g.getAttribute("media");if(g.getAttribute("srcset")&&(!h||e.matchesMedia(h))){var i=e.verifyTypeSupport(g);if(i===!0){b=g;break}if("pending"===i)return!1}}}}return b},d(),c._=e,"object"==typeof module&&"object"==typeof module.exports?module.exports=c:"object"==typeof define&&define.amd?define(function(){return c}):"object"==typeof a&&(a.picturefill=c)}}(this,this.document);


/*
 FastClick: polyfill to remove click delays on browsers with touch UIs.

 MIT License (see LICENSE.txt)
*/
var a;
function FastClick(b,c){function d(f,h){return function(){return f.apply(h,arguments)}}var g;if(c=c||{},this.trackingClick=false,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=c.touchBoundary||10,this.layer=b,this.tapDelay=c.tapDelay||200,!FastClick.notNeeded(b)){c=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];for(var i=this,e=0,m=c.length;m>e;e++)i[c[e]]=d(i[c[e]],i);deviceIsAndroid&&(b.addEventListener("mouseover",
this.onMouse,true),b.addEventListener("mousedown",this.onMouse,true),b.addEventListener("mouseup",this.onMouse,true));b.addEventListener("click",this.onClick,true);b.addEventListener("touchstart",this.onTouchStart,false);b.addEventListener("touchmove",this.onTouchMove,false);b.addEventListener("touchend",this.onTouchEnd,false);b.addEventListener("touchcancel",this.onTouchCancel,false);Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(f,h,j){var k=Node.prototype.removeEventListener;
"click"===f?k.call(b,f,h.hijacked||h,j):k.call(b,f,h,j)},b.addEventListener=function(f,h,j){var k=Node.prototype.addEventListener;"click"===f?k.call(b,f,h.hijacked||(h.hijacked=function(l){l.propagationStopped||h(l)}),j):k.call(b,f,h,j)});"function"==typeof b.onclick&&(g=b.onclick,b.addEventListener("click",function(f){g(f)},false),b.onclick=null)}}
var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);a=FastClick.prototype;
a.needsClick=function(b){switch(b.nodeName.toLowerCase()){case "button":case "select":case "textarea":if(b.disabled)return true;break;case "input":if(deviceIsIOS&&"file"===b.type||b.disabled)return true;break;case "label":case "video":return true}return/\bneedsclick\b/.test(b.className)};
a.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case "textarea":return true;case "select":return!deviceIsAndroid;case "input":switch(b.type){case "button":case "checkbox":case "file":case "image":case "radio":case "submit":return false}return!b.disabled&&!b.readOnly;default:return/\bneedsfocus\b/.test(b.className)}};
a.sendClick=function(b,c){var d;document.activeElement&&document.activeElement!==b&&document.activeElement.blur();d=c.changedTouches[0];c=document.createEvent("MouseEvents");c.initMouseEvent(this.determineEventType(b),true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,0,null);c.forwardedTouchEvent=true;b.dispatchEvent(c)};a.determineEventType=function(b){return deviceIsAndroid&&"select"===b.tagName.toLowerCase()?"mousedown":"click"};
a.focus=function(b){var c;deviceIsIOS&&b.setSelectionRange&&0!==b.type.indexOf("date")&&"time"!==b.type?(c=b.value.length,b.setSelectionRange(c,c)):b.focus()};a.updateScrollParent=function(b){var c,d;if(c=b.fastClickScrollParent,!c||!c.contains(b)){d=b;do{if(d.scrollHeight>d.offsetHeight){c=d;b.fastClickScrollParent=d;break}d=d.parentElement}while(d)}c&&(c.fastClickLastScrollTop=c.scrollTop)};a.getTargetElementFromEventTarget=function(b){return b.nodeType===Node.TEXT_NODE?b.parentNode:b};
a.onTouchStart=function(b){var c,d,g;if(b.targetTouches.length>1)return true;if(c=this.getTargetElementFromEventTarget(b.target),d=b.targetTouches[0],deviceIsIOS){if(g=window.getSelection(),g.rangeCount&&!g.isCollapsed)return true;if(!deviceIsIOS4){if(d.identifier===this.lastTouchIdentifier)return b.preventDefault(),false;this.lastTouchIdentifier=d.identifier;this.updateScrollParent(c)}}return this.trackingClick=true,this.trackingClickStart=b.timeStamp,this.targetElement=c,this.touchStartX=d.pageX,
this.touchStartY=d.pageY,b.timeStamp-this.lastClickTime<this.tapDelay&&b.preventDefault(),true};a.touchHasMoved=function(b){b=b.changedTouches[0];var c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?true:false};a.onTouchMove=function(b){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b))&&(this.trackingClick=false,this.targetElement=null),true):true};
a.findControl=function(b){return void 0!==b.control?b.control:b.htmlFor?document.getElementById(b.htmlFor):b.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};
a.onTouchEnd=function(b){var c,d,g,i,e=this.targetElement;if(!this.trackingClick)return true;if(b.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=true,true;if(this.cancelNextClick=false,this.lastClickTime=b.timeStamp,c=this.trackingClickStart,this.trackingClick=false,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(i=b.changedTouches[0],e=document.elementFromPoint(i.pageX-window.pageXOffset,i.pageY-window.pageYOffset)||e,e.fastClickScrollParent=this.targetElement.fastClickScrollParent),
d=e.tagName.toLowerCase(),"label"===d){if(c=this.findControl(e)){if(this.focus(e),deviceIsAndroid)return false;e=c}}else if(this.needsFocus(e))return b.timeStamp-c>100||deviceIsIOS&&window.top!==window&&"input"===d?(this.targetElement=null,false):(this.focus(e),this.sendClick(e,b),deviceIsIOS&&"select"===d||(this.targetElement=null,b.preventDefault()),false);return deviceIsIOS&&!deviceIsIOS4&&(g=e.fastClickScrollParent,g&&g.fastClickLastScrollTop!==g.scrollTop)?true:(this.needsClick(e)||(b.preventDefault(),
this.sendClick(e,b)),false)};a.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};a.onMouse=function(b){return this.targetElement?b.forwardedTouchEvent?true:b.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(b.stopImmediatePropagation?b.stopImmediatePropagation():(b.propagationStopped=true),b.stopPropagation(),b.preventDefault(),false):true:true};
a.onClick=function(b){var c;return this.trackingClick?(this.targetElement=null,this.trackingClick=false,true):"submit"===b.target.type&&0===b.detail?true:(c=this.onMouse(b),c||(this.targetElement=null),c)};
a.destroy=function(){var b=this.layer;deviceIsAndroid&&(b.removeEventListener("mouseover",this.onMouse,true),b.removeEventListener("mousedown",this.onMouse,true),b.removeEventListener("mouseup",this.onMouse,true));b.removeEventListener("click",this.onClick,true);b.removeEventListener("touchstart",this.onTouchStart,false);b.removeEventListener("touchmove",this.onTouchMove,false);b.removeEventListener("touchend",this.onTouchEnd,false);b.removeEventListener("touchcancel",this.onTouchCancel,false)};
FastClick.notNeeded=function(b){var c,d;if("undefined"==typeof window.ontouchstart)return true;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return true;if(c=document.querySelector("meta[name=viewport]")){if(-1!==c.content.indexOf("user-scalable=no"))return true;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return true}}return"none"===b.style.msTouchAction?true:false};FastClick.attach=function(b,c){return new FastClick(b,c)};
"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):(window.FastClick=FastClick);

(function(d){d.flexslider=function(i,s){var a=d(i);a.vars=d.extend({},d.flexslider.defaults,s);var f=a.vars.namespace,A=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,B=("ontouchstart"in window||A||window.DocumentTouch&&document instanceof DocumentTouch)&&a.vars.touch,o="",E,p=a.vars.direction==="vertical",m=a.vars.reverse,l=a.vars.itemWidth>0,r=a.vars.animation==="fade",u=a.vars.asNavFor!=="",g={};d.data(i,"flexslider",a);g={init:function(){a.animating=false;a.currentSlide=
parseInt(a.vars.startAt?a.vars.startAt:0,10);if(isNaN(a.currentSlide))a.currentSlide=0;a.animatingTo=a.currentSlide;a.atEnd=a.currentSlide===0||a.currentSlide===a.last;a.containerSelector=a.vars.selector.substr(0,a.vars.selector.search(" "));a.slides=d(a.vars.selector,a);a.container=d(a.containerSelector,a);a.count=a.slides.length;a.syncExists=d(a.vars.sync).length>0;if(a.vars.animation==="slide")a.vars.animation="swing";a.prop=p?"top":"marginLeft";a.args={};a.manualPause=false;a.stopped=false;a.started=
false;a.startTimeout=null;a.transitions=!a.vars.video&&!r&&a.vars.useCSS&&function(){var b=document.createElement("div"),c=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var e in c)if(b.style[c[e]]!==undefined){a.pfx=c[e].replace("Perspective","").toLowerCase();a.prop="-"+a.pfx+"-transform";return true}return false}();a.ensureAnimationEnd="";if(a.vars.controlsContainer!=="")a.controlsContainer=d(a.vars.controlsContainer).length>0&&d(a.vars.controlsContainer);
if(a.vars.manualControls!=="")a.manualControls=d(a.vars.manualControls).length>0&&d(a.vars.manualControls);if(a.vars.customDirectionNav!=="")a.customDirectionNav=d(a.vars.customDirectionNav).length===2&&d(a.vars.customDirectionNav);if(a.vars.randomize){a.slides.sort(function(){return Math.round(Math.random())-0.5});a.container.empty().append(a.slides)}a.doMath();a.setup("init");a.vars.controlNav&&g.controlNav.setup();a.vars.directionNav&&g.directionNav.setup();if(a.vars.keyboard&&(d(a.containerSelector).length===
1||a.vars.multipleKeyboard))d(document).bind("keyup",function(b){b=b.keyCode;if(!a.animating&&(b===39||b===37)){b=b===39?a.getTarget("next"):b===37?a.getTarget("prev"):false;a.flexAnimate(b,a.vars.pauseOnAction)}});a.vars.mousewheel&&a.bind("mousewheel",function(b,c){b.preventDefault();b=c<0?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(b,a.vars.pauseOnAction)});a.vars.pausePlay&&g.pausePlay.setup();a.vars.slideshow&&a.vars.pauseInvisible&&g.pauseInvisible.init();if(a.vars.slideshow){a.vars.pauseOnHover&&
a.hover(function(){!a.manualPlay&&!a.manualPause&&a.pause()},function(){!a.manualPause&&!a.manualPlay&&!a.stopped&&a.play()});if(!a.vars.pauseInvisible||!g.pauseInvisible.isHidden())a.vars.initDelay>0?(a.startTimeout=setTimeout(a.play,a.vars.initDelay)):a.play()}u&&g.asNav.setup();B&&a.vars.touch&&g.touch();if(!r||r&&a.vars.smoothHeight)d(window).bind("resize orientationchange focus",g.resize);a.find("img").attr("draggable","false");setTimeout(function(){a.vars.start(a)},200)},asNav:{setup:function(){a.asNav=
true;a.animatingTo=Math.floor(a.currentSlide/a.move);a.currentItem=a.currentSlide;a.slides.removeClass(f+"active-slide").eq(a.currentItem).addClass(f+"active-slide");if(A){i._slider=a;a.slides.each(function(){var b=this;b._gesture=new MSGesture;b._gesture.target=b;b.addEventListener("MSPointerDown",function(c){c.preventDefault();c.currentTarget._gesture&&c.currentTarget._gesture.addPointer(c.pointerId)},false);b.addEventListener("MSGestureTap",function(c){c.preventDefault();c=d(this);var e=c.index();
if(!d(a.vars.asNavFor).data("flexslider").animating&&!c.hasClass("active")){a.direction=a.currentItem<e?"next":"prev";a.flexAnimate(e,a.vars.pauseOnAction,false,true,true)}})})}else a.slides.on("click touchend MSPointerUp keyup",function(b){b.preventDefault();b=d(this);var c=b.index();if(b.offset().left-d(a).scrollLeft()<=0&&b.hasClass(f+"active-slide"))a.flexAnimate(a.getTarget("prev"),true);else if(!d(a.vars.asNavFor).data("flexslider").animating&&!b.hasClass(f+"active-slide")){a.direction=a.currentItem<
c?"next":"prev";a.flexAnimate(c,a.vars.pauseOnAction,false,true,true)}})}},controlNav:{setup:function(){a.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var b=1,c,e;a.controlNavScaffold=d('<ol class="'+f+"control-nav "+f+(a.vars.controlNav==="thumbnails"?"control-thumbs":"control-paging")+'"></ol>');if(a.pagingCount>1)for(var k=0;k<a.pagingCount;k++){e=a.slides.eq(k);c=a.vars.controlNav==="thumbnails"?'<img src="'+e.attr("data-thumb")+'"/>':"<a>"+b+"</a>";
if("thumbnails"===a.vars.controlNav&&true===a.vars.thumbCaptions){e=e.attr("data-thumbcaption");if(""!==e&&undefined!==e)c+='<span class="'+f+'caption">'+e+"</span>"}a.controlNavScaffold.append("<li>"+c+"</li>");b++}a.controlsContainer?d(a.controlsContainer).append(a.controlNavScaffold):a.append(a.controlNavScaffold);g.controlNav.set();g.controlNav.active();a.controlNavScaffold.delegate("a, img","click touchend MSPointerUp keyup",function(j){j.preventDefault();if(o===""||o===j.type){var n=d(this),
y=a.controlNav.index(n);if(!n.hasClass(f+"active")){a.direction=y>a.currentSlide?"next":"prev";a.flexAnimate(y,a.vars.pauseOnAction)}}if(o==="")o=j.type;g.setToClearWatchedEvent()})},setupManual:function(){a.controlNav=a.manualControls;g.controlNav.active();a.controlNav.bind("click touchend MSPointerUp keyup",function(b){b.preventDefault();if(o===""||o===b.type){var c=d(this),e=a.controlNav.index(c);if(!c.hasClass(f+"active")){e>a.currentSlide?(a.direction="next"):(a.direction="prev");a.flexAnimate(e,
a.vars.pauseOnAction)}}if(o==="")o=b.type;g.setToClearWatchedEvent()})},set:function(){a.controlNav=d("."+f+"control-nav li "+(a.vars.controlNav==="thumbnails"?"img":"a"),a.controlsContainer?a.controlsContainer:a)},active:function(){a.controlNav.removeClass(f+"active").eq(a.animatingTo).addClass(f+"active")},update:function(b,c){if(a.pagingCount>1&&b==="add")a.controlNavScaffold.append(d("<li><a>"+a.count+"</a></li>"));else a.pagingCount===1?a.controlNavScaffold.find("li").remove():a.controlNav.eq(c).closest("li").remove();
g.controlNav.set();a.pagingCount>1&&a.pagingCount!==a.controlNav.length?a.update(c,b):g.controlNav.active()}},directionNav:{setup:function(){var b=d('<ul class="'+f+'direction-nav"><li class="'+f+'nav-prev"><a class="'+f+'prev" href="#">'+a.vars.prevText+'</a></li><li class="'+f+'nav-next"><a class="'+f+'next" href="#">'+a.vars.nextText+"</a></li></ul>");if(a.customDirectionNav)a.directionNav=a.customDirectionNav;else if(a.controlsContainer){d(a.controlsContainer).append(b);a.directionNav=d("."+f+
"direction-nav li a",a.controlsContainer)}else{a.append(b);a.directionNav=d("."+f+"direction-nav li a",a)}g.directionNav.update();a.directionNav.bind("click touchend MSPointerUp keyup",function(c){c.preventDefault();var e;if(o===""||o===c.type){e=d(this).hasClass(f+"next")?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(e,a.vars.pauseOnAction)}if(o==="")o=c.type;g.setToClearWatchedEvent()})},update:function(){var b=f+"disabled";if(a.pagingCount===1)a.directionNav.addClass(b).attr("tabindex",
"-1");else if(a.vars.animationLoop)a.directionNav.removeClass(b).removeAttr("tabindex");else if(a.animatingTo===0)a.directionNav.removeClass(b).filter("."+f+"prev").addClass(b).attr("tabindex","-1");else a.animatingTo===a.last?a.directionNav.removeClass(b).filter("."+f+"next").addClass(b).attr("tabindex","-1"):a.directionNav.removeClass(b).removeAttr("tabindex")}},pausePlay:{setup:function(){var b=d('<div class="'+f+'pauseplay"><a></a></div>');if(a.controlsContainer){a.controlsContainer.append(b);
a.pausePlay=d("."+f+"pauseplay a",a.controlsContainer)}else{a.append(b);a.pausePlay=d("."+f+"pauseplay a",a)}g.pausePlay.update(a.vars.slideshow?f+"pause":f+"play");a.pausePlay.bind("click touchend MSPointerUp keyup",function(c){c.preventDefault();if(o===""||o===c.type)if(d(this).hasClass(f+"pause")){a.manualPause=true;a.manualPlay=false;a.pause()}else{a.manualPause=false;a.manualPlay=true;a.play()}if(o==="")o=c.type;g.setToClearWatchedEvent()})},update:function(b){b==="play"?a.pausePlay.removeClass(f+
"pause").addClass(f+"play").html(a.vars.playText):a.pausePlay.removeClass(f+"play").addClass(f+"pause").html(a.vars.pauseText)}},touch:function(){var b,c,e,k,j,n,y,C,D,v=false,w=0,x=0,t=0;if(A){i.style.msTouchAction="none";i._gesture=new MSGesture;i._gesture.target=i;i.addEventListener("MSPointerDown",G,false);i._slider=a;i.addEventListener("MSGestureChange",H,false);i.addEventListener("MSGestureEnd",I,false);function G(h){h.stopPropagation();if(a.animating)h.preventDefault();else{a.pause();i._gesture.addPointer(h.pointerId);
t=0;k=p?a.h:a.w;n=Number(new Date);e=l&&m&&a.animatingTo===a.last?0:l&&m?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:l&&a.currentSlide===a.last?a.limit:l?(a.itemW+a.vars.itemMargin)*a.move*a.currentSlide:m?(a.last-a.currentSlide+a.cloneOffset)*k:(a.currentSlide+a.cloneOffset)*k}}function H(h){h.stopPropagation();var q=h.target._slider;if(q){var z=-h.translationX,F=-h.translationY;t+=p?F:z;j=t;v=p?Math.abs(t)<Math.abs(-z):Math.abs(t)<Math.abs(-F);if(h.detail===h.MSGESTURE_FLAG_INERTIA)setImmediate(function(){i._gesture.stop()});
else if(!v||Number(new Date)-n>500){h.preventDefault();if(!r&&q.transitions){q.vars.animationLoop||(j=t/(q.currentSlide===0&&t<0||q.currentSlide===q.last&&t>0?Math.abs(t)/k+2:1));q.setProps(e+j,"setTouch")}}}}function I(h){h.stopPropagation();if(h=h.target._slider){if(h.animatingTo===h.currentSlide&&!v&&j!==null){var q=m?-j:j,z=q>0?h.getTarget("next"):h.getTarget("prev");if(h.canAdvance(z)&&(Number(new Date)-n<550&&Math.abs(q)>50||Math.abs(q)>k/2))h.flexAnimate(z,h.vars.pauseOnAction);else r||h.flexAnimate(h.currentSlide,
h.vars.pauseOnAction,true)}e=j=c=b=null;t=0}}}else{y=function(h){if(a.animating)h.preventDefault();else if(window.navigator.msPointerEnabled||h.touches.length===1){a.pause();k=p?a.h:a.w;n=Number(new Date);w=h.touches[0].pageX;x=h.touches[0].pageY;e=l&&m&&a.animatingTo===a.last?0:l&&m?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:l&&a.currentSlide===a.last?a.limit:l?(a.itemW+a.vars.itemMargin)*a.move*a.currentSlide:m?(a.last-a.currentSlide+a.cloneOffset)*k:(a.currentSlide+a.cloneOffset)*
k;b=p?x:w;c=p?w:x;i.addEventListener("touchmove",C,false);i.addEventListener("touchend",D,false)}};C=function(h){w=h.touches[0].pageX;x=h.touches[0].pageY;j=p?b-x:b-w;v=p?Math.abs(j)<Math.abs(w-c):Math.abs(j)<Math.abs(x-c);if(!v||Number(new Date)-n>500){h.preventDefault();if(!r&&a.transitions){a.vars.animationLoop||(j/=a.currentSlide===0&&j<0||a.currentSlide===a.last&&j>0?Math.abs(j)/k+2:1);a.setProps(e+j,"setTouch")}}};D=function(){i.removeEventListener("touchmove",C,false);if(a.animatingTo===a.currentSlide&&
!v&&j!==null){var h=m?-j:j,q=h>0?a.getTarget("next"):a.getTarget("prev");if(a.canAdvance(q)&&(Number(new Date)-n<550&&Math.abs(h)>50||Math.abs(h)>k/2))a.flexAnimate(q,a.vars.pauseOnAction);else r||a.flexAnimate(a.currentSlide,a.vars.pauseOnAction,true)}i.removeEventListener("touchend",D,false);e=j=c=b=null};i.addEventListener("touchstart",y,false)}},resize:function(){if(!a.animating&&a.is(":visible")){l||a.doMath();if(r)g.smoothHeight();else if(l){a.slides.width(a.computedW);a.update(a.pagingCount);
a.setProps()}else if(p){a.viewport.height(a.h);a.setProps(a.h,"setTotal")}else{a.vars.smoothHeight&&g.smoothHeight();a.newSlides.width(a.computedW);a.setProps(a.computedW,"setTotal")}}},smoothHeight:function(b){if(!p||r){var c=r?a:a.viewport;b?c.animate({height:a.slides.eq(a.animatingTo).height()},b):c.height(a.slides.eq(a.animatingTo).height())}},sync:function(b){var c=d(a.vars.sync).data("flexslider"),e=a.animatingTo;switch(b){case "animate":c.flexAnimate(e,a.vars.pauseOnAction,false,true);break;
case "play":!c.playing&&!c.asNav&&c.play();break;case "pause":c.pause();break}},uniqueID:function(b){b.filter("[id]").add(b.find("[id]")).each(function(){var c=d(this);c.attr("id",c.attr("id")+"_clone")});return b},pauseInvisible:{visProp:null,init:function(){var b=g.pauseInvisible.getHiddenProp();if(b){b=b.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(b,function(){if(g.pauseInvisible.isHidden())a.startTimeout?clearTimeout(a.startTimeout):a.pause();else if(a.started)a.play();
else a.vars.initDelay>0?setTimeout(a.play,a.vars.initDelay):a.play()})}},isHidden:function(){var b=g.pauseInvisible.getHiddenProp();if(!b)return false;return document[b]},getHiddenProp:function(){var b=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var c=0;c<b.length;c++)if(b[c]+"Hidden"in document)return b[c]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(E);E=setTimeout(function(){o=""},3E3)}};a.flexAnimate=function(b,c,e,k,j){if(!a.vars.animationLoop&&
b!==a.currentSlide)a.direction=b>a.currentSlide?"next":"prev";if(u&&a.pagingCount===1)a.direction=a.currentItem<b?"next":"prev";if(!a.animating&&(a.canAdvance(b,j)||e)&&a.is(":visible")){if(u&&k){e=d(a.vars.asNavFor).data("flexslider");a.atEnd=b===0||b===a.count-1;e.flexAnimate(b,true,false,true,j);a.direction=a.currentItem<b?"next":"prev";e.direction=a.direction;if(Math.ceil((b+1)/a.visible)-1!==a.currentSlide&&b!==0){a.currentItem=b;a.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide");
b=Math.floor(b/a.visible)}else{a.currentItem=b;a.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide");return false}}a.animating=true;a.animatingTo=b;c&&a.pause();a.vars.before(a);a.syncExists&&!j&&g.sync("animate");a.vars.controlNav&&g.controlNav.active();l||a.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide");a.atEnd=b===0||b===a.last;a.vars.directionNav&&g.directionNav.update();if(b===a.last){a.vars.end(a);a.vars.animationLoop||a.pause()}if(r)if(B){a.slides.eq(a.currentSlide).css({opacity:0,
zIndex:1});a.slides.eq(b).css({opacity:1,zIndex:2});a.wrapup(n)}else{a.slides.eq(a.currentSlide).css({zIndex:1}).animate({opacity:0},a.vars.animationSpeed,a.vars.easing);a.slides.eq(b).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing,a.wrapup)}else{var n=p?a.slides.filter(":first").height():a.computedW;if(l){b=a.vars.itemMargin;b=(a.itemW+b)*a.move*a.animatingTo;b=b>a.limit&&a.visible!==1?a.limit:b}else b=a.currentSlide===0&&b===a.count-1&&a.vars.animationLoop&&a.direction!==
"next"?m?(a.count+a.cloneOffset)*n:0:a.currentSlide===a.last&&b===0&&a.vars.animationLoop&&a.direction!=="prev"?m?0:(a.count+1)*n:m?(a.count-1-b+a.cloneOffset)*n:(b+a.cloneOffset)*n;a.setProps(b,"",a.vars.animationSpeed);if(a.transitions){if(!a.vars.animationLoop||!a.atEnd){a.animating=false;a.currentSlide=a.animatingTo}a.container.unbind("webkitTransitionEnd transitionend");a.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(a.ensureAnimationEnd);a.wrapup(n)});clearTimeout(a.ensureAnimationEnd);
a.ensureAnimationEnd=setTimeout(function(){a.wrapup(n)},a.vars.animationSpeed+100)}else a.container.animate(a.args,a.vars.animationSpeed,a.vars.easing,function(){a.wrapup(n)})}a.vars.smoothHeight&&g.smoothHeight(a.vars.animationSpeed)}};a.wrapup=function(b){if(!r&&!l)if(a.currentSlide===0&&a.animatingTo===a.last&&a.vars.animationLoop)a.setProps(b,"jumpEnd");else a.currentSlide===a.last&&a.animatingTo===0&&a.vars.animationLoop&&a.setProps(b,"jumpStart");a.animating=false;a.currentSlide=a.animatingTo;
a.vars.after(a)};a.animateSlides=function(){a.animating||a.flexAnimate(a.getTarget("next"))};a.pause=function(){clearInterval(a.animatedSlides);a.animatedSlides=null;a.playing=false;a.vars.pausePlay&&g.pausePlay.update("play");a.syncExists&&g.sync("pause")};a.play=function(){a.playing&&clearInterval(a.animatedSlides);a.animatedSlides=a.animatedSlides||setInterval(a.animateSlides,a.vars.slideshowSpeed);a.started=a.playing=true;a.vars.pausePlay&&g.pausePlay.update("pause");a.syncExists&&g.sync("play")};
a.stop=function(){a.pause();a.stopped=true};a.canAdvance=function(b,c){var e=u?a.pagingCount-1:a.last;return c?true:u&&a.currentItem===a.count-1&&b===0&&a.direction==="prev"?true:u&&a.currentItem===0&&b===a.pagingCount-1&&a.direction!=="next"?false:b===a.currentSlide&&!u?false:a.vars.animationLoop?true:a.atEnd&&a.currentSlide===0&&b===e&&a.direction!=="next"?false:a.atEnd&&a.currentSlide===e&&b===0&&a.direction==="next"?false:true};a.getTarget=function(b){a.direction=b;return b==="next"?a.currentSlide===
a.last?0:a.currentSlide+1:a.currentSlide===0?a.last:a.currentSlide-1};a.setProps=function(b,c,e){var k=function(){var j=b?b:(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo;return function(){if(l)return c==="setTouch"?b:m&&a.animatingTo===a.last?0:m?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:a.animatingTo===a.last?a.limit:j;else switch(c){case "setTotal":return m?(a.count-1-a.currentSlide+a.cloneOffset)*b:(a.currentSlide+a.cloneOffset)*b;case "setTouch":return m?b:b;case "jumpEnd":return m?
b:a.count*b;case "jumpStart":return m?a.count*b:b;default:return b}}()*-1+"px"}();if(a.transitions){k=p?"translate3d(0,"+k+",0)":"translate3d("+k+",0,0)";e=e!==undefined?e/1E3+"s":"0s";a.container.css("-"+a.pfx+"-transition-duration",e);a.container.css("transition-duration",e)}a.args[a.prop]=k;if(a.transitions||e===undefined)a.container.css(a.args);a.container.css("transform",k)};a.setup=function(b){if(r){a.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});if(b==="init")if(B)a.slides.css({opacity:0,
display:"block",webkitTransition:"opacity "+a.vars.animationSpeed/1E3+"s ease",zIndex:1}).eq(a.currentSlide).css({opacity:1,zIndex:2});else a.vars.fadeFirstSlide==false?a.slides.css({opacity:0,display:"block",zIndex:1}).eq(a.currentSlide).css({zIndex:2}).css({opacity:1}):a.slides.css({opacity:0,display:"block",zIndex:1}).eq(a.currentSlide).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing);a.vars.smoothHeight&&g.smoothHeight()}else{var c,e;if(b==="init"){a.viewport=d('<div class="'+
f+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(a).append(a.container);a.cloneCount=0;a.cloneOffset=0;if(m){e=d.makeArray(a.slides).reverse();a.slides=d(e);a.container.empty().append(a.slides)}}if(a.vars.animationLoop&&!l){a.cloneCount=2;a.cloneOffset=1;b!=="init"&&a.container.find(".clone").remove();a.container.append(g.uniqueID(a.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(g.uniqueID(a.slides.last().clone().addClass("clone")).attr("aria-hidden",
"true"))}a.newSlides=d(a.vars.selector,a);c=m?a.count-1-a.currentSlide+a.cloneOffset:a.currentSlide+a.cloneOffset;if(p&&!l){a.container.height((a.count+a.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){a.newSlides.css({display:"block"});a.doMath();a.viewport.height(a.h);a.setProps(c*a.h,"init")},b==="init"?100:0)}else{a.container.width((a.count+a.cloneCount)*200+"%");a.setProps(c*a.computedW,"init");setTimeout(function(){a.doMath();a.newSlides.css({width:a.computedW,
"float":"left",display:"block"});a.vars.smoothHeight&&g.smoothHeight()},b==="init"?100:0)}}l||a.slides.removeClass(f+"active-slide").eq(a.currentSlide).addClass(f+"active-slide");a.vars.init(a)};a.doMath=function(){var b=a.slides.first(),c=a.vars.itemMargin,e=a.vars.minItems,k=a.vars.maxItems;a.w=a.viewport===undefined?a.width():a.viewport.width();a.h=b.height();a.boxPadding=b.outerWidth()-b.width();if(l){a.itemT=a.vars.itemWidth+c;a.minW=e?e*a.itemT:a.w;a.maxW=k?k*a.itemT-c:a.w;a.itemW=a.minW>a.w?
(a.w-c*(e-1))/e:a.maxW<a.w?(a.w-c*(k-1))/k:a.vars.itemWidth>a.w?a.w:a.vars.itemWidth;a.visible=Math.floor(a.w/a.itemW);a.move=a.vars.move>0&&a.vars.move<a.visible?a.vars.move:a.visible;a.pagingCount=Math.ceil((a.count-a.visible)/a.move+1);a.last=a.pagingCount-1;a.limit=a.pagingCount===1?0:a.vars.itemWidth>a.w?a.itemW*(a.count-1)+c*(a.count-1):(a.itemW+c)*a.count-a.w-c}else{a.itemW=a.w;a.pagingCount=a.count;a.last=a.count-1}a.computedW=a.itemW-a.boxPadding};a.update=function(b,c){a.doMath();if(!l){if(b<
a.currentSlide)a.currentSlide+=1;else if(b<=a.currentSlide&&b!==0)a.currentSlide-=1;a.animatingTo=a.currentSlide}if(a.vars.controlNav&&!a.manualControls)if(c==="add"&&!l||a.pagingCount>a.controlNav.length)g.controlNav.update("add");else if(c==="remove"&&!l||a.pagingCount<a.controlNav.length){if(l&&a.currentSlide>a.last){a.currentSlide-=1;a.animatingTo-=1}g.controlNav.update("remove",a.last)}a.vars.directionNav&&g.directionNav.update()};a.addSlide=function(b,c){b=d(b);a.count+=1;a.last=a.count-1;if(p&&
m)c!==undefined?a.slides.eq(a.count-c).after(b):a.container.prepend(b);else c!==undefined?a.slides.eq(c).before(b):a.container.append(b);a.update(c,"add");a.slides=d(a.vars.selector+":not(.clone)",a);a.setup();a.vars.added(a)};a.removeSlide=function(b){var c=isNaN(b)?a.slides.index(d(b)):b;a.count-=1;a.last=a.count-1;if(isNaN(b))d(b,a.slides).remove();else p&&m?a.slides.eq(a.last).remove():a.slides.eq(b).remove();a.doMath();a.update(c,"remove");a.slides=d(a.vars.selector+":not(.clone)",a);a.setup();
a.vars.removed(a)};g.init()};d(window).blur(function(){focused=false}).focus(function(){focused=true});d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:false,fadeFirstSlide:true,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,pauseInvisible:true,useCSS:true,touch:true,video:false,controlNav:true,
directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:true,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};d.fn.flexslider=function(i){if(i===undefined)i={};if(typeof i===
"object")return this.each(function(){var a=d(this),f=a.find(i.selector?i.selector:".slides > li");if(f.length===1&&i.allowOneSlide===true||f.length===0){f.fadeIn(400);i.start&&i.start(a)}else a.data("flexslider")===undefined&&new d.flexslider(this,i)});else{var s=d(this).data("flexslider");switch(i){case "play":s.play();break;case "pause":s.pause();break;case "stop":s.stop();break;case "next":s.flexAnimate(s.getTarget("next"),true);break;case "prev":case "previous":s.flexAnimate(s.getTarget("prev"),
true);break;default:typeof i==="number"&&s.flexAnimate(i,true)}}}})(jQuery);

(function(f){typeof define==="function"&&define.amd?define(["jquery"],f):f(jQuery)})(function(f){if("undefined"===typeof f&&"undefined"!==typeof window.jQuery)f=window.jQuery;var o={attr:function(a,b,e){var g,j={},p=this.msieversion(),m=new RegExp("^"+b,"i");if("undefined"===typeof a||"undefined"===typeof a[0])return{};for(var q in a[0].attributes){g=a[0].attributes[q];if("undefined"!==typeof g&&null!==g&&(!p||p>=8||g.specified)&&m.test(g.name)){if("undefined"!==typeof e&&(new RegExp(e+"$","i")).test(g.name))return true;
j[this.camelize(g.name.replace(b,""))]=this.deserializeValue(g.value)}}return"undefined"===typeof e?j:false},setAttr:function(a,b,e,g){a[0].setAttribute(this.dasherize(b+e),String(g))},get:function(a,b){var e=0;for(b=(b||"").split(".");this.isObject(a)||this.isArray(a);){a=a[b[e++]];if(e===b.length)return a}},hash:function(a){return String(Math.random()).substring(2,a?a+2:9)},isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"},isObject:function(a){return a===Object(a)},
deserializeValue:function(a){var b;try{return a?a=="true"||(a=="false"?false:a=="null"?null:!isNaN(b=Number(a))?b:/^[\[\{]/.test(a)?f.parseJSON(a):a):a}catch(e){return a}},camelize:function(a){return a.replace(/-+(.)?/g,function(b,e){return e?e.toUpperCase():""})},dasherize:function(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");
if(b>0||navigator.userAgent.match(/Trident.*rv\:11\./))return parseInt(a.substring(b+5,a.indexOf(".",b)),10);return 0}},y={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:true,uiEnabled:true,validationThreshold:3,focus:"first",trigger:false,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',
errorTemplate:"<li></li>"},t=function(){};t.prototype={asyncSupport:false,actualizeOptions:function(){this.options=this.OptionsFactory.get(this);return this},validateThroughValidator:function(a,b,e){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[a,b,e])},subscribe:function(a,b){f.listenTo(this,a.toLowerCase(),b);return this},unsubscribe:function(a){f.unsubscribeTo(this,a.toLowerCase());return this},reset:function(){if("ParsleyForm"!==this.__class__)return f.emit("parsley:field:reset",
this);for(var a=0;a<this.fields.length;a++)f.emit("parsley:field:reset",this.fields[a]);f.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__){this.$element.removeData("Parsley");this.$element.removeData("ParsleyFieldMultiple");f.emit("parsley:field:destroy",this)}else{for(var a=0;a<this.fields.length;a++)this.fields[a].destroy();this.$element.removeData("Parsley");f.emit("parsley:form:destroy",this)}}};(function(a){var b=function(c){this.__class__="Validator";this.__version__=
"0.5.8";this.options=c||{};this.bindingKey=this.options.bindingKey||"_validatorjsConstraint";return this};b.prototype={constructor:b,validate:function(c,d,h){if("string"!==typeof c&&"object"!==typeof c)throw new Error("You must validate an object or a string");if("string"===typeof c||m(c))return this._validateString(c,d,h);if(this.isBinded(c))return this._validateBindedObject(c,d);return this._validateObject(c,d,h)},bind:function(c,d){if("object"!==typeof c)throw new Error("Must bind a Constraint to an object");
c[this.bindingKey]=new e(d);return this},unbind:function(c){if("undefined"===typeof c._validatorjsConstraint)return this;delete c[this.bindingKey];return this},isBinded:function(c){return"undefined"!==typeof c[this.bindingKey]},getBinded:function(c){return this.isBinded(c)?c[this.bindingKey]:null},_validateString:function(c,d,h){var i,l=[];m(d)||(d=[d]);for(var n=0;n<d.length;n++){if(!(d[n]instanceof j))throw new Error("You must give an Assert or an Asserts array to validate a string");i=d[n].check(c,
h);i instanceof g&&l.push(i)}return l.length?l:true},_validateObject:function(c,d,h){if("object"!==typeof d)throw new Error("You must give a constraint to validate an object");if(d instanceof e)return d.check(c,h);return(new e(d)).check(c,h)},_validateBindedObject:function(c,d){return c[this.bindingKey].check(c,d)}};b.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var e=function(c,
d){this.__class__="Constraint";this.options=d||{};this.nodes={};if(c)try{this._bootstrap(c)}catch(h){throw new Error("Should give a valid mapping object to Constraint",h,c);}return this};e.prototype={constructor:e,check:function(c,d){var h,i={};for(var l in this.options.strict?this.nodes:c)if(this.options.strict?this.has(l,c):this.has(l)){h=this._check(l,c[l],d);if(m(h)&&h.length>0||!m(h)&&!p(h))i[l]=h}else if(this.options.strict)try{(new j).HaveProperty(l).validate(c)}catch(n){i[l]=n}return p(i)?
true:i},add:function(c,d){if(d instanceof j||m(d)&&d[0]instanceof j){this.nodes[c]=d;return this}if("object"===typeof d&&!m(d)){this.nodes[c]=d instanceof e?d:new e(d);return this}throw new Error("Should give an Assert, an Asserts array, a Constraint",d);},has:function(c,d){d="undefined"!==typeof d?d:this.nodes;return"undefined"!==typeof d[c]},get:function(c,d){return this.has(c)?this.nodes[c]:d||null},remove:function(c){var d=[];for(var h in this.nodes)if(h!==c)d[h]=this.nodes[h];this.nodes=d;return this},
_bootstrap:function(c){if(c instanceof e)return this.nodes=c.nodes;for(var d in c)this.add(d,c[d])},_check:function(c,d,h){if(this.nodes[c]instanceof j)return this._checkAsserts(d,[this.nodes[c]],h);if(m(this.nodes[c]))return this._checkAsserts(d,this.nodes[c],h);if(this.nodes[c]instanceof e)return this.nodes[c].check(d,h);throw new Error("Invalid node",this.nodes[c]);},_checkAsserts:function(c,d,h){for(var i,l=[],n=0;n<d.length;n++){i=d[n].check(c,h);"undefined"!==typeof i&&true!==i&&l.push(i)}return l}};
var g=function(c,d,h){this.__class__="Violation";if(!(c instanceof j))throw new Error("Should give an assertion implementing the Assert interface");this.assert=c;this.value=d;if("undefined"!==typeof h)this.violation=h};g.prototype={show:function(){var c={assert:this.assert.__class__,value:this.value};if(this.violation)c.violation=this.violation;return c},__toString:function(){if("undefined"!==typeof this.violation)this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected;
return this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var c,d;for(c in this.violation)d=this.violation[c];return{constraint:c,expected:d}}};var j=function(c){this.__parentClass__=this.__class__="Assert";this.groups=[];"undefined"!==typeof c&&this.addGroup(c);return this};j.prototype={construct:j,check:function(c,d){if(!(d&&!this.hasGroup(d)))if(!(!d&&this.hasGroups()))try{return this.validate(c,d)}catch(h){return h}},hasGroup:function(c){if(m(c))return this.hasOneOf(c);
if("Any"===c)return true;if(!this.hasGroups())return"Default"===c;return-1!==this.groups.indexOf(c)},hasOneOf:function(c){for(var d=0;d<c.length;d++)if(this.hasGroup(c[d]))return true;return false},hasGroups:function(){return this.groups.length>0},addGroup:function(c){if(m(c))return this.addGroups(c);this.hasGroup(c)||this.groups.push(c);return this},removeGroup:function(c){for(var d=[],h=0;h<this.groups.length;h++)c!==this.groups[h]&&d.push(this.groups[h]);this.groups=d;return this},addGroups:function(c){for(var d=
0;d<c.length;d++)this.addGroup(c[d]);return this},HaveProperty:function(c){this.__class__="HaveProperty";this.node=c;this.validate=function(d){if("undefined"===typeof d[this.node])throw new g(this,d,{value:this.node});return true};return this},Blank:function(){this.__class__="Blank";this.validate=function(c){if("string"!==typeof c)throw new g(this,c,{value:b.errorCode.must_be_a_string});if(""!==c.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new g(this,c);return true};return this},Callback:function(c){this.__class__=
"Callback";this.arguments=Array.prototype.slice.call(arguments);if(1===this.arguments.length)this.arguments=[];else this.arguments.splice(0,1);if("function"!==typeof c)throw new Error("Callback must be instanciated with a function");this.fn=c;this.validate=function(d){var h=this.fn.apply(this,[d].concat(this.arguments));if(true!==h)throw new g(this,d,{result:h});return true};return this},Choice:function(c){this.__class__="Choice";if(!m(c)&&"function"!==typeof c)throw new Error("Choice must be instanciated with an array or a function");
this.list=c;this.validate=function(d){for(var h="function"===typeof this.list?this.list():this.list,i=0;i<h.length;i++)if(d===h[i])return true;throw new g(this,d,{choices:h});};return this},Collection:function(c){this.__class__="Collection";this.constraint="undefined"!==typeof c?new e(c):false;this.validate=function(d,h){var i=new b,l=0,n={},v=this.groups.length?this.groups:h;if(!m(d))throw new g(this,array,{value:b.errorCode.must_be_an_array});for(var u=0;u<d.length;u++){h=this.constraint?i.validate(d[u],
this.constraint,v):i.validate(d[u],v);p(h)||(n[l]=h);l++}return!p(n)?n:true};return this},Count:function(c){this.__class__="Count";this.count=c;this.validate=function(d){if(!m(d))throw new g(this,d,{value:b.errorCode.must_be_an_array});var h="function"===typeof this.count?this.count(d):this.count;if(isNaN(Number(h)))throw new Error("Count must be a valid interger",h);if(h!==d.length)throw new g(this,d,{count:h});return true};return this},Email:function(){this.__class__="Email";this.validate=function(c){if("string"!==
typeof c)throw new g(this,c,{value:b.errorCode.must_be_a_string});if(!/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(c))throw new g(this,
c);return true};return this},Eql:function(c){this.__class__="Eql";if("undefined"===typeof c)throw new Error("Equal must be instanciated with an Array or an Object");this.eql=c;this.validate=function(d){var h="function"===typeof this.eql?this.eql(d):this.eql;if(!q.eql(h,d))throw new g(this,d,{eql:h});return true};return this},EqualTo:function(c){this.__class__="EqualTo";if("undefined"===typeof c)throw new Error("EqualTo must be instanciated with a value or a function");this.reference=c;this.validate=
function(d){var h="function"===typeof this.reference?this.reference(d):this.reference;if(h!==d)throw new g(this,d,{value:h});return true};return this},GreaterThan:function(c){this.__class__="GreaterThan";if("undefined"===typeof c)throw new Error("Should give a threshold value");this.threshold=c;this.validate=function(d){if(""===d||isNaN(Number(d)))throw new g(this,d,{value:b.errorCode.must_be_a_number});if(this.threshold>=d)throw new g(this,d,{threshold:this.threshold});return true};return this},
GreaterThanOrEqual:function(c){this.__class__="GreaterThanOrEqual";if("undefined"===typeof c)throw new Error("Should give a threshold value");this.threshold=c;this.validate=function(d){if(""===d||isNaN(Number(d)))throw new g(this,d,{value:b.errorCode.must_be_a_number});if(this.threshold>d)throw new g(this,d,{threshold:this.threshold});return true};return this},InstanceOf:function(c){this.__class__="InstanceOf";if("undefined"===typeof c)throw new Error("InstanceOf must be instanciated with a value");
this.classRef=c;this.validate=function(d){if(true!==d instanceof this.classRef)throw new g(this,d,{classRef:this.classRef});return true};return this},IPv4:function(){this.__class__="IPv4";this.validate=function(c){if("string"!==typeof c)throw new g(this,c,{value:b.errorCode.must_be_a_string});if(!/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(c))throw new g(this,c);return true};return this},Length:function(c){this.__class__="Length";if(!c.min&&!c.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");
this.min=c.min;this.max=c.max;this.validate=function(d){if("string"!==typeof d&&!m(d))throw new g(this,d,{value:b.errorCode.must_be_a_string_or_array});if("undefined"!==typeof this.min&&this.min===this.max&&d.length!==this.min)throw new g(this,d,{min:this.min,max:this.max});if("undefined"!==typeof this.max&&d.length>this.max)throw new g(this,d,{max:this.max});if("undefined"!==typeof this.min&&d.length<this.min)throw new g(this,d,{min:this.min});return true};return this},LessThan:function(c){this.__class__=
"LessThan";if("undefined"===typeof c)throw new Error("Should give a threshold value");this.threshold=c;this.validate=function(d){if(""===d||isNaN(Number(d)))throw new g(this,d,{value:b.errorCode.must_be_a_number});if(this.threshold<=d)throw new g(this,d,{threshold:this.threshold});return true};return this},LessThanOrEqual:function(c){this.__class__="LessThanOrEqual";if("undefined"===typeof c)throw new Error("Should give a threshold value");this.threshold=c;this.validate=function(d){if(""===d||isNaN(Number(d)))throw new g(this,
d,{value:b.errorCode.must_be_a_number});if(this.threshold<d)throw new g(this,d,{threshold:this.threshold});return true};return this},Mac:function(){this.__class__="Mac";this.validate=function(c){if("string"!==typeof c)throw new g(this,c,{value:b.errorCode.must_be_a_string});if(!/^(?:[0-9A-F]{2}:){5}[0-9A-F]{2}$/i.test(c))throw new g(this,c);return true};return this},NotNull:function(){this.__class__="NotNull";this.validate=function(c){if(null===c||"undefined"===typeof c)throw new g(this,c);return true};
return this},NotBlank:function(){this.__class__="NotBlank";this.validate=function(c){if("string"!==typeof c)throw new g(this,c,{value:b.errorCode.must_be_a_string});if(""===c.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new g(this,c);return true};return this},Null:function(){this.__class__="Null";this.validate=function(c){if(null!==c)throw new g(this,c);return true};return this},Range:function(c,d){this.__class__="Range";if("undefined"===typeof c||"undefined"===typeof d)throw new Error("Range assert expects min and max values");
this.min=c;this.max=d;this.validate=function(h){try{if("string"===typeof h&&isNaN(Number(h))||m(h))(new j).Length({min:this.min,max:this.max}).validate(h);else(new j).GreaterThanOrEqual(this.min).validate(h)&&(new j).LessThanOrEqual(this.max).validate(h);return true}catch(i){throw new g(this,h,i.violation);}};return this},Regexp:function(c,d){this.__class__="Regexp";if("undefined"===typeof c)throw new Error("You must give a regexp");this.regexp=c;this.flag=d||"";this.validate=function(h){if("string"!==
typeof h)throw new g(this,h,{value:b.errorCode.must_be_a_string});if(!(new RegExp(this.regexp,this.flag)).test(h))throw new g(this,h,{regexp:this.regexp,flag:this.flag});return true};return this},Required:function(){this.__class__="Required";this.validate=function(c){if("undefined"===typeof c)throw new g(this,c);try{if("string"===typeof c)(new j).NotNull().validate(c)&&(new j).NotBlank().validate(c);else true===m(c)&&(new j).Length({min:1}).validate(c)}catch(d){throw new g(this,c);}return true};return this},
Unique:function(c){this.__class__="Unique";if("object"===typeof c)this.key=c.key;this.validate=function(d){var h,i=[];if(!m(d))throw new g(this,d,{value:b.errorCode.must_be_an_array});for(var l=0;l<d.length;l++){h="object"===typeof d[l]?d[l][this.key]:d[l];if("undefined"!==typeof h){if(-1!==i.indexOf(h))throw new g(this,d,{value:h});i.push(h)}}return true};return this}};a.Assert=j;a.Validator=b;a.Violation=g;a.Constraint=e;if(!Array.prototype.indexOf)Array.prototype.indexOf=function(c){if(this===
null)throw new TypeError;var d=Object(this),h=d.length>>>0;if(h===0)return-1;var i=0;if(arguments.length>1){i=Number(arguments[1]);if(i!=i)i=0;else if(i!==0&&i!=Infinity&&i!=-Infinity)i=(i>0||-1)*Math.floor(Math.abs(i))}if(i>=h)return-1;for(i=i>=0?i:Math.max(h-Math.abs(i),0);i<h;i++)if(i in d&&d[i]===c)return i;return-1};var p=function(c){for(var d in c)return false;return true},m=function(c){return Object.prototype.toString.call(c)==="[object Array]"},q={eql:function(c,d){if(c===d)return true;else if("undefined"!==
typeof Buffer&&Buffer.isBuffer(c)&&Buffer.isBuffer(d)){if(c.length!==d.length)return false;for(var h=0;h<c.length;h++)if(c[h]!==d[h])return false;return true}else return c instanceof Date&&d instanceof Date?c.getTime()===d.getTime():typeof c!=="object"&&typeof d!=="object"?c==d:this.objEquiv(c,d)},isUndefinedOrNull:function(c){return c===null||typeof c==="undefined"},isArguments:function(c){return Object.prototype.toString.call(c)=="[object Arguments]"},keys:function(c){if(Object.keys)return Object.keys(c);
var d=[];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&d.push(h);return d},objEquiv:function(c,d){if(this.isUndefinedOrNull(c)||this.isUndefinedOrNull(d))return false;if(c.prototype!==d.prototype)return false;if(this.isArguments(c)){if(!this.isArguments(d))return false;return eql(pSlice.call(c),pSlice.call(d))}try{var h=this.keys(c),i=this.keys(d),l,n;if(h.length!==i.length)return false;h.sort();i.sort();for(n=h.length-1;n>=0;n--)if(h[n]!=i[n])return false;for(n=h.length-1;n>=0;n--){l=
h[n];if(!this.eql(c[l],d[l]))return false}return true}catch(v){return false}}};"function"===typeof define&&define.amd&&define("validator",[],function(){return a})})("undefined"===typeof exports?(this["undefined"!==typeof validatorjs_ns?validatorjs_ns:"Validator"]={}):exports);var z=function(a,b){this.__class__="ParsleyValidator";this.Validator=Validator;this.locale="en";this.init(a||{},b||{})};z.prototype={init:function(a,b){this.catalog=b;for(var e in a)this.addValidator(e,a[e].fn,a[e].priority,
a[e].requirementsTransformer);f.emit("parsley:validator:init")},setLocale:function(a){if("undefined"===typeof this.catalog[a])throw new Error(a+" is not available in the catalog");this.locale=a;return this},addCatalog:function(a,b,e){if("object"===typeof b)this.catalog[a]=b;if(true===e)return this.setLocale(a);return this},addMessage:function(a,b,e){if("undefined"===typeof this.catalog[a])this.catalog[a]={};this.catalog[a][b.toLowerCase()]=e;return this},validate:function(){return(new this.Validator.Validator).validate.apply(new Validator.Validator,
arguments)},addValidator:function(a,b,e,g){this.validators[a.toLowerCase()]=function(j){return f.extend((new Validator.Assert).Callback(b,j),{priority:e,requirementsTransformer:g})};return this},updateValidator:function(a,b,e,g){return this.addValidator(a,b,e,g)},removeValidator:function(a){delete this.validators[a];return this},getErrorMessage:function(a){a="type"===a.name?this.catalog[this.locale][a.name][a.requirements]:this.formatMessage(this.catalog[this.locale][a.name],a.requirements);return""!==
a?a:this.catalog[this.locale].defaultMessage},formatMessage:function(a,b){if("object"===typeof b){for(var e in b)a=this.formatMessage(a,b[e]);return a}return"string"===typeof a?a.replace(/%s/i,b):""},validators:{notblank:function(){return f.extend((new Validator.Assert).NotBlank(),{priority:2})},required:function(){return f.extend((new Validator.Assert).Required(),{priority:512})},type:function(a){switch(a){case "email":a=(new Validator.Assert).Email();break;case "range":case "number":a=(new Validator.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");
break;case "integer":a=(new Validator.Assert).Regexp("^-?\\d+$");break;case "digits":a=(new Validator.Assert).Regexp("^\\d+$");break;case "alphanum":a=(new Validator.Assert).Regexp("^\\w+$","i");break;case "url":a=(new Validator.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+a+"` is not supported");}return f.extend(a,{priority:256})},pattern:function(a){var b="";if(/^\/.*\/(?:[gimy]*)$/.test(a)){b=
a.replace(/.*\/([gimy]*)$/,"$1");a=a.replace(new RegExp("^/(.*?)/"+b+"$"),"$1")}return f.extend((new Validator.Assert).Regexp(a,b),{priority:64})},minlength:function(a){return f.extend((new Validator.Assert).Length({min:a}),{priority:30,requirementsTransformer:function(){return"string"===typeof a&&!isNaN(a)?parseInt(a,10):a}})},maxlength:function(a){return f.extend((new Validator.Assert).Length({max:a}),{priority:30,requirementsTransformer:function(){return"string"===typeof a&&!isNaN(a)?parseInt(a,
10):a}})},length:function(a){return f.extend((new Validator.Assert).Length({min:a[0],max:a[1]}),{priority:32})},mincheck:function(a){return this.minlength(a)},maxcheck:function(a){return this.maxlength(a)},check:function(a){return this.length(a)},min:function(a){return f.extend((new Validator.Assert).GreaterThanOrEqual(a),{priority:30,requirementsTransformer:function(){return"string"===typeof a&&!isNaN(a)?parseInt(a,10):a}})},max:function(a){return f.extend((new Validator.Assert).LessThanOrEqual(a),
{priority:30,requirementsTransformer:function(){return"string"===typeof a&&!isNaN(a)?parseInt(a,10):a}})},range:function(a){return f.extend((new Validator.Assert).Range(a[0],a[1]),{priority:32,requirementsTransformer:function(){for(var b=0;b<a.length;b++)a[b]="string"===typeof a[b]&&!isNaN(a[b])?parseInt(a[b],10):a[b];return a}})},equalto:function(a){return f.extend((new Validator.Assert).EqualTo(a),{priority:256,requirementsTransformer:function(){return f(a).length?f(a).val():a}})}}};var A=function(){this.__class__=
"ParsleyUI"};A.prototype={listen:function(){f.listen("parsley:form:init",this,this.setupForm);f.listen("parsley:field:init",this,this.setupField);f.listen("parsley:field:validated",this,this.reflow);f.listen("parsley:form:validated",this,this.focus);f.listen("parsley:field:reset",this,this.reset);f.listen("parsley:form:destroy",this,this.destroy);f.listen("parsley:field:destroy",this,this.destroy);return this},reflow:function(a){if(!("undefined"===typeof a._ui||false===a._ui.active)){var b=this._diff(a.validationResult,
a._ui.lastValidationResult);a._ui.lastValidationResult=a.validationResult;a._ui.validatedOnce=true;this.manageStatusClass(a);this.manageErrorsMessages(a,b);this.actualizeTriggers(a);if((b.kept.length||b.added.length)&&"undefined"===typeof a._ui.failedOnce)this.manageFailingFieldTrigger(a)}},getErrorsMessages:function(a){if(true===a.validationResult)return[];for(var b=[],e=0;e<a.validationResult.length;e++)b.push(this._getErrorMessage(a,a.validationResult[e].assert));return b},manageStatusClass:function(a){if(true===
a.validationResult)this._successClass(a);else a.validationResult.length>0?this._errorClass(a):this._resetClass(a)},manageErrorsMessages:function(a,b){if("undefined"===typeof a.options.errorsMessagesDisabled){if("undefined"!==typeof a.options.errorMessage){if(b.added.length||b.kept.length){0===a._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&a._ui.$errorsWrapper.append(f(a.options.errorTemplate).addClass("parsley-custom-error-message"));return a._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(a.options.errorMessage)}return a._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove()}for(var e=
0;e<b.removed.length;e++)this.removeError(a,b.removed[e].assert.name,true);for(e=0;e<b.added.length;e++)this.addError(a,b.added[e].assert.name,undefined,b.added[e].assert,true);for(e=0;e<b.kept.length;e++)this.updateError(a,b.kept[e].assert.name,undefined,b.kept[e].assert,true)}},addError:function(a,b,e,g,j){a._ui.$errorsWrapper.addClass("filled").append(f(a.options.errorTemplate).addClass("parsley-"+b).html(e||this._getErrorMessage(a,g)));true!==j&&this._errorClass(a)},updateError:function(a,b,e,
g,j){a._ui.$errorsWrapper.addClass("filled").find(".parsley-"+b).html(e||this._getErrorMessage(a,g));true!==j&&this._errorClass(a)},removeError:function(a,b,e){a._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+b).remove();true!==e&&this.manageStatusClass(a)},focus:function(a){if(true===a.validationResult||"none"===a.options.focus)return a._focusedField=null;a._focusedField=null;for(var b=0;b<a.fields.length;b++)if(true!==a.fields[b].validationResult&&a.fields[b].validationResult.length>
0&&"undefined"===typeof a.fields[b].options.noFocus){if("first"===a.options.focus){a._focusedField=a.fields[b].$element;return a._focusedField.focus()}a._focusedField=a.fields[b].$element}if(null===a._focusedField)return null;return a._focusedField.focus()},_getErrorMessage:function(a,b){var e=b.name+"Message";if("undefined"!==typeof a.options[e])return window.ParsleyValidator.formatMessage(a.options[e],b.requirements);return window.ParsleyValidator.getErrorMessage(b)},_diff:function(a,b,e){for(var g=
[],j=[],p=0;p<a.length;p++){for(var m=false,q=0;q<b.length;q++)if(a[p].assert.name===b[q].assert.name){m=true;break}m?j.push(a[p]):g.push(a[p])}return{kept:j,added:g,removed:!e?this._diff(b,a,true).added:[]}},setupForm:function(a){a.$element.on("submit.Parsley",false,f.proxy(a.onSubmitValidate,a));false!==a.options.uiEnabled&&a.$element.attr("novalidate","")},setupField:function(a){var b={active:false};if(false!==a.options.uiEnabled){b.active=true;a.$element.attr(a.options.namespace+"id",a.__id__);
b.$errorClassHandler=this._manageClassHandler(a);b.errorsWrapperId="parsley-id-"+("undefined"!==typeof a.options.multiple?"multiple-"+a.options.multiple:a.__id__);b.$errorsWrapper=f(a.options.errorsWrapper).attr("id",b.errorsWrapperId);b.lastValidationResult=[];b.validatedOnce=false;b.validationInformationVisible=false;a._ui=b;this._insertErrorWrapper(a);this.actualizeTriggers(a)}},_manageClassHandler:function(a){if("string"===typeof a.options.classHandler&&f(a.options.classHandler).length)return f(a.options.classHandler);
var b=a.options.classHandler(a);if("undefined"!==typeof b&&b.length)return b;if("undefined"===typeof a.options.multiple||a.$element.is("select"))return a.$element;return a.$element.parent()},_insertErrorWrapper:function(a){var b;if("string"===typeof a.options.errorsContainer)if(f(a.options.errorsContainer).length)return f(a.options.errorsContainer).append(a._ui.$errorsWrapper);else window.console&&window.console.warn&&window.console.warn("The errors container `"+a.options.errorsContainer+"` does not exist in DOM");
else if("function"===typeof a.options.errorsContainer)b=a.options.errorsContainer(a);if("undefined"!==typeof b&&b.length)return b.append(a._ui.$errorsWrapper);return"undefined"===typeof a.options.multiple?a.$element.after(a._ui.$errorsWrapper):a.$element.parent().after(a._ui.$errorsWrapper)},actualizeTriggers:function(a){var b=this;a.options.multiple?f("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){f(this).off(".Parsley")}):a.$element.off(".Parsley");if(false!==a.options.trigger){var e=
a.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");if(""!==e)a.options.multiple?f("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){f(this).on(e.split(" ").join(".Parsley ")+".Parsley",false,f.proxy("function"===typeof a.eventValidate?a.eventValidate:b.eventValidate,a))}):a.$element.on(e.split(" ").join(".Parsley ")+".Parsley",false,f.proxy("function"===typeof a.eventValidate?a.eventValidate:this.eventValidate,a))}},eventValidate:function(a){if(/key/.test(a.type))if(!this._ui.validationInformationVisible&&
this.getValue().length<=this.options.validationThreshold)return;this._ui.validatedOnce=true;this.validate()},manageFailingFieldTrigger:function(a){a._ui.failedOnce=true;a.options.multiple&&f("["+a.options.namespace+'multiple="'+a.options.multiple+'"]').each(function(){if(!/change/i.test(f(this).parsley().options.trigger||""))return f(this).on("change.ParsleyFailedOnce",false,f.proxy(a.validate,a))});if(a.$element.is("select"))if(!/change/i.test(a.options.trigger||""))return a.$element.on("change.ParsleyFailedOnce",
false,f.proxy(a.validate,a));if(!/keyup/i.test(a.options.trigger||""))return a.$element.on("keyup.ParsleyFailedOnce",false,f.proxy(a.validate,a))},reset:function(a){a.$element.off(".Parsley");a.$element.off(".ParsleyFailedOnce");if("undefined"!==typeof a._ui)if("ParsleyForm"!==a.__class__){a._ui.$errorsWrapper.children().each(function(){f(this).remove()});this._resetClass(a);a._ui.validatedOnce=false;a._ui.lastValidationResult=[];a._ui.validationInformationVisible=false}},destroy:function(a){this.reset(a);
if("ParsleyForm"!==a.__class__){"undefined"!==typeof a._ui&&a._ui.$errorsWrapper.remove();delete a._ui}},_successClass:function(a){a._ui.validationInformationVisible=true;a._ui.$errorClassHandler.removeClass(a.options.errorClass).addClass(a.options.successClass)},_errorClass:function(a){a._ui.validationInformationVisible=true;a._ui.$errorClassHandler.removeClass(a.options.successClass).addClass(a.options.errorClass)},_resetClass:function(a){a._ui.$errorClassHandler.removeClass(a.options.successClass).removeClass(a.options.errorClass)}};
var B=function(a,b,e,g){this.__class__="OptionsFactory";this.__id__=o.hash(4);this.fieldOptions=this.formOptions=null;this.staticOptions=f.extend(true,{},a,b,e,{namespace:g})};B.prototype={get:function(a){if("undefined"===typeof a.__class__)throw new Error("Parsley Instance expected");switch(a.__class__){case "Parsley":return this.staticOptions;case "ParsleyForm":return this.getFormOptions(a);case "ParsleyField":case "ParsleyFieldMultiple":return this.getFieldOptions(a);default:throw new Error("Instance "+
a.__class__+" is not supported");}},getFormOptions:function(a){this.formOptions=o.attr(a.$element,this.staticOptions.namespace);return f.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(a){this.fieldOptions=o.attr(a.$element,this.staticOptions.namespace);if(null===this.formOptions&&"undefined"!==typeof a.parent)this.formOptions=this.getFormOptions(a.parent);return f.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var s=function(a,b){this.__class__="ParsleyForm";
this.__id__=o.hash(4);if("OptionsFactory"!==o.get(b,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=b;this.$element=f(a);this.validationResult=null;this.options=this.OptionsFactory.get(this)};s.prototype={onSubmitValidate:function(a){this.validate(undefined,undefined,a);if(false===this.validationResult&&a instanceof f.Event){a.stopImmediatePropagation();a.preventDefault()}return this},validate:function(a,b,e){this.submitEvent=e;this.validationResult=true;
e=[];this._refreshFields();f.emit("parsley:form:validate",this);for(var g=0;g<this.fields.length;g++)if(!(a&&a!==this.fields[g].options.group)){e=this.fields[g].validate(b);if(true!==e&&e.length>0&&this.validationResult)this.validationResult=false}f.emit("parsley:form:validated",this);return this.validationResult},isValid:function(a,b){this._refreshFields();for(var e=0;e<this.fields.length;e++)if(!(a&&a!==this.fields[e].options.group))if(false===this.fields[e].isValid(b))return false;return true},
_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var a=this;this.fields=[];this.fieldsMappedById={};this.$element.find(this.options.inputs).each(function(){var b=new window.Parsley(this,{},a);if(("ParsleyField"===b.__class__||"ParsleyFieldMultiple"===b.__class__)&&!b.$element.is(b.options.excluded))if("undefined"===typeof a.fieldsMappedById[b.__class__+"-"+b.__id__]){a.fieldsMappedById[b.__class__+"-"+b.__id__]=b;a.fields.push(b)}});return this}};var D=
function(a,b,e,g,j){if(!/ParsleyField/.test(o.get(a,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!==typeof window.ParsleyValidator.validators[b]&&"Assert"!==window.ParsleyValidator.validators[b](e).__parentClass__)throw new Error("Valid validator expected");var p=function(m,q){if("undefined"!==typeof m.options[q+"Priority"])return m.options[q+"Priority"];return o.get(window.ParsleyValidator.validators[q](e),"priority")||2};g=g||p(a,b);if("function"===
typeof window.ParsleyValidator.validators[b](e).requirementsTransformer)e=window.ParsleyValidator.validators[b](e).requirementsTransformer();return f.extend(window.ParsleyValidator.validators[b](e),{name:b,requirements:e,priority:g,groups:[g],isDomConstraint:j||o.attr(a.$element,a.options.namespace,b)})},r=function(a,b,e){this.__class__="ParsleyField";this.__id__=o.hash(4);this.$element=f(a);if("undefined"!==typeof e){this.parent=e;this.OptionsFactory=this.parent.OptionsFactory}else this.OptionsFactory=
b;this.options=this.OptionsFactory.get(this);this.constraints=[];this.constraintsByName={};this.validationResult=[];this._bindConstraints()};r.prototype={validate:function(a){this.value=this.getValue();f.emit("parsley:field:validate",this);f.emit("parsley:field:"+(this.isValid(a,this.value)?"success":"error"),this);f.emit("parsley:field:validated",this);return this.validationResult},isValid:function(a,b){this.refreshConstraints();var e=this._getConstraintsSortedPriorities();b=b||this.getValue();if(0===
b.length&&!this._isRequired()&&"undefined"===typeof this.options.validateIfEmpty&&true!==a)return this.validationResult=[];if(false===this.options.priorityEnabled)return true===(this.validationResult=this.validateThroughValidator(b,this.constraints,"Any"));for(a=0;a<e.length;a++)if(true!==(this.validationResult=this.validateThroughValidator(b,this.constraints,e[a])))return false;return true},getValue:function(){var a;a="undefined"!==typeof this.options.value?this.options.value:this.$element.val();
if("undefined"===typeof a||null===a)return"";if(true===this.options.trimValue)return a.replace(/^\s+|\s+$/g,"");return a},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(a,b,e,g){a=a.toLowerCase();if("function"===typeof window.ParsleyValidator.validators[a]){a=new D(this,a,b,e,g);"undefined"!==this.constraintsByName[a.name]&&this.removeConstraint(a.name);this.constraints.push(a);this.constraintsByName[a.name]=a}return this},removeConstraint:function(a){for(var b=
0;b<this.constraints.length;b++)if(a===this.constraints[b].name){this.constraints.splice(b,1);break}return this},updateConstraint:function(a,b,e){return this.removeConstraint(a).addConstraint(a,b,e)},_bindConstraints:function(){for(var a=[],b=0;b<this.constraints.length;b++)false===this.constraints[b].isDomConstraint&&a.push(this.constraints[b]);this.constraints=a;for(var e in this.options)this.addConstraint(e,this.options[e]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){if(this.$element.hasClass("required")||
this.$element.attr("required"))this.addConstraint("required",true,undefined,true);"string"===typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),undefined,true);if("undefined"!==typeof this.$element.attr("min")&&"undefined"!==typeof this.$element.attr("max"))this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],undefined,true);else if("undefined"!==typeof this.$element.attr("min"))this.addConstraint("min",this.$element.attr("min"),
undefined,true);else"undefined"!==typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),undefined,true);var a=this.$element.attr("type");if("undefined"===typeof a)return this;if("number"===a)return this.addConstraint("type","integer",undefined,true);else if((new RegExp(a,"i")).test("email url range"))return this.addConstraint("type",a,undefined,true);return this},_isRequired:function(){if("undefined"===typeof this.constraintsByName.required)return false;return false!==
this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var a=[],b=0;b<this.constraints.length;b++)-1===a.indexOf(this.constraints[b].priority)&&a.push(this.constraints[b].priority);a.sort(function(e,g){return g-e});return a}};var C=function(){this.__class__="ParsleyFieldMultiple"};C.prototype={addElement:function(a){this.$elements.push(a);return this},refreshConstraints:function(){var a;this.constraints=[];if(this.$element.is("select")){this.actualizeOptions()._bindConstraints();
return this}for(var b=0;b<this.$elements.length;b++)if(f("html").has(this.$elements[b]).length){a=this.$elements[b].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var e=0;e<a.length;e++)this.addConstraint(a[e].name,a[e].requirements,a[e].priority,a[e].isDomConstraint)}else this.$elements.splice(b,1);return this},getValue:function(){if("undefined"!==typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return f("["+this.options.namespace+'multiple="'+
this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var a=[];f("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){a.push(f(this).val())});return a.length?a:[]}if(this.$element.is("select")&&null===this.$element.val())return[];return this.$element.val()},_init:function(a){this.$elements=[this.$element];this.options.multiple=a;return this}};var w=f({}),k={};f.listen=function(a,b,e){if("undefined"===typeof k[a])k[a]=[];if("function"===
typeof b)return k[a].push({fn:b});if("object"===typeof b&&"function"===typeof e)return k[a].push({fn:e,ctxt:b});throw new Error("Wrong parameters");};f.listenTo=function(a,b,e){if("undefined"===typeof k[b])k[b]=[];if(!(a instanceof r)&&!(a instanceof s))throw new Error("Must give Parsley instance");if("string"!==typeof b||"function"!==typeof e)throw new Error("Wrong parameters");k[b].push({instance:a,fn:e})};f.unsubscribe=function(a,b){if("undefined"!==typeof k[a]){if("string"!==typeof a||"function"!==
typeof b)throw new Error("Wrong arguments");for(var e=0;e<k[a].length;e++)if(k[a][e].fn===b)return k[a].splice(e,1)}};f.unsubscribeTo=function(a,b){if("undefined"!==typeof k[b]){if(!(a instanceof r)&&!(a instanceof s))throw new Error("Must give Parsley instance");for(var e=0;e<k[b].length;e++)if("undefined"!==typeof k[b][e].instance&&k[b][e].instance.__id__===a.__id__)return k[b].splice(e,1)}};f.unsubscribeAll=function(a){"undefined"!==typeof k[a]&&delete k[a]};f.emit=function(a,b){if("undefined"!==
typeof k[a])for(var e=0;e<k[a].length;e++)if("undefined"===typeof k[a][e].instance)k[a][e].fn.apply("undefined"!==typeof k[a][e].ctxt?k[a][e].ctxt:w,Array.prototype.slice.call(arguments,1));else if(b instanceof r||b instanceof s)if(k[a][e].instance.__id__===b.__id__)k[a][e].fn.apply(w,Array.prototype.slice.call(arguments,1));else if(k[a][e].instance instanceof s&&b instanceof r)for(var g=0;g<k[a][e].instance.fields.length;g++)k[a][e].instance.fields[g].__id__===b.__id__&&k[a][e].fn.apply(w,Array.prototype.slice.call(arguments,
1))};f.subscribed=function(){return k};window.ParsleyConfig=window.ParsleyConfig||{};window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{};window.ParsleyConfig.i18n.en=f.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},
notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",
mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."});"undefined"!==typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,true);var x=function(a,b,e){this.__class__="Parsley";this.__version__="2.0.3";this.__id__=o.hash(4);if("undefined"===typeof a)throw new Error("You must give an element");if("undefined"!==typeof e&&
"ParsleyForm"!==e.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(f(a),b,e)};x.prototype={init:function(a,b,e){if(!a.length)throw new Error("You must bind Parsley on an existing element.");this.$element=a;if(this.$element.data("Parsley")){a=this.$element.data("Parsley");if("undefined"!==typeof e)a.parent=e;return a}this.OptionsFactory=new B(y,o.get(window,"ParsleyConfig")||{},b,this.getNamespace(b));this.options=this.OptionsFactory.get(this);if(this.$element.is("form")||
o.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs))return this.bind("parsleyForm");else if(this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded))return this.isMultiple()?this.handleMultiple(e):this.bind("parsleyField",e);return this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"===typeof this.options.multiple||this.$element.is("select")&&"undefined"!==typeof this.$element.attr("multiple")},
handleMultiple:function(a){var b=this,e,g,j;this.options=f.extend(this.options,a?a.OptionsFactory.get(a):{},o.attr(this.$element,this.options.namespace));if(this.options.multiple)g=this.options.multiple;else if("undefined"!==typeof this.$element.attr("name")&&this.$element.attr("name").length)g=e=this.$element.attr("name");else if("undefined"!==typeof this.$element.attr("id")&&this.$element.attr("id").length)g=this.$element.attr("id");if(this.$element.is("select")&&"undefined"!==typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",
a,g||this.__id__);else if("undefined"===typeof g){window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element);return this}g=g.replace(/(:|\.|\[|\]|\$)/g,"");"undefined"!==typeof e&&f('input[name="'+e+'"]').each(function(){f(this).is("input[type=radio], input[type=checkbox]")&&f(this).attr(b.options.namespace+"multiple",g)});if(f("["+this.options.namespace+"multiple="+
g+"]").length)for(e=0;e<f("["+this.options.namespace+"multiple="+g+"]").length;e++)if("undefined"!==typeof f(f("["+this.options.namespace+"multiple="+g+"]").get(e)).data("Parsley")){j=f(f("["+this.options.namespace+"multiple="+g+"]").get(e)).data("Parsley");if(!this.$element.data("ParsleyFieldMultiple")){j.addElement(this.$element);this.$element.attr(this.options.namespace+"id",j.__id__)}break}this.bind("parsleyField",a,g,true);return j||this.bind("parsleyFieldMultiple",a,g)},getNamespace:function(a){if("undefined"!==
typeof this.$element.data("parsleyNamespace"))return this.$element.data("parsleyNamespace");if("undefined"!==typeof o.get(a,"namespace"))return a.namespace;if("undefined"!==typeof o.get(window,"ParsleyConfig.namespace"))return window.ParsleyConfig.namespace;return y.namespace},bind:function(a,b,e,g){switch(a){case "parsleyForm":b=f.extend(new s(this.$element,this.OptionsFactory),new t,window.ParsleyExtend)._bindFields();break;case "parsleyField":b=f.extend(new r(this.$element,this.OptionsFactory,
b),new t,window.ParsleyExtend);break;case "parsleyFieldMultiple":b=f.extend(new r(this.$element,this.OptionsFactory,b),new t,new C,window.ParsleyExtend)._init(e);break;default:throw new Error(a+"is not a supported Parsley type");}"undefined"!==typeof e&&o.setAttr(this.$element,this.options.namespace,"multiple",e);if("undefined"!==typeof g){this.$element.data("ParsleyFieldMultiple",b);return b}if(/ParsleyF/i.test(b.__class__)){this.$element.data("Parsley",b);f.emit("parsley:"+("parsleyForm"===a?"form":
"field")+":init",b)}return b}};f.fn.parsley=f.fn.psly=function(a){if(this.length>1){var b=[];this.each(function(){b.push(f(this).parsley(a))});return b}if(f(this).length)return new x(this,a);else window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element.")};window.ParsleyUI="function"===typeof o.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new A).listen();if("undefined"===typeof window.ParsleyExtend)window.ParsleyExtend=
{};if("undefined"===typeof window.ParsleyConfig)window.ParsleyConfig={};window.Parsley=window.psly=x;window.ParsleyUtils=o;window.ParsleyValidator=new z(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);false!==o.get(window,"ParsleyConfig.autoBind")&&f(document).ready(function(){f("[data-parsley-validate]").length&&f("[data-parsley-validate]").parsley()})});

(function(e,t){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function s(e,t,n){var s,a;for(s in n)n.hasOwnProperty(s)&&(a=s.replace(/ |$/g,t.eventNamespace),e.bind(a,n[s]))}function a(e,t,n){s(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass),t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(n.activeClass)},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function i(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function r(e,t,n){n?e.addClass(t):e.removeClass(t)}function l(e,t,n){var s="checked",a=t.is(":"+s);t.prop?t.prop(s,a):a?t.attr(s,s):t.removeAttr(s),r(e,n.checkedClass,a)}function u(e,t,n){r(e,n.disabledClass,t.is(":disabled"))}function o(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function c(t,s,a){var i,r,l;return a||(a={}),a=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},a),i=e("<div />"),r=e("<span />"),s.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&i.hide(),a.divClass&&i.addClass(a.divClass),s.wrapperClass&&i.addClass(s.wrapperClass),a.spanClass&&r.addClass(a.spanClass),l=n(t,"id"),s.useID&&l&&n(i,"id",s.idPrefix+"-"+l),a.spanHtml&&r.html(a.spanHtml),i=o(t,i,a.divWrap),r=o(t,r,a.spanWrap),u(i,t,s),{div:i,span:r}}function d(t,n){var s;return n.wrapperClass?(s=e("<span />").addClass(n.wrapperClass),s=o(t,s,"wrap")):null}function f(){var t,n,s,a;return a="rgb(120,2,153)",n=e('<div style="width:0;height:0;color:'+a+'">'),e("body").append(n),s=n.get(0),t=window.getComputedStyle?window.getComputedStyle(s,"").color:(s.currentStyle||s.style||{}).color,n.remove(),t.replace(/ /g,"")!==a}function p(t){return t?e("<span />").text(t).html():""}function m(){return navigator.cpuClass&&!navigator.product}function v(){return window.XMLHttpRequest!==void 0?!0:!1}function h(e){var t;return e[0].multiple?!0:(t=n(e,"size"),!t||1>=t?!1:!0)}function C(){return!1}function w(e,t){var n="none";s(e,t,{"selectstart dragstart mousedown":C}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function b(e,t,n){var s=e.val();""===s?s=n.fileDefaultHtml:(s=s.split(/[\/\\]+/),s=s[s.length-1]),t.text(s)}function y(e,t,n){var s,a;for(s=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),n();s.length;)a=s.pop(),a.el.style[a.name]=a.old}function g(e,t){var n;n=e.parents(),n.push(e[0]),n=n.not(":visible"),y(n,{visibility:"hidden",display:"block",position:"absolute"},t)}function k(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var H=!0,x=!1,A=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,t){var r,l,o,d,f;return l=t.submitDefaultHtml,e.is(":reset")&&(l=t.resetDefaultHtml),d=e.is("a, button")?function(){return e.html()||l}:function(){return p(n(e,"value"))||l},o=c(e,t,{divClass:t.buttonClass,spanHtml:d()}),r=o.div,a(e,r,t),f=!1,s(r,t,{"click touchend":function(){var t,s,a,i;f||e.is(":disabled")||(f=!0,e[0].dispatchEvent?(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0),s=e[0].dispatchEvent(t),e.is("a")&&s&&(a=n(e,"target"),i=n(e,"href"),a&&"_self"!==a?window.open(i,a):document.location.href=i)):e.click(),f=!1)}}),w(r,t),{remove:function(){return r.after(e),r.remove(),e.unbind(t.eventNamespace),e},update:function(){i(r,t),u(r,e,t),e.detach(),o.span.html(d()).append(e)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,r,o;return n=c(e,t,{divClass:t.checkboxClass}),r=n.div,o=n.span,a(e,r,t),s(e,t,{"click touchend":function(){l(o,e,t)}}),l(o,e,t),{remove:k(e,t),update:function(){i(r,t),o.removeClass(t.checkedClass),l(o,e,t),u(r,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(t,r){function l(){b(t,p,r)}var d,f,p,v;return d=c(t,r,{divClass:r.fileClass,spanClass:r.fileButtonClass,spanHtml:r.fileButtonHtml,spanWrap:"after"}),f=d.div,v=d.span,p=e("<span />").html(r.fileDefaultHtml),p.addClass(r.filenameClass),p=o(t,p,"after"),n(t,"size")||n(t,"size",f.width()/10),a(t,f,r),l(),m()?s(t,r,{click:function(){t.trigger("change"),setTimeout(l,0)}}):s(t,r,{change:l}),w(p,r),w(v,r),{remove:function(){return p.remove(),v.remove(),t.unwrap().unbind(r.eventNamespace)},update:function(){i(f,r),b(t,p,r),u(f,t,r)}}}},{match:function(e){if(e.is("input")){var t=(" "+n(e,"type")+" ").toLowerCase(),s=" color date datetime datetime-local email month number password search tel text time url week ";return s.indexOf(t)>=0}return!1},apply:function(e,t){var s,i;return s=n(e,"type"),e.addClass(t.inputClass),i=d(e,t),a(e,e,t),t.inputAddTypeAsClass&&e.addClass(s),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(s),i&&e.unwrap()},update:C}}},{match:function(e){return e.is(":radio")},apply:function(t,r){var o,d,f;return o=c(t,r,{divClass:r.radioClass}),d=o.div,f=o.span,a(t,d,r),s(t,r,{"click touchend":function(){e.uniform.update(e(':radio[name="'+n(t,"name")+'"]'))}}),l(f,t,r),{remove:k(t,r),update:function(){i(d,r),l(f,t,r),u(d,t,r)}}}},{match:function(e){return e.is("select")&&!h(e)?!0:!1},apply:function(t,n){var r,l,o,d;return n.selectAutoWidth&&g(t,function(){d=t.width()}),r=c(t,n,{divClass:n.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),l=r.div,o=r.span,n.selectAutoWidth?g(t,function(){y(e([o[0],l[0]]),{display:"block"},function(){var e;e=o.outerWidth()-o.width(),l.width(d+e),o.width(d)})}):l.addClass("fixedWidth"),a(t,l,n),s(t,n,{change:function(){o.html(t.find(":selected").html()),l.removeClass(n.activeClass)},"click touchend":function(){var e=t.find(":selected").html();o.html()!==e&&t.trigger("change")},keyup:function(){o.html(t.find(":selected").html())}}),w(o,n),{remove:function(){return o.remove(),t.unwrap().unbind(n.eventNamespace),t},update:function(){n.selectAutoWidth?(e.uniform.restore(t),t.uniform(n)):(i(l,n),o.html(t.find(":selected").html()),u(l,t,n))}}}},{match:function(e){return e.is("select")&&h(e)?!0:!1},apply:function(e,t){var n;return e.addClass(t.selectMultiClass),n=d(e,t),a(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),n&&e.unwrap()},update:C}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;return e.addClass(t.textareaClass),n=d(e,t),a(e,e,t),{remove:function(){e.removeClass(t.textareaClass),n&&e.unwrap()},update:C}}}];m()&&!v()&&(H=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},e.fn.uniform=function(t){var n=this;return t=e.extend({},e.uniform.defaults,t),x||(x=!0,f()&&(H=!1)),H?(t.resetSelector&&e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(n)},10)}),this.each(function(){var n,s,a,i=e(this);if(i.data("uniformed"))return e.uniform.update(i),void 0;for(n=0;A.length>n;n+=1)if(s=A[n],s.match(i,t))return a=s.apply(i,t),i.data("uniformed",a),e.uniform.elements.push(i.get(0)),void 0})):this},e.uniform.restore=e.fn.uniform.restore=function(n){n===t&&(n=e.uniform.elements),e(n).each(function(){var t,n,s=e(this);n=s.data("uniformed"),n&&(n.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),s.removeData("uniformed"))})},e.uniform.update=e.fn.uniform.update=function(n){n===t&&(n=e.uniform.elements),e(n).each(function(){var t,n=e(this);t=n.data("uniformed"),t&&t.update(n,t.options)})}})(jQuery);


if(typeof jQuery==="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");
(function(b){function i(a,c){return this.each(function(){var e=b(this),f=e.data("bs.modal"),g=b.extend({},d.DEFAULTS,e.data(),typeof a=="object"&&a);f||e.data("bs.modal",f=new d(this,g));if(typeof a=="string")f[a](c);else g.show&&f.show(c)})}var d=function(a,c){this.options=c;this.$body=b(document.body);this.$element=b(a);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,b.proxy(function(){this.$element.trigger("loaded.bs.modal")},
this))};d.VERSION="3.2.0";d.DEFAULTS={backdrop:true,keyboard:true,show:true};d.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};d.prototype.show=function(a){var c=this,e=b.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(e);if(!(this.isShown||e.isDefaultPrevented())){this.isShown=true;this.checkScrollbar();this.$body.addClass("modal-open");this.setScrollbar();this.escape();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',b.proxy(this.hide,
this));this.backdrop(function(){var f=b.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body);c.$element.show().scrollTop(0);c.$element.addClass("in").attr("aria-hidden",false);c.enforceFocus();var g=b.Event("shown.bs.modal",{relatedTarget:a});f?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(g)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(g)})}};d.prototype.hide=function(a){a&&
a.preventDefault();a=b.Event("hide.bs.modal");this.$element.trigger(a);if(!(!this.isShown||a.isDefaultPrevented())){this.isShown=false;this.$body.removeClass("modal-open");this.resetScrollbar();this.escape();b(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.bs.modal");b.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",b.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}};d.prototype.enforceFocus=
function(){b(document).off("focusin.bs.modal").on("focusin.bs.modal",b.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.trigger("focus")},this))};d.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",b.proxy(function(a){a.which==27&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};d.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})};
d.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};d.prototype.backdrop=function(a){var c=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=b.support.transition&&e;this.$backdrop=b('<div class="modal-backdrop '+e+'" />').appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",b.proxy(function(g){if(g.target===g.currentTarget)this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):
this.hide.call(this)},this));this.$backdrop.addClass("in");if(a)f?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e=function(){c.removeBackdrop();a&&a()};b.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else a&&a()};d.prototype.checkScrollbar=function(){if(!(document.body.clientWidth>=window.innerWidth))this.scrollbarWidth=this.scrollbarWidth||
this.measureScrollbar()};d.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)};d.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};d.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";this.$body.append(a);var c=a.offsetWidth-a.clientWidth;this.$body[0].removeChild(a);return c};var h=b.fn.modal;b.fn.modal=
i;b.fn.modal.Constructor=d;b.fn.modal.noConflict=function(){b.fn.modal=h;return this};b(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var c=b(this),e=c.attr("href"),f=b(c.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,""));e=f.data("bs.modal")?"toggle":b.extend({remote:!/#/.test(e)&&e},f.data(),c.data());c.is("a")&&a.preventDefault();f.one("show.bs.modal",function(g){g.isDefaultPrevented()||f.one("hidden.bs.modal",function(){c.is(":visible")&&c.trigger("focus")})});
i.call(f,e,this)})})(jQuery);
(function(b){function i(){var d=document.createElement("bootstrap"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in h)if(d.style[a]!==undefined)return{end:h[a]};return false}b.fn.emulateTransitionEnd=function(d){var h=false,a=this;b(this).one("bsTransitionEnd",function(){h=true});setTimeout(function(){h||b(a).trigger(b.support.transition.end)},d);return this};b(function(){b.support.transition=i();
if(b.support.transition)b.event.special.bsTransitionEnd={bindType:b.support.transition.end,delegateType:b.support.transition.end,handle:function(d){if(b(d.target).is(this))return d.handleObj.handler.apply(this,arguments)}}})})(jQuery);

(function(){var v=this,R=v._,r={},l=Array.prototype,s=Object.prototype,D=l.push,j=l.slice,t=l.concat,o=s.toString,S=s.hasOwnProperty,E=l.forEach,F=l.map,G=l.reduce,H=l.reduceRight,I=l.filter,J=l.every,K=l.some,u=l.indexOf,L=l.lastIndexOf;s=Array.isArray;var M=Object.keys,w=Function.prototype.bind,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this._wrapped=a};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports)exports=module.exports=c;
exports._=c}else v._=c;c.VERSION="1.6.0";var k=c.each=c.forEach=function(a,b,d){if(a==null)return a;if(E&&a.forEach===E)a.forEach(b,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f;e++){if(b.call(d,a[e],e,a)===r)return}else{var g=c.keys(a);e=0;for(f=g.length;e<f;e++)if(b.call(d,a[g[e]],g[e],a)===r)return}return a};c.map=c.collect=function(a,b,d){var e=[];if(a==null)return e;if(F&&a.map===F)return a.map(b,d);k(a,function(f,g,h){e.push(b.call(d,f,g,h))});return e};c.reduce=c.foldl=c.inject=
function(a,b,d,e){var f=arguments.length>2;if(a==null)a=[];if(G&&a.reduce===G){if(e)b=c.bind(b,e);return f?a.reduce(b,d):a.reduce(b)}k(a,function(g,h,i){if(f)d=b.call(e,d,g,h,i);else{d=g;f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};c.reduceRight=c.foldr=function(a,b,d,e){var f=arguments.length>2;if(a==null)a=[];if(H&&a.reduceRight===H){if(e)b=c.bind(b,e);return f?a.reduceRight(b,d):a.reduceRight(b)}var g=a.length;if(g!==+g){var h=c.keys(a);g=h.length}k(a,
function(i,m,n){m=h?h[--g]:--g;if(f)d=b.call(e,d,a[m],m,n);else{d=a[m];f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};c.find=c.detect=function(a,b,d){var e;N(a,function(f,g,h){if(b.call(d,f,g,h)){e=f;return true}});return e};c.filter=c.select=function(a,b,d){var e=[];if(a==null)return e;if(I&&a.filter===I)return a.filter(b,d);k(a,function(f,g,h){b.call(d,f,g,h)&&e.push(f)});return e};c.reject=function(a,b,d){return c.filter(a,function(e,f,g){return!b.call(d,
e,f,g)},d)};c.every=c.all=function(a,b,d){b||(b=c.identity);var e=true;if(a==null)return e;if(J&&a.every===J)return a.every(b,d);k(a,function(f,g,h){if(!(e=e&&b.call(d,f,g,h)))return r});return!!e};var N=c.some=c.any=function(a,b,d){b||(b=c.identity);var e=false;if(a==null)return e;if(K&&a.some===K)return a.some(b,d);k(a,function(f,g,h){if(e||(e=b.call(d,f,g,h)))return r});return!!e};c.contains=c.include=function(a,b){if(a==null)return false;if(u&&a.indexOf===u)return a.indexOf(b)!=-1;return N(a,
function(d){return d===b})};c.invoke=function(a,b){var d=j.call(arguments,2),e=c.isFunction(b);return c.map(a,function(f){return(e?b:f[b]).apply(f,d)})};c.pluck=function(a,b){return c.map(a,c.property(b))};c.where=function(a,b){return c.filter(a,c.matches(b))};c.findWhere=function(a,b){return c.find(a,c.matches(b))};c.max=function(a,b,d){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var e=-Infinity,f=-Infinity;k(a,function(g,h,i){h=b?b.call(d,g,h,i):g;if(h>f){e=g;
f=h}});return e};c.min=function(a,b,d){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var e=Infinity,f=Infinity;k(a,function(g,h,i){h=b?b.call(d,g,h,i):g;if(h<f){e=g;f=h}});return e};c.shuffle=function(a){var b,d=0,e=[];k(a,function(f){b=c.random(d++);e[d-1]=e[b];e[b]=f});return e};c.sample=function(a,b,d){if(b==null||d){if(a.length!==+a.length)a=c.values(a);return a[c.random(a.length-1)]}return c.shuffle(a).slice(0,Math.max(0,b))};var x=function(a){if(a==null)return c.identity;
if(c.isFunction(a))return a;return c.property(a)};c.sortBy=function(a,b,d){b=x(b);return c.pluck(c.map(a,function(e,f,g){return{value:e,index:f,criteria:b.call(d,e,f,g)}}).sort(function(e,f){var g=e.criteria,h=f.criteria;if(g!==h){if(g>h||g===void 0)return 1;if(g<h||h===void 0)return-1}return e.index-f.index}),"value")};var y=function(a){return function(b,d,e){var f={};d=x(d);k(b,function(g,h){h=d.call(e,g,h,b);a(f,h,g)});return f}};c.groupBy=y(function(a,b,d){c.has(a,b)?a[b].push(d):(a[b]=[d])});
c.indexBy=y(function(a,b,d){a[b]=d});c.countBy=y(function(a,b){c.has(a,b)?a[b]++:(a[b]=1)});c.sortedIndex=function(a,b,d,e){d=x(d);b=d.call(e,b);for(var f=0,g=a.length;f<g;){var h=f+g>>>1;d.call(e,a[h])<b?(f=h+1):(g=h)}return f};c.toArray=function(a){if(!a)return[];if(c.isArray(a))return j.call(a);if(a.length===+a.length)return c.map(a,c.identity);return c.values(a)};c.size=function(a){if(a==null)return 0;return a.length===+a.length?a.length:c.keys(a).length};c.first=c.head=c.take=function(a,b,d){if(a!=
null){if(b==null||d)return a[0];if(b<0)return[];return j.call(a,0,b)}};c.initial=function(a,b,d){return j.call(a,0,a.length-(b==null||d?1:b))};c.last=function(a,b,d){if(a!=null){if(b==null||d)return a[a.length-1];return j.call(a,Math.max(a.length-b,0))}};c.rest=c.tail=c.drop=function(a,b,d){return j.call(a,b==null||d?1:b)};c.compact=function(a){return c.filter(a,c.identity)};var O=function(a,b,d){if(b&&c.every(a,c.isArray))return t.apply(d,a);k(a,function(e){if(c.isArray(e)||c.isArguments(e))b?D.apply(d,
e):O(e,b,d);else d.push(e)});return d};c.flatten=function(a,b){return O(a,b,[])};c.without=function(a){return c.difference(a,j.call(arguments,1))};c.partition=function(a,b){var d=[],e=[];k(a,function(f){(b(f)?d:e).push(f)});return[d,e]};c.uniq=c.unique=function(a,b,d,e){if(c.isFunction(b)){e=d;d=b;b=false}d=d?c.map(a,d,e):a;var f=[],g=[];k(d,function(h,i){if(b?!i||g[g.length-1]!==h:!c.contains(g,h)){g.push(h);f.push(a[i])}});return f};c.union=function(){return c.uniq(c.flatten(arguments,true))};c.intersection=
function(a){var b=j.call(arguments,1);return c.filter(c.uniq(a),function(d){return c.every(b,function(e){return c.contains(e,d)})})};c.difference=function(a){var b=t.apply(l,j.call(arguments,1));return c.filter(a,function(d){return!c.contains(b,d)})};c.zip=function(){for(var a=c.max(c.pluck(arguments,"length").concat(0)),b=new Array(a),d=0;d<a;d++)b[d]=c.pluck(arguments,""+d);return b};c.object=function(a,b){if(a==null)return{};for(var d={},e=0,f=a.length;e<f;e++)if(b)d[a[e]]=b[e];else d[a[e][0]]=
a[e][1];return d};c.indexOf=function(a,b,d){if(a==null)return-1;var e=0,f=a.length;if(d)if(typeof d=="number")e=d<0?Math.max(0,f+d):d;else{e=c.sortedIndex(a,b);return a[e]===b?e:-1}if(u&&a.indexOf===u)return a.indexOf(b,d);for(;e<f;e++)if(a[e]===b)return e;return-1};c.lastIndexOf=function(a,b,d){if(a==null)return-1;var e=d!=null;if(L&&a.lastIndexOf===L)return e?a.lastIndexOf(b,d):a.lastIndexOf(b);for(d=e?d:a.length;d--;)if(a[d]===b)return d;return-1};c.range=function(a,b,d){if(arguments.length<=1){b=
a||0;a=0}d=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/d),0),f=0,g=new Array(e);f<e;){g[f++]=a;a+=d}return g};var z=function(){};c.bind=function(a,b){var d,e;if(w&&a.bind===w)return w.apply(a,j.call(arguments,1));if(!c.isFunction(a))throw new TypeError;d=j.call(arguments,2);return e=function(){if(!(this instanceof e))return a.apply(b,d.concat(j.call(arguments)));z.prototype=a.prototype;var f=new z;z.prototype=null;var g=a.apply(f,d.concat(j.call(arguments)));if(Object(g)===g)return g;return f}};
c.partial=function(a){var b=j.call(arguments,1);return function(){for(var d=0,e=b.slice(),f=0,g=e.length;f<g;f++)if(e[f]===c)e[f]=arguments[d++];for(;d<arguments.length;)e.push(arguments[d++]);return a.apply(this,e)}};c.bindAll=function(a){var b=j.call(arguments,1);if(b.length===0)throw new Error("bindAll must be passed function names");k(b,function(d){a[d]=c.bind(a[d],a)});return a};c.memoize=function(a,b){var d={};b||(b=c.identity);return function(){var e=b.apply(this,arguments);return c.has(d,
e)?d[e]:(d[e]=a.apply(this,arguments))}};c.delay=function(a,b){var d=j.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};c.defer=function(a){return c.delay.apply(c,[a,1].concat(j.call(arguments,1)))};c.throttle=function(a,b,d){var e,f,g,h=null,i=0;d||(d={});var m=function(){i=d.leading===false?0:c.now();h=null;g=a.apply(e,f);e=f=null};return function(){var n=c.now();if(!i&&d.leading===false)i=n;var p=b-(n-i);e=this;f=arguments;if(p<=0){clearTimeout(h);h=null;i=n;g=a.apply(e,
f);e=f=null}else if(!h&&d.trailing!==false)h=setTimeout(m,p);return g}};c.debounce=function(a,b,d){var e,f,g,h,i,m=function(){var n=c.now()-h;if(n<b)e=setTimeout(m,b-n);else{e=null;if(!d){i=a.apply(g,f);g=f=null}}};return function(){g=this;f=arguments;h=c.now();var n=d&&!e;e||(e=setTimeout(m,b));if(n){i=a.apply(g,f);g=f=null}return i}};c.once=function(a){var b=false,d;return function(){if(b)return d;b=true;d=a.apply(this,arguments);a=null;return d}};c.wrap=function(a,b){return c.partial(b,a)};c.compose=
function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};c.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};c.keys=function(a){if(!c.isObject(a))return[];if(M)return M(a);var b=[];for(var d in a)c.has(a,d)&&b.push(d);return b};c.values=function(a){for(var b=c.keys(a),d=b.length,e=new Array(d),f=0;f<d;f++)e[f]=a[b[f]];return e};c.pairs=function(a){for(var b=c.keys(a),d=b.length,e=new Array(d),f=0;f<d;f++)e[f]=
[b[f],a[b[f]]];return e};c.invert=function(a){for(var b={},d=c.keys(a),e=0,f=d.length;e<f;e++)b[a[d[e]]]=d[e];return b};c.functions=c.methods=function(a){var b=[];for(var d in a)c.isFunction(a[d])&&b.push(d);return b.sort()};c.extend=function(a){k(j.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};c.pick=function(a){var b={},d=t.apply(l,j.call(arguments,1));k(d,function(e){if(e in a)b[e]=a[e]});return b};c.omit=function(a){var b={},d=t.apply(l,j.call(arguments,1));for(var e in a)c.contains(d,
e)||(b[e]=a[e]);return b};c.defaults=function(a){k(j.call(arguments,1),function(b){if(b)for(var d in b)if(a[d]===void 0)a[d]=b[d]});return a};c.clone=function(a){if(!c.isObject(a))return a;return c.isArray(a)?a.slice():c.extend({},a)};c.tap=function(a,b){b(a);return a};var A=function(a,b,d,e){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof c)a=a._wrapped;if(b instanceof c)b=b._wrapped;var f=o.call(a);if(f!=o.call(b))return false;switch(f){case "[object String]":return a==
String(b);case "[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;for(var g=d.length;g--;)if(d[g]==a)return e[g]==b;g=a.constructor;var h=b.constructor;if(g!==h&&!(c.isFunction(g)&&g instanceof g&&c.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in
b)return false;d.push(a);e.push(b);g=0;h=true;if(f=="[object Array]"){g=a.length;if(h=g==b.length)for(;g--;)if(!(h=A(a[g],b[g],d,e)))break}else{for(var i in a)if(c.has(a,i)){g++;if(!(h=c.has(b,i)&&A(a[i],b[i],d,e)))break}if(h){for(i in b)if(c.has(b,i)&&!g--)break;h=!g}}d.pop();e.pop();return h};c.isEqual=function(a,b){return A(a,b,[],[])};c.isEmpty=function(a){if(a==null)return true;if(c.isArray(a)||c.isString(a))return a.length===0;for(var b in a)if(c.has(a,b))return false;return true};c.isElement=
function(a){return!!(a&&a.nodeType===1)};c.isArray=s||function(a){return o.call(a)=="[object Array]"};c.isObject=function(a){return a===Object(a)};k(["Arguments","Function","String","Number","Date","RegExp"],function(a){c["is"+a]=function(b){return o.call(b)=="[object "+a+"]"}});if(!c.isArguments(arguments))c.isArguments=function(a){return!!(a&&c.has(a,"callee"))};if(typeof/./!=="function")c.isFunction=function(a){return typeof a==="function"};c.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};
c.isNaN=function(a){return c.isNumber(a)&&a!=+a};c.isBoolean=function(a){return a===true||a===false||o.call(a)=="[object Boolean]"};c.isNull=function(a){return a===null};c.isUndefined=function(a){return a===void 0};c.has=function(a,b){return S.call(a,b)};c.noConflict=function(){v._=R;return this};c.identity=function(a){return a};c.constant=function(a){return function(){return a}};c.property=function(a){return function(b){return b[a]}};c.matches=function(a){return function(b){if(b===a)return true;
for(var d in a)if(a[d]!==b[d])return false;return true}};c.times=function(a,b,d){for(var e=Array(Math.max(0,a)),f=0;f<a;f++)e[f]=b.call(d,f);return e};c.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};c.now=Date.now||function(){return(new Date).getTime()};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=c.invert(q.escape);var T={escape:new RegExp("["+c.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+c.keys(q.unescape).join("|")+
")","g")};c.each(["escape","unescape"],function(a){c[a]=function(b){if(b==null)return"";return(""+b).replace(T[a],function(d){return q[a][d]})}});c.result=function(a,b){if(a!=null){b=a[b];return c.isFunction(b)?b.call(a):b}};c.mixin=function(a){k(c.functions(a),function(b){var d=c[b]=a[b];c.prototype[b]=function(){var e=[this._wrapped];D.apply(e,arguments);return B.call(this,d.apply(c,e))}})};var U=0;c.uniqueId=function(a){var b=++U+"";return a?a+b:b};c.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\t|\u2028|\u2029/g;c.template=function(a,b,d){var e;d=c.defaults({},d,c.templateSettings);var f=new RegExp([(d.escape||C).source,(d.interpolate||C).source,(d.evaluate||C).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(f,function(m,n,p,P,Q){h+=a.slice(g,Q).replace(W,function(X){return"\\"+V[X]});if(n)h+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'";
if(p)h+="'+\n((__t=("+p+"))==null?'':__t)+\n'";if(P)h+="';\n"+P+"\n__p+='";g=Q+m.length;return m});h+="';\n";d.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{e=new Function(d.variable||"obj","_",h)}catch(i){i.source=h;throw i;}if(b)return e(b,c);b=function(m){return e.call(this,m,c)};b.source="function("+(d.variable||"obj")+"){\n"+h+"}";return b};c.chain=function(a){return c(a).chain()};var B=
function(a){return this._chain?c(a).chain():a};c.mixin(c);k(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=l[a];c.prototype[a]=function(){var d=this._wrapped;b.apply(d,arguments);if((a=="shift"||a=="splice")&&d.length===0)delete d[0];return B.call(this,d)}});k(["concat","join","slice"],function(a){var b=l[a];c.prototype[a]=function(){return B.call(this,b.apply(this._wrapped,arguments))}});c.extend(c.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}});
typeof define==="function"&&define.amd&&define("underscore",[],function(){return c})}).call(this);

(function(b){if(typeof define==="function"&&define.amd)define(["jquery"],b);else typeof exports==="object"?b(require("jquery")):b(jQuery)})(function(b){function j(a){return e.raw?a:encodeURIComponent(a)}function m(a){return e.raw?a:decodeURIComponent(a)}function n(a){return j(e.json?JSON.stringify(a):String(a))}function o(a){if(a.indexOf('"')===0)a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");try{a=decodeURIComponent(a.replace(p," "));return e.json?JSON.parse(a):a}catch(d){}}function k(a,
d){a=e.raw?a:o(a);return b.isFunction(d)?d(a):a}var p=/\+/g,e=b.cookie=function(a,d,c){if(arguments.length>1&&!b.isFunction(d)){c=b.extend({},e.defaults,c);if(typeof c.expires==="number"){var g=c.expires,h=c.expires=new Date;h.setTime(+h+g*864E5)}return document.cookie=[j(a),"=",n(d),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}g=a?undefined:{};h=document.cookie?document.cookie.split("; "):[];for(var i=
0,q=h.length;i<q;i++){var f=h[i].split("="),l=m(f.shift());f=f.join("=");if(a&&a===l){g=k(f,d);break}if(!a&&(f=k(f))!==undefined)g[l]=f}return g};e.defaults={};b.removeCookie=function(a,d){if(b.cookie(a)===undefined)return false;b.cookie(a,"",b.extend({},d,{expires:-1}));return!b.cookie(a)}});

if(brightcove==undefined){var brightcove={};brightcove.getExperience=function(){alert("Please import APIModules_all.js in order to use the API.")}}
if(brightcove.experiences==undefined){brightcove.servicesURL="http://c.brightcove.com/services";brightcove.cdnURL="http://admin.brightcove.com";brightcove.secureCDNURL="https://sadmin.brightcove.com";brightcove.secureServicesURL="https://secure.brightcove.com/services";brightcove.pubHost="c.$pubcode$.$zoneprefix$$zone$";brightcove.pubSecureHost="secure.$pubcode$.$zoneprefix$$zone$";brightcove.pubSubdomain="ariessaucetown.local";brightcove.experiences={};brightcove.experienceObjects={};brightcove.timeouts=
{};brightcove.flashTimeoutInterval=1E4;brightcove.htmlTimeoutInterval=1E4;brightcove.experienceNum=0;brightcove.majorVersion=9;brightcove.majorRevision=0;brightcove.minorRevision=28;brightcove.servlet={AS3:"federated_f9",HTML:"htmlFederated"};brightcove.playerType={FLASH:"flash",HTML:"html",FLASH_IFRAME:"flashIFrame",INSTALLER:"installer",NO_SUPPORT:"nosupport"};brightcove.errorCodes={UNKNOWN:0,DOMAIN_RESTRICTED:1,GEO_RESTRICTED:2,INVALID_ID:3,NO_CONTENT:4,UNAVAILABLE_CONTENT:5,UPGRADE_REQUIRED_FOR_VIDEO:6,
UPGRADE_REQUIRED_FOR_PLAYER:7,SERVICE_UNAVAILABLE:8};brightcove.defaultParam={};brightcove.defaultParam.width="100%";brightcove.defaultParam.height="100%";brightcove.defaultFlashParam={};brightcove.defaultFlashParam.allowScriptAccess="always";brightcove.defaultFlashParam.allowFullScreen="true";brightcove.defaultFlashParam.seamlessTabbing=false;brightcove.defaultFlashParam.swliveconnect=true;brightcove.defaultFlashParam.wmode="window";brightcove.defaultFlashParam.quality="high";brightcove.defaultFlashParam.bgcolor=
"#999999";brightcove.hasActiveX=brightcove.isIE=window.ActiveXObject!=undefined;brightcove.userAgent=navigator.userAgent;brightcove._queuedAPICalls=[];var brightcoveJS=brightcove;brightcove.createExperiences=function(a,b){a=[];var c,d=brightcove.checkFlashSupport(),e=brightcove.checkHtmlSupport();if(b!=null)a.push(document.getElementById(b));else a=brightcove.collectExperiences();if(brightcove.hasActiveX)c=document.getElementsByTagName("param");for(var f=brightcove.cacheUrlParams(),l=a.length,j=0;j<
l;j++){b=a[j];b=brightcove.copyDefaultParams(b);b=brightcove.copySnippetParams(b,c);b=brightcove.copyUrlParams(b,f,l);var i=brightcove.determinePlayerType(b,d,e),m=false;m=i==brightcove.playerType.HTML?b.params.secureHTMLConnections=="true":b.params.secureConnections=="true";if(i==brightcove.playerType.NO_SUPPORT){brightcove.renderInstallGif(b,m);brightcove.reportUpgradeRequired(b)}else{if(i==brightcove.playerType.HTML)delete b.params.linkBaseURL;else if(b.params.includeAPI&&b.params.templateReadyHandler!=
null){b.params.originalTemplateReadyHandler=b.params.templateReadyHandler;var h="templateReadyHandler"+b.id;brightcove[h]=function(o){return function(p){brightcove.internal!=null&&brightcove.internal._instances[o]!=null&&brightcove._addModuleToEvent(o,p);brightcove.callHandlerForPlayer(brightcove.experienceObjects[o],"originalTemplateReadyHandler",p)}}(b.id);b.params.templateReadyHandler='brightcove["'+h+'"]'}h=brightcove.generateRequestUrl(b,i,m);if(document.location.protocol=="http:"){var k="http://goku.brightcove.com/1pix.gif?",
g=["dcsuri=/viewer/player_load_req","playerType="+i,"playerURL="+encodeURIComponent(document.location||"")],q=brightcove.createElement("image");for(var s in b.params)g.push([encodeURIComponent(s)+"="+encodeURIComponent(b.params[s])]);k+=g.join("&");q.src=k}brightcove.renderExperience(b,h,i,m)}}};brightcove.collectExperiences=function(){for(var a=[],b=document.getElementsByTagName("object"),c=b.length,d=0;d<c;d++)/\bBrightcoveExperience\b/.test(b[d].className)&&b[d].type!="application/x-shockwave-flash"&&
a.push(b[d]);return a};brightcove.cacheUrlParams=function(){var a={};a.playerKey=decodeURIComponent(brightcove.getParameter("bckey"));a.playerID=brightcove.getParameter("bcpid");a.titleID=brightcove.getParameter("bctid");a.lineupID=brightcove.getParameter("bclid");a.autoStart=brightcove.getParameter("autoStart");a.debuggerID=brightcove.getParameter("debuggerID");a.forceHTML=brightcove.getParameter("forceHTML");a.forceFlashIFrame=brightcove.getParameter("forceFlashIFrame");a.debug=brightcove.getParameter("debug");
a.showNoContentMessage=brightcove.getParameter("showNoContentMessage");a.htmlDefaultBitrate=brightcove.getParameter("htmlDefaultBitrate");a.linkSrc=brightcove.getParameter("linkSrc");return a};brightcove.copyDefaultParams=function(a){if(!a.params)a.params={};if(!a.flashParams)a.flashParams={};for(var b in brightcove.defaultParam)a.params[b]=brightcove.defaultParam[b];for(var c in brightcove.defaultFlashParam)a.flashParams[c]=brightcove.defaultFlashParam[c];if(a.id.length>0)a.params.flashID=a.id;else a.id=
a.params.flashID="bcExperienceObj"+brightcove.experienceNum++;return a};brightcove.copySnippetParams=function(a,b){brightcove.hasActiveX||(b=a.getElementsByTagName("param"));for(var c=b.length,d,e=0;e<c;e++){d=b[e];if(!(brightcove.hasActiveX&&d.parentNode.id!=a.id))a.params[d.name]=d.value}if(a.params.bgcolor!=undefined)a.flashParams.bgcolor=a.params.bgcolor;if(a.params.wmode!=undefined)a.flashParams.wmode=a.params.wmode;if(a.params.seamlessTabbing!=undefined)a.flashParams.seamlessTabbing=a.params.seamlessTabbing;
return a};brightcove.copyUrlParams=function(a,b){if(a.params.autoStart==undefined&&b.autoStart!=undefined)a.params.autoStart=b.autoStart;if(b.debuggerID!=undefined)a.params.debuggerID=b.debuggerID;if(b.forceHTML!=undefined&&b.forceHTML!=="")a.params.forceHTML=b.forceHTML;if(b.forceFlashIFrame!=undefined&&b.forceFlashIFrame!=="")a.params.forceFlashIFrame=b.forceFlashIFrame;if(b.debug!=undefined&&b.debug!=="")a.params.debug=b.debug;if(b.showNoContentMessage!=undefined&&b.showNoContentMessage!="")a.params.showNoContentMessage=
b.showNoContentMessage;if(b.htmlDefaultBitrate!=undefined&&b.htmlDefaultBitrate!=="")a.params.htmlDefaultBitrate=b.htmlDefaultBitrate;if(b.linkSrc!=undefined&&b.linkSrc!="")a.params.linkSrc=b.linkSrc;if(b.playerID.length<1&&b.playerKey.length<1||b.playerID==a.params.playerID||b.playerKey==a.params.playerKey){if(b.titleID.length>0){a.params.videoID=b.titleID;a.params["@videoPlayer"]=b.titleID;a.params.autoStart=a.params.autoStart!="false"&&b.autoStart!="false"}if(b.lineupID.length>0)a.params.lineupID=
b.lineupID}return a};brightcove.determinePlayerType=function(a,b,c){if(b==null&&c==false)return brightcove.playerType.NO_SUPPORT;if(a.params.forceHTML){if(window.console){a="The forceHTML parameter was used for the Brightcove player. This value should ONLY be used for";a+=" development and testing purposes and is not supported in production environments.";console.log(a)}return brightcove.playerType.HTML}if(a.params.forceFlashIFrame||brightcove.isMetroIE()&&b==null)return brightcove.playerType.FLASH_IFRAME;
if(b!=null)return brightcove.isFlashVersionSufficient(a,b)?brightcove.playerType.FLASH:brightcove.playerType.INSTALLER;if(c)if(brightcove.isSupportedHTMLDevice()||a.params.htmlFallback)return brightcove.playerType.HTML;return brightcove.playerType.NO_SUPPORT};brightcove.isFlashVersionSufficient=function(a,b){if(b==null)return false;var c=false,d,e;if(a.params.majorVersion!=undefined){d=parseInt(a.params.majorVersion,10);c=true}else d=brightcove.majorVersion;e=a.params.majorRevision!=undefined?parseInt(a.params.majorRevision,
10):c?0:brightcove.majorRevision;a=a.params.minorRevision!=undefined?parseInt(a.params.minorRevision,10):c?0:brightcove.minorRevision;return b.majorVersion>d||b.majorVersion==d&&b.majorRevision>e||b.majorVersion==d&&b.majorRevision==e&&b.minorRevision>=a};brightcove.generateRequestUrl=function(a,b,c){if(b==brightcove.playerType.INSTALLER){c=brightcove.cdnURL+"/viewer/playerProductInstall.swf";b=brightcove.hasActiveX?"ActiveX":"PlugIn";document.title=document.title.slice(0,47)+" - Flash Player Installation";
c+="?&MMredirectURL="+window.location+"&MMplayerType="+b+"&MMdoctitle="+document.title;brightcove.reportUpgradeRequired(a)}else{c=c?brightcove.getPubURL(brightcove.secureServicesURL,brightcove.pubSecureHost,a.params.pubCode):brightcove.getPubURL(brightcove.servicesURL,brightcove.pubHost,a.params.pubCode);c+="/viewer/"+(b==brightcove.playerType.HTML?brightcove.servlet.HTML:brightcove.servlet.AS3)+"?"+brightcove.getOverrides();for(var d in a.params)c+="&"+encodeURIComponent(d)+"="+encodeURIComponent(a.params[d])}return c};
brightcove.renderInstallGif=function(a,b){var c="_container"+a.id,d=brightcove.createElement("span");d.style.display=a.params.height.charAt(a.params.height.length-1)=="%"?"block":"inline-block";d.id=c;b=b?brightcove.secureCDNURL:brightcove.cdnURL;var e=b.indexOf(".co.jp")>0?"upgrade_flash_player_kk.gif":"upgrade_flash_player2.gif";b="<a href='http://www.adobe.com/go/getflash/' target='_blank'><img src='"+b+"/viewer/"+e+"' alt='Get Flash Player' width='314' height='200' border='0'></a>";a.parentNode.replaceChild(d,
a);document.getElementById(c).innerHTML=b};brightcove.renderExperience=function(a,b,c,d){var e,f=a.id,l=brightcove.flashTimeoutInterval;if(a.params.playerKey||a.params.playerID||a.params.playerId||a.params.playerid){brightcove.experienceObjects[f]=a;var j=brightcove.getParameter("unminified")=="true"||a.params.unminified==="true";if(a.params.includeAPI==="true"&&!(brightcove._apiRequested||brightcove.api)){var i="/js/api/";if(j)i+="unminified/";i+="SmartPlayerAPI.js";var m=brightcove.createElement("script");
m.type="text/javascript";m.src=(d?brightcove.secureCDNURL:brightcove.cdnURL)+i;a.parentNode.appendChild(m);brightcove._apiRequested=true}b+="&startTime="+(new Date).getTime();if(c===brightcove.playerType.HTML){l=brightcove.htmlTimeoutInterval;b+="&refURL="+(window.document.referrer?window.document.referrer:"not available");if(j)b+="&unminified=true";e=brightcove.createIFrame(a);a.parentNode.replaceChild(e,a);brightcove.experiences[f]=e;a.element=e;if(a.params.videoID||a.params.videoId)b+="&"+encodeURIComponent("@videoPlayer")+
"="+encodeURIComponent(a.params.videoID||a.params.videoId);e.src=b}else if(c===brightcove.playerType.FLASH_IFRAME){var h=d?brightcove.secureCDNURL:brightcove.cdnURL,k=h+"/js/flash_iframe.html?parentPage="+window.location.toString().split("?")[0];k+="&currentCDN="+h;if(j)k+="&unminified="+j;e=brightcove.createIFrame(a);a.parentNode.replaceChild(e,a);brightcove.experiences[f]=e;a.element=e;e.src=k;window.addEventListener("message",function(g){if(g.origin.split("/")[2]===h.split("/")[2])if(JSON.parse(g.data)==
"bcIframeInitialized"){if(brightcove.hasActiveX){a.flashParams.movie=b;g={activeX:brightcove.getFlashEmbedString(a,d),height:a.params.height,id:"_container"+a.id,file:b}}else g=brightcove.getFlashObjectParams(a,b);g=JSON.stringify(g);e.contentWindow.postMessage(g,h)}},false);window.addEventListener("message",function(g){if(g.origin.split("/")[2]===h.split("/")[2]){g=JSON.parse(g.data);if(g.api&&brightcove.internal&&brightcove.internal._setAPICallback)if(g.api=="apiCallback")brightcove.internal._setAPICallback(g.pid,
g.callback,k);else if(g.api=="loadEvent")window[g.callback](g.event);else g.api=="onTemplateReadyEvent"&&brightcove[g.callback](g.event)}},false)}else if(brightcove.hasActiveX){a.flashParams.movie=b;j=brightcove.getFlashEmbedString(a,d);i="_container"+a.id;c=brightcove.createFlashEmbed(i,a.params.height);a.parentNode.replaceChild(c,a);document.getElementById(i).innerHTML=j;brightcove.experiences[f]=c}else{c=brightcove.getFlashObjectParams(a,b);e=brightcove.createFlashObject(c);a.parentNode.replaceChild(e,
a);brightcove.experiences[f]=e}brightcove.timeouts[a.id]=setTimeout(function(){brightcove.handleExperienceTimeout(f)},l)}else window.console&&console.log("No playerID or playerKey was found for the Brightcove player, so it can not be rendered.")};brightcove.createIFrame=function(a){var b=brightcove.createElement("iframe");b.id=a.id;b.width=a.params.width;b.height=a.params.height;b.className=a.className;b.frameborder=0;b.scrolling="no";b.style.borderStyle="none";return b};brightcove.getFlashEmbedString=
function(a,b){var c="",d=a.flashParams;for(var e in d)c+='<param name="'+e+'" value="'+a.flashParams[e]+'" />';return'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+(b?"https":"http")+"://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+brightcove.majorVersion+","+brightcove.majorRevision+","+brightcove.minorRevision+',0" id="'+a.id+'" width="'+a.params.width+'" height="'+a.params.height+'" type="application/x-shockwave-flash" class="BrightcoveExperience">'+
c+"</object>"};brightcove.getFlashObjectParams=function(a,b){var c={};c.type="application/x-shockwave-flash";c.data=b;c.id=a.params.flashID;c.width=a.params.width;c.height=a.params.height;c.className=a.className;c.seamlesstabbing=a.flashParams.seamlessTabbing;for(var d in a.flashParams)c["flashParam_"+d]=a.flashParams[d];return c};brightcove.createFlashEmbed=function(a,b){var c=brightcove.createElement("span");c.style.display=b.charAt(b.length-1)=="%"?"block":"inline-block";c.id=a;return c};brightcove.createFlashObject=
function(a){var b=brightcove.createElement("object");b.type=a.type;b.data=a.data;b.id=a.id;b.width=a.width;b.height=a.height;b.className=a.className;b.setAttribute("seamlesstabbing",a.seamlessTabbing);var c;for(var d in a)if(d.indexOf("flashParam_")==0){c=brightcove.createElement("param");c.name=d.substring(11);c.value=a[d];b.appendChild(c)}return b};brightcove.handleExperienceTimeout=function(a){brightcove.executeErrorHandlerForExperience(brightcove.experienceObjects[a],{type:"templateError",errorType:"serviceUnavailable",
code:brightcove.errorCodes.SERVICE_UNAVAILABLE,info:a})};brightcove.reportPlayerLoad=function(a){(a=brightcove.timeouts[a])&&clearTimeout(a)};brightcove.reportUpgradeRequired=function(a){brightcove.executeErrorHandlerForExperience(a,{type:"templateError",errorType:"upgradeRequiredForPlayer",code:brightcove.errorCodes.UPGRADE_REQUIRED_FOR_PLAYER,info:a.id})};brightcove.checkFlashSupport=function(){return window.ActiveXObject!=undefined?brightcove.checkFlashSupportIE():brightcove.checkFlashSupportStandard()};
brightcove.checkFlashSupportIE=function(){var a;try{a=/ ([0-9]+),([0-9]+),([0-9]+),/.exec((new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version"))}catch(b){return null}return{majorVersion:a[1],majorRevision:a[2],minorRevision:a[3]}};brightcove.isMetroIE=function(){var a=0;if(navigator.appVersion.indexOf("MSIE")!=-1){var b=navigator.appVersion.split("MSIE");if(b.length>1)a=parseFloat(b[1])}if(a<10||isNaN(a))return false;a=false;try{a=!!new ActiveXObject("htmlfile")}catch(c){a=
false}return!a};brightcove.checkFlashSupportStandard=function(){var a,b,c,d;try{if(typeof navigator.plugins!="undefined"&&navigator.plugins.length>0)if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var e=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"",f=navigator.plugins["Shockwave Flash"+e].description,l=navigator.plugins["Shockwave Flash"+e].filename;if(l.match)if(l.toLowerCase().match(/lite/))throw new Error;a=f.split(" ");b=a[2].split(".")[0];c=a[2].split(".")[1];
d=a[3];if(d=="")d=a[4];if(d[0]=="d")d=d.substring(1);else if(d[0]=="r"){d=d.substring(1);if(d.indexOf("d")>0)d=d.substring(0,d.indexOf("d"))}}else throw new Error;else return null}catch(j){return null}return{majorVersion:b,majorRevision:c,minorRevision:d}};brightcove.checkHtmlSupport=function(){var a=brightcove.createElement("video"),b=true;brightcove.userAgent.match(/android/i)||(b=!!(a.canPlayType&&a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"")));if(brightcove.userAgent.match(/BlackBerry.*Version\/6\.0/))return false;
a=!!brightcove.createElement("canvas").getContext;return b&&a};brightcove.isSupportedHTMLDevice=function(a){var b=["iPad","iPhone","iPod","android","Silk"],c=b.length;a=a||brightcove.userAgent;for(var d=0;d<c;d++)if(a.match(new RegExp(b[d],"i")))return true;return false};brightcove.getTechnology=function(a){for(var b in brightcove.experiences)if(a==b)return brightcove.experiences[b].tagName=="object"?brightcove.playerType.FLASH:brightcove.playerType.HTML;return brightcove.playerType.NO_SUPPORT};brightcove.respondToMessages=
function(a){if(brightcove.verifyMessage(a)){a=a.data;if(a.charAt(0)=='"')a=window.JSON?window.JSON.parse(a):brightcove.json_parse(a);var b=a.split("::");a=b[1];for(var c="",d=2;d<b.length;d++)c+=b[d];b=c.split("\n").join(" ");b=window.JSON?window.JSON.parse(b):brightcove.json_parse(b);switch(a){case "error":brightcove.executeMessageCallback(b,brightcove.executeErrorHandlerForExperience);break;case "api":brightcove.handleAPICallForHTML(b);break;case "handler":a=brightcove.internal._convertDates(b.event);
try{brightcove.internal._handlers[b.handler](a)}catch(e){}break;case "asyncGetter":a=brightcove.internal._convertDates(b.data);brightcove.internal._handlers[b.handler](a);break}}};brightcove.verifyMessage=function(a){return/^brightcove\.player/.test(a.data)};brightcove.handleAPICallForHTML=function(a){var b=brightcove.experienceObjects[a.id];if(b!=null){var c=b.id;switch(a.method){case "initializeBridge":brightcove.reportPlayerLoad(c);if(a.arguments[0])if(brightcove.internal!=null){brightcove.internal._setAPICallback(c,
null,a.arguments[1]);brightcove.callHandlerForPlayer(b,"templateLoadHandler",c)}else brightcove._apiRequested&&brightcove._queuedAPICalls.push(a);break;case "callTemplateReady":if(brightcove._apiRequested&&!brightcove.internal)brightcove._queuedAPICalls.push(a);else{a=a.arguments;brightcove._addModuleToEvent(c,a);brightcove.callHandlerForPlayer(b,"templateReadyHandler",a)}break}}};brightcove._addModuleToEvent=function(a,b){if(b.type!=null&&brightcove.api)if(a=brightcove.api.getExperience(a))b.target=
a.getModule("experience")};brightcove.callHandlerForPlayer=function(a,b,c){if(a&&a.params&&a.params[b]){var d=a.params[b].split("."),e;if((e=d.length)>1){a=window;for(b=0;b<e;b++)a=a[d[b]];typeof a==="function"&&a(c)}else window[a.params[b]](c)}};brightcove.executeErrorHandlerForExperience=function(a,b){brightcove.callHandlerForPlayer(a,"templateErrorHandler",b)};brightcove.executeMessageCallback=function(a,b){var c;for(var d in brightcove.experienceObjects){c=brightcove.experienceObjects[d];if(c.element.src===
a.__srcUrl){delete a.__srcUrl;b(c,a);break}}};brightcove.createExperience=function(a,b,c){if(!a.id||a.id.length<1)a.id="bcExperienceObj"+brightcove.experienceNum++;c?b.appendChild(a):b.parentNode.insertBefore(a,b);brightcove.createExperiences(null,a.id)};brightcove.removeExperience=function(a){brightcove.experiences[a]!=null&&brightcove.experiences[a].parentNode.removeChild(brightcove.experiences[a])};brightcove.getURL=function(){return typeof window.location.search!="undefined"?window.location.search:
/(\?.*)$/.exec(document.location.href)};brightcove.getOverrides=function(){for(var a=brightcove.getURL(),b=new RegExp("@[\\w\\.]+=[^&]+","g"),c=b.exec(a),d="";c!=null;){d+="&"+c;c=b.exec(a)}return d};brightcove.getParameter=function(a,b){if(b==null)b="";var c=brightcove.getURL();a=(new RegExp(a+"=([^&]*)")).exec(c);return a!=null?a[1]:b};brightcove.createElement=function(a){return document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",a):document.createElement(a)};brightcove.i18n=
{BROWSER_TOO_OLD:"The browser you are using is too old. Please upgrade to the latest version of your browser."};brightcove.removeListeners=function(){if(/KHTML/i.test(navigator.userAgent)){clearInterval(checkLoad);document.removeEventListener("load",brightcove.createExperiences,false)}if(typeof document.addEventListener!="undefined"){document.removeEventListener("DOMContentLoaded",brightcove.createExperiences,false);document.removeEventListener("load",brightcove.createExperiences,false)}else typeof window.attachEvent!=
"undefined"&&window.detachEvent("onload",brightcove.createExperiences)};brightcove.getPubURL=function(a,b,c){if(!c||c=="")return a;b=b.replace("$pubcode$",c).replace("$zoneprefix$$zone$",brightcove.pubSubdomain);return a.replace(/^([htps]{4,5}\:\/\/)([^\/\:]+)/i,"$1"+b)};brightcove.createExperiencesPostLoad=function(){brightcove.removeListeners();brightcove.createExperiences()};brightcove.encode=function(a){a=escape(a);a=a.replace(/\+/g,"%2B");a=a.replace(/\-/g,"%2D");a=a.replace(/\*/g,"%2A");a=a.replace(/\//g,
"%2F");a=a.replace(/\./g,"%2E");a=a.replace(/_/g,"%5F");return a=a.replace(/@/g,"%40")};if(/KHTML/i.test(navigator.userAgent)){var checkLoad=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(checkLoad);brightcove.createExperiencesPostLoad()}},70);document.addEventListener("load",brightcove.createExperiencesPostLoad,false)}if(typeof document.addEventListener!="undefined"){document.addEventListener("DOMContentLoaded",brightcove.createExperiencesPostLoad,false);document.addEventListener("load",
brightcove.createExperiencesPostLoad,false);window.addEventListener("message",brightcove.respondToMessages,false)}else typeof window.attachEvent!="undefined"?window.attachEvent("onload",brightcove.createExperiencesPostLoad):alert(brightcove.i18n.BROWSER_TOO_OLD)}
brightcove.json_parse=function(){function a(h){return h.replace(/\\(?:u(.{4})|([^u]))/g,function(k,g,q){return g?String.fromCharCode(parseInt(g,16)):l[q]})}var b,c,d,e,f,l={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\u000c",b:"\u0008"},j={go:function(){b="ok"},firstokey:function(){e=f;b="colon"},okey:function(){e=f;b="colon"},ovalue:function(){b="ocomma"},firstavalue:function(){b="acomma"},avalue:function(){b="acomma"}},i={go:function(){b="ok"},ovalue:function(){b="ocomma"},firstavalue:function(){b=
"acomma"},avalue:function(){b="acomma"}},m={"{":{go:function(){c.push({state:"ok"});d={};b="firstokey"},ovalue:function(){c.push({container:d,state:"ocomma",key:e});d={};b="firstokey"},firstavalue:function(){c.push({container:d,state:"acomma"});d={};b="firstokey"},avalue:function(){c.push({container:d,state:"acomma"});d={};b="firstokey"}},"}":{firstokey:function(){var h=c.pop();f=d;d=h.container;e=h.key;b=h.state},ocomma:function(){var h=c.pop();d[e]=f;f=d;d=h.container;e=h.key;b=h.state}},"[":{go:function(){c.push({state:"ok"});
d=[];b="firstavalue"},ovalue:function(){c.push({container:d,state:"ocomma",key:e});d=[];b="firstavalue"},firstavalue:function(){c.push({container:d,state:"acomma"});d=[];b="firstavalue"},avalue:function(){c.push({container:d,state:"acomma"});d=[];b="firstavalue"}},"]":{firstavalue:function(){var h=c.pop();f=d;d=h.container;e=h.key;b=h.state},acomma:function(){var h=c.pop();d.push(f);f=d;d=h.container;e=h.key;b=h.state}},":":{colon:function(){if(Object.hasOwnProperty.call(d,e))throw new SyntaxError('Duplicate key "'+
e+'"');b="ovalue"}},",":{ocomma:function(){d[e]=f;b="okey"},acomma:function(){d.push(f);b="avalue"}},"true":{go:function(){f=true;b="ok"},ovalue:function(){f=true;b="ocomma"},firstavalue:function(){f=true;b="acomma"},avalue:function(){f=true;b="acomma"}},"false":{go:function(){f=false;b="ok"},ovalue:function(){f=false;b="ocomma"},firstavalue:function(){f=false;b="acomma"},avalue:function(){f=false;b="acomma"}},"null":{go:function(){f=null;b="ok"},ovalue:function(){f=null;b="ocomma"},firstavalue:function(){f=
null;b="acomma"},avalue:function(){f=null;b="acomma"}}};return function(h,k){var g,q=/^[\x20\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;b="go";c=[];try{for(;;){g=q.exec(h);if(!g)break;if(g[1])m[g[1]][b]();else if(g[2]){f=+g[2];i[b]()}else{f=a(g[3]);j[b]()}h=h.slice(g[0].length)}}catch(s){b=s}if(b!=="ok"||/[^\x20\t\n\r]/.test(h))throw b instanceof SyntaxError?b:new SyntaxError("JSON");return typeof k==="function"?
function o(p,u){var r,t,n=p[u];if(n&&typeof n==="object")for(r in n)if(Object.prototype.hasOwnProperty.call(n,r)){t=o(n,r);if(t!==undefined)n[r]=t;else delete n[r]}return k.call(p,u,n)}({"":f},""):f}}();

function googleMapsApi(j){function f(a,b){var c=this;b.streetViewControl=false;if(b.center&&b.zoom)this.map=new google.maps.Map(a,b);else{this.map=new google.maps.Map(a,b);this.setBounds(r)}b.enableZoom||this.map.setOptions({scrollwheel:false});b.disableBusinessPOI&&this.map.setOptions({styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",stylers:[{visibility:"on"}]},{featureType:"poi.government",stylers:[{visibility:"on"}]},{featureType:"poi.medical",
stylers:[{visibility:"on"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"on"}]},{featureType:"poi.school",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]}]});this.map.setOptions({zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}});this.markers=[];this.autocompleteTimeout=null;this.directionsService=new google.maps.DirectionsService;
this.directionsDisplay=new google.maps.DirectionsRenderer({suppressMarkers:true});this.offsetByPixels=function(d,e){var g=this.map.getProjection(),o=1<<this.map.getZoom();d=new google.maps.LatLng(d.lat,d.lng);d=g.fromLatLngToPoint(d);d.x+=e/o;e=g.fromPointToLatLng(d);return{lat:e.lat(),lng:e.lng()}}}function B(a,b,c,d,e){this.position_=a;this.map_=b;this.label_=c;this.content_=d;this.icon=this.div_=null;this.callback=e;this.infoWindow=null;this.setMap(b)}function F(a,b,c){this.position_=new google.maps.LatLng(a.lat,
a.lng);this.map_=b;this.content_=c;this.div_=null;this.setMap(b)}function J(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a);document.body.appendChild(b)}function Z(a,b,c,d){a=Math.PI*a/180;var e=Math.PI*c/180;d=Math.PI*d/180-Math.PI*b/180;c=e-a;b=Math.pow(Math.sin(c/2),2)+Math.cos(a)*Math.cos(e)*Math.pow(Math.sin(d/2),2);return 6371*2*Math.asin(Math.min(1,Math.sqrt(b)))}function T(a){return{"\u00b5":"\u03bc","\u00df":"ss","\u0130":"i\u0307",
"\u0149":"\u02bcn","\u017f":"s","\u01f0":"j\u030c","\u0345":"\u03b9","\u0390":"\u03b9\u0308\u0301","\u03b0":"\u03c5\u0308\u0301","\u03c2":"\u03c3","\u03d0":"\u03b2","\u03d1":"\u03b8","\u03d5":"\u03c6","\u03d6":"\u03c0","\u03f0":"\u03ba","\u03f1":"\u03c1","\u03f5":"\u03b5","\u0587":"\u0565\u0582","\u1e96":"h\u0331","\u1e97":"t\u0308","\u1e98":"w\u030a","\u1e99":"y\u030a","\u1e9a":"a\u02be","\u1e9b":"\u1e61","\u1e9e":"ss","\u1f50":"\u03c5\u0313","\u1f52":"\u03c5\u0313\u0300","\u1f54":"\u03c5\u0313\u0301",
"\u1f56":"\u03c5\u0313\u0342","\u1f80":"\u1f00\u03b9","\u1f81":"\u1f01\u03b9","\u1f82":"\u1f02\u03b9","\u1f83":"\u1f03\u03b9","\u1f84":"\u1f04\u03b9","\u1f85":"\u1f05\u03b9","\u1f86":"\u1f06\u03b9","\u1f87":"\u1f07\u03b9","\u1f88":"\u1f00\u03b9","\u1f89":"\u1f01\u03b9","\u1f8a":"\u1f02\u03b9","\u1f8b":"\u1f03\u03b9","\u1f8c":"\u1f04\u03b9","\u1f8d":"\u1f05\u03b9","\u1f8e":"\u1f06\u03b9","\u1f8f":"\u1f07\u03b9","\u1f90":"\u1f20\u03b9","\u1f91":"\u1f21\u03b9","\u1f92":"\u1f22\u03b9","\u1f93":"\u1f23\u03b9",
"\u1f94":"\u1f24\u03b9","\u1f95":"\u1f25\u03b9","\u1f96":"\u1f26\u03b9","\u1f97":"\u1f27\u03b9","\u1f98":"\u1f20\u03b9","\u1f99":"\u1f21\u03b9","\u1f9a":"\u1f22\u03b9","\u1f9b":"\u1f23\u03b9","\u1f9c":"\u1f24\u03b9","\u1f9d":"\u1f25\u03b9","\u1f9e":"\u1f26\u03b9","\u1f9f":"\u1f27\u03b9","\u1fa0":"\u1f60\u03b9","\u1fa1":"\u1f61\u03b9","\u1fa2":"\u1f62\u03b9","\u1fa3":"\u1f63\u03b9","\u1fa4":"\u1f64\u03b9","\u1fa5":"\u1f65\u03b9","\u1fa6":"\u1f66\u03b9","\u1fa7":"\u1f67\u03b9","\u1fa8":"\u1f60\u03b9",
"\u1fa9":"\u1f61\u03b9","\u1faa":"\u1f62\u03b9","\u1fab":"\u1f63\u03b9","\u1fac":"\u1f64\u03b9","\u1fad":"\u1f65\u03b9","\u1fae":"\u1f66\u03b9","\u1faf":"\u1f67\u03b9","\u1fb2":"\u1f70\u03b9","\u1fb3":"\u03b1\u03b9","\u1fb4":"\u03ac\u03b9","\u1fb6":"\u03b1\u0342","\u1fb7":"\u03b1\u0342\u03b9","\u1fbc":"\u03b1\u03b9","\u1fbe":"\u03b9","\u1fc2":"\u1f74\u03b9","\u1fc3":"\u03b7\u03b9","\u1fc4":"\u03ae\u03b9","\u1fc6":"\u03b7\u0342","\u1fc7":"\u03b7\u0342\u03b9","\u1fcc":"\u03b7\u03b9","\u1fd2":"\u03b9\u0308\u0300",
"\u1fd3":"\u03b9\u0308\u0301","\u1fd6":"\u03b9\u0342","\u1fd7":"\u03b9\u0308\u0342","\u1fe2":"\u03c5\u0308\u0300","\u1fe3":"\u03c5\u0308\u0301","\u1fe4":"\u03c1\u0313","\u1fe6":"\u03c5\u0342","\u1fe7":"\u03c5\u0308\u0342","\u1ff2":"\u1f7c\u03b9","\u1ff3":"\u03c9\u03b9","\u1ff4":"\u03ce\u03b9","\u1ff6":"\u03c9\u0342","\u1ff7":"\u03c9\u0342\u03b9","\u1ffc":"\u03c9\u03b9","\ufb00":"ff","\ufb01":"fi","\ufb02":"fl","\ufb03":"ffi","\ufb04":"ffl","\ufb05":"st","\ufb06":"st","\ufb13":"\u0574\u0576","\ufb14":"\u0574\u0565",
"\ufb15":"\u0574\u056b","\ufb16":"\u057e\u0576","\ufb17":"\u0574\u056d"}[a]||a}function K(a,b){b=b.toLowerCase().replace(U,"").replace(/\s+/g," ").replace(/./g,T);a=a.toLowerCase().replace(U,"").replace(/\s+/g," ").replace(/./g,T);return a.indexOf(b)}var N=j.language,O=j.countryCode,D=j.countryCodes?j.countryCodes.split(","):[O],H=j.imagePath,r=j.countryBounds;N=j.autocompleteCallbackURL;var X=j.autocompleteCallbackName,P="";D=j.countryCodes?j.countryCodes.split(","):[O];var V=j.apiKey?j.apiKey:"Al1EdZ_aW5T6XNlr-BJxCw1l4KaA0tmXFI_eTl1RITyYptWUS0qit_MprtcG7w2F",
W=j.dealerTableURL?j.dealerTableURL:"https://spatial.virtualearth.net/REST/v1/data/1652026ff3b247cd9d1f4cc12b9a080b/FordEuropeDealers_Transition/Dealer",z=[],U=/[\!"#\$%&'\(\)\*\+`\-\.\/\:;\<\=\>\?@\[\\\]\^_'\{\|\}~]/g;if(r){var G=[];for(j=0;j<r.length;j++)r[j].lat&&r[j].lng&&G.push(r[j].lng+" "+r[j].lat);r[0].lat===r[r.length-1].lat&&r[0].lng===r[r.length-1].lng||G.push(r[0].lng+" "+r[0].lat)}if(r){G=-91;var Q=91,R=-181,S=181;for(j=0;j<r.length;j++){var v=r[j];v.lat=Number(v.lat);v.lng=Number(v.lng);
if(v.lat!==""||v.lng!==""){if(v.lat>G)G=v.lat;if(v.lat<Q)Q=v.lat;if(v.lng>R)R=v.lng;if(v.lng<S)S=v.lng}}P="("+Q+","+S+","+G+","+R+")"}N&&J(N);window[X]=function(a){z=a};f.prototype.setCenter=function(a,b){var c=this;this.map.setCenter(a);if(b)var d=google.maps.event.addListener(this.map,"idle",function(){c.map.panBy(b,0);google.maps.event.removeListener(d)})};f.prototype.getCenter=function(){var a=this.map.getCenter();return{lat:a.lat(),lng:a.lng()}};f.prototype.panTo=function(a){this.map.panTo({lat:a.lat,
lng:a.lng})};f.prototype.setZoom=function(a){this.map.setZoom(a)};f.prototype.getZoom=function(){return this.map.getZoom()};f.prototype.setBounds=function(a,b){for(var c=new google.maps.LatLngBounds,d=this,e=0;e<a.length;e++)if(a[e].lat&&a[e].lng)c.extend(new google.maps.LatLng(a[e].lat,a[e].lng));else a[e].location&&a[e].location.lat&&a[e].location.lng&&c.extend(new google.maps.LatLng(a[e].location.lat,a[e].location.lng));if(a.length){this.map.fitBounds(c);if(b)var g=google.maps.event.addListener(this.map,
"idle",function(){var o=d.map.getZoom();d.map.setZoom(o-1);d.map.panBy(b,0);google.maps.event.removeListener(g)})}};f.prototype.getBounds=function(){var a=this.map.getBounds(),b=a.getNorthEast();a=a.getSouthWest();return{ne:{lat:b.lat(),lng:b.lng()},sw:{lat:a.lat(),lng:a.lng()}}};f.prototype.geocodeLocation=function(a,b){var c=[];(new google.maps.Geocoder).geocode({address:a,region:O},function(d){for(var e=false,g=0;g<d.length;g++){e=false;for(var o=0;o<d[g].address_components.length;o++)for(var s=
0;s<d[g].address_components[o].types.length;s++)if(d[g].address_components[o].types[s]==="country")for(var u=0;u<D.length;u++)if(d[g].address_components[o].short_name===D[u])e=true;e&&c.push({lat:d[g].geometry.location.lat(),lng:d[g].geometry.location.lng(),description:d[g].formatted_address,types:d[g].types,address_components:d[g].address_components})}b(c)})};f.prototype.reverseGeocode=function(a,b){(new google.maps.Geocoder).geocode({latLng:new google.maps.LatLng(a.lat,a.lng)},function(c,d){c[0]&&
b(c[0].formatted_address)})};f.prototype.addMarker=function(a){return new google.maps.Marker({position:a,map:this.map})};f.prototype.addGuxMarker=function(a,b,c,d){a=new B(new google.maps.LatLng(a.lat,a.lng),this.map,b,c,d);this.markers.unshift(a);return a};f.prototype.addListener=function(a,b,c){return google.maps.event.addListener(a,b,c)};f.prototype.removeListener=function(a){google.maps.event.removeListener(a)};f.prototype.trigger=function(a,b){google.maps.event.trigger(a,b)};f.prototype.clearMarkers=
function(a){for(var b=0;b<a.length;b++)a[b].setMap(null)};f.prototype.searchDealersByDistance=function(a,b,c,d,e,g){var o=W+"?",s=b?"spatialFilter=nearby("+a.lat+","+a.lng+","+b+")":"spatialFilter=bbox"+P,u=[],E=[],w=[];E="&$filter=";var A="&$top="+c,p="&key="+V;matchORClauses=[];matchNOTClauses=[];if(e&&e.OR_CLAUSES){for(var x=0;x<e.OR_CLAUSES.length;x++){orArr=[];for(var l in e.OR_CLAUSES[x])l.indexOf("!")===0?orArr.push(l.slice(1)+"%20Ne%20%27"+e.OR_CLAUSES[x][l]+"%27"):orArr.push(l+"%20Eq%20%27"+
e.OR_CLAUSES[x][l]+"%27");u.push("("+orArr.join("%20OR%20")+")")}delete e.OR_CLAUSES}if(e)for(var q in e)q.indexOf("!")===0?u.push(q.slice(1)+"%20Ne%20%27"+e[q]+"%27"):u.push(q+"%20Eq%20%27"+e[q]+"%27");if(u.length)E+=u.join("%20And%20");else throw new Error("Must specify at least one match parameter.");J(o+s+"&$select=*,__Distance"+E+A+"&$format=json"+p+"&Jsonp=processDealerResults");window.processDealerResults=function(i){for(var y,t=[],L=new google.maps.DistanceMatrixService,h=0;h<i.d.results.length;h++){y=
i.d.results[h];y.location={lat:i.d.results[h].Latitude,lng:i.d.results[h].Longitude};y.distance=i.d.results[h].__Distance*1E3;t.push(y)}destinationLatLngs=[];var k=filterDealers(t,g,100);for(h=0;h<k.length;h++)destinationLatLngs.push(new google.maps.LatLng(k[h].location.lat,k[h].location.lng));distanceResponses=new Array(Math.ceil(destinationLatLngs.length/25));if(k.length){i=function(m){return function(C){var Y=destinationLatLngs.slice(m*25,m*25+25).length,n;if(C)for(n=0;n<C.rows[0].elements.length;n++)if(C.rows[0].elements[n].status===
"OK"){k[m*25+n].distance=C.rows[0].elements[n].distance.value;k[m*25+n].drivingTime=C.rows[0].elements[n].duration.value;if(b)k[m*25+n].distance<=b*1E3&&w.push(k[m*25+n]);else w.push(k[m*25+n])}else{k[m*25+n].distanceError=C.rows[0].elements[n].status;k[m*25+n].distance=null;w.push(k[m*25+n])}else for(n=0;n<Y;n++){k[m*25+n].distanceError="DRIVING DISTANCE UNAVAILABLE";k[m*25+n].distance=null;w.push(k[m*25+n])}responsesReturned=distanceResponses[m]=true;for(C=0;C<distanceResponses.length;C++)distanceResponses[C]||
(responsesReturned=false);if(responsesReturned){t=w.sort(function(I,M){if(typeof I.distance==="number"&&typeof M.distance==="number")return I.distance-M.distance;else{if(typeof I.distance!=="number"&&typeof M.distance!=="number")return I.directDistance-M.directDistance;return typeof I.distance==="number"?-1:1}});d(t.slice(0,c))}}};for(h=0;h<destinationLatLngs.length/25;h++)L.getDistanceMatrix({origins:[a],destinations:destinationLatLngs.slice(h*25,h*25+25),travelMode:google.maps.TravelMode.DRIVING},
i(h))}else d(k)}};f.prototype.searchDealersByProperties=function(a,b,c,d){var e,g=W+"?",o="spatialFilter=bbox"+P,s=[],u="&$filter=",E="&$top="+a;key="&key="+V;jsonp="&Jsonp=processDealerResults";var w=[];if(c&&c.OR_CLAUSES){for(var A=0;A<c.OR_CLAUSES.length;A++){orArr=[];for(var p in c.OR_CLAUSES[A])p.indexOf("!")===0?orArr.push(p.slice(1)+"%20Ne%20%27"+c.OR_CLAUSES[A][p]+"%27"):orArr.push(p+"%20Eq%20%27"+c.OR_CLAUSES[A][p]+"%27");s.push("("+orArr.join("%20OR%20")+")")}delete c.OR_CLAUSES}if(c)for(var x in c)x.indexOf("!")===
0?s.push(x.slice(1)+"%20Ne%20%27"+c[x]+"%27"):s.push(x+"%20Eq%20%27"+c[x]+"%27");if(s.length)u+=s.join("%20And%20");else throw new Error("Must specify at least one match parameter.");var l=[],q;e=g+o+"&$select=*"+u+E+"&$inlinecount=allpages&$format=json"+key+jsonp;J(e);window.processDealerResults=function(i){q=i.d.__count;var y;for(t=0;t<q/250;t++)l.push(false);for(var t=0;t<i.d.results.length;t++){y=i.d.results[t];y.location={lat:i.d.results[t].Latitude,lng:i.d.results[t].Longitude};y.distance=i.d.results[t].__Distance*
1E3;w.push(y)}if(q>a){i=parseInt(a,10);var L=y=0;for(t=0;t<q/250;t++){y="&$skip="+i;e=g+o+"&$select=*"+u+y+"&$top=250&$format=json"+key+jsonp;i+=250;J(e);window.processDealerResults=function(h){for(var k,m=0;m<h.d.results.length;m++){k=h.d.results[m];k.location={lat:h.d.results[m].Latitude,lng:h.d.results[m].Longitude};k.distance=h.d.results[m].__Distance*1E3;w.push(k)}l[L]=true;L+=1;h=true;for(k=0;k<l.length;k++)if(l[k]==false)h=false;if(h==true){h=filterDealers(w,d,a);b(h)}}}}else{i=filterDealers(w,
d,a);b(i)}}};filterDealers=function(a,b,c){if(!b)return a;var d=[];if(a.length>0)for(var e=0;e<a.length;e++){var g=true;for(var o in b)if(b.hasOwnProperty(o))if(a[e][o].indexOf(b[o])===-1)g=false;g===true&&d.push(a[e])}a=[];return a=d.length>=c?d.slice(0,c):d};f.prototype.displayDealers=function(a){var b,c={};this.clearMarkers(this.markers);this.markers=[];for(var d=a.length-1;d>=0;d--){b=a[d].indexOverride||d+1;b=this.addGuxMarker({lat:a[d].location.lat,lng:a[d].location.lng},b,a[d].infoWindowMarkup,
a[d].callback);if(c[a[d].location.lat+","+a[d].location.lng])b.xOffset=12;c[a[d].location.lat+","+a[d].location.lng]=true}};f.prototype.clearDealers=function(){this.clearMarkers(this.markers);this.markers=[]};f.prototype.selectMarker=function(a,b){this.markers[a]&&this.markers[a].select(b)};f.prototype.deselectMarker=function(a){this.markers[a]&&this.markers[a].deselect()};f.prototype.deselectMarkers=function(){for(var a=0;a<this.markers.length;a++)this.markers[a].deselect()};f.prototype.autocomplete=
function(a,b,c,d){var e,g,o,s={dealers:[],locations:[]};o=this;var u=0,E={};this.autocompleteTimeout&&clearTimeout(this.autocompleteTimeout);if(d!=="dealers")e=new google.maps.places.AutocompleteService;this.autocompleteTimeout=setTimeout(function(){if(d==="dealers"){for(var w=[],A,p=0;p<z.length;p++)if(K(z[p].n,a)!==-1){A={DealerName:z[p].n,EntityID:z[p].e};K(z[p].n,a)===0?w.splice(0,0,A):w.push(A)}s.dealers=w.slice(0,b);c(s)}else for(p=0;p<D.length;p++)e.getPlacePredictions({input:a,componentRestrictions:{country:D[p]},
types:["geocode"]},function(x){return function(l,q){g=[];if(q==google.maps.places.PlacesServiceStatus.OK)for(q=0;q<l.length;q++)g.push(l[q].description);E[D[x]]=g;u++;if(u===D.length){for(l=0;l<D.length;l++)s.locations=s.locations.concat(E[D[l]]);if(d!=="locations"){l=[];for(var i=0;i<z.length;i++)if(K(z[i].n,a)!==-1){q={DealerName:z[i].n,EntityID:z[i].e};K(z[i].n,a)===0?l.splice(0,0,q):l.push(q)}s.dealers=l.slice(0,b)}c(s)}}}(p))},300)};f.prototype.displayRouteToDealer=function(a,b){var c=this;this.directionsDisplay.setMap(this.map);
this.directionsService.route({origin:a.lat+", "+a.lng,destination:b.location.lat+", "+b.location.lng,travelMode:google.maps.TravelMode.DRIVING},function(d,e){e==google.maps.DirectionsStatus.OK&&c.directionsDisplay.setDirections(d)})};f.prototype.clearRoutes=function(){this.directionsDisplay.setMap(null)};f.prototype.getDirectionsURL=function(a,b){return"https://maps.google.com?"+(b?"saddr="+b.lat+","+b.lng+"&":"")+("daddr="+a.lat+","+a.lng)};f.prototype.getAddressDirectionsURL=function(a,b,c){var d;
d=[];for(var e=0;e<b.length;e++)a[b[e]]&&d.push(a[b[e]]);a=c?"saddr="+c.description+"&":"";d="daddr="+d.join("+");return"https://maps.google.com?"+a+d+"&output=classic"};B.prototype=new google.maps.OverlayView;B.prototype.select=function(a){var b=this;if(b.icon&&b.div_){b.icon.src=H+"map-marker-active.png";b.div_.style.zIndex=100}else setTimeout(function(){if(b.icon&&b.div_){b.icon.src=H+"map-marker-active.png";b.div_.style.zIndex=100}},a||500)};B.prototype.deselect=function(a){var b=this;if(b.icon&&
b.div_){b.icon.src=H+"map-marker.png";b.div_.style.zIndex=1;b.infoWindow&&b.infoWindow.hide()}else setTimeout(function(){if(b.icon&&b.div_){b.icon.src=H+"map-marker.png";b.div_.style.zIndex=1;b.infoWindow&&b.infoWindow.hide()}},a||500)};B.prototype.onAdd=function(){var a=document.createElement("div"),b=this;a.className="map-marker";a.style.width="35px";a.style.height="46px";var c=document.createElement("img");c.src=H+"map-marker.png";this.icon=c;a.appendChild(c);if(this.label_){c=document.createElement("span");
c.innerHTML=this.label_;c.className="marker-label";a.appendChild(c)}this.div_=a;this.getPanes().overlayMouseTarget.appendChild(a);this.callback&&google.maps.event.addDomListener(a,"click",function(){b.callback()});this.content_&&google.maps.event.addDomListener(a,"click",function(){b.showInfoWindow()})};B.prototype.showInfoWindow=function(){var a=this;this.infoWindow&&this.infoWindow.hide();a.infoWindow=new F(a.getPosition(),a.map_,a.content_);if(a.xOffset)a.infoWindow.xOffset=a.xOffset};B.prototype.hideInfowindow=
function(){this.infoWindow&&this.infoWindow.hide()};B.prototype.draw=function(){var a=this.getProjection().fromLatLngToDivPixel(this.position_),b=this.xOffset||0,c=this.div_;c.style.position="absolute";c.style.left=a.x-(17+b)+"px";c.style.top=a.y-46+"px"};B.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_);this.div_=null;this.infoWindow&&this.infoWindow.hide()};B.prototype.getPosition=function(){return{lat:this.position_.lat(),lng:this.position_.lng()}};F.prototype=new google.maps.OverlayView;
F.prototype.onAdd=function(){var a=document.createElement("div");a.className="info-window";a.innerHTML=this.content_;this.div_=a;this.getPanes().overlayMouseTarget.appendChild(a);var b=this;google.maps.event.addListener(this.map_,"click",function(){b.setMap(null)});google.maps.event.addDomListener(a,"click",function(c){c.stopPropagation()})};F.prototype.draw=function(){var a=this.getProjection().fromLatLngToDivPixel(this.position_),b=this.xOffset||0,c=this.div_;c.style.position="absolute";c.style.left=
a.x+30-b+"px";c.style.top=a.y-60+"px"};F.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_);this.div_=null};F.prototype.hide=function(){this.setMap(null)};return{map:f}};

(function(b){b.pubsubLogging=false;var a=b({});b.subscribe=function(){a.bind.apply(a,arguments)};b.subscribeOnce=function(){a.one.apply(a,arguments)};b.unsubscribe=function(){a.unbind.apply(a,arguments)};b.publish=function(){b.pubsubLogging&&console.log.apply(console,arguments);a.trigger.apply(a,arguments)}})(jQuery);

(function(d){typeof define==="function"&&define.amd?define(["jquery"],d):d(jQuery)})(function(d){function X(a,b){var c;c=a.nodeName.toLowerCase();if("area"===c){b=a.parentNode;c=b.name;if(!a.href||!c||b.nodeName.toLowerCase()!=="map")return false;a=d("img[usemap=#"+c+"]")[0];return!!a&&Y(a)}return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&Y(a)}function Y(a){return d.expr.filters.visible(a)&&!d(a).parents().addBack().filter(function(){return d.css(this,"visibility")===
"hidden"}).length}function ca(a){for(var b;a.length&&a[0]!==document;){b=a.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}return 0}function Z(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";
this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr",
"May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,
navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};
d.extend(this._defaults,this.regional[""]);this.regional.en=d.extend(true,{},this.regional[""]);this.regional["en-US"]=d.extend(true,{},this.regional.en);this.dpDiv=$(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function $(a){return a.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!==
-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!==-1&&d(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){if(!d.datepicker._isDisabledDatepicker(T.inline?a.parent()[0]:T.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!==
-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!==-1&&d(this).addClass("ui-datepicker-next-hover")}})}function O(a,b){d.extend(a,b);for(var c in b)if(b[c]==null)a[c]=b[c];return a}function K(a){return function(){var b=this.element.val();a.apply(this,arguments);this._refresh();b!==this.element.val()&&this._trigger("change")}}d.ui=d.ui||{};d.extend(d.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,
LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});d.fn.extend({scrollParent:function(){var a=this.css("position"),b=a==="absolute",c=this.parents().filter(function(){var e=d(this);if(b&&e.css("position")==="static")return false;return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return a==="fixed"||!c.length?d(this[0].ownerDocument||document):c},uniqueId:function(){var a=0;return function(){return this.each(function(){if(!this.id)this.id=
"ui-id-"+ ++a})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&d(this).removeAttr("id")})}});d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(a){return function(b){return!!d.data(b,a)}}):function(a,b,c){return!!d.data(a,c[3])},focusable:function(a){return X(a,!isNaN(d.attr(a,"tabindex")))},tabbable:function(a){var b=d.attr(a,"tabindex"),c=isNaN(b);return(c||b>=0)&&X(a,!c)}});d("<a>").outerWidth(1).jquery||d.each(["Width","Height"],
function(a,b){function c(h,i,k,n){d.each(e,function(){i-=parseFloat(d.css(h,"padding"+this))||0;if(k)i-=parseFloat(d.css(h,"border"+this+"Width"))||0;if(n)i-=parseFloat(d.css(h,"margin"+this))||0});return i}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],f=b.toLowerCase(),g={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+b]=function(h){if(h===undefined)return g["inner"+b].call(this);return this.each(function(){d(this).css(f,
c(this,h)+"px")})};d.fn["outer"+b]=function(h,i){if(typeof h!=="number")return g["outer"+b].call(this,h);return this.each(function(){d(this).css(f,c(this,h,true,i)+"px")})}});if(!d.fn.addBack)d.fn.addBack=function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))};if(d("<a>").data("a-b","a").removeData("a-b").data("a-b"))d.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,d.camelCase(b)):a.call(this)}}(d.fn.removeData);d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
d.fn.extend({focus:function(a){return function(b,c){return typeof b==="number"?this.each(function(){var e=this;setTimeout(function(){d(e).focus();c&&c.call(e)},b)}):a.apply(this,arguments)}}(d.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(b){b.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(a){if(a!==
undefined)return this.css("zIndex",a);if(this.length){a=d(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}}return 0}});d.ui.plugin={add:function(a,b,c){var e;a=d.ui[a].prototype;for(e in c){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,c[e]])}},call:function(a,b,c,e){if(b=a.plugins[b])if(!(!e&&(!a.element[0].parentNode||a.element[0].parentNode.nodeType===
11)))for(e=0;e<b.length;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,c)}};var da=0,aa=Array.prototype.slice;d.cleanData=function(a){return function(b){for(var c=0,e;(e=b[c])!=null;c++)try{d(e).triggerHandler("remove")}catch(f){}a(b)}}(d.cleanData);d.widget=function(a,b,c){var e,f,g,h,i={},k=a.split(".")[0];a=a.split(".")[1];e=k+"-"+a;if(!c){c=b;b=d.Widget}d.expr[":"][e.toLowerCase()]=function(n){return!!d.data(n,e)};d[k]=d[k]||{};f=d[k][a];g=d[k][a]=function(n,p){if(!this._createWidget)return new g(n,
p);arguments.length&&this._createWidget(n,p)};d.extend(g,f,{version:c.version,_proto:d.extend({},c),_childConstructors:[]});h=new b;h.options=d.widget.extend({},h.options);d.each(c,function(n,p){i[n]=d.isFunction(p)?function(){var q=function(){return b.prototype[n].apply(this,arguments)},t=function(s){return b.prototype[n].apply(this,s)};return function(){var s=this._super,j=this._superApply,l;this._super=q;this._superApply=t;l=p.apply(this,arguments);this._super=s;this._superApply=j;return l}}():
p});g.prototype=d.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||a:a},i,{constructor:g,namespace:k,widgetName:a,widgetFullName:e});if(f){d.each(f._childConstructors,function(n,p){n=p.prototype;d.widget(n.namespace+"."+n.widgetName,g,p._proto)});delete f._childConstructors}else b._childConstructors.push(g);d.widget.bridge(a,g);return g};d.widget.extend=function(a){for(var b=aa.call(arguments,1),c=0,e=b.length,f,g;c<e;c++)for(f in b[c]){g=b[c][f];if(b[c].hasOwnProperty(f)&&g!==undefined)a[f]=
d.isPlainObject(g)?d.isPlainObject(a[f])?d.widget.extend({},a[f],g):d.widget.extend({},g):g}return a};d.widget.bridge=function(a,b){var c=b.prototype.widgetFullName||a;d.fn[a]=function(e){var f=typeof e==="string",g=aa.call(arguments,1),h=this;e=!f&&g.length?d.widget.extend.apply(null,[e].concat(g)):e;f?this.each(function(){var i,k=d.data(this,c);if(e==="instance"){h=k;return false}if(!k)return d.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+e+"'");if(!d.isFunction(k[e])||
e.charAt(0)==="_")return d.error("no such method '"+e+"' for "+a+" widget instance");i=k[e].apply(k,g);if(i!==k&&i!==undefined){h=i&&i.jquery?h.pushStack(i.get()):i;return false}}):this.each(function(){var i=d.data(this,c);if(i){i.option(e||{});i._init&&i._init()}else d.data(this,c,new b(e,this))});return h}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(a,
b){b=d(b||this.defaultElement||this)[0];this.element=d(b);this.uuid=da++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=d.widget.extend({},this.options,this._getCreateOptions(),a);this.bindings=d();this.hoverable=d();this.focusable=d();if(b!==this){d.data(b,this.widgetFullName,this);this._on(true,this.element,{remove:function(c){c.target===b&&this.destroy()}});this.document=d(b.style?b.ownerDocument:b.document||b);this.window=d(this.document[0].defaultView||this.document[0].parentWindow)}this._create();
this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");
this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(a,b){var c=a,e,f,g;if(arguments.length===0)return d.widget.extend({},this.options);if(typeof a==="string"){c={};e=a.split(".");a=e.shift();if(e.length){f=c[a]=d.widget.extend({},this.options[a]);for(g=0;g<e.length-1;g++){f[e[g]]=f[e[g]]||{};f=f[e[g]]}a=e.pop();if(arguments.length===1)return f[a]===undefined?null:f[a];f[a]=b}else{if(arguments.length===1)return this.options[a]===undefined?
null:this.options[a];c[a]=b}}this._setOptions(c);return this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){this.options[a]=b;if(a==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!b);if(b){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}return this},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_on:function(a,
b,c){var e,f=this;if(typeof a!=="boolean"){c=b;b=a;a=false}if(c){b=e=d(b);this.bindings=this.bindings.add(b)}else{c=b;b=this.element;e=this.widget()}d.each(c,function(g,h){function i(){if(!(!a&&(f.options.disabled===true||d(this).hasClass("ui-state-disabled"))))return(typeof h==="string"?f[h]:h).apply(f,arguments)}if(typeof h!=="string")i.guid=h.guid=h.guid||i.guid||d.guid++;var k=g.match(/^([\w:-]*)\s*(.*)$/);g=k[1]+f.eventNamespace;(k=k[2])?e.delegate(k,g,i):b.bind(g,i)})},_off:function(a,b){b=
(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return(typeof a==="string"?e[a]:a).apply(e,arguments)}var e=this;return setTimeout(c,b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(b){d(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){d(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,
{focusin:function(b){d(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){d(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,c){var e,f=this.options[a];c=c||{};b=d.Event(b);b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();b.target=this.element[0];if(a=b.originalEvent)for(e in a)e in b||(b[e]=a[e]);this.element.trigger(b,c);return!(d.isFunction(f)&&f.apply(this.element[0],[b].concat(c))===false||b.isDefaultPrevented())}};d.each({show:"fadeIn",
hide:"fadeOut"},function(a,b){d.Widget.prototype["_"+a]=function(c,e,f){if(typeof e==="string")e={effect:e};var g,h=!e?a:e===true||typeof e==="number"?b:e.effect||b;e=e||{};if(typeof e==="number")e={duration:e};g=!d.isEmptyObject(e);e.complete=f;e.delay&&c.delay(e.delay);if(g&&d.effects&&d.effects.effect[h])c[a](e);else h!==a&&c[h]?c[h](e.duration,e.easing,f):c.queue(function(i){d(this)[a]();f&&f.call(c[0]);i()})}});var P=false;d(document).mouseup(function(){P=false});d.widget("ui.mouse",{version:"1.11.0",
options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(true===d.data(b.target,a.widgetName+".preventClickEvent")){d.removeData(b.target,a.widgetName+".preventClickEvent");b.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&
this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!P){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var b=this,c=a.which===1,e=typeof this.options.cancel==="string"&&a.target.nodeName?d(a.target).closest(this.options.cancel).length:false;if(!c||e||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=
true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}true===d.data(a.target,this.widgetName+".preventClickEvent")&&d.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(f){return b._mouseMove(f)};this._mouseUpDelegate=function(f){return b._mouseUp(f)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate);a.preventDefault();return P=true}},_mouseMove:function(a){if(d.ui.ie&&(!document.documentMode||document.documentMode<9)&&!a.button)return this._mouseUp(a);else if(!a.which)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){this.document.unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;a.target===this._mouseDownEvent.target&&d.data(a.target,this.widgetName+".preventClickEvent",true);this._mouseStop(a)}return P=false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});(function(){function a(j,l,m){return[parseFloat(j[0])*(t.test(j[0])?l/100:1),parseFloat(j[1])*(t.test(j[1])?m/100:1)]}function b(j,l){return parseInt(d.css(j,l),10)||0}function c(j){var l=j[0];if(l.nodeType===9)return{width:j.width(),height:j.height(),offset:{top:0,left:0}};if(d.isWindow(l))return{width:j.width(),height:j.height(),offset:{top:j.scrollTop(),left:j.scrollLeft()}};if(l.preventDefault)return{width:0,
height:0,offset:{top:l.pageY,left:l.pageX}};return{width:j.outerWidth(),height:j.outerHeight(),offset:j.offset()}}d.ui=d.ui||{};var e,f,g=Math.max,h=Math.abs,i=Math.round,k=/left|center|right/,n=/top|center|bottom/,p=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,t=/%$/,s=d.fn.position;d.position={scrollbarWidth:function(){if(e!==undefined)return e;var j,l,m=d("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");l=m.children()[0];
d("body").append(m);j=l.offsetWidth;m.css("overflow","scroll");l=l.offsetWidth;if(j===l)l=m[0].clientWidth;m.remove();return e=j-l},getScrollInfo:function(j){var l=j.isWindow||j.isDocument?"":j.element.css("overflow-x"),m=j.isWindow||j.isDocument?"":j.element.css("overflow-y");l=l==="scroll"||l==="auto"&&j.width<j.element[0].scrollWidth;return{width:m==="scroll"||m==="auto"&&j.height<j.element[0].scrollHeight?d.position.scrollbarWidth():0,height:l?d.position.scrollbarWidth():0}},getWithinInfo:function(j){j=
d(j||window);var l=d.isWindow(j[0]);return{element:j,isWindow:l,isDocument:!!j[0]&&j[0].nodeType===9,offset:j.offset()||{left:0,top:0},scrollLeft:j.scrollLeft(),scrollTop:j.scrollTop(),width:l?j.width():j.outerWidth(),height:l?j.height():j.outerHeight()}}};d.fn.position=function(j){if(!j||!j.of)return s.apply(this,arguments);j=d.extend({},j);var l,m,o,r,w,u,y=d(j.of),v=d.position.getWithinInfo(j.within),x=d.position.getScrollInfo(v),z=(j.collision||"flip").split(" "),B={};u=c(y);if(y[0].preventDefault)j.at=
"left top";m=u.width;o=u.height;r=u.offset;w=d.extend({},r);d.each(["my","at"],function(){var A=(j[this]||"").split(" "),I,F;if(A.length===1)A=k.test(A[0])?A.concat(["center"]):n.test(A[0])?["center"].concat(A):["center","center"];A[0]=k.test(A[0])?A[0]:"center";A[1]=n.test(A[1])?A[1]:"center";I=p.exec(A[0]);F=p.exec(A[1]);B[this]=[I?I[0]:0,F?F[0]:0];j[this]=[q.exec(A[0])[0],q.exec(A[1])[0]]});if(z.length===1)z[1]=z[0];if(j.at[0]==="right")w.left+=m;else if(j.at[0]==="center")w.left+=m/2;if(j.at[1]===
"bottom")w.top+=o;else if(j.at[1]==="center")w.top+=o/2;l=a(B.at,m,o);w.left+=l[0];w.top+=l[1];return this.each(function(){var A,I,F=d(this),G=F.outerWidth(),H=F.outerHeight(),C=b(this,"marginLeft"),L=b(this,"marginTop"),N=G+C+b(this,"marginRight")+x.width,J=H+L+b(this,"marginBottom")+x.height,D=d.extend({},w),E=a(B.my,F.outerWidth(),F.outerHeight());if(j.my[0]==="right")D.left-=G;else if(j.my[0]==="center")D.left-=G/2;if(j.my[1]==="bottom")D.top-=H;else if(j.my[1]==="center")D.top-=H/2;D.left+=E[0];
D.top+=E[1];if(!f){D.left=i(D.left);D.top=i(D.top)}A={marginLeft:C,marginTop:L};d.each(["left","top"],function(Q,M){d.ui.position[z[Q]]&&d.ui.position[z[Q]][M](D,{targetWidth:m,targetHeight:o,elemWidth:G,elemHeight:H,collisionPosition:A,collisionWidth:N,collisionHeight:J,offset:[l[0]+E[0],l[1]+E[1]],my:j.my,at:j.at,within:v,elem:F})});if(j.using)I=function(Q){var M=r.left-D.left,U=M+m-G,R=r.top-D.top,V=R+o-H,S={target:{element:y,left:r.left,top:r.top,width:m,height:o},element:{element:F,left:D.left,
top:D.top,width:G,height:H},horizontal:U<0?"left":M>0?"right":"center",vertical:V<0?"top":R>0?"bottom":"middle"};if(m<G&&h(M+U)<m)S.horizontal="center";if(o<H&&h(R+V)<o)S.vertical="middle";S.important=g(h(M),h(U))>g(h(R),h(V))?"horizontal":"vertical";j.using.call(this,Q,S)};F.offset(d.extend(D,{using:I}))})};d.ui.position={fit:{left:function(j,l){var m=l.within,o=m.isWindow?m.scrollLeft:m.offset.left,r=m.width,w=j.left-l.collisionPosition.marginLeft;m=o-w;var u=w+l.collisionWidth-r-o;if(l.collisionWidth>
r)if(m>0&&u<=0){l=j.left+m+l.collisionWidth-r-o;j.left+=m-l}else j.left=u>0&&m<=0?o:m>u?o+r-l.collisionWidth:o;else if(m>0)j.left+=m;else if(u>0)j.left-=u;else j.left=g(j.left-w,j.left)},top:function(j,l){var m=l.within,o=m.isWindow?m.scrollTop:m.offset.top,r=l.within.height,w=j.top-l.collisionPosition.marginTop;m=o-w;var u=w+l.collisionHeight-r-o;if(l.collisionHeight>r)if(m>0&&u<=0){l=j.top+m+l.collisionHeight-r-o;j.top+=m-l}else j.top=u>0&&m<=0?o:m>u?o+r-l.collisionHeight:o;else if(m>0)j.top+=m;
else if(u>0)j.top-=u;else j.top=g(j.top-w,j.top)}},flip:{left:function(j,l){var m=l.within,o=m.offset.left+m.scrollLeft,r=m.width,w=m.isWindow?m.scrollLeft:m.offset.left,u=j.left-l.collisionPosition.marginLeft;m=u-w;var y=u+l.collisionWidth-r-w;u=l.my[0]==="left"?-l.elemWidth:l.my[0]==="right"?l.elemWidth:0;var v=l.at[0]==="left"?l.targetWidth:l.at[0]==="right"?-l.targetWidth:0,x=-2*l.offset[0];if(m<0){l=j.left+u+v+x+l.collisionWidth-r-o;if(l<0||l<h(m))j.left+=u+v+x}else if(y>0){l=j.left-l.collisionPosition.marginLeft+
u+v+x-w;if(l>0||h(l)<y)j.left+=u+v+x}},top:function(j,l){var m=l.within,o=m.offset.top+m.scrollTop,r=m.height,w=m.isWindow?m.scrollTop:m.offset.top,u=j.top-l.collisionPosition.marginTop;m=u-w;var y=u+l.collisionHeight-r-w;u=l.my[1]==="top"?-l.elemHeight:l.my[1]==="bottom"?l.elemHeight:0;var v=l.at[1]==="top"?l.targetHeight:l.at[1]==="bottom"?-l.targetHeight:0,x=-2*l.offset[1];if(m<0){l=j.top+u+v+x+l.collisionHeight-r-o;if(j.top+u+v+x>m&&(l<0||l<h(m)))j.top+=u+v+x}else if(y>0){l=j.top-l.collisionPosition.marginTop+
u+v+x-w;if(j.top+u+v+x>y&&(l>0||h(l)<y))j.top+=u+v+x}}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,arguments)}}};(function(){var j,l,m,o,r=document.getElementsByTagName("body")[0];m=document.createElement("div");j=document.createElement(r?"div":"body");l={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};r&&d.extend(l,
{position:"absolute",left:"-1000px",top:"-1000px"});for(o in l)j.style[o]=l[o];j.appendChild(m);l=r||document.documentElement;l.insertBefore(j,l.firstChild);m.style.cssText="position: absolute; left: 10.7432222px;";m=d(m).offset().left;f=m>10&&m<11;j.innerHTML="";l.removeChild(j)})()})();d.widget("ui.accordion",{version:"1.11.0",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},
activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!a.collapsible&&(a.active===false||a.active==null))a.active=0;this._processPanels();
if(a.active<0)a.active+=this.headers.length;this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?d():this.active.next()}},_createIcons:function(){var a=this.options.icons;if(a){d("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},
_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display",
"").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();this.options.heightStyle!=="content"&&a.css("height","")},_setOption:function(a,b){if(a==="active")this._activate(b);else{if(a==="event"){this.options.event&&this._off(this.headers,this.options.event);this._setupEvents(b)}this._super(a,b);a==="collapsible"&&!b&&this.options.active===false&&this._activate(0);if(a==="icons"){this._destroyIcons();b&&this._createIcons()}if(a==="disabled"){this.element.toggleClass("ui-state-disabled",
!!b).attr("aria-disabled",b);this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)}}},_keydown:function(a){if(!(a.altKey||a.ctrlKey)){var b=d.ui.keyCode,c=this.headers.length,e=this.headers.index(a.target),f=false;switch(a.keyCode){case b.RIGHT:case b.DOWN:f=this.headers[(e+1)%c];break;case b.LEFT:case b.UP:f=this.headers[(e-1+c)%c];break;case b.SPACE:case b.ENTER:this._eventHandler(a);break;case b.HOME:f=this.headers[0];break;case b.END:f=this.headers[c-1];break}if(f){d(a.target).attr("tabIndex",
-1);d(f).attr("tabIndex",0);f.focus();a.preventDefault()}}},_panelKeyDown:function(a){a.keyCode===d.ui.keyCode.UP&&a.ctrlKey&&d(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels();if(a.active===false&&a.collapsible===true||!this.headers.length){a.active=false;this.active=d()}else if(a.active===false)this._activate(0);else if(this.active.length&&!d.contains(this.element[0],this.active[0]))if(this.headers.length===this.headers.find(".ui-state-disabled").length){a.active=
false;this.active=d()}else this._activate(Math.max(0,a.active-1));else a.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var a,b=this.options,c=b.heightStyle,
e=this.element.parent();this.active=this._findActive(b.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var f=d(this),g=f.uniqueId().attr("id"),h=f.next(),i=h.uniqueId().attr("id");f.attr("aria-controls",i);h.attr("aria-labelledby",g)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",
tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(b.event);if(c==="fill"){a=e.height();this.element.siblings(":visible").each(function(){var f=d(this),g=f.css("position");g==="absolute"||g==="fixed"||(a-=f.outerHeight(true))});this.headers.each(function(){a-=d(this).outerHeight(true)});
this.headers.next().each(function(){d(this).height(Math.max(0,a-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else if(c==="auto"){a=0;this.headers.next().each(function(){a=Math.max(a,d(this).css("height","").height())}).height(a)}},_activate:function(a){a=this._findActive(a)[0];if(a!==this.active[0]){a=a||this.active[0];this._eventHandler({target:a,currentTarget:a,preventDefault:d.noop})}},_findActive:function(a){return typeof a==="number"?this.headers.eq(a):d()},_setupEvents:function(a){var b=
{keydown:"_keydown"};a&&d.each(a.split(" "),function(c,e){b[e]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,b);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(a){var b=this.options,c=this.active,e=d(a.currentTarget),f=e[0]===c[0],g=f&&b.collapsible,h=g?d():e.next(),i=c.next();h={oldHeader:c,oldPanel:i,newHeader:g?d():e,newPanel:h};a.preventDefault();if(!(f&&!b.collapsible||
this._trigger("beforeActivate",a,h)===false)){b.active=g?false:this.headers.index(e);this.active=f?d():e;this._toggle(h);c.removeClass("ui-accordion-header-active ui-state-active");b.icons&&c.children(".ui-accordion-header-icon").removeClass(b.icons.activeHeader).addClass(b.icons.header);if(!f){e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");b.icons&&e.children(".ui-accordion-header-icon").removeClass(b.icons.header).addClass(b.icons.activeHeader);
e.next().addClass("ui-accordion-content-active")}}},_toggle:function(a){var b=a.newPanel,c=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=b;this.prevHide=c;if(this.options.animate)this._animate(b,c,a);else{c.hide();b.show();this._toggleComplete(a)}c.attr({"aria-hidden":"true"});c.prev().attr("aria-selected","false");if(b.length&&c.length)c.prev().attr({tabIndex:-1,"aria-expanded":"false"});else b.length&&this.headers.filter(function(){return d(this).attr("tabIndex")===
0}).attr("tabIndex",-1);b.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,b,c){var e,f,g,h=this,i=0,k=this.options.animate||{},n=a.length&&(!b.length||a.index()<b.index())&&k.down||k,p=function(){h._toggleComplete(c)};if(typeof n==="number")g=n;if(typeof n==="string")f=n;f=f||n.easing||k.easing;g=g||n.duration||k.duration;if(!b.length)return a.animate(this.showProps,g,f,p);if(!a.length)return b.animate(this.hideProps,g,f,p);
e=a.show().outerHeight();b.animate(this.hideProps,{duration:g,easing:f,step:function(q,t){t.now=Math.round(q)}});a.hide().animate(this.showProps,{duration:g,easing:f,complete:p,step:function(q,t){t.now=Math.round(q);if(t.prop!=="height")i+=t.now;else if(h.options.heightStyle!=="content"){t.now=Math.round(e-b.outerHeight()-i);i=0}}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(b.length)b.parent()[0].className=
b.parent()[0].className;this._trigger("activate",null,a)}});d.widget("ui.menu",{version:"1.11.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,
tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(a){var b=d(a.target);if(!this.mouseHandled&&b.not(".ui-state-disabled").length){this.select(a);if(!a.isPropagationStopped())this.mouseHandled=true;if(b.has(".ui-menu").length)this.expand(a);else if(!this.element.is(":focus")&&d(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",
[true]);this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)}}},"mouseenter .ui-menu-item":function(a){var b=d(a.currentTarget);b.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(a,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(a){this._delay(function(){d.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},
keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=d(this);a.data("ui-menu-submenu-carat")&&a.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(a){function b(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c,e,f,
g,h=true;switch(a.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(a);break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case d.ui.keyCode.HOME:this._move("first","first",a);break;case d.ui.keyCode.END:this._move("last","last",a);break;case d.ui.keyCode.UP:this.previous(a);break;case d.ui.keyCode.DOWN:this.next(a);break;case d.ui.keyCode.LEFT:this.collapse(a);break;case d.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(a);
break;case d.ui.keyCode.ESCAPE:this.collapse(a);break;default:h=false;c=this.previousFilter||"";e=String.fromCharCode(a.keyCode);f=false;clearTimeout(this.filterTimer);if(e===c)f=true;else e=c+e;g=new RegExp("^"+b(e),"i");c=this.activeMenu.find(this.options.items).filter(function(){return g.test(d(this).text())});c=f&&c.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):c;if(!c.length){e=String.fromCharCode(a.keyCode);g=new RegExp("^"+b(e),"i");c=this.activeMenu.find(this.options.items).filter(function(){return g.test(d(this).text())})}if(c.length){this.focus(a,
c);if(c.length>1){this.previousFilter=e;this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)}else delete this.previousFilter}else delete this.previousFilter}h&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var a,b=this,c=this.options.icons.submenu;a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);
a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=d(this),f=e.parent(),g=d("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",true);f.attr("aria-haspopup","true").prepend(g);e.attr("aria-labelledby",f.attr("id"))});a=a.add(this.element).find(this.options.items);a.not(".ui-menu-item").each(function(){var e=d(this);b._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")});
a.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});a.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!d.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){a==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu);a==="disabled"&&this.element.toggleClass("ui-state-disabled",
!!b).attr("aria-disabled",b);this._super(a,b)},focus:function(a,b){var c;this.blur(a,a&&a.type==="focus");this._scrollIntoView(b);this.active=b.first();c=this.active.addClass("ui-state-focus").removeClass("ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",c.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");if(a&&a.type==="keydown")this._close();else this.timer=this._delay(function(){this._close()},this.delay);c=b.children(".ui-menu");
c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var b,c,e;if(this._hasScroll()){b=parseFloat(d.css(this.activeMenu[0],"borderTopWidth"))||0;c=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0;b=a.offset().top-this.activeMenu.offset().top-b-c;c=this.activeMenu.scrollTop();e=this.activeMenu.height();a=a.outerHeight();if(b<0)this.activeMenu.scrollTop(c+b);else b+a>e&&this.activeMenu.scrollTop(c+b-
e+a)}},blur:function(a,b){b||clearTimeout(this.timer);if(this.active){this.active.removeClass("ui-state-focus");this.active=null;this._trigger("blur",a,{item:this.active})}},_startOpening:function(a){clearTimeout(this.timer);if(a.attr("aria-hidden")==="true")this.timer=this._delay(function(){this._close();this._open(a)},this.delay)},_open:function(a){var b=d.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden",
"true");a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(a,b){clearTimeout(this.timer);this.timer=this._delay(function(){var c=b?this.element:d(a&&a.target).closest(this.element.find(".ui-menu"));if(!c.length)c=this.element;this._close(c);this.blur(a);this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},
_closeOnDocumentClick:function(a){return!d(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(b&&b.length){this._close();this.focus(a,b)}},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(b&&b.length){this._open(b.parent());this._delay(function(){this.focus(a,b)})}},next:function(a){this._move("next",
"first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var e;if(this.active)e=a==="first"||a==="last"?this.active[a==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0);if(!e||!e.length||!this.active)e=this.activeMenu.find(this.options.items)[b]();this.focus(c,
e)},nextPage:function(a){var b,c,e;if(this.active){if(!this.isLastItem())if(this._hasScroll()){c=this.active.offset().top;e=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){b=d(this);return b.offset().top-c-e<0});this.focus(a,b)}else this.focus(a,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}else this.next(a)},previousPage:function(a){var b,c,e;if(this.active){if(!this.isFirstItem())if(this._hasScroll()){c=this.active.offset().top;e=this.element.height();
this.active.prevAll(".ui-menu-item").each(function(){b=d(this);return b.offset().top-c+e>0});this.focus(a,b)}else this.focus(a,this.activeMenu.find(this.options.items).first())}else this.next(a)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||d(a.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,true);this._trigger("select",a,b)}});d.widget("ui.autocomplete",
{version:"1.11.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,b,c,e=this.element[0].nodeName.toLowerCase(),f=e==="textarea";e=e==="input";this.isMultiLine=f?true:e?false:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];
this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly"))b=c=a=true;else{b=c=a=false;var h=d.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:a=true;this._move("previousPage",g);break;case h.PAGE_DOWN:a=true;this._move("nextPage",g);break;case h.UP:a=true;this._keyEvent("previous",g);break;case h.DOWN:a=true;this._keyEvent("next",g);break;case h.ENTER:if(this.menu.active){a=true;g.preventDefault();
this.menu.select(g)}break;case h.TAB:this.menu.active&&this.menu.select(g);break;case h.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(g);g.preventDefault()}break;default:b=true;this._searchTimeout(g);break}}},keypress:function(g){if(a){a=false;if(!this.isMultiLine||this.menu.element.is(":visible"))g.preventDefault()}else if(!b){var h=d.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:this._move("previousPage",g);break;case h.PAGE_DOWN:this._move("nextPage",g);break;case h.UP:this._keyEvent("previous",
g);break;case h.DOWN:this._keyEvent("next",g);break}}},input:function(g){if(c){c=false;g.preventDefault()}else this._searchTimeout(g)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(g){if(this.cancelBlur)delete this.cancelBlur;else{clearTimeout(this.searching);this.close(g);this._change(g)}}});this._initSource();this.menu=d("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,
{mousedown:function(g){g.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var h=this.menu.element[0];d(g.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(k){k.target!==i.element[0]&&k.target!==h&&!d.contains(h,k.target)&&i.close()})})},menufocus:function(g,h){var i;if(this.isNewMenu){this.isNewMenu=false;if(g.originalEvent&&/^mouse/.test(g.originalEvent.type)){this.menu.blur();this.document.one("mousemove",
function(){d(g.target).trigger(g.originalEvent)});return}}i=h.item.data("ui-autocomplete-item");false!==this._trigger("focus",g,{item:i})&&g.originalEvent&&/^key/.test(g.originalEvent.type)&&this._value(i.value);if((h=h.item.attr("aria-label")||i.value)&&jQuery.trim(h).length){this.liveRegion.children().hide();d("<div>").text(h).appendTo(this.liveRegion)}},menuselect:function(g,h){var i=h.item.data("ui-autocomplete-item"),k=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();
this.previous=k;this._delay(function(){this.previous=k;this.selectedItem=i})}false!==this._trigger("select",g,{item:i})&&this._value(i.value);this.term=this._value();this.close(g);this.selectedItem=i}});this.liveRegion=d("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);
this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);a==="source"&&this._initSource();a==="appendTo"&&this.menu.element.appendTo(this._appendTo());a==="disabled"&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;if(a)a=a.jquery||a.nodeType?d(a):this.document.find(a).eq(0);if(!a||!a[0])a=this.element.closest(".ui-front");if(!a.length)a=this.document[0].body;
return a},_initSource:function(){var a,b,c=this;if(d.isArray(this.options.source)){a=this.options.source;this.source=function(e,f){f(d.ui.autocomplete.filter(a,e.term))}}else if(typeof this.options.source==="string"){b=this.options.source;this.source=function(e,f){c.xhr&&c.xhr.abort();c.xhr=d.ajax({url:b,data:e,dataType:"json",success:function(g){f(g)},error:function(){f([])}})}}else this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var b=
this.term===this._value(),c=this.menu.element.is(":visible"),e=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(!b||b&&!c&&!e){this.selectedItem=null;this.search(null,a)}},this.options.delay)},search:function(a,b){a=a!=null?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(this._trigger("search",b)!==false)return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:a},
this._response())},_response:function(){var a=++this.requestIndex;return d.proxy(function(b){a===this.requestIndex&&this.__response(b);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){if(a)a=this._normalize(a);this._trigger("response",null,{content:a});if(!this.options.disabled&&a&&a.length&&!this.cancelSearch){this._suggest(a);this._trigger("open")}else this._close()},close:function(a){this.cancelSearch=true;this._close(a)},_close:function(a){if(this.menu.element.is(":visible")){this.menu.element.hide();
this.menu.blur();this.isNewMenu=true;this._trigger("close",a)}},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){if(a.length&&a[0].label&&a[0].value)return a;return d.map(a,function(b){if(typeof b==="string")return{label:b,value:b};return d.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(a){var b=this.menu.element.empty();this._renderMenu(b,a);this.isNewMenu=true;this.menu.refresh();b.show();
this._resizeMenu();b.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,b){var c=this;d.each(b,function(e,f){c._renderItemData(a,f)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(a,b){return d("<li>").text(b.label).appendTo(a)},_move:function(a,
b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)){this.isMultiLine||this._value(this.term);this.menu.blur()}else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(a,b);b.preventDefault()}}});d.extend(d.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")},filter:function(a,b){var c=new RegExp(d.ui.autocomplete.escapeRegex(b),"i");return d.grep(a,function(e){return c.test(e.label||e.value||e)})}});d.widget("ui.autocomplete",d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);if(!(this.options.disabled||this.cancelSearch)){b=a&&a.length?this.options.messages.results(a.length):
this.options.messages.noResults;this.liveRegion.children().hide();d("<div>").text(b).appendTo(this.liveRegion)}}});var W,ea=function(){var a=d(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},ba=function(a){var b=a.name,c=a.form,e=d([]);if(b){b=b.replace(/'/g,"\\'");e=c?d(c).find("[name='"+b+"'][type=radio]"):d("[name='"+b+"'][type=radio]",a.ownerDocument).filter(function(){return!this.form})}return e};d.widget("ui.button",{version:"1.11.0",defaultElement:"<button>",options:{disabled:null,
text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,ea);if(typeof this.options.disabled!=="boolean")this.options.disabled=!!this.element.prop("disabled");else this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var a=this,b=this.options,c=this.type==="checkbox"||this.type==="radio",e=!c?"ui-state-active":
"";if(b.label===null)b.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html();this._hoverable(this.buttonElement);this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){b.disabled||this===W&&d(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){b.disabled||d(this).removeClass(e)}).bind("click"+this.eventNamespace,function(f){if(b.disabled){f.preventDefault();
f.stopImmediatePropagation()}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});c&&this.element.bind("change"+this.eventNamespace,function(){a.refresh()});if(this.type==="checkbox")this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return false});else if(this.type==="radio")this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return false;d(this).addClass("ui-state-active");
a.buttonElement.attr("aria-pressed","true");var f=a.element[0];ba(f).not(f).map(function(){return d(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")});else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(b.disabled)return false;d(this).addClass("ui-state-active");W=this;a.document.one("mouseup",function(){W=null})}).bind("mouseup"+this.eventNamespace,function(){if(b.disabled)return false;d(this).removeClass("ui-state-active")}).bind("keydown"+
this.eventNamespace,function(f){if(b.disabled)return false;if(f.keyCode===d.ui.keyCode.SPACE||f.keyCode===d.ui.keyCode.ENTER)d(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){d(this).removeClass("ui-state-active")});this.buttonElement.is("a")&&this.buttonElement.keyup(function(f){f.keyCode===d.ui.keyCode.SPACE&&d(this).click()})}this._setOption("disabled",b.disabled);this._resetButton()},_determineButtonType:function(){var a,b;this.type=
this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){a=this.element.parents().last();b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b);if(!this.buttonElement.length){a=a.length?a.siblings():this.element.siblings();this.buttonElement=a.filter(b);if(!this.buttonElement.length)this.buttonElement=a.find(b)}this.element.addClass("ui-helper-hidden-accessible");
(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.prop("aria-pressed",a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);if(a==="disabled"){this.widget().toggleClass("ui-state-disabled",!!b);this.element.prop("disabled",!!b);if(b)this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")}else this._resetButton()},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");
a!==this.options.disabled&&this._setOption("disabled",a);if(this.type==="radio")ba(this.element[0]).each(function(){d(this).is(":checked")?d(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):d(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")});else if(this.type==="checkbox")this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",
"false")},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),b=d("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),c=this.options.icons,e=c.primary&&c.secondary,f=[];if(c.primary||c.secondary){if(this.options.text)f.push("ui-button-text-icon"+
(e?"s":c.primary?"-primary":"-secondary"));c.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+"'></span>");c.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+"'></span>");if(!this.options.text){f.push(e?"ui-button-icons-only":"ui-button-icon-only");this.hasTitle||a.attr("title",d.trim(b))}}else f.push("ui-button-text-only");a.addClass(f.join(" "))}}});d.widget("ui.buttonset",{version:"1.11.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},
_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){a==="disabled"&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var a=this.element.css("direction")==="rtl",b=this.element.find(this.options.items),c=b.filter(":ui-button");b.not(":ui-button").button();c.button("refresh");this.buttons=b.map(function(){return d(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?
"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return d(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});d.extend(d.ui,{datepicker:{version:"1.11.0"}});var T;d.extend(Z.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){O(this._defaults,
a||{});return this},_attachDatepicker:function(a,b){var c,e,f;c=a.nodeName.toLowerCase();e=c==="div"||c==="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}f=this._newInst(d(a),e);f.settings=d.extend({},b||{});if(c==="input")this._connectDatepicker(a,f);else e&&this._inlineDatepicker(a,f)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:$(d("<div class='"+this._inlineClass+
" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(b);d.data(a,"datepicker",b);b.settings.disabled&&this._disableDatepicker(a)}},_attachments:function(a,b){var c,e;c=this._get(b,"appendText");var f=this._get(b,
"isRTL");b.append&&b.append.remove();if(c){b.append=d("<span class='"+this._appendClass+"'>"+c+"</span>");a[f?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c==="focus"||c==="both")a.focus(this._showDatepicker);if(c==="button"||c==="both"){c=this._get(b,"buttonText");e=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:e,alt:c,title:c}):d("<button type='button'></button>").addClass(this._triggerClass).html(!e?
c:d("<img/>").attr({src:e,alt:c,title:c})));a[f?"before":"after"](b.trigger);b.trigger.click(function(){if(d.datepicker._datepickerShowing&&d.datepicker._lastInput===a[0])d.datepicker._hideDatepicker();else{d.datepicker._datepickerShowing&&d.datepicker._lastInput!==a[0]&&d.datepicker._hideDatepicker();d.datepicker._showDatepicker(a[0])}return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,e,f,g=new Date(2009,11,20),h=this._get(a,"dateFormat");if(h.match(/[DM]/)){b=
function(i){for(f=e=c=0;f<i.length;f++)if(i[f].length>c){c=i[f].length;e=f}return e};g.setMonth(b(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort")));g.setDate(b(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay())}a.input.attr("size",this._formatDate(a,g).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv);d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);
this._updateAlternate(b);b.settings.disabled&&this._disableDatepicker(a);b.dpDiv.css("display","block")}},_dialogDatepicker:function(a,b,c,e,f){var g;a=this._dialogInst;if(!a){this.uuid+=1;a="dp"+this.uuid;this._dialogInput=d("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",
a)}O(a.settings,e||{});b=b&&b.constructor===Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){b=document.documentElement.clientWidth;e=document.documentElement.clientHeight;f=document.documentElement.scrollLeft||document.body.scrollLeft;g=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[b/2-100+f,e/2-150+g]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=
true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b,c=d(a),e=d.data(a,"datepicker");if(c.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(b==="input"){e.append.remove();e.trigger.remove();c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",
this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(b==="div"||b==="span")c.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b,c=d(a),e=d.data(a,"datepicker");if(c.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();if(b==="input"){a.disabled=false;e.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(b==="div"||b==="span"){b=c.children("."+this._inlineClass);b.children().removeClass("ui-state-disabled");
b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=d.map(this._disabledInputs,function(f){return f===a?null:f})}},_disableDatepicker:function(a){var b,c=d(a),e=d.data(a,"datepicker");if(c.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();if(b==="input"){a.disabled=true;e.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(b==="div"||b==="span"){b=c.children("."+
this._inlineClass);b.children().addClass("ui-state-disabled");b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=d.map(this._disabledInputs,function(f){return f===a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return false;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return true;return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";
}},_optionDatepicker:function(a,b,c){var e,f,g,h,i=this._getInst(a);if(arguments.length===2&&typeof b==="string")return b==="defaults"?d.extend({},d.datepicker._defaults):i?b==="all"?d.extend({},i.settings):this._get(i,b):null;e=b||{};if(typeof b==="string"){e={};e[b]=c}if(i){this._curInst===i&&this._hideDatepicker();f=this._getDateDatepicker(a,true);g=this._getMinMaxDate(i,"min");h=this._getMinMaxDate(i,"max");O(i.settings,e);if(g!==null&&e.dateFormat!==undefined&&e.minDate===undefined)i.settings.minDate=
this._formatDate(i,g);if(h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined)i.settings.maxDate=this._formatDate(i,h);if("disabled"in e)e.disabled?this._disableDatepicker(a):this._enableDatepicker(a);this._attachments(d(a),i);this._autoSize(i);this._setDate(i,f);this._updateAlternate(i);this._updateDatepicker(i)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=
this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b,c=d.datepicker._getInst(a.target);b=true;var e=c.dpDiv.is(".ui-datepicker-rtl");c._keyEvent=true;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker();b=false;break;case 13:b=d("td."+d.datepicker._dayOverClass+":not(."+
d.datepicker._currentClass+")",c.dpDiv);b[0]&&d.datepicker._selectDay(a.target,c.selectedMonth,c.selectedYear,b[0]);if(a=d.datepicker._get(c,"onSelect")){b=d.datepicker._formatDate(c);a.apply(c.input?c.input[0]:null,[b,c])}else d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(c,"stepBigMonths"):-d.datepicker._get(c,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?
+d.datepicker._get(c,"stepBigMonths"):+d.datepicker._get(c,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey)d.datepicker._clearDate(a.target);b=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey)d.datepicker._gotoToday(a.target);b=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?+1:-1,"D");b=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey)d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(c,"stepBigMonths"):-d.datepicker._get(c,
"stepMonths"),"M");break;case 38:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,-7,"D");b=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?-1:+1,"D");b=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey)d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(c,"stepBigMonths"):+d.datepicker._get(c,"stepMonths"),"M");break;case 40:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,+7,"D");b=a.ctrlKey||a.metaKey;break;default:b=false}else if(a.keyCode===
36&&a.ctrlKey)d.datepicker._showDatepicker(this);else b=false;if(b){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b,c;b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));c=String.fromCharCode(a.charCode==null?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){var b;a=d.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{if(b=d.datepicker.parseDate(d.datepicker._get(a,
"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(c){}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!=="input")a=d("input",a.parentNode)[0];if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput===a)){var b,c,e,f;b=d.datepicker._getInst(a);if(d.datepicker._curInst&&d.datepicker._curInst!==b){d.datepicker._curInst.dpDiv.stop(true,
true);b&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0])}c=(c=d.datepicker._get(b,"beforeShow"))?c.apply(a,[a,b]):{};if(c!==false){O(b.settings,c);b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog)a.value="";if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}e=false;d(a).parents().each(function(){e|=d(this).css("position")==="fixed";return!e});c={left:d.datepicker._pos[0],
top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");f=d.datepicker._get(b,"duration");b.dpDiv.css("z-index",ca(d(a))+1);d.datepicker._datepickerShowing=true;d.effects&&d.effects.effect[c]?
b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f):b.dpDiv[c||"show"](c?f:null);d.datepicker._shouldFocusInput(b)&&b.input.focus();d.datepicker._curInst=b}}}},_updateDatepicker:function(a){this.maxRows=4;T=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);a.dpDiv.find("."+this._dayOverClass+" a");var b,c=this._getNumberOfMonths(a),e=c[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");e>1&&a.dpDiv.addClass("ui-datepicker-multi-"+
e).css("width",17*e+"em");a.dpDiv[(c[0]!==1||c[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===d.datepicker._curInst&&d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(a)&&a.input.focus();if(a.yearshtml){b=a.yearshtml;setTimeout(function(){b===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);b=a.yearshtml=null},0)}},_shouldFocusInput:function(a){return a.input&&
a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,h=a.input?a.input.outerHeight():0,i=document.documentElement.clientWidth+(c?0:d(document).scrollLeft()),k=document.documentElement.clientHeight+(c?0:d(document).scrollTop());b.left-=this._get(a,"isRTL")?e-g:0;b.left-=c&&b.left===a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top===a.input.offset().top+
h?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>i&&i>e?Math.abs(b.left+e-i):0);b.top-=Math.min(b.top,b.top+f>k&&k>f?Math.abs(f+h):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type==="hidden"||a.nodeType!==1||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b,c,e=this._curInst;if(!(!e||a&&e!==d.data(a,"datepicker")))if(this._datepickerShowing){a=this._get(e,"showAnim");
b=this._get(e,"duration");c=function(){d.datepicker._tidyDialog(e)};d.effects&&(d.effects.effect[a]||d.effects[a])?e.dpDiv.hide(a,d.datepicker._get(e,"showOptions"),b,c):e.dpDiv[a==="slideDown"?"slideUp":a==="fadeIn"?"fadeOut":"hide"](a?b:null,c);a||c();this._datepickerShowing=false;if(a=this._get(e,"onClose"))a.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();
d("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);var b=d.datepicker._getInst(a[0]);if(a[0].id!==d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length===0&&!a.hasClass(d.datepicker.markerClassName)&&!a.closest("."+d.datepicker._triggerClass).length&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)||
a.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==b)d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c==="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){var b=d(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay){c.selectedDay=c.currentDay;c.drawMonth=c.selectedMonth=c.currentMonth;c.drawYear=c.selectedYear=c.currentYear}else{a=
new Date;c.selectedDay=a.getDate();c.drawMonth=c.selectedMonth=a.getMonth();c.drawYear=c.selectedYear=a.getFullYear()}this._notifyChange(c);this._adjustDate(b)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e["selected"+(c==="M"?"Month":"Year")]=e["draw"+(c==="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_selectDay:function(a,b,c,e){var f;f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=
this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){this._selectDate(d(a),"")},_selectDate:function(a,b){var c=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(c);c.input&&c.input.val(b);this._updateAlternate(c);if(a=this._get(c,"onSelect"))a.apply(c.input?c.input[0]:null,[b,c]);else c.input&&c.input.trigger("change");
if(c.inline)this._updateDatepicker(c);else{this._hideDatepicker();this._lastInput=c.input[0];typeof c.input[0]!=="object"&&c.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b,c,e,f=this._get(a,"altField");if(f){b=this._get(a,"altFormat")||this._get(a,"dateFormat");c=this._getDate(a);e=this.formatDate(b,c,this._getFormatConfig(a));d(f).each(function(){d(this).val(e)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());
b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b==="object"?b.toString():b+"";if(b==="")return null;var e,f,g,h=0;f=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;f=typeof f!=="string"?f:(new Date).getFullYear()%100+parseInt(f,10);g=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort;var i=(c?c.dayNames:null)||this._defaults.dayNames,
k=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,n=(c?c.monthNames:null)||this._defaults.monthNames,p=c=-1,q=-1,t=-1,s=false,j,l=function(w){(w=e+1<a.length&&a.charAt(e+1)===w)&&e++;return w},m=function(w){var u=l(w);w=new RegExp("^\\d{1,"+(w==="@"?14:w==="!"?20:w==="y"&&u?4:w==="o"?3:2)+"}");w=b.substring(h).match(w);if(!w)throw"Missing number at position "+h;h+=w[0].length;return parseInt(w[0],10)},o=function(w,u,y){var v=-1;w=d.map(l(w)?y:u,function(x,z){return[[z,x]]}).sort(function(x,
z){return-(x[1].length-z[1].length)});d.each(w,function(x,z){x=z[1];if(b.substr(h,x.length).toLowerCase()===x.toLowerCase()){v=z[0];h+=x.length;return false}});if(v!==-1)return v+1;else throw"Unknown name at position "+h;},r=function(){if(b.charAt(h)!==a.charAt(e))throw"Unexpected literal at position "+h;h++};for(e=0;e<a.length;e++)if(s)if(a.charAt(e)==="'"&&!l("'"))s=false;else r();else switch(a.charAt(e)){case "d":q=m("d");break;case "D":o("D",g,i);break;case "o":t=m("o");break;case "m":p=m("m");
break;case "M":p=o("M",k,n);break;case "y":c=m("y");break;case "@":j=new Date(m("@"));c=j.getFullYear();p=j.getMonth()+1;q=j.getDate();break;case "!":j=new Date((m("!")-this._ticksTo1970)/1E4);c=j.getFullYear();p=j.getMonth()+1;q=j.getDate();break;case "'":if(l("'"))r();else s=true;break;default:r()}if(h<b.length){g=b.substr(h);if(!/^\s+/.test(g))throw"Extra/unparsed characters found in date: "+g;}if(c===-1)c=(new Date).getFullYear();else if(c<100)c+=(new Date).getFullYear()-(new Date).getFullYear()%
100+(c<=f?0:-100);if(t>-1){p=1;q=t;do{f=this._getDaysInMonth(c,p-1);if(q<=f)break;p++;q-=f}while(1)}j=this._daylightSavingAdjust(new Date(c,p-1,q));if(j.getFullYear()!==c||j.getMonth()+1!==p||j.getDate()!==q)throw"Invalid date";return j},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+
Math.floor(4.925))*24*60*60*1E7,formatDate:function(a,b,c){if(!b)return"";var e,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,g=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(t){(t=e+1<a.length&&a.charAt(e+1)===t)&&e++;return t},k=function(t,s,j){s=""+s;if(i(t))for(;s.length<j;)s="0"+s;return s},n=function(t,s,j,l){return i(t)?l[s]:j[s]},p="",q=false;if(b)for(e=0;e<
a.length;e++)if(q)if(a.charAt(e)==="'"&&!i("'"))q=false;else p+=a.charAt(e);else switch(a.charAt(e)){case "d":p+=k("d",b.getDate(),2);break;case "D":p+=n("D",b.getDay(),f,g);break;case "o":p+=k("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":p+=k("m",b.getMonth()+1,2);break;case "M":p+=n("M",b.getMonth(),h,c);break;case "y":p+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;
case "@":p+=b.getTime();break;case "!":p+=b.getTime()*1E4+this._ticksTo1970;break;case "'":if(i("'"))p+="'";else q=true;break;default:p+=a.charAt(e)}return p},_possibleChars:function(a){var b,c="",e=false,f=function(g){(g=b+1<a.length&&a.charAt(b+1)===g)&&b++;return g};for(b=0;b<a.length;b++)if(e)if(a.charAt(b)==="'"&&!f("'"))e=false;else c+=a.charAt(b);else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":if(f("'"))c+="'";else e=
true;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f=this._getDefaultDate(a),g=f,h=this._getFormatConfig(a);try{g=this.parseDate(c,e,h)||f}catch(i){e=b?"":e}a.selectedDay=g.getDate();a.drawMonth=a.selectedMonth=g.getMonth();a.drawYear=a.selectedYear=g.getFullYear();a.currentDay=e?g.getDate():
0;a.currentMonth=e?g.getMonth():0;a.currentYear=e?g.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(g){var h=new Date;h.setDate(h.getDate()+g);return h},f=function(g){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),g,d.datepicker._getFormatConfig(a))}catch(h){}var i=(g.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||
new Date,k=i.getFullYear(),n=i.getMonth();i=i.getDate();for(var p=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,q=p.exec(g);q;){switch(q[2]||"d"){case "d":case "D":i+=parseInt(q[1],10);break;case "w":case "W":i+=parseInt(q[1],10)*7;break;case "m":case "M":n+=parseInt(q[1],10);i=Math.min(i,d.datepicker._getDaysInMonth(k,n));break;case "y":case "Y":k+=parseInt(q[1],10);i=Math.min(i,d.datepicker._getDaysInMonth(k,n));break}q=p.exec(g)}return new Date(k,n,i)};if(b=(b=b==null||b===""?c:typeof b==="string"?f(b):
typeof b==="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()==="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,g=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=
a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!==a.selectedMonth||g!==a.selectedYear)&&!c)this._notifyChange(a);this._adjustInstDate(a);if(a.input)a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()===""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var e=
{prev:function(){d.datepicker._adjustDate(c,-b,"M")},next:function(){d.datepicker._adjustDate(c,+b,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(c)},selectDay:function(){d.datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){d.datepicker._selectMonthYear(c,this,"M");return false},selectYear:function(){d.datepicker._selectMonthYear(c,this,"Y");return false}};d(this).bind(this.getAttribute("data-event"),
e[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,e,f,g,h,i,k,n,p,q,t,s,j,l,m,o,r,w,u,y,v,x,z,B,A,I,F=new Date;F=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate()));var G=this._get(a,"isRTL");h=this._get(a,"showButtonPanel");e=this._get(a,"hideIfNoPrevNext");g=this._get(a,"navigationAsDateFormat");var H=this._getNumberOfMonths(a),C=this._get(a,"showCurrentAtPos");f=this._get(a,"stepMonths");var L=H[0]!==1||H[1]!==1,N=this._daylightSavingAdjust(!a.currentDay?
new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),J=this._getMinMaxDate(a,"min"),D=this._getMinMaxDate(a,"max");C=a.drawMonth-C;var E=a.drawYear;if(C<0){C+=12;E--}if(D){b=this._daylightSavingAdjust(new Date(D.getFullYear(),D.getMonth()-H[0]*H[1]+1,D.getDate()));for(b=J&&b<J?J:b;this._daylightSavingAdjust(new Date(E,C,1))>b;){C--;if(C<0){C=11;E--}}}a.drawMonth=C;a.drawYear=E;b=this._get(a,"prevText");b=!g?b:this.formatDate(b,this._daylightSavingAdjust(new Date(E,C-f,1)),this._getFormatConfig(a));
b=this._canAdjustMonth(a,-1,E,C)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(G?"e":"w")+"'>"+b+"</span></a>":e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(G?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,"nextText");c=!g?c:this.formatDate(c,this._daylightSavingAdjust(new Date(E,C+f,1)),this._getFormatConfig(a));e=this._canAdjustMonth(a,
+1,E,C)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(G?"w":"e")+"'>"+c+"</span></a>":e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(G?"w":"e")+"'>"+c+"</span></a>";f=this._get(a,"currentText");c=this._get(a,"gotoCurrent")&&a.currentDay?N:F;f=!g?f:this.formatDate(f,c,this._getFormatConfig(a));g=!a.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(a,"closeText")+"</button>":"";h=h?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(G?g:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+f+"</button>":"")+(G?"":g)+"</div>":"";g=parseInt(this._get(a,"firstDay"),10);g=isNaN(g)?0:g;f=this._get(a,"showWeek");c=this._get(a,"dayNames");i=this._get(a,"dayNamesMin");k=this._get(a,"monthNames");n=this._get(a,"monthNamesShort");
p=this._get(a,"beforeShowDay");q=this._get(a,"showOtherMonths");t=this._get(a,"selectOtherMonths");s=this._getDefaultDate(a);j="";for(m=0;m<H[0];m++){o="";this.maxRows=4;for(r=0;r<H[1];r++){w=this._daylightSavingAdjust(new Date(E,C,a.selectedDay));l=" ui-corner-all";u="";if(L){u+="<div class='ui-datepicker-group";if(H[1]>1)switch(r){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(G?"right":"left");break;case H[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(G?"left":"right");break;default:u+=
" ui-datepicker-group-middle";l="";break}u+="'>"}u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&m===0?G?e:b:"")+(/all|right/.test(l)&&m===0?G?b:e:"")+this._generateMonthYearHeader(a,C,E,J,D,m>0||r>0,k,n)+"</div><table class='ui-datepicker-calendar'><thead><tr>";y=f?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(l=0;l<7;l++){v=(l+g)%7;y+="<th scope='col'"+((l+g+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+
c[v]+"'>"+i[v]+"</span></th>"}u+=y+"</tr></thead><tbody>";y=this._getDaysInMonth(E,C);if(E===a.selectedYear&&C===a.selectedMonth)a.selectedDay=Math.min(a.selectedDay,y);l=(this._getFirstDayOfMonth(E,C)-g+7)%7;y=Math.ceil((l+y)/7);this.maxRows=y=L?this.maxRows>y?this.maxRows:y:y;v=this._daylightSavingAdjust(new Date(E,C,1-l));for(x=0;x<y;x++){u+="<tr>";z=!f?"":"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(v)+"</td>";for(l=0;l<7;l++){B=p?p.apply(a.input?a.input[0]:null,[v]):[true,
""];I=(A=v.getMonth()!==C)&&!t||!B[0]||J&&v<J||D&&v>D;z+="<td class='"+((l+g+6)%7>=5?" ui-datepicker-week-end":"")+(A?" ui-datepicker-other-month":"")+(v.getTime()===w.getTime()&&C===a.selectedMonth&&a._keyEvent||s.getTime()===v.getTime()&&s.getTime()===w.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(A&&!q?"":" "+B[1]+(v.getTime()===N.getTime()?" "+this._currentClass:"")+(v.getTime()===F.getTime()?" ui-datepicker-today":""))+"'"+((!A||q)&&B[2]?" title='"+
B[2].replace(/'/g,"&#39;")+"'":"")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+v.getMonth()+"' data-year='"+v.getFullYear()+"'")+">"+(A&&!q?"&#xa0;":I?"<span class='ui-state-default'>"+v.getDate()+"</span>":"<a class='ui-state-default"+(v.getTime()===F.getTime()?" ui-state-highlight":"")+(v.getTime()===N.getTime()?" ui-state-active":"")+(A?" ui-priority-secondary":"")+"' href='#'>"+v.getDate()+"</a>")+"</td>";v.setDate(v.getDate()+1);v=this._daylightSavingAdjust(v)}u+=z+"</tr>"}C++;
if(C>11){C=0;E++}u+="</tbody></table>"+(L?"</div>"+(H[0]>0&&r===H[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");o+=u}j+=o}j+=h;a._keyEvent=false;return j},_generateMonthYearHeader:function(a,b,c,e,f,g,h,i){var k,n,p,q=this._get(a,"changeMonth"),t=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),j="<div class='ui-datepicker-title'>",l="";if(g||!q)l+="<span class='ui-datepicker-month'>"+h[b]+"</span>";else{h=e&&e.getFullYear()===c;k=f&&f.getFullYear()===c;l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
for(n=0;n<12;n++)if((!h||n>=e.getMonth())&&(!k||n<=f.getMonth()))l+="<option value='"+n+"'"+(n===b?" selected='selected'":"")+">"+i[n]+"</option>";l+="</select>"}s||(j+=l+(g||!(q&&t)?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(g||!t)j+="<span class='ui-datepicker-year'>"+c+"</span>";else{i=this._get(a,"yearRange").split(":");p=(new Date).getFullYear();h=function(m){m=m.match(/c[+\-].*/)?c+parseInt(m.substring(1),10):m.match(/[+\-].*/)?p+parseInt(m,10):parseInt(m,10);return isNaN(m)?p:m};b=h(i[0]);
i=Math.max(b,h(i[1]||""));b=e?Math.max(b,e.getFullYear()):b;i=f?Math.min(i,f.getFullYear()):i;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=i;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":"")+">"+b+"</option>";a.yearshtml+="</select>";j+=a.yearshtml;a.yearshtml=null}}j+=this._get(a,"yearSuffix");if(s)j+=(g||!(q&&t)?"&#xa0;":"")+l;j+="</div>";return j},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c==="Y"?b:0),f=
a.drawMonth+(c==="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c==="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c==="M"||c==="Y")this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");
if(b)b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a==="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);
c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null;if(a=this._get(a,"yearRange")){a=a.split(":");c=(new Date).getFullYear();g=parseInt(a[0],10);h=parseInt(a[1],10);if(a[0].match(/[+\-].*/))g+=c;if(a[1].match(/[+\-].*/))h+=c}return(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&
(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!=="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?
typeof b==="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!this.length)return this;if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick);d.datepicker.initialized=true}d("#"+d.datepicker._mainDivId).length===0&&d("body").append(d.datepicker.dpDiv);var b=Array.prototype.slice.call(arguments,
1);if(typeof a==="string"&&(a==="isDisabled"||a==="getDate"||a==="widget"))return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));if(a==="option"&&arguments.length===2&&typeof arguments[1]==="string")return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));return this.each(function(){typeof a==="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new Z;d.datepicker.initialized=
false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.11.0";d.widget("ui.draggable",d.ui.mouse,{version:"1.11.0",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,
stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(a,b){this._super(a,b);a==="handle"&&this._setHandleClassName()},_destroy:function(){if((this.helper||
this.element).is(".ui-draggable-dragging"))this.destroyOnClear=true;else{this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy()}},_mouseCapture:function(a){var b=this.document[0],c=this.options;try{b.activeElement&&b.activeElement.nodeName.toLowerCase()!=="body"&&d(b.activeElement).blur()}catch(e){}if(this.helper||c.disabled||d(a.target).closest(".ui-resizable-handle").length>0)return false;this.handle=this._getHandle(a);
if(!this.handle)return false;d(c.iframeFix===true?"iframe":c.iframeFix).each(function(){d("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")});return true},_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(d.ui.ddmanager)d.ui.ddmanager.current=
this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),
relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a,false);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this._mouseDrag(a,true);d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,a);return true},_mouseDrag:function(a,
b){if(this.offsetParentCssPosition==="fixed")this.offset.parent=this._getParentOffset();this.position=this._generatePosition(a,true);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(this._trigger("drag",a,b)===false){this._mouseUp({});return false}this.position=b.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var b=this,c=false;
if(d.ui.ddmanager&&!this.options.dropBehaviour)c=d.ui.ddmanager.drop(this,a);if(this.dropped){c=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!c||this.options.revert==="valid"&&c||this.options.revert===true||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,c))d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",a)!==false&&b._clear()});else this._trigger("stop",a)!==false&&this._clear();return false},
_mouseUp:function(a){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a);this.element.focus();return d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){return this.options.handle?!!d(a.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this._removeHandleClassName();
d(this.options.handle||this.element).addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a])):b.helper==="clone"?this.element.clone().removeAttr("id"):this.element;a.parents("body").length||a.appendTo(b.appendTo==="parent"?this.element[0].parentNode:b.appendTo);a[0]!==this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&
a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a==="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||
a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),b=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==b&&d.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0]))a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!==
"relative")return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(!b?this.scrollParent.scrollTop():0),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(!b?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,b,c;a=this.options;b=this.document[0];this.relative_container=null;if(a.containment)if(a.containment==="window")this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-
this.margins.left,d(window).scrollTop()+(d(window).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(a.containment==="document")this.containment=[0,0,d(b).width()-this.helperProportions.width-this.margins.left,(d(b).height()||b.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(a.containment.constructor===Array)this.containment=a.containment;else{if(a.containment==="parent")a.containment=this.helper[0].parentNode;b=
d(a.containment);if(c=b[0]){a=b.css("overflow")!=="hidden";this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(a?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-
(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=b}}else this.containment=null},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a==="absolute"?1:-1;var c=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(this.cssPosition==="fixed"?-this.offset.scroll.top:c?0:this.offset.scroll.top)*a,left:b.left+this.offset.relative.left*
a+this.offset.parent.left*a-(this.cssPosition==="fixed"?-this.offset.scroll.left:c?0:this.offset.scroll.left)*a}},_generatePosition:function(a,b){var c,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]);f=a.pageX;e=a.pageY;if(!h||!this.offset.scroll)this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};if(b){if(this.containment){if(this.relative_container){c=this.relative_container.offset();c=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+
c.left,this.containment[3]+c.top]}else c=this.containment;if(a.pageX-this.offset.click.left<c[0])f=c[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<c[1])e=c[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>c[2])f=c[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>c[3])e=c[3]+this.offset.click.top}if(g.grid){e=g.grid[1]?this.originalPageY+Math.round((e-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY;e=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>
c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e;f=g.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX;f=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f}if(g.axis==="y")f=this.originalPageX;if(g.axis==="x")e=this.originalPageY}return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:
h?0:this.offset.scroll.top),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false;this.destroyOnClear&&this.destroy()},_trigger:function(a,b,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[b,c,this],
true);if(a==="drag")this.positionAbs=this._convertPositionTo("absolute");return d.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.ui.plugin.add("draggable","connectToSortable",{start:function(a,b,c){var e=c.options,f=d.extend({},b,{item:c.element});c.sortables=[];d(e.connectToSortable).each(function(){var g=d(this).sortable("instance");if(g&&!g.options.disabled){c.sortables.push({instance:g,
shouldRevert:g.options.revert});g.refreshPositions();g._trigger("activate",a,f)}})},stop:function(a,b,c){var e=d.extend({},b,{item:c.element});d.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=this.shouldRevert;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;c.options.helper==="original"&&this.instance.currentItem.css({top:"auto",
left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,e)}})},drag:function(a,b,c){var e=this;d.each(c.sortables,function(){var f=false,g=this;this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){f=true;d.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;
this.instance.offset.click=c.offset.click;if(this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&d.contains(g.instance.element[0],this.instance.element[0]))f=false;return f})}if(f){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=d(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return b.helper[0]};a.target=this.instance.currentItem[0];
this.instance._mouseCapture(a,true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",a);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=
0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",a);c.dropped=false}})}});d.ui.plugin.add("draggable","cursor",{start:function(a,b,c){a=d("body");c=c.options;if(a.css("cursor"))c._cursor=a.css("cursor");
a.css("cursor",c.cursor)},stop:function(a,b,c){a=c.options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(a,b,c){a=d(b.helper);c=c.options;if(a.css("opacity"))c._opacity=a.css("opacity");a.css("opacity",c.opacity)},stop:function(a,b,c){a=c.options;a._opacity&&d(b.helper).css("opacity",a._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(a,b,c){if(c.scrollParent[0]!==c.document[0]&&c.scrollParent[0].tagName!=="HTML")c.overflowOffset=
c.scrollParent.offset()},drag:function(a,b,c){b=c.options;var e=false,f=c.document[0];if(c.scrollParent[0]!==f&&c.scrollParent[0].tagName!=="HTML"){if(!b.axis||b.axis!=="x")if(c.overflowOffset.top+c.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity)c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+b.scrollSpeed;else if(a.pageY-c.overflowOffset.top<b.scrollSensitivity)c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-b.scrollSpeed;if(!b.axis||b.axis!=="y")if(c.overflowOffset.left+
c.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity)c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+b.scrollSpeed;else if(a.pageX-c.overflowOffset.left<b.scrollSensitivity)c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-b.scrollSpeed}else{if(!b.axis||b.axis!=="x")if(a.pageY-d(f).scrollTop()<b.scrollSensitivity)e=d(f).scrollTop(d(f).scrollTop()-b.scrollSpeed);else if(d(window).height()-(a.pageY-d(f).scrollTop())<b.scrollSensitivity)e=d(f).scrollTop(d(f).scrollTop()+b.scrollSpeed);
if(!b.axis||b.axis!=="y")if(a.pageX-d(f).scrollLeft()<b.scrollSensitivity)e=d(f).scrollLeft(d(f).scrollLeft()-b.scrollSpeed);else if(d(window).width()-(a.pageX-d(f).scrollLeft())<b.scrollSensitivity)e=d(f).scrollLeft(d(f).scrollLeft()+b.scrollSpeed)}e!==false&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(c,a)}});d.ui.plugin.add("draggable","snap",{start:function(a,b,c){a=c.options;c.snapElements=[];d(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var e=
d(this),f=e.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:f.top,left:f.left})})},drag:function(a,b,c){var e,f,g,h,i,k,n,p,q,t,s=c.options,j=s.snapTolerance,l=b.offset.left,m=l+c.helperProportions.width,o=b.offset.top,r=o+c.helperProportions.height;for(q=c.snapElements.length-1;q>=0;q--){i=c.snapElements[q].left;k=i+c.snapElements[q].width;n=c.snapElements[q].top;p=n+c.snapElements[q].height;if(m<i-j||l>k+j||r<n-j||o>p+j||!d.contains(c.snapElements[q].item.ownerDocument,
c.snapElements[q].item)){c.snapElements[q].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[q].item}));c.snapElements[q].snapping=false}else{if(s.snapMode!=="inner"){e=Math.abs(n-r)<=j;f=Math.abs(p-o)<=j;g=Math.abs(i-m)<=j;h=Math.abs(k-l)<=j;if(e)b.position.top=c._convertPositionTo("relative",{top:n-c.helperProportions.height,left:0}).top-c.margins.top;if(f)b.position.top=c._convertPositionTo("relative",{top:p,left:0}).top-c.margins.top;
if(g)b.position.left=c._convertPositionTo("relative",{top:0,left:i-c.helperProportions.width}).left-c.margins.left;if(h)b.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left}t=e||f||g||h;if(s.snapMode!=="outer"){e=Math.abs(n-o)<=j;f=Math.abs(p-r)<=j;g=Math.abs(i-l)<=j;h=Math.abs(k-m)<=j;if(e)b.position.top=c._convertPositionTo("relative",{top:n,left:0}).top-c.margins.top;if(f)b.position.top=c._convertPositionTo("relative",{top:p-c.helperProportions.height,left:0}).top-
c.margins.top;if(g)b.position.left=c._convertPositionTo("relative",{top:0,left:i}).left-c.margins.left;if(h)b.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[q].snapping&&(e||f||g||h||t))c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[q].item}));c.snapElements[q].snapping=e||f||g||h||t}}}});d.ui.plugin.add("draggable","stack",{start:function(a,b,c){var e;a=d.makeArray(d(c.options.stack)).sort(function(f,
g){return(parseInt(d(f).css("zIndex"),10)||0)-(parseInt(d(g).css("zIndex"),10)||0)});if(a.length){e=parseInt(d(a[0]).css("zIndex"),10)||0;d(a).each(function(f){d(this).css("zIndex",e+f)});this.css("zIndex",e+a.length)}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,b,c){a=d(b.helper);c=c.options;if(a.css("zIndex"))c._zIndex=a.css("zIndex");a.css("zIndex",c.zIndex)},stop:function(a,b,c){a=c.options;a._zIndex&&d(b.helper).css("zIndex",a._zIndex)}});d.widget("ui.resizable",d.ui.mouse,{version:"1.11.0",
widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(a,b){if(d(a).css("overflow")==="hidden")return false;b=b&&b==="left"?"scrollLeft":
"scrollTop";var c=false;if(a[b]>0)return true;a[b]=1;c=a[b]>0;a[b]=0;return c},_create:function(){var a,b,c,e,f,g=this,h=this.options;this.element.addClass("ui-resizable");d.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(d("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),
width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,
marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=h.handles||(!d(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",
se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all")this.handles="n,e,s,w,se,sw,ne,nw";a=this.handles.split(",");this.handles={};for(b=0;b<a.length;b++){c=d.trim(a[b]);f="ui-resizable-"+c;e=d("<div class='ui-resizable-handle "+f+"'></div>");e.css({zIndex:h.zIndex});"se"===c&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[c]=".ui-resizable-"+c;this.element.append(e)}}this._renderAxis=
function(i){var k,n,p;i=i||this.element;for(k in this.handles){if(this.handles[k].constructor===String)this.handles[k]=this.element.children(this.handles[k]).first().show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){n=d(this.handles[k],this.element);p=/sw|ne|nw|se|n|s/.test(k)?n.outerHeight():n.outerWidth();n=["padding",/ne|nw|n/.test(k)?"Top":/se|sw|s/.test(k)?"Bottom":/^e$/.test(k)?"Right":"Left"].join("");i.css(n,p);this._proportionallyResize()}d(this.handles[k])}};
this._renderAxis(this.element);this._handles=d(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!g.resizing){if(this.className)e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);g.axis=e&&e[1]?e[1]:"se"}});if(h.autoHide){this._handles.hide();d(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(!h.disabled){d(this).removeClass("ui-resizable-autohide");g._handles.show()}}).mouseleave(function(){if(!h.disabled)if(!g.resizing){d(this).addClass("ui-resizable-autohide");
g._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var a,b=function(c){d(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);a=this.element;this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a);a.remove()}this.originalElement.css("resize",
this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(a){var b,c,e=false;for(b in this.handles){c=d(this.handles[b])[0];if(c===a.target||d.contains(c,a.target))e=true}return!this.options.disabled&&e},_mouseStart:function(a){var b,c,e=this.options,f=this.element;this.resizing=true;this._renderProxy();b=this._num(this.helper.css("left"));c=this._num(this.helper.css("top"));if(e.containment){b+=d(e.containment).scrollLeft()||0;c+=d(e.containment).scrollTop()||0}this.offset=
this.helper.offset();this.position={left:b,top:c};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:f.width(),height:f.height()};this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()};this.originalPosition={left:b,top:c};this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()};this.originalMousePosition={left:a.pageX,top:a.pageY};this.aspectRatio=typeof e.aspectRatio==="number"?e.aspectRatio:
this.originalSize.width/this.originalSize.height||1;b=d(".ui-resizable-"+this.axis).css("cursor");d("body").css("cursor",b==="auto"?this.axis+"-resize":b);f.addClass("ui-resizable-resizing");this._propagate("start",a);return true},_mouseDrag:function(a){var b,c=this.helper,e={},f=this.originalMousePosition;b=a.pageX-f.left||0;f=a.pageY-f.top||0;var g=this._change[this.axis];this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height};
if(!g)return false;b=g.apply(this,[a,b,f]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)b=this._updateRatio(b,a);b=this._respectSize(b,a);this._updateCache(b);this._propagate("resize",a);if(this.position.top!==this.prevPosition.top)e.top=this.position.top+"px";if(this.position.left!==this.prevPosition.left)e.left=this.position.left+"px";if(this.size.width!==this.prevSize.width)e.width=this.size.width+"px";if(this.size.height!==this.prevSize.height)e.height=this.size.height+
"px";c.css(e);!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();d.isEmptyObject(e)||this._trigger("resize",a,this.ui());return false},_mouseStop:function(a){this.resizing=false;var b,c,e,f=this.options,g=this;if(this._helper){b=this._proportionallyResizeElements;b=(c=b.length&&/textarea/i.test(b[0].nodeName))&&this._hasScroll(b[0],"left")?0:g.sizeDiff.height;c=c?0:g.sizeDiff.width;c={width:g.helper.width()-c,height:g.helper.height()-b};b=parseInt(g.element.css("left"),
10)+(g.position.left-g.originalPosition.left)||null;e=parseInt(g.element.css("top"),10)+(g.position.top-g.originalPosition.top)||null;f.animate||this.element.css(d.extend(c,{top:e,left:b}));g.helper.height(g.size.height);g.helper.width(g.size.width);this._helper&&!f.animate&&this._proportionallyResize()}d("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",a);this._helper&&this.helper.remove();return false},_updateVirtualBoundaries:function(a){var b,
c,e,f;f=this.options;f={minWidth:this._isNumber(f.minWidth)?f.minWidth:0,maxWidth:this._isNumber(f.maxWidth)?f.maxWidth:Infinity,minHeight:this._isNumber(f.minHeight)?f.minHeight:0,maxHeight:this._isNumber(f.maxHeight)?f.maxHeight:Infinity};if(this._aspectRatio||a){a=f.minHeight*this.aspectRatio;c=f.minWidth/this.aspectRatio;b=f.maxHeight*this.aspectRatio;e=f.maxWidth/this.aspectRatio;if(a>f.minWidth)f.minWidth=a;if(c>f.minHeight)f.minHeight=c;if(b<f.maxWidth)f.maxWidth=b;if(e<f.maxHeight)f.maxHeight=
e}this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset();if(this._isNumber(a.left))this.position.left=a.left;if(this._isNumber(a.top))this.position.top=a.top;if(this._isNumber(a.height))this.size.height=a.height;if(this._isNumber(a.width))this.size.width=a.width},_updateRatio:function(a){var b=this.position,c=this.size,e=this.axis;if(this._isNumber(a.height))a.width=a.height*this.aspectRatio;else if(this._isNumber(a.width))a.height=a.width/this.aspectRatio;if(e==="sw"){a.left=
b.left+(c.width-a.width);a.top=null}if(e==="nw"){a.top=b.top+(c.height-a.height);a.left=b.left+(c.width-a.width)}return a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,e=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,h=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,
n=/sw|nw|w/.test(c);c=/nw|ne|n/.test(c);if(g)a.width=b.minWidth;if(h)a.height=b.minHeight;if(e)a.width=b.maxWidth;if(f)a.height=b.maxHeight;if(g&&n)a.left=i-b.minWidth;if(e&&n)a.left=i-b.maxWidth;if(h&&c)a.top=k-b.minHeight;if(f&&c)a.top=k-b.maxHeight;if(!a.width&&!a.height&&!a.left&&a.top)a.top=null;else if(!a.width&&!a.height&&!a.top&&a.left)a.left=null;return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,e,f,g=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){f=
this._proportionallyResizeElements[a];if(!this.borderDif){this.borderDif=[];c=[f.css("borderTopWidth"),f.css("borderRightWidth"),f.css("borderBottomWidth"),f.css("borderLeftWidth")];e=[f.css("paddingTop"),f.css("paddingRight"),f.css("paddingBottom"),f.css("paddingLeft")];for(b=0;b<c.length;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(e[b],10)||0)}f.css({height:g.height()-this.borderDif[0]-this.borderDif[2]||0,width:g.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var a=
this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||d("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,
b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(a,b,c){return d.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},sw:function(a,b,c){return d.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,c]))},ne:function(a,b,c){return d.extend(this._change.n.apply(this,
arguments),this._change.e.apply(this,[a,b,c]))},nw:function(a,b,c){return d.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,c]))}},_propagate:function(a,b){d.ui.plugin.call(this,a,[b,this.ui()]);a!=="resize"&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,
prevPosition:this.prevPosition}}});d.ui.plugin.add("resizable","animate",{stop:function(a){var b=d(this).resizable("instance"),c=b.options,e=b._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&b._hasScroll(e[0],"left")?0:b.sizeDiff.height;f={width:b.size.width-(f?0:b.sizeDiff.width),height:b.size.height-g};g=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null;var h=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||
null;b.element.animate(d.extend(f,h&&g?{top:h,left:g}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var i={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),10)};e&&e.length&&d(e[0]).css({width:i.width,height:i.height});b._updateCache(i);b._propagate("resize",a)}})}});d.ui.plugin.add("resizable","containment",{start:function(){var a,b,c,e,f,g=d(this).resizable("instance"),
h=g.element;c=g.options.containment;if(h=c instanceof d?c.get(0):/parent/.test(c)?h.parent().get(0):c){g.containerElement=d(h);if(/document/.test(c)||c===document){g.containerOffset={left:0,top:0};g.containerPosition={left:0,top:0};g.parentData={element:d(document),left:0,top:0,width:d(document).width(),height:d(document).height()||document.body.parentNode.scrollHeight}}else{a=d(h);b=[];d(["Top","Right","Left","Bottom"]).each(function(i,k){b[i]=g._num(a.css("padding"+k))});g.containerOffset=a.offset();
g.containerPosition=a.position();g.containerSize={height:a.innerHeight()-b[3],width:a.innerWidth()-b[1]};c=g.containerOffset;e=g.containerSize.height;f=g.containerSize.width;f=g._hasScroll(h,"left")?h.scrollWidth:f;e=g._hasScroll(h)?h.scrollHeight:e;g.parentData={element:h,left:c.left,top:c.top,width:f,height:e}}}},resize:function(a,b){var c,e,f,g,h=d(this).resizable("instance");c=h.options;e=h.containerOffset;f=h.position;a=h._aspectRatio||a.shiftKey;g={top:0,left:0};var i=h.containerElement,k=true;
if(i[0]!==document&&/static/.test(i.css("position")))g=e;if(f.left<(h._helper?e.left:0)){h.size.width+=h._helper?h.position.left-e.left:h.position.left-g.left;if(a){h.size.height=h.size.width/h.aspectRatio;k=false}h.position.left=c.helper?e.left:0}if(f.top<(h._helper?e.top:0)){h.size.height+=h._helper?h.position.top-e.top:h.position.top;if(a){h.size.width=h.size.height*h.aspectRatio;k=false}h.position.top=h._helper?e.top:0}h.offset.left=h.parentData.left+h.position.left;h.offset.top=h.parentData.top+
h.position.top;c=Math.abs((h._helper?h.offset.left-g.left:h.offset.left-e.left)+h.sizeDiff.width);e=Math.abs((h._helper?h.offset.top-g.top:h.offset.top-e.top)+h.sizeDiff.height);f=h.containerElement.get(0)===h.element.parent().get(0);g=/relative|absolute/.test(h.containerElement.css("position"));if(f&&g)c-=Math.abs(h.parentData.left);if(c+h.size.width>=h.parentData.width){h.size.width=h.parentData.width-c;if(a){h.size.height=h.size.width/h.aspectRatio;k=false}}if(e+h.size.height>=h.parentData.height){h.size.height=
h.parentData.height-e;if(a){h.size.width=h.size.height*h.aspectRatio;k=false}}if(!k){h.position.left=b.prevPosition.left;h.position.top=b.prevPosition.top;h.size.width=b.prevSize.width;h.size.height=b.prevSize.height}},stop:function(){var a=d(this).resizable("instance"),b=a.options,c=a.containerOffset,e=a.containerPosition,f=a.containerElement,g=d(a.helper),h=g.offset(),i=g.outerWidth()-a.sizeDiff.width;g=g.outerHeight()-a.sizeDiff.height;a._helper&&!b.animate&&/relative/.test(f.css("position"))&&
d(this).css({left:h.left-e.left-c.left,width:i,height:g});a._helper&&!b.animate&&/static/.test(f.css("position"))&&d(this).css({left:h.left-e.left-c.left,width:i,height:g})}});d.ui.plugin.add("resizable","alsoResize",{start:function(){var a=d(this).resizable("instance").options,b=function(c){d(c).each(function(){var e=d(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};if(typeof a.alsoResize===
"object"&&!a.alsoResize.parentNode)if(a.alsoResize.length){a.alsoResize=a.alsoResize[0];b(a.alsoResize)}else d.each(a.alsoResize,function(c){b(c)});else b(a.alsoResize)},resize:function(a,b){a=d(this).resizable("instance");var c=a.options,e=a.originalSize,f=a.originalPosition,g={height:a.size.height-e.height||0,width:a.size.width-e.width||0,top:a.position.top-f.top||0,left:a.position.left-f.left||0},h=function(i,k){d(i).each(function(){var n=d(this),p=d(this).data("ui-resizable-alsoresize"),q={},
t=k&&k.length?k:n.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];d.each(t,function(s,j){if((s=(p[j]||0)+(g[j]||0))&&s>=0)q[j]=s||null});n.css(q)})};typeof c.alsoResize==="object"&&!c.alsoResize.nodeType?d.each(c.alsoResize,function(i,k){h(i,k)}):h(c.alsoResize)},stop:function(){d(this).removeData("resizable-alsoresize")}});d.ui.plugin.add("resizable","ghost",{start:function(){var a=d(this).resizable("instance"),b=a.options,c=a.size;a.ghost=a.originalElement.clone();
a.ghost.css({opacity:0.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof b.ghost==="string"?b.ghost:"");a.ghost.appendTo(a.helper)},resize:function(){var a=d(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=d(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});d.ui.plugin.add("resizable",
"grid",{resize:function(){var a=d(this).resizable("instance"),b=a.options,c=a.size,e=a.originalSize,f=a.originalPosition,g=a.axis,h=typeof b.grid==="number"?[b.grid,b.grid]:b.grid,i=h[0]||1,k=h[1]||1,n=Math.round((c.width-e.width)/i)*i;c=Math.round((c.height-e.height)/k)*k;var p=e.width+n,q=e.height+c,t=b.maxWidth&&b.maxWidth<p,s=b.maxHeight&&b.maxHeight<q,j=b.minWidth&&b.minWidth>p,l=b.minHeight&&b.minHeight>q;b.grid=h;if(j)p+=i;if(l)q+=k;if(t)p-=i;if(s)q-=k;if(/^(se|s|e)$/.test(g)){a.size.width=
p;a.size.height=q}else if(/^(ne)$/.test(g)){a.size.width=p;a.size.height=q;a.position.top=f.top-c}else if(/^(sw)$/.test(g)){a.size.width=p;a.size.height=q;a.position.left=f.left-n}else{if(q-k>0){a.size.height=q;a.position.top=f.top-c}else{a.size.height=k;a.position.top=f.top+e.height-k}if(p-i>0){a.size.width=p;a.position.left=f.left-n}else{a.size.width=i;a.position.left=f.left+e.width-i}}}});d.widget("ui.dialog",{version:"1.11.0",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,
closeText:"Close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=d(this).css(a).offset().top;b<0&&d(this).css("top",a.top-b)}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,
maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=
this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&d.fn.draggable&&this._makeDraggable();this.options.resizable&&d.fn.resizable&&this._makeResizable();this._isOpen=false;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=
this.options.appendTo;if(a&&(a.jquery||a.nodeType))return d(a);return this.document.find(a||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:d.noop,enable:d.noop,close:function(a){var b,c=this;if(!(!this._isOpen||this._trigger("beforeClose",a)===false)){this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").focus().length)try{(b=this.document[0].activeElement)&&b.nodeName.toLowerCase()!=="body"&&d(b).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",a)})}},isOpen:function(){return this._isOpen},
moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=false,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+d(this).css("z-index")}).get();e=Math.max.apply(null,e);if(e>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",e+1);c=true}c&&!b&&this._trigger("focus",a);return c},open:function(){var a=this;if(this._isOpen)this._moveToTop()&&this._focusTabbable();else{this._isOpen=true;this.opener=d(this.document[0].activeElement);this._size();this._position();
this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){a._focusTabbable();a._trigger("focus")});this._trigger("open")}},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));if(!a.length)a=this.uiDialog;a.eq(0).focus()},_keepFocus:function(a){function b(){var c=
this.document[0].activeElement;this.uiDialog[0]===c||d.contains(this.uiDialog[0],c)||this._focusTabbable()}a.preventDefault();b.call(this);this._delay(b)},_createWrapper:function(){this.uiDialog=d("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===d.ui.keyCode.ESCAPE){a.preventDefault();
this.close(a)}else if(!(a.keyCode!==d.ui.keyCode.TAB||a.isDefaultPrevented())){var b=this.uiDialog.find(":tabbable"),c=b.filter(":first"),e=b.filter(":last");if((a.target===e[0]||a.target===this.uiDialog[0])&&!a.shiftKey){this._delay(function(){c.focus()});a.preventDefault()}else if((a.target===c[0]||a.target===this.uiDialog[0])&&a.shiftKey){this._delay(function(){e.focus()});a.preventDefault()}}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||
this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=d("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){d(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=d("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},
text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(b){b.preventDefault();this.close(b)}});a=d("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(a);this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=d("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");
this.uiButtonSet=d("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var a=this,b=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(d.isEmptyObject(b)||d.isArray(b)&&!b.length)this.uiDialog.removeClass("ui-dialog-buttons");else{d.each(b,function(c,e){var f;e=d.isFunction(e)?{click:e,text:c}:e;e=d.extend({type:"button"},e);f=e.click;e.click=function(){f.apply(a.element[0],arguments)};c={icons:e.icons,
text:e.showText};delete e.icons;delete e.showText;d("<button></button>",e).button(c).appendTo(a.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)}},_makeDraggable:function(){function a(e){return{position:e.position,offset:e.offset}}var b=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,f){d(this).addClass("ui-dialog-dragging");
b._blockFrames();b._trigger("dragStart",e,a(f))},drag:function(e,f){b._trigger("drag",e,a(f))},stop:function(e,f){var g=f.offset.left-b.document.scrollLeft(),h=f.offset.top-b.document.scrollTop();c.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:b.window};d(this).removeClass("ui-dialog-dragging");b._unblockFrames();b._trigger("dragStop",e,a(f))}})},_makeResizable:function(){function a(g){return{originalPosition:g.originalPosition,originalSize:g.originalSize,position:g.position,
size:g.size}}var b=this,c=this.options,e=c.resizable,f=this.uiDialog.css("position");e=typeof e==="string"?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:c.maxWidth,maxHeight:c.maxHeight,minWidth:c.minWidth,minHeight:this._minHeight(),handles:e,start:function(g,h){d(this).addClass("ui-dialog-resizing");b._blockFrames();b._trigger("resizeStart",g,a(h))},resize:function(g,h){b._trigger("resize",g,a(h))},stop:function(g,
h){var i=b.uiDialog.offset(),k=i.left-b.document.scrollLeft();i=i.top-b.document.scrollTop();c.height=b.uiDialog.height();c.width=b.uiDialog.width();c.position={my:"left top",at:"left"+(k>=0?"+":"")+k+" top"+(i>=0?"+":"")+i,of:b.window};d(this).removeClass("ui-dialog-resizing");b._unblockFrames();b._trigger("resizeStop",g,a(h))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._untrackInstance();this._trackingInstances().unshift(this);this._focusedElement=
d(a.target)}})},_untrackInstance:function(){var a=this._trackingInstances(),b=d.inArray(this,a);b!==-1&&a.splice(b,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");if(!a){a=[];this.document.data("ui-dialog-instances",a)}return a},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||
this.uiDialog.hide()},_setOptions:function(a){var b=this,c=false,e={};d.each(a,function(f,g){b._setOption(f,g);if(f in b.sizeRelatedOptions)c=true;if(f in b.resizableRelatedOptions)e[f]=g});if(c){this._size();this._position()}this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var c,e=this.uiDialog;a==="dialogClass"&&e.removeClass(this.options.dialogClass).addClass(b);if(a!=="disabled"){this._super(a,b);a==="appendTo"&&this.uiDialog.appendTo(this._appendTo());
a==="buttons"&&this._createButtons();a==="closeText"&&this.uiDialogTitlebarClose.button({label:""+b});if(a==="draggable"){(c=e.is(":data(ui-draggable)"))&&!b&&e.draggable("destroy");!c&&b&&this._makeDraggable()}a==="position"&&this._position();if(a==="resizable"){(c=e.is(":data(ui-resizable)"))&&!b&&e.resizable("destroy");c&&typeof b==="string"&&e.resizable("option","handles",b);!c&&b!==false&&this._makeResizable()}a==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var a,
b,c,e=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(e.minWidth>e.width)e.width=e.minWidth;a=this.uiDialog.css({height:"auto",width:e.width}).outerHeight();b=Math.max(0,e.minHeight-a);c=typeof e.maxHeight==="number"?Math.max(0,e.maxHeight-a):"none";e.height==="auto"?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,e.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",
this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=d(this);return d("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(a){if(d(a.target).closest(".ui-dialog").length)return true;return!!d(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=
true;this._delay(function(){a=false});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(b){if(!a)if(!this._allowInteraction(b)){b.preventDefault();this._trackingInstances()[0]._focusTabbable()}}});this.overlay=d("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal)if(this.overlay){var a=
this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays");this.overlay.remove();this.overlay=null}}});d.widget("ui.droppable",{version:"1.11.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,b=this.options,c=b.accept;this.isover=
false;this.isout=true;this.accept=d.isFunction(c)?c:function(e){return e.is(c)};this.proportions=function(){if(arguments.length)a=arguments[0];else return a?a:(a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})};this._addToManager(b.scope);b.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){d.ui.ddmanager.droppables[a]=d.ui.ddmanager.droppables[a]||[];d.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var b=0;b<a.length;b++)a[b]===this&&
a.splice(b,1)},_destroy:function(){this._splice(d.ui.ddmanager.droppables[this.options.scope]);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,b){if(a==="accept")this.accept=d.isFunction(b)?b:function(c){return c.is(b)};else if(a==="scope"){this._splice(d.ui.ddmanager.droppables[this.options.scope]);this._addToManager(b)}this._super(a,b)},_activate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);
b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]===this.element[0]))if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",a,this.ui(b))}},_out:function(a){var b=
d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]===this.element[0]))if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",a,this.ui(b))}},_drop:function(a,b){var c=b||d.ui.ddmanager.current,e=false;if(!c||(c.currentItem||c.element)[0]===this.element[0])return false;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var f=d(this).droppable("instance");
if(f.options.greedy&&!f.options.disabled&&f.options.scope===c.options.scope&&f.accept.call(f.element[0],c.currentItem||c.element)&&d.ui.intersect(c,d.extend(f,{offset:f.element.offset()}),f.options.tolerance)){e=true;return false}});if(e)return false;if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",a,this.ui(c));
return this.element}return false},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});d.ui.intersect=function(){function a(b,c,e){return b>=c&&b<c+e}return function(b,c,e){if(!c.offset)return false;var f=(b.positionAbs||b.position.absolute).left,g=(b.positionAbs||b.position.absolute).top,h=f+b.helperProportions.width,i=g+b.helperProportions.height,k=c.offset.left,n=c.offset.top,p=k+c.proportions().width,q=n+c.proportions().height;switch(e){case "fit":return k<=
f&&h<=p&&n<=g&&i<=q;case "intersect":return k<f+b.helperProportions.width/2&&h-b.helperProportions.width/2<p&&n<g+b.helperProportions.height/2&&i-b.helperProportions.height/2<q;case "pointer":e=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left;b=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top;return a(b,n,c.proportions().height)&&a(e,k,c.proportions().width);case "touch":return(g>=n&&g<=q||i>=n&&i<=q||g<n&&i>q)&&(f>=k&&f<=p||h>=k&&h<=p||f<
k&&h>p);default:return false}}}();d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c,e,f=d.ui.ddmanager.droppables[a.options.scope]||[],g=b?b.type:null,h=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();c=0;a:for(;c<f.length;c++)if(!(f[c].options.disabled||a&&!f[c].accept.call(f[c].element[0],a.currentItem||a.element))){for(e=0;e<h.length;e++)if(h[e]===f[c].element[0]){f[c].proportions().height=0;continue a}f[c].visible=f[c].element.css("display")!==
"none";if(f[c].visible){g==="mousedown"&&f[c]._activate.call(f[c],b);f[c].offset=f[c].element.offset();f[c].proportions({width:f[c].element[0].offsetWidth,height:f[c].element[0].offsetHeight})}}},drop:function(a,b){var c=false;d.each((d.ui.ddmanager.droppables[a.options.scope]||[]).slice(),function(){if(this.options){if(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance))c=this._drop.call(this,b)||c;if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],
a.currentItem||a.element)){this.isout=true;this.isover=false;this._deactivate.call(this,b)}}});return c},dragStart:function(a,b){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,b)})},drag:function(a,b){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var c,e,f;f=d.ui.intersect(a,this,
this.options.tolerance);var g=!f&&this.isover?"isout":f&&!this.isover?"isover":null;if(g){if(this.options.greedy){e=this.options.scope;f=this.element.parents(":data(ui-droppable)").filter(function(){return d(this).droppable("instance").options.scope===e});if(f.length){c=d(f[0]).droppable("instance");c.greedyChild=g==="isover"}}if(c&&g==="isover"){c.isover=false;c.isout=true;c._out.call(c,b)}this[g]=true;this[g==="isout"?"isover":"isout"]=false;this[g==="isover"?"_over":"_out"].call(this,b);if(c&&
g==="isout"){c.isout=false;c.isover=true;c._over.call(c,b)}}}})},dragStop:function(a,b){a.element.parentsUntil("body").unbind("scroll.droppable");a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,b)}};d.effects={effect:{}};(function(a,b){function c(j,l,m){var o=n[l.type]||{};if(j==null)return m||!l.def?null:l.def;j=o.floor?~~j:parseFloat(j);if(isNaN(j))return l.def;if(o.mod)return(j+o.mod)%o.mod;return 0>j?0:o.max<j?o.max:j}function e(j){var l=i(),m=l._rgba=[];j=j.toLowerCase();s(h,function(o,
r){o=(o=r.re.exec(j))&&r.parse(o);r=r.space||"rgba";if(o){o=l[r](o);l[k[r].cache]=o[k[r].cache];m=l._rgba=o._rgba;return false}});if(m.length){m.join()==="0,0,0,0"&&a.extend(m,t.transparent);return l}return t[j]}function f(j,l,m){m=(m+1)%1;if(m*6<1)return j+(l-j)*m*6;if(m*2<1)return l;if(m*3<2)return j+(l-j)*(2/3-m)*6;return j}var g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(j){return[j[1],j[2],j[3],j[4]]}},
{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(j){return[j[1]*2.55,j[2]*2.55,j[3]*2.55,j[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(j){return[parseInt(j[1],16),parseInt(j[2],16),parseInt(j[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(j){return[parseInt(j[1]+j[1],16),parseInt(j[2]+j[2],16),parseInt(j[3]+j[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
space:"hsla",parse:function(j){return[j[1],j[2]/100,j[3]/100,j[4]]}}],i=a.Color=function(j,l,m,o){return new a.Color.fn.parse(j,l,m,o)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},n={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},p=i.support={},q=a("<p>")[0],t,s=a.each;q.style.cssText="background-color:rgba(1,1,1,.5)";
p.rgba=q.style.backgroundColor.indexOf("rgba")>-1;s(k,function(j,l){l.cache="_"+j;l.props.alpha={idx:3,type:"percent",def:1}});i.fn=a.extend(i.prototype,{parse:function(j,l,m,o){if(j===b){this._rgba=[null,null,null,null];return this}if(j.jquery||j.nodeType){j=a(j).css(l);l=b}var r=this,w=a.type(j),u=this._rgba=[];if(l!==b){j=[j,l,m,o];w="array"}if(w==="string")return this.parse(e(j)||t._default);if(w==="array"){s(k.rgba.props,function(y,v){u[v.idx]=c(j[v.idx],v)});return this}if(w==="object"){j instanceof
i?s(k,function(y,v){if(j[v.cache])r[v.cache]=j[v.cache].slice()}):s(k,function(y,v){var x=v.cache;s(v.props,function(z,B){if(!r[x]&&v.to){if(z==="alpha"||j[z]==null)return;r[x]=v.to(r._rgba)}r[x][B.idx]=c(j[z],B,true)});if(r[x]&&a.inArray(null,r[x].slice(0,3))<0){r[x][3]=1;if(v.from)r._rgba=v.from(r[x])}});return this}},is:function(j){var l=i(j),m=true,o=this;s(k,function(r,w){var u,y=l[w.cache];if(y){u=o[w.cache]||w.to&&w.to(o._rgba)||[];s(w.props,function(v,x){if(y[x.idx]!=null)return m=y[x.idx]===
u[x.idx]})}return m});return m},_space:function(){var j=[],l=this;s(k,function(m,o){l[o.cache]&&j.push(m)});return j.pop()},transition:function(j,l){var m=i(j);j=m._space();var o=k[j],r=this.alpha()===0?i("transparent"):this,w=r[o.cache]||o.to(r._rgba),u=w.slice();m=m[o.cache];s(o.props,function(y,v){y=v.idx;var x=w[y],z=m[y],B=n[v.type]||{};if(z!==null)if(x===null)u[y]=z;else{if(B.mod)if(z-x>B.mod/2)x+=B.mod;else if(x-z>B.mod/2)x-=B.mod;u[y]=c((z-x)*l+x,v)}});return this[j](u)},blend:function(j){if(this._rgba[3]===
1)return this;var l=this._rgba.slice(),m=l.pop(),o=i(j)._rgba;return i(a.map(l,function(r,w){return(1-m)*o[w]+m*r}))},toRgbaString:function(){var j="rgba(",l=a.map(this._rgba,function(m,o){return m==null?o>2?1:0:m});if(l[3]===1){l.pop();j="rgb("}return j+l.join()+")"},toHslaString:function(){var j="hsla(",l=a.map(this.hsla(),function(m,o){if(m==null)m=o>2?1:0;if(o&&o<3)m=Math.round(m*100)+"%";return m});if(l[3]===1){l.pop();j="hsl("}return j+l.join()+")"},toHexString:function(j){var l=this._rgba.slice(),
m=l.pop();j&&l.push(~~(m*255));return"#"+a.map(l,function(o){o=(o||0).toString(16);return o.length===1?"0"+o:o}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;k.hsla.to=function(j){if(j[0]==null||j[1]==null||j[2]==null)return[null,null,null,j[3]];var l=j[0]/255,m=j[1]/255,o=j[2]/255;j=j[3];var r=Math.max(l,m,o),w=Math.min(l,m,o),u=r-w,y=r+w,v=y*0.5;l=w===r?0:l===r?60*(m-o)/u+360:m===r?60*(o-l)/u+120:60*(l-m)/u+240;m=u===0?0:v<=
0.5?u/y:u/(2-y);return[Math.round(l)%360,m,v,j==null?1:j]};k.hsla.from=function(j){if(j[0]==null||j[1]==null||j[2]==null)return[null,null,null,j[3]];var l=j[0]/360,m=j[1],o=j[2];j=j[3];m=o<=0.5?o*(1+m):o+m-o*m;o=2*o-m;return[Math.round(f(o,m,l+1/3)*255),Math.round(f(o,m,l)*255),Math.round(f(o,m,l-1/3)*255),j]};s(k,function(j,l){var m=l.props,o=l.cache,r=l.to,w=l.from;i.fn[j]=function(u){if(r&&!this[o])this[o]=r(this._rgba);if(u===b)return this[o].slice();var y,v=a.type(u),x=v==="array"||v==="object"?
u:arguments,z=this[o].slice();s(m,function(B,A){B=x[v==="object"?B:A.idx];if(B==null)B=z[A.idx];z[A.idx]=c(B,A)});if(w){y=i(w(z));y[o]=z;return y}else return i(z)};s(m,function(u,y){i.fn[u]||(i.fn[u]=function(v){var x=a.type(v),z=u==="alpha"?this._hsla?"hsla":"rgba":j,B=this[z](),A=B[y.idx];if(x==="undefined")return A;if(x==="function"){v=v.call(this,A);x=a.type(v)}if(v==null&&y.empty)return this;if(x==="string")if(x=g.exec(v))v=A+parseFloat(x[2])*(x[1]==="+"?1:-1);B[y.idx]=v;return this[z](B)})})});
i.hook=function(j){j=j.split(" ");s(j,function(l,m){a.cssHooks[m]={set:function(o,r){var w,u="";if(r!=="transparent"&&(a.type(r)!=="string"||(w=e(r)))){r=i(w||r);if(!p.rgba&&r._rgba[3]!==1){for(w=m==="backgroundColor"?o.parentNode:o;(u===""||u==="transparent")&&w&&w.style;)try{u=a.css(w,"backgroundColor");w=w.parentNode}catch(y){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{o.style[m]=r}catch(v){}}};a.fx.step[m]=function(o){if(!o.colorInit){o.start=i(o.elem,m);o.end=i(o.end);
o.colorInit=true}a.cssHooks[m].set(o.elem,o.start.transition(o.end,o.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor={expand:function(j){var l={};s(["Top","Right","Bottom","Left"],function(m,o){l["border"+o+"Color"]=j});return l}};t=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",
maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function a(f){var g,h=f.ownerDocument.defaultView?f.ownerDocument.defaultView.getComputedStyle(f,null):f.currentStyle,i={};if(h&&h.length&&h[0]&&h[h[0]])for(f=h.length;f--;){g=h[f];if(typeof h[g]==="string")i[d.camelCase(g)]=h[g]}else for(g in h)if(typeof h[g]==="string")i[g]=h[g];return i}
function b(f,g){var h={},i,k;for(i in g){k=g[i];if(f[i]!==k)if(!e[i])if(d.fx.step[i]||!isNaN(parseFloat(k)))h[i]=k}return h}var c=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(f,g){d.fx.step[g]=function(h){if(h.end!=="none"&&!h.setAttr||h.pos===1&&!h.setAttr){jQuery.style(h.elem,g,h.end);h.setAttr=true}}});if(!d.fn.addBack)d.fn.addBack=
function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))};d.effects.animateClass=function(f,g,h,i){var k=d.speed(g,h,i);return this.queue(function(){var n=d(this),p=n.attr("class")||"",q,t=k.children?n.find("*").addBack():n;t=t.map(function(){return{el:d(this),start:a(this)}});q=function(){d.each(c,function(s,j){f[j]&&n[j+"Class"](f[j])})};q();t=t.map(function(){this.end=a(this.el[0]);this.diff=b(this.start,this.end);return this});n.attr("class",p);t=t.map(function(){var s=this,
j=d.Deferred();this.el.animate(this.diff,d.extend({},k,{queue:false,complete:function(){j.resolve(s)}}));return j.promise()});d.when.apply(d,t.get()).done(function(){q();d.each(arguments,function(){var s=this.el;d.each(this.diff,function(j){s.css(j,"")})});k.complete.call(n[0])})})};d.fn.extend({addClass:function(f){return function(g,h,i,k){return h?d.effects.animateClass.call(this,{add:g},h,i,k):f.apply(this,arguments)}}(d.fn.addClass),removeClass:function(f){return function(g,h,i,k){return arguments.length>
1?d.effects.animateClass.call(this,{remove:g},h,i,k):f.apply(this,arguments)}}(d.fn.removeClass),toggleClass:function(f){return function(g,h,i,k,n){return typeof h==="boolean"||h===undefined?i?d.effects.animateClass.call(this,h?{add:g}:{remove:g},i,k,n):f.apply(this,arguments):d.effects.animateClass.call(this,{toggle:g},h,i,k)}}(d.fn.toggleClass),switchClass:function(f,g,h,i,k){return d.effects.animateClass.call(this,{add:g,remove:f},h,i,k)}})})();(function(){function a(c,e,f,g){if(d.isPlainObject(c)){e=
c;c=c.effect}c={effect:c};if(e==null)e={};if(d.isFunction(e)){g=e;f=null;e={}}if(typeof e==="number"||d.fx.speeds[e]){g=f;f=e;e={}}if(d.isFunction(f)){g=f;f=null}e&&d.extend(c,e);f=f||e.duration;c.duration=d.fx.off?0:typeof f==="number"?f:f in d.fx.speeds?d.fx.speeds[f]:d.fx.speeds._default;c.complete=g||e.complete;return c}function b(c){if(!c||typeof c==="number"||d.fx.speeds[c])return true;if(typeof c==="string"&&!d.effects.effect[c])return true;if(d.isFunction(c))return true;if(typeof c==="object"&&
!c.effect)return true;return false}d.extend(d.effects,{version:"1.11.0",save:function(c,e){for(var f=0;f<e.length;f++)e[f]!==null&&c.data("ui-effects-"+e[f],c[0].style[e[f]])},restore:function(c,e){var f,g;for(g=0;g<e.length;g++)if(e[g]!==null){f=c.data("ui-effects-"+e[g]);if(f===undefined)f="";c.css(e[g],f)}},setMode:function(c,e){if(e==="toggle")e=c.is(":hidden")?"show":"hide";return e},getBaseline:function(c,e){var f;switch(c[0]){case "top":f=0;break;case "middle":f=0.5;break;case "bottom":f=1;
break;default:f=c[0]/e.height}switch(c[1]){case "left":c=0;break;case "center":c=0.5;break;case "right":c=1;break;default:c=c[1]/e.width}return{x:c,y:f}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var e={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},f=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:c.width(),height:c.height()},h=document.activeElement;
c.wrap(f);if(c[0]===h||d.contains(c[0],h))d(h).focus();f=c.parent();if(c.css("position")==="static"){f.css({position:"relative"});c.css({position:"relative"})}else{d.extend(e,{position:c.css("position"),zIndex:c.css("z-index")});d.each(["top","left","bottom","right"],function(i,k){e[k]=c.css(k);if(isNaN(parseInt(e[k],10)))e[k]="auto"});c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}c.css(g);return f.css(e).show()},removeWrapper:function(c){var e=document.activeElement;if(c.parent().is(".ui-effects-wrapper")){c.parent().replaceWith(c);
if(c[0]===e||d.contains(c[0],e))d(e).focus()}return c},setTransition:function(c,e,f,g){g=g||{};d.each(e,function(h,i){h=c.cssUnit(i);if(h[0]>0)g[i]=h[0]*f+h[1]});return g}});d.fn.extend({effect:function(){function c(i){function k(){d.isFunction(p)&&p.call(n[0]);d.isFunction(i)&&i()}var n=d(this),p=e.complete,q=e.mode;if(n.is(":hidden")?q==="hide":q==="show"){n[q]();k()}else h.call(n[0],e,k)}var e=a.apply(this,arguments),f=e.mode,g=e.queue,h=d.effects.effect[e.effect];if(d.fx.off||!h)return f?this[f](e.duration,
e.complete):this.each(function(){e.complete&&e.complete.call(this)});return g===false?this.each(c):this.queue(g||"fx",c)},show:function(c){return function(e){if(b(e))return c.apply(this,arguments);else{var f=a.apply(this,arguments);f.mode="show";return this.effect.call(this,f)}}}(d.fn.show),hide:function(c){return function(e){if(b(e))return c.apply(this,arguments);else{var f=a.apply(this,arguments);f.mode="hide";return this.effect.call(this,f)}}}(d.fn.hide),toggle:function(c){return function(e){if(b(e)||
typeof e==="boolean")return c.apply(this,arguments);else{var f=a.apply(this,arguments);f.mode="toggle";return this.effect.call(this,f)}}}(d.fn.toggle),cssUnit:function(c){var e=this.css(c),f=[];d.each(["em","px","%","pt"],function(g,h){if(e.indexOf(h)>0)f=[parseFloat(e),h]});return f}})})();(function(){var a={};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,c){a[c]=function(e){return Math.pow(e,b+2)}});d.extend(a,{Sine:function(b){return 1-Math.cos(b*Math.PI/2)},Circ:function(b){return 1-
Math.sqrt(1-b*b)},Elastic:function(b){return b===0||b===1?b:-Math.pow(2,8*(b-1))*Math.sin(((b-1)*80-7.5)*Math.PI/15)},Back:function(b){return b*b*(3*b-2)},Bounce:function(b){for(var c,e=4;b<((c=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((c*3-2)/22-b,2)}});d.each(a,function(b,c){d.easing["easeIn"+b]=c;d.easing["easeOut"+b]=function(e){return 1-c(1-e)};d.easing["easeInOut"+b]=function(e){return e<0.5?c(e*2)/2:1-c(e*-2+2)/2}})})();d.effects.effect.blind=function(a,b){var c=d(this),
e=["position","top","bottom","left","right","height","width"],f=d.effects.setMode(c,a.mode||"hide"),g=a.direction||"up",h=/up|down|vertical/.test(g),i=h?"height":"width",k=h?"top":"left";g=/up|left|vertical|horizontal/.test(g);var n={},p=f==="show",q,t,s;c.parent().is(".ui-effects-wrapper")?d.effects.save(c.parent(),e):d.effects.save(c,e);c.show();q=d.effects.createWrapper(c).css({overflow:"hidden"});t=q[i]();s=parseFloat(q.css(k))||0;n[i]=p?t:0;if(!g){c.css(h?"bottom":"right",0).css(h?"top":"left",
"auto").css({position:"absolute"});n[k]=p?s:t+s}if(p){q.css(i,0);g||q.css(k,s+t)}q.animate(n,{duration:a.duration,easing:a.easing,queue:false,complete:function(){f==="hide"&&c.hide();d.effects.restore(c,e);d.effects.removeWrapper(c);b()}})};d.effects.effect.bounce=function(a,b){var c=d(this),e=["position","top","bottom","left","right","height","width"],f=d.effects.setMode(c,a.mode||"effect"),g=f==="hide",h=f==="show",i=a.direction||"up";f=a.distance;var k=a.times||5,n=k*2+(h||g?1:0),p=a.duration/
n;a=a.easing;var q=i==="up"||i==="down"?"top":"left";i=i==="up"||i==="left";var t,s,j=c.queue(),l=j.length;if(h||g)e.push("opacity");d.effects.save(c,e);c.show();d.effects.createWrapper(c);f||(f=c[q==="top"?"outerHeight":"outerWidth"]()/3);if(h){s={opacity:1};s[q]=0;c.css("opacity",0).css(q,i?-f*2:f*2).animate(s,p,a)}if(g)f/=Math.pow(2,k-1);s={};for(h=s[q]=0;h<k;h++){t={};t[q]=(i?"-=":"+=")+f;c.animate(t,p,a).animate(s,p,a);f=g?f*2:f/2}if(g){t={opacity:0};t[q]=(i?"-=":"+=")+f;c.animate(t,p,a)}c.queue(function(){g&&
c.hide();d.effects.restore(c,e);d.effects.removeWrapper(c);b()});l>1&&j.splice.apply(j,[1,0].concat(j.splice(l,n+1)));c.dequeue()};d.effects.effect.clip=function(a,b){var c=d(this),e=["position","top","bottom","left","right","height","width"],f=d.effects.setMode(c,a.mode||"hide")==="show",g=(a.direction||"vertical")==="vertical",h=g?"height":"width";g=g?"top":"left";var i={},k,n;d.effects.save(c,e);c.show();k=d.effects.createWrapper(c).css({overflow:"hidden"});k=c[0].tagName==="IMG"?k:c;n=k[h]();
if(f){k.css(h,0);k.css(g,n/2)}i[h]=f?n:0;i[g]=f?0:n/2;k.animate(i,{queue:false,duration:a.duration,easing:a.easing,complete:function(){f||c.hide();d.effects.restore(c,e);d.effects.removeWrapper(c);b()}})};d.effects.effect.drop=function(a,b){var c=d(this),e=["position","top","bottom","left","right","opacity","height","width"],f=d.effects.setMode(c,a.mode||"hide"),g=f==="show",h=a.direction||"left",i=h==="up"||h==="down"?"top":"left";h=h==="up"||h==="left"?"pos":"neg";var k={opacity:g?1:0},n;d.effects.save(c,
e);c.show();d.effects.createWrapper(c);n=a.distance||c[i==="top"?"outerHeight":"outerWidth"](true)/2;if(g)c.css("opacity",0).css(i,h==="pos"?-n:n);k[i]=(g?h==="pos"?"+=":"-=":h==="pos"?"-=":"+=")+n;c.animate(k,{queue:false,duration:a.duration,easing:a.easing,complete:function(){f==="hide"&&c.hide();d.effects.restore(c,e);d.effects.removeWrapper(c);b()}})};d.effects.effect.explode=function(a,b){function c(){q.push(this);q.length===f*g&&e()}function e(){h.css({visibility:"visible"});d(q).remove();i||
h.hide();b()}var f=a.pieces?Math.round(Math.sqrt(a.pieces)):3,g=f,h=d(this),i=d.effects.setMode(h,a.mode||"hide")==="show",k=h.show().css("visibility","hidden").offset(),n=Math.ceil(h.outerWidth()/g),p=Math.ceil(h.outerHeight()/f),q=[],t,s,j,l,m,o;for(t=0;t<f;t++){l=k.top+t*p;o=t-(f-1)/2;for(s=0;s<g;s++){j=k.left+s*n;m=s-(g-1)/2;h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*n,top:-t*p}).parent().addClass("ui-effects-explode").css({position:"absolute",
overflow:"hidden",width:n,height:p,left:j+(i?m*n:0),top:l+(i?o*p:0),opacity:i?0:1}).animate({left:j+(i?0:m*n),top:l+(i?0:o*p),opacity:i?1:0},a.duration||500,a.easing,c)}}};d.effects.effect.fade=function(a,b){var c=d(this),e=d.effects.setMode(c,a.mode||"toggle");c.animate({opacity:e},{queue:false,duration:a.duration,easing:a.easing,complete:b})};d.effects.effect.fold=function(a,b){var c=d(this),e=["position","top","bottom","left","right","height","width"],f=d.effects.setMode(c,a.mode||"hide"),g=f===
"show",h=f==="hide";f=a.size||15;var i=/([0-9]+)%/.exec(f),k=!!a.horizFirst,n=g!==k,p=n?["width","height"]:["height","width"],q=a.duration/2,t,s={},j={};d.effects.save(c,e);c.show();t=d.effects.createWrapper(c).css({overflow:"hidden"});n=n?[t.width(),t.height()]:[t.height(),t.width()];if(i)f=parseInt(i[1],10)/100*n[h?0:1];if(g)t.css(k?{height:0,width:f}:{height:f,width:0});s[p[0]]=g?n[0]:f;j[p[1]]=g?n[1]:0;t.animate(s,q,a.easing).animate(j,q,a.easing,function(){h&&c.hide();d.effects.restore(c,e);
d.effects.removeWrapper(c);b()})};d.effects.effect.highlight=function(a,b){var c=d(this),e=["backgroundImage","backgroundColor","opacity"],f=d.effects.setMode(c,a.mode||"show"),g={backgroundColor:c.css("backgroundColor")};if(f==="hide")g.opacity=0;d.effects.save(c,e);c.show().css({backgroundImage:"none",backgroundColor:a.color||"#ffff99"}).animate(g,{queue:false,duration:a.duration,easing:a.easing,complete:function(){f==="hide"&&c.hide();d.effects.restore(c,e);b()}})};d.effects.effect.size=function(a,
b){var c,e,f,g=d(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"];c=["position","top","bottom","left","right","overflow","opacity"];var i=["width","height","overflow"],k=["fontSize"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],p=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],q=d.effects.setMode(g,a.mode||"effect"),t=a.restore||q!=="effect",s=a.scale||"both";e=a.origin||["middle","center"];var j=g.css("position"),
l=t?h:c,m={height:0,width:0,outerHeight:0,outerWidth:0};q==="show"&&g.show();c={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()};if(a.mode==="toggle"&&q==="show"){g.from=a.to||m;g.to=a.from||c}else{g.from=a.from||(q==="show"?m:c);g.to=a.to||(q==="hide"?m:c)}f={from:{y:g.from.height/c.height,x:g.from.width/c.width},to:{y:g.to.height/c.height,x:g.to.width/c.width}};if(s==="box"||s==="both"){if(f.from.y!==f.to.y){l=l.concat(n);g.from=d.effects.setTransition(g,
n,f.from.y,g.from);g.to=d.effects.setTransition(g,n,f.to.y,g.to)}if(f.from.x!==f.to.x){l=l.concat(p);g.from=d.effects.setTransition(g,p,f.from.x,g.from);g.to=d.effects.setTransition(g,p,f.to.x,g.to)}}if(s==="content"||s==="both")if(f.from.y!==f.to.y){l=l.concat(k).concat(i);g.from=d.effects.setTransition(g,k,f.from.y,g.from);g.to=d.effects.setTransition(g,k,f.to.y,g.to)}d.effects.save(g,l);g.show();d.effects.createWrapper(g);g.css("overflow","hidden").css(g.from);if(e){e=d.effects.getBaseline(e,c);
g.from.top=(c.outerHeight-g.outerHeight())*e.y;g.from.left=(c.outerWidth-g.outerWidth())*e.x;g.to.top=(c.outerHeight-g.to.outerHeight)*e.y;g.to.left=(c.outerWidth-g.to.outerWidth)*e.x}g.css(g.from);if(s==="content"||s==="both"){n=n.concat(["marginTop","marginBottom"]).concat(k);p=p.concat(["marginLeft","marginRight"]);i=h.concat(n).concat(p);g.find("*[width]").each(function(){var o=d(this),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()};t&&d.effects.save(o,
i);o.from={height:r.height*f.from.y,width:r.width*f.from.x,outerHeight:r.outerHeight*f.from.y,outerWidth:r.outerWidth*f.from.x};o.to={height:r.height*f.to.y,width:r.width*f.to.x,outerHeight:r.height*f.to.y,outerWidth:r.width*f.to.x};if(f.from.y!==f.to.y){o.from=d.effects.setTransition(o,n,f.from.y,o.from);o.to=d.effects.setTransition(o,n,f.to.y,o.to)}if(f.from.x!==f.to.x){o.from=d.effects.setTransition(o,p,f.from.x,o.from);o.to=d.effects.setTransition(o,p,f.to.x,o.to)}o.css(o.from);o.animate(o.to,
a.duration,a.easing,function(){t&&d.effects.restore(o,i)})})}g.animate(g.to,{queue:false,duration:a.duration,easing:a.easing,complete:function(){g.to.opacity===0&&g.css("opacity",g.from.opacity);q==="hide"&&g.hide();d.effects.restore(g,l);t||(j==="static"?g.css({position:"relative",top:g.to.top,left:g.to.left}):d.each(["top","left"],function(o,r){g.css(r,function(w,u){var y=parseInt(u,10),v=o?g.to.left:g.to.top;if(u==="auto")return v+"px";return y+v+"px"})}));d.effects.removeWrapper(g);b()}})};d.effects.effect.scale=
function(a,b){var c=d(this),e=d.extend(true,{},a),f=d.effects.setMode(c,a.mode||"effect"),g=parseInt(a.percent,10)||(parseInt(a.percent,10)===0?0:f==="hide"?0:100),h=a.direction||"both",i=a.origin,k={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};g={y:h!=="horizontal"?g/100:1,x:h!=="vertical"?g/100:1};e.effect="size";e.queue=false;e.complete=b;if(f!=="effect"){e.origin=i||["middle","center"];e.restore=true}e.from=a.from||(f==="show"?{height:0,width:0,outerHeight:0,
outerWidth:0}:k);e.to={height:k.height*g.y,width:k.width*g.x,outerHeight:k.outerHeight*g.y,outerWidth:k.outerWidth*g.x};if(e.fade){if(f==="show"){e.from.opacity=0;e.to.opacity=1}if(f==="hide"){e.from.opacity=1;e.to.opacity=0}}c.effect(e)};d.effects.effect.puff=function(a,b){var c=d(this),e=d.effects.setMode(c,a.mode||"hide"),f=e==="hide",g=parseInt(a.percent,10)||150,h=g/100,i={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};d.extend(a,{effect:"scale",queue:false,
fade:true,mode:e,complete:b,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h,outerHeight:i.outerHeight*h,outerWidth:i.outerWidth*h}});c.effect(a)};d.effects.effect.pulsate=function(a,b){var c=d(this),e=d.effects.setMode(c,a.mode||"show"),f=e==="show",g=e==="hide";e=(a.times||5)*2+(f||e==="hide"?1:0);var h=a.duration/e,i=0,k=c.queue(),n=k.length;if(f||!c.is(":visible")){c.css("opacity",0).show();i=1}for(f=1;f<e;f++){c.animate({opacity:i},h,a.easing);i=1-i}c.animate({opacity:i},h,a.easing);
c.queue(function(){g&&c.hide();b()});n>1&&k.splice.apply(k,[1,0].concat(k.splice(n,e+1)));c.dequeue()};d.effects.effect.shake=function(a,b){var c=d(this),e=["position","top","bottom","left","right","height","width"],f=d.effects.setMode(c,a.mode||"effect"),g=a.direction||"left",h=a.distance||20,i=a.times||3,k=i*2+1,n=Math.round(a.duration/k),p=g==="up"||g==="down"?"top":"left",q=g==="up"||g==="left";g={};var t={},s={},j=c.queue(),l=j.length;d.effects.save(c,e);c.show();d.effects.createWrapper(c);g[p]=
(q?"-=":"+=")+h;t[p]=(q?"+=":"-=")+h*2;s[p]=(q?"-=":"+=")+h*2;c.animate(g,n,a.easing);for(h=1;h<i;h++)c.animate(t,n,a.easing).animate(s,n,a.easing);c.animate(t,n,a.easing).animate(g,n/2,a.easing).queue(function(){f==="hide"&&c.hide();d.effects.restore(c,e);d.effects.removeWrapper(c);b()});l>1&&j.splice.apply(j,[1,0].concat(j.splice(l,k+1)));c.dequeue()};d.effects.effect.slide=function(a,b){var c=d(this),e=["position","top","bottom","left","right","width","height"],f=d.effects.setMode(c,a.mode||"show"),
g=f==="show",h=a.direction||"left",i=h==="up"||h==="down"?"top":"left";h=h==="up"||h==="left";var k,n={};d.effects.save(c,e);c.show();k=a.distance||c[i==="top"?"outerHeight":"outerWidth"](true);d.effects.createWrapper(c).css({overflow:"hidden"});if(g)c.css(i,h?isNaN(k)?"-"+k:-k:k);n[i]=(g?h?"+=":"-=":h?"-=":"+=")+k;c.animate(n,{queue:false,duration:a.duration,easing:a.easing,complete:function(){f==="hide"&&c.hide();d.effects.restore(c,e);d.effects.removeWrapper(c);b()}})};d.effects.effect.transfer=
function(a,b){var c=d(this),e=d(a.to),f=e.css("position")==="fixed",g=d("body"),h=f?g.scrollTop():0;g=f?g.scrollLeft():0;var i=e.offset();e={top:i.top-h,left:i.left-g,height:e.innerHeight(),width:e.innerWidth()};i=c.offset();var k=d("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(a.className).css({top:i.top-h,left:i.left-g,height:c.innerHeight(),width:c.innerWidth(),position:f?"fixed":"absolute"}).animate(e,a.duration,a.easing,function(){k.remove();b()})};d.widget("ui.progressbar",
{version:"1.11.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(a){if(a===undefined)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){if(a===undefined)a=this.options.value;this.indeterminate=a===false;if(typeof a!=="number")a=0;return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,
b){if(a==="max")b=Math.max(this.min,b);a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b);this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",
this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv)this.overlayDiv=d("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==a){this.oldValue=a;this._trigger("change")}a===this.options.max&&this._trigger("complete")}});d.widget("ui.selectable",d.ui.mouse,{version:"1.11.0",
options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var a,b=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){a=d(b.options.filter,b.element[0]);a.addClass("ui-selectee");a.each(function(){var c=d(this),e=c.offset();d.data(this,"selectable-item",{element:this,$element:c,left:e.left,top:e.top,right:e.left+c.outerWidth(),bottom:e.top+
c.outerHeight(),startselected:false,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})};this.refresh();this.selectees=a.addClass("ui-selectee");this._mouseInit();this.helper=d("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(a){var b=this,
c=this.options;this.opos=[a.pageX,a.pageY];if(!this.options.disabled){this.selectees=d(c.filter,this.element[0]);this._trigger("start",a);d(c.appendTo).append(this.helper);this.helper.css({left:a.pageX,top:a.pageY,width:0,height:0});c.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var e=d.data(this,"selectable-item");e.startselected=true;if(!a.metaKey&&!a.ctrlKey){e.$element.removeClass("ui-selected");e.selected=false;e.$element.addClass("ui-unselecting");e.unselecting=
true;b._trigger("unselecting",a,{unselecting:e.element})}});d(a.target).parents().addBack().each(function(){var e,f=d.data(this,"selectable-item");if(f){e=!a.metaKey&&!a.ctrlKey||!f.$element.hasClass("ui-selected");f.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting");f.unselecting=!e;f.selecting=e;(f.selected=e)?b._trigger("selecting",a,{selecting:f.element}):b._trigger("unselecting",a,{unselecting:f.element});return false}})}},_mouseDrag:function(a){this.dragged=
true;if(!this.options.disabled){var b,c=this,e=this.options,f=this.opos[0],g=this.opos[1],h=a.pageX,i=a.pageY;if(f>h){b=h;h=f;f=b}if(g>i){b=i;i=g;g=b}this.helper.css({left:f,top:g,width:h-f,height:i-g});this.selectees.each(function(){var k=d.data(this,"selectable-item"),n=false;if(!(!k||k.element===c.element[0])){if(e.tolerance==="touch")n=!(k.left>h||k.right<f||k.top>i||k.bottom<g);else if(e.tolerance==="fit")n=k.left>f&&k.right<h&&k.top>g&&k.bottom<i;if(n){if(k.selected){k.$element.removeClass("ui-selected");
k.selected=false}if(k.unselecting){k.$element.removeClass("ui-unselecting");k.unselecting=false}if(!k.selecting){k.$element.addClass("ui-selecting");k.selecting=true;c._trigger("selecting",a,{selecting:k.element})}}else{if(k.selecting)if((a.metaKey||a.ctrlKey)&&k.startselected){k.$element.removeClass("ui-selecting");k.selecting=false;k.$element.addClass("ui-selected");k.selected=true}else{k.$element.removeClass("ui-selecting");k.selecting=false;if(k.startselected){k.$element.addClass("ui-unselecting");
k.unselecting=true}c._trigger("unselecting",a,{unselecting:k.element})}if(k.selected)if(!a.metaKey&&!a.ctrlKey&&!k.startselected){k.$element.removeClass("ui-selected");k.selected=false;k.$element.addClass("ui-unselecting");k.unselecting=true;c._trigger("unselecting",a,{unselecting:k.element})}}}});return false}},_mouseStop:function(a){var b=this;this.dragged=false;d(".ui-unselecting",this.element[0]).each(function(){var c=d.data(this,"selectable-item");c.$element.removeClass("ui-unselecting");c.unselecting=
false;c.startselected=false;b._trigger("unselected",a,{unselected:c.element})});d(".ui-selecting",this.element[0]).each(function(){var c=d.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected");c.selecting=false;c.selected=true;c.startselected=true;b._trigger("selected",a,{selected:c.element})});this._trigger("stop",a);this.helper.remove();return false}});d.widget("ui.selectmenu",{version:"1.11.0",defaultElement:"<select>",options:{appendTo:null,disabled:null,
icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var a=this,b=this.element.attr("tabindex");this.label=d("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,
{click:function(c){this.button.focus();c.preventDefault()}});this.element.hide();this.button=d("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:b||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);d("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=d("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);
this._setText(this.buttonText,this.element.find("option:selected").text());this._setOption("width",this.options.width);this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){a.menuItems||a._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=d("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=d("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());
this.menuInstance=this.menu.menu({role:"listbox",select:function(b,c){b.preventDefault();a._select(c.item.data("ui-selectmenu-item"),b)},focus:function(b,c){c=c.item.data("ui-selectmenu-item");if(a.focusIndex!=null&&c.index!==a.focusIndex){a._trigger("focus",b,{item:c});a.isOpen||a._select(c,b)}a.focusIndex=c.index;a.button.attr("aria-activedescendant",a.menuItems.eq(c.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,
"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false};this.menuInstance._isDivider=function(){return false}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());this._setOption("width",this.options.width)},_refreshMenu:function(){this.menu.empty();var a;a=this.element.find("option");if(a.length){this._parseOptions(a);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup");
a=this._getSelectedItem();this.menuInstance.focus(null,a);this._setAria(a.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"))}},open:function(a){if(!this.options.disabled){if(this.menuItems){this.menu.find(".ui-state-focus").removeClass("ui-state-focus");this.menuInstance.focus(null,this._getSelectedItem())}else this._refreshMenu();this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",
a)}},_position:function(){this.menuWrap.position(d.extend({of:this.button},this.options.position))},close:function(a){if(this.isOpen){this.isOpen=false;this._toggleAttr();this._off(this.document);this._trigger("close",a)}},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(a,b){var c=this,e="";d.each(b,function(f,g){if(g.optgroup!==e){d("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(g.element.parent("optgroup").prop("disabled")?" ui-state-disabled":
""),text:g.optgroup}).appendTo(a);e=g.optgroup}c._renderItemData(a,g)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(a,b){var c=d("<li>");b.disabled&&c.addClass("ui-state-disabled");this._setText(c,b.label);return c.appendTo(a)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,b){var c,e=".ui-menu-item";if(this.isOpen)c=this.menuItems.eq(this.focusIndex);else{c=this.menuItems.eq(this.element[0].selectedIndex);e+=
":not(.ui-state-disabled)"}a=a==="first"||a==="last"?c[a==="first"?"prevAll":"nextAll"](e).eq(-1):c[a+"All"](e).eq(0);a.length&&this.menuInstance.focus(b,a)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_documentClick:{mousedown:function(a){if(this.isOpen)d(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a)}},_buttonEvents:{click:"_toggle",keydown:function(a){var b=true;
switch(a.keyCode){case d.ui.keyCode.TAB:case d.ui.keyCode.ESCAPE:this.close(a);b=false;break;case d.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(a);break;case d.ui.keyCode.UP:a.altKey?this._toggle(a):this._move("prev",a);break;case d.ui.keyCode.DOWN:a.altKey?this._toggle(a):this._move("next",a);break;case d.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(a):this._toggle(a);break;case d.ui.keyCode.LEFT:this._move("prev",a);break;case d.ui.keyCode.RIGHT:this._move("next",a);break;case d.ui.keyCode.HOME:case d.ui.keyCode.PAGE_UP:this._move("first",
a);break;case d.ui.keyCode.END:case d.ui.keyCode.PAGE_DOWN:this._move("last",a);break;default:this.menu.trigger(a);b=false}b&&a.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex);b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index;this._setText(this.buttonText,a.label);this._setAria(a);this._trigger("select",b,{item:a});a.index!==c&&this._trigger("change",
b,{item:a});this.close(b)},_setAria:function(a){a=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":a,"aria-activedescendant":a});this.menu.attr("aria-activedescendant",a)},_setOption:function(a,b){a==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(b.button);this._super(a,b);a==="appendTo"&&this.menuWrap.appendTo(this._appendTo());if(a==="disabled"){this.menuInstance.option("disabled",b);this.button.toggleClass("ui-state-disabled",
b).attr("aria-disabled",b);this.element.prop("disabled",b);if(b){this.button.attr("tabindex",-1);this.close()}else this.button.attr("tabindex",0)}if(a==="width"){b||(b=this.element.outerWidth());this.button.outerWidth(b)}},_appendTo:function(){var a=this.options.appendTo;if(a)a=a.jquery||a.nodeType?d(a):this.document.find(a).eq(0);if(!a||!a[0])a=this.element.closest(".ui-front");if(!a.length)a=this.document[0].body;return a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",
!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(a){var b=[];a.each(function(c,e){e=d(e);var f=e.parent("optgroup");b.push({element:e,index:c,value:e.attr("value"),label:e.text(),optgroup:f.attr("label")||
"",disabled:f.prop("disabled")||e.prop("disabled")})});this.items=b},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});d.widget("ui.slider",d.ui.mouse,{version:"1.11.0",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=
this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var a,b;a=this.options;var c=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
e=[];b=a.values&&a.values.length||1;if(c.length>b){c.slice(b).remove();c=c.slice(0,b)}for(a=c.length;a<b;a++)e.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=c.add(d(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(f){d(this).data("ui-slider-handle-index",f)})},_createRange:function(){var a=this.options,b="";if(a.range){if(a.range===true)if(a.values)if(a.values.length&&a.values.length!==2)a.values=
[a.values[0],a.values[0]];else{if(d.isArray(a.values))a.values=a.values.slice(0)}else a.values=[this._valueMin(),this._valueMin()];if(!this.range||!this.range.length){this.range=d("<div></div>").appendTo(this.element);b="ui-slider-range ui-widget-header ui-corner-all"}else this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""});this.range.addClass(b+(a.range==="min"||a.range==="max"?" ui-slider-range-"+a.range:""))}else{this.range&&this.range.remove();this.range=
null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(a){var b,c,e,f,g,h=this,i=this.options;if(i.disabled)return false;this.elementSize={width:this.element.outerWidth(),
height:this.element.outerHeight()};this.elementOffset=this.element.offset();b=this._normValueFromMouse({x:a.pageX,y:a.pageY});c=this._valueMax()-this._valueMin()+1;this.handles.each(function(k){var n=Math.abs(b-h.values(k));if(c>n||c===n&&(k===h._lastChangedValue||h.values(k)===i.min)){c=n;e=d(this);f=k}});if(this._start(a,f)===false)return false;this._mouseSliding=true;this._handleIndex=f;e.addClass("ui-state-active").focus();g=e.offset();this._clickOffset=!d(a.target).parents().addBack().is(".ui-slider-handle")?
{left:0,top:0}:{left:a.pageX-g.left-e.width()/2,top:a.pageY-g.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(a,f,b);return this._animateOff=true},_mouseStart:function(){return true},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,b);return false},_mouseStop:function(a){this.handles.removeClass("ui-state-active");
this._mouseSliding=false;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b;if(this.orientation==="horizontal"){b=this.elementSize.width;a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{b=this.elementSize.height;a=a.y-this.elementOffset.top-
(this._clickOffset?this._clickOffset.top:0)}b=a/b;if(b>1)b=1;if(b<0)b=0;if(this.orientation==="vertical")b=1-b;a=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+b*a)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(b);c.values=this.values()}return this._trigger("start",a,c)},_slide:function(a,b,c){var e;if(this.options.values&&this.options.values.length){e=this.values(b?0:
1);if(this.options.values.length===2&&this.options.range===true&&(b===0&&c>e||b===1&&c<e))c=e;if(c!==this.values(b)){e=this.values();e[b]=c;a=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e});this.values(b?0:1);a!==false&&this.values(b,c)}}else if(c!==this.value()){a=this._trigger("slide",a,{handle:this.handles[b],value:c});a!==false&&this.value(c)}},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(b);
c.values=this.values()}this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(b);c.values=this.values()}this._lastChangedValue=b;this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a);this._refreshValue();this._change(null,0)}else return this._value()},values:function(a,b){var c,e,f;if(arguments.length>
1){this.options.values[a]=this._trimAlignValue(b);this._refreshValue();this._change(null,a)}else if(arguments.length)if(d.isArray(arguments[0])){c=this.options.values;e=arguments[0];for(f=0;f<c.length;f+=1){c[f]=this._trimAlignValue(e[f]);this._change(null,f)}this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(a):this.value();else return this._values()},_setOption:function(a,b){var c=0;if(a==="range"&&this.options.range===true)if(b==="min"){this.options.value=
this._values(0);this.options.values=null}else if(b==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}if(d.isArray(this.options.values))c=this.options.values.length;a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!b);this._super(a,b);switch(a){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=
true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case "values":this._animateOff=true;this._refreshValue();for(a=0;a<c;a+=1)this._change(null,a);this._animateOff=false;break;case "min":case "max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case "range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c;if(arguments.length){b=
this.options.values[a];return b=this._trimAlignValue(b)}else if(this.options.values&&this.options.values.length){b=this.options.values.slice();for(c=0;c<b.length;c+=1)b[c]=this._trimAlignValue(b[c]);return b}else return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b;a=a-c;if(Math.abs(c)*2>=b)a+=c>0?b:-b;return parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},
_valueMax:function(){return this.options.max},_refreshValue:function(){var a,b,c,e,f,g=this.options.range,h=this.options,i=this,k=!this._animateOff?h.animate:false,n={};if(this.options.values&&this.options.values.length)this.handles.each(function(p){b=(i.values(p)-i._valueMin())/(i._valueMax()-i._valueMin())*100;n[i.orientation==="horizontal"?"left":"bottom"]=b+"%";d(this).stop(1,1)[k?"animate":"css"](n,h.animate);if(i.options.range===true)if(i.orientation==="horizontal"){if(p===0)i.range.stop(1,
1)[k?"animate":"css"]({left:b+"%"},h.animate);if(p===1)i.range[k?"animate":"css"]({width:b-a+"%"},{queue:false,duration:h.animate})}else{if(p===0)i.range.stop(1,1)[k?"animate":"css"]({bottom:b+"%"},h.animate);if(p===1)i.range[k?"animate":"css"]({height:b-a+"%"},{queue:false,duration:h.animate})}a=b});else{c=this.value();e=this._valueMin();f=this._valueMax();b=f!==e?(c-e)/(f-e)*100:0;n[this.orientation==="horizontal"?"left":"bottom"]=b+"%";this.handle.stop(1,1)[k?"animate":"css"](n,h.animate);if(g===
"min"&&this.orientation==="horizontal")this.range.stop(1,1)[k?"animate":"css"]({width:b+"%"},h.animate);if(g==="max"&&this.orientation==="horizontal")this.range[k?"animate":"css"]({width:100-b+"%"},{queue:false,duration:h.animate});if(g==="min"&&this.orientation==="vertical")this.range.stop(1,1)[k?"animate":"css"]({height:b+"%"},h.animate);if(g==="max"&&this.orientation==="vertical")this.range[k?"animate":"css"]({height:100-b+"%"},{queue:false,duration:h.animate})}},_handleEvents:{keydown:function(a){var b,
c,e,f=d(a.target).data("ui-slider-handle-index");switch(a.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:a.preventDefault();if(!this._keySliding){this._keySliding=true;d(a.target).addClass("ui-state-active");b=this._start(a,f);if(b===false)return}break}e=this.options.step;b=this.options.values&&this.options.values.length?(c=this.values(f)):(c=this.value());
switch(a.keyCode){case d.ui.keyCode.HOME:c=this._valueMin();break;case d.ui.keyCode.END:c=this._valueMax();break;case d.ui.keyCode.PAGE_UP:c=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/this.numPages);break;case d.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(b-(this._valueMax()-this._valueMin())/this.numPages);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(b===this._valueMax())return;c=this._trimAlignValue(b+e);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(b===this._valueMin())return;
c=this._trimAlignValue(b-e);break}this._slide(a,f,c)},keyup:function(a){var b=d(a.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(a,b);this._change(a,b);d(a.target).removeClass("ui-state-active")}}}});d.widget("ui.sortable",d.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,
grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=
this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?a.axis==="x"||this._isFloating(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(a,b){this._super(a,b);a==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");d.each(this.items,function(){(this.instance.options.handle?
this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,b){var c=null,e=false,f=this;if(this.reverting)return false;if(this.options.disabled||this.options.type==="static")return false;
this._refreshItems(a);d(a.target).parents().each(function(){if(d.data(this,f.widgetName+"-item")===f){c=d(this);return false}});if(d.data(a.target,f.widgetName+"-item")===f)c=d(a.target);if(!c)return false;if(this.options.handle&&!b){d(this.options.handle,c).find("*").addBack().each(function(){if(this===a.target)e=true});if(!e)return false}this.currentItem=c;this._removeCurrentsFromItems();return true},_mouseStart:function(a,b,c){var e;b=this.options;this.currentContainer=this;this.refreshPositions();
this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=
this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();if(b.cursor&&b.cursor!=="auto"){e=this.document.find("body");this.storedCursor=e.css("cursor");e.css("cursor",b.cursor);this.storedStylesheet=d("<style>*{ cursor: "+
b.cursor+" !important; }</style>").appendTo(e)}if(b.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",b.opacity)}if(b.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",b.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();
if(!c)for(c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("activate",a,this._uiHash(this));if(d.ui.ddmanager)d.ui.ddmanager.current=this;d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);return true},_mouseDrag:function(a){var b,c,e,f;b=this.options;c=false;this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=
this.positionAbs;if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed;else if(a.pageY-this.overflowOffset.top<b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity)this.scrollParent[0].scrollLeft=
c=this.scrollParent[0].scrollLeft+b.scrollSpeed;else if(a.pageX-this.overflowOffset.left<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed}else{if(a.pageY-d(document).scrollTop()<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()-b.scrollSpeed);else if(d(window).height()-(a.pageY-d(document).scrollTop())<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed);if(a.pageX-d(document).scrollLeft()<b.scrollSensitivity)c=
d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed)}c!==false&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=
this.position.top+"px";for(b=this.items.length-1;b>=0;b--){c=this.items[b];e=c.item[0];if(f=this._intersectsWithPointer(c))if(c.instance===this.currentContainer)if(e!==this.currentItem[0]&&this.placeholder[f===1?"next":"prev"]()[0]!==e&&!d.contains(this.placeholder[0],e)&&(this.options.type==="semi-dynamic"?!d.contains(this.element[0],e):true)){this.direction=f===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(c))this._rearrange(a,c);else break;this._trigger("change",
a,this._uiHash());break}}this._contactContainers(a);d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(a,b){if(a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var c=this;b=this.placeholder.offset();var e=this.options.axis,f={};if(!e||e==="x")f.left=b.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);
if(!e||e==="y")f.top=b.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=true;d(this.helper).animate(f,parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return false}},cancel:function(){if(this.dragging){this._mouseUp({target:null});this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-
1;a>=0;a--){this.containers[a]._trigger("deactivate",null,this._uiHash(this));if(this.containers[a].containerCache.over){this.containers[a]._trigger("out",null,this._uiHash(this));this.containers[a].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();d.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});
this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};d(b).each(function(){var e=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);if(e)c.push((a.key||e[1]+"[]")+"="+(a.key&&a.expression?e[1]:e[2]))});!c.length&&a.key&&c.push(a.key+"=");return c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&
a.connected),c=[];a=a||{};b.each(function(){c.push(d(a.item||this).attr(a.attribute||"id")||"")});return c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,g=a.left,h=g+a.width,i=a.top,k=i+a.height,n=this.offset.click.top,p=this.offset.click.left;p=this.options.axis==="y"||b+p>g&&b+p<h;n=(this.options.axis==="x"||e+n>i&&e+n<k)&&p;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||
this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:g<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<h&&i<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<k},_intersectsWithPointer:function(a){var b=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,
a.left,a.width);b=b&&a;a=this._getDragVerticalDirection();var c=this._getDragHorizontalDirection();if(!b)return false;return this.floating?c&&c==="right"||a==="down"?2:1:a&&(a==="down"?2:1)},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&
e?e==="right"&&a||e==="left"&&!a:c&&(c==="down"&&b||c==="up"&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!==0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!==0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===
String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function b(){g.push(this)}var c,e,f,g=[],h=[],i=this._connectWith();if(i&&a)for(a=i.length-1;a>=0;a--){e=d(i[a]);for(c=e.length-1;c>=0;c--)if((f=d.data(e[c],this.widgetFullName))&&f!==this&&!f.options.disabled)h.push([d.isFunction(f.options.items)?f.options.items.call(f.element):d(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f])}h.push([d.isFunction(this.options.items)?this.options.items.call(this.element,
null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=h.length-1;a>=0;a--)h[a][0].each(b);return d(g)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(b){for(var c=0;c<a.length;c++)if(a[c]===b.item[0])return false;return true})},_refreshItems:function(a){this.items=[];this.containers=[this];var b,c,e,f,g,h=
this.items,i=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),this]],k=this._connectWith();if(k&&this.ready)for(b=k.length-1;b>=0;b--){e=d(k[b]);for(c=e.length-1;c>=0;c--)if((f=d.data(e[c],this.widgetFullName))&&f!==this&&!f.options.disabled){i.push([d.isFunction(f.options.items)?f.options.items.call(f.element[0],a,{item:this.currentItem}):d(f.options.items,f.element),f]);this.containers.push(f)}}for(b=i.length-
1;b>=0;b--){a=i[b][1];g=i[b][0];c=0;for(f=g.length;c<f;c++){e=d(g[c]);e.data(this.widgetName+"-item",a);h.push({item:e,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();var b,c,e;for(b=this.items.length-1;b>=0;b--){c=this.items[b];if(!(c.instance!==this.currentContainer&&this.currentContainer&&c.item[0]!==this.currentItem[0])){e=this.options.toleranceElement?d(this.options.toleranceElement,c.item):
c.item;if(!a){c.width=e.outerWidth();c.height=e.outerHeight()}e=e.offset();c.left=e.left;c.top=e.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;b>=0;b--){e=this.containers[b].element.offset();this.containers[b].containerCache.left=e.left;this.containers[b].containerCache.top=e.top;this.containers[b].containerCache.width=this.containers[b].element.outerWidth();this.containers[b].containerCache.height=
this.containers[b].element.outerHeight()}return this},_createPlaceholder:function(a){a=a||this;var b,c=a.options;if(!c.placeholder||c.placeholder.constructor===String){b=c.placeholder;c.placeholder={element:function(){var e=a.currentItem[0].nodeName.toLowerCase(),f=d("<"+e+">",a.document[0]).addClass(b||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(e==="tr")a.currentItem.children().each(function(){d("<td>&#160;</td>",a.document[0]).attr("colspan",d(this).attr("colspan")||
1).appendTo(f)});else e==="img"&&f.attr("src",a.currentItem.attr("src"));b||f.css("visibility","hidden");return f},update:function(e,f){if(!(b&&!c.forcePlaceholderSize)){f.height()||f.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10));f.width()||f.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}}}}a.placeholder=d(c.placeholder.element.call(a.element,
a.currentItem));a.currentItem.after(a.placeholder);c.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var b,c,e,f,g,h,i,k,n=f=null;for(b=this.containers.length-1;b>=0;b--)if(!d.contains(this.currentItem[0],this.containers[b].element[0]))if(this._intersectsWith(this.containers[b].containerCache)){if(!(f&&d.contains(this.containers[b].element[0],f.element[0]))){f=this.containers[b];n=b}}else if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",a,this._uiHash(this));
this.containers[b].containerCache.over=0}if(f)if(this.containers.length===1){if(!this.containers[n].containerCache.over){this.containers[n]._trigger("over",a,this._uiHash(this));this.containers[n].containerCache.over=1}}else{b=1E4;e=null;f=(c=f.floating||this._isFloating(this.currentItem))?"left":"top";g=c?"width":"height";k=c?"clientX":"clientY";for(c=this.items.length-1;c>=0;c--)if(d.contains(this.containers[n].element[0],this.items[c].item[0]))if(this.items[c].item[0]!==this.currentItem[0]){h=
this.items[c].item.offset()[f];i=false;if(a[k]-h>this.items[c][g]/2)i=true;if(Math.abs(a[k]-h)<b){b=Math.abs(a[k]-h);e=this.items[c];this.direction=i?"up":"down"}}if(e||this.options.dropOnEmpty)if(this.currentContainer!==this.containers[n]){e?this._rearrange(a,e,null,true):this._rearrange(a,null,this.containers[n].element,true);this._trigger("change",a,this._uiHash());this.containers[n]._trigger("change",a,this._uiHash(this));this.currentContainer=this.containers[n];this.options.placeholder.update(this.currentContainer,
this.placeholder);this.containers[n]._trigger("over",a,this._uiHash(this));this.containers[n].containerCache.over=1}}},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a,this.currentItem])):b.helper==="clone"?this.currentItem.clone():this.currentItem;a.parents("body").length||d(b.appendTo!=="parent"?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);if(a[0]===this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,
height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(!a[0].style.width||b.forceHelperSize)a.width(this.currentItem.width());if(!a[0].style.height||b.forceHelperSize)a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){if(typeof a==="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in
a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=
this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&d.ui.ie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),
left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,b,c;b=this.options;if(b.containment==="parent")b.containment=this.helper[0].parentNode;
if(b.containment==="document"||b.containment==="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(b.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(b.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){a=d(b.containment)[0];b=d(b.containment).offset();
c=d(a).css("overflow")!=="hidden";this.containment=[b.left+(parseInt(d(a).css("borderLeftWidth"),10)||0)+(parseInt(d(a).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(d(a).css("borderTopWidth"),10)||0)+(parseInt(d(a).css("paddingTop"),10)||0)-this.margins.top,b.left+(c?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(d(a).css("borderLeftWidth"),10)||0)-(parseInt(d(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(c?Math.max(a.scrollHeight,
a.offsetHeight):a.offsetHeight)-(parseInt(d(a).css("borderTopWidth"),10)||0)-(parseInt(d(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a==="absolute"?1:-1;var c=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*
a-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop())*a,left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())*a}},_generatePosition:function(a){var b,c,e=this.options;c=a.pageX;b=a.pageY;var f=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);
if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])c=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])b=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])c=this.containment[2]+this.offset.click.left;
if(a.pageY-this.offset.click.top>this.containment[3])b=this.containment[3]+this.offset.click.top}if(e.grid){b=this.originalPageY+Math.round((b-this.originalPageY)/e.grid[1])*e.grid[1];b=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-e.grid[1]:b+e.grid[1]:b;c=this.originalPageX+Math.round((c-this.originalPageX)/e.grid[0])*e.grid[0];c=this.containment?c-this.offset.click.left>=this.containment[0]&&
c-this.offset.click.left<=this.containment[2]?c:c-this.offset.click.left>=this.containment[0]?c-e.grid[0]:c+e.grid[0]:c}}return{top:b-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop()),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())}},_rearrange:function(a,b,c,e){c?c[0].appendChild(this.placeholder[0]):
b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?b.item[0]:b.item[0].nextSibling);var f=this.counter=this.counter?++this.counter:1;this._delay(function(){f===this.counter&&this.refreshPositions(!e)})},_clear:function(a,b){function c(g,h,i){return function(k){i._trigger(g,k,h._uiHash(h))}}this.reverting=false;var e,f=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(e in this._storedCSS)if(this._storedCSS[e]===
"auto"||this._storedCSS[e]==="static")this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&f.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!b)f.push(function(g){this._trigger("update",g,this._uiHash())});if(this!==this.currentContainer)if(!b){f.push(function(g){this._trigger("remove",
g,this._uiHash())});f.push(function(g){return function(h){g._trigger("receive",h,this._uiHash(this))}}.call(this,this.currentContainer));f.push(function(g){return function(h){g._trigger("update",h,this._uiHash(this))}}.call(this,this.currentContainer))}for(e=this.containers.length-1;e>=0;e--){b||f.push(c("deactivate",this,this.containers[e]));if(this.containers[e].containerCache.over){f.push(c("out",this,this.containers[e]));this.containers[e].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",
this.storedCursor);this.storedStylesheet.remove()}this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(e=0;e<f.length;e++)f[e].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=false}b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(e=0;e<f.length;e++)f[e].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){d.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});
d.widget("ui.spinner",{version:"1.11.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this.value()!==""&&this._value(this.element.val(),true);this._draw();this._on(this._events);
this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},b=this.element;d.each(["min","max","step"],function(c,e){c=b.attr(e);if(c!==undefined&&c.length)a[e]=c});return a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){if(this.cancelBlur)delete this.cancelBlur;else{this._stop();this._refresh();this.previous!==
this.element.val()&&this._trigger("change",a)}},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return false;this._spin((b>0?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(a){function b(){if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=c;this._delay(function(){this.previous=c})}}var c;c=
this.element[0]===this.document[0].activeElement?this.previous:this.element.val();a.preventDefault();b.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;b.call(this)});if(this._start(a)!==false)this._repeat(null,d(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){if(d(a.currentTarget).hasClass("ui-state-active")){if(this._start(a)===false)return false;this._repeat(null,d(a.currentTarget).hasClass("ui-spinner-up")?
1:-1,a)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(a.height()*0.5)&&a.height()>0&&a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(a){var b=
this.options,c=d.ui.keyCode;switch(a.keyCode){case c.UP:this._repeat(null,1,a);return true;case c.DOWN:this._repeat(null,-1,a);return true;case c.PAGE_UP:this._repeat(null,b.page,a);return true;case c.PAGE_DOWN:this._repeat(null,-b.page,a);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+
"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){if(!this.spinning&&this._trigger("start",a)===false)return false;if(!this.counter)this.counter=1;return this.spinning=true},_repeat:function(a,b,c){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,b,c)},a);this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;if(!this.counter)this.counter=
1;c=this._adjustValue(c+a*this._increment(this.counter));if(!this.spinning||this._trigger("spin",b,{value:c})!==false){this._value(c);this.counter++}},_increment:function(a){var b=this.options.incremental;if(b)return d.isFunction(b)?b(a):Math.floor(a*a*a/5E4-a*a/500+17*a/200+1);return 1},_precision:function(){var a=this._precisionOf(this.options.step);if(this.options.min!==null)a=Math.max(a,this._precisionOf(this.options.min));return a},_precisionOf:function(a){a=a.toString();var b=a.indexOf(".");
return b===-1?0:a.length-b-1},_adjustValue:function(a){var b,c=this.options;b=c.min!==null?c.min:0;a=a-b;a=Math.round(a/c.step)*c.step;a=b+a;a=parseFloat(a.toFixed(this._precision()));if(c.max!==null&&a>c.max)return c.max;if(c.min!==null&&a<c.min)return c.min;return a},_stop:function(a){if(this.spinning){clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",a)}},_setOption:function(a,b){if(a==="culture"||a==="numberFormat"){var c=this._parse(this.element.val());
this.options[a]=b;this.element.val(this._format(c))}else{if(a==="max"||a==="min"||a==="step")if(typeof b==="string")b=this._parse(b);if(a==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)}this._super(a,b);if(a==="disabled"){this.widget().toggleClass("ui-state-disabled",!!b);this.element.prop("disabled",!!b);this.buttons.button(b?"disable":"enable")}}},_setOptions:K(function(a){this._super(a)}),
_parse:function(a){if(typeof a==="string"&&a!=="")a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a;return a===""||isNaN(a)?null:a},_format:function(a){if(a==="")return"";return window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=
this.value();if(a===null)return false;return a===this._adjustValue(a)},_value:function(a,b){var c;if(a!==""){c=this._parse(a);if(c!==null){b||(c=this._adjustValue(c));a=this._format(c)}}this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:K(function(a){this._stepUp(a)}),
_stepUp:function(a){if(this._start()){this._spin((a||1)*this.options.step);this._stop()}},stepDown:K(function(a){this._stepDown(a)}),_stepDown:function(a){if(this._start()){this._spin((a||1)*-this.options.step);this._stop()}},pageUp:K(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:K(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());K(this._value).call(this,a)},widget:function(){return this.uiSpinner}});
d.widget("ui.tabs",{version:"1.11.0",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,e;b=b.cloneNode(false);c=b.href.replace(a,"");e=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(f){}try{e=decodeURIComponent(e)}catch(g){}return b.hash.length>1&&c===e}}(),_create:function(){var a=this,b=this.options;this.running=
false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",b.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(c){d(this).is(".ui-state-disabled")&&c.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();b.active=this._initialActive();if(d.isArray(b.disabled))b.disabled=d.unique(b.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),
function(c){return a.tabs.index(c)}))).sort();this.active=this.options.active!==false&&this.anchors.length?this._findActive(b.active):d();this._refresh();this.active.length&&this.load(b.active)},_initialActive:function(){var a=this.options.active,b=this.options.collapsible,c=location.hash.substring(1);if(a===null){c&&this.tabs.each(function(e,f){if(d(f).attr("aria-controls")===c){a=e;return false}});if(a===null)a=this.tabs.index(this.tabs.filter(".ui-tabs-active"));if(a===null||a===-1)a=this.tabs.length?
0:false}if(a!==false){a=this.tabs.index(this.tabs.eq(a));if(a===-1)a=b?false:0}if(!b&&a===false&&this.anchors.length)a=0;return a},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?d():this._getPanelForTab(this.active)}},_tabKeydown:function(a){var b=d(this.document[0].activeElement).closest("li"),c=this.tabs.index(b),e=true;if(!this._handlePageNav(a)){switch(a.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:c++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:e=
false;c--;break;case d.ui.keyCode.END:c=this.anchors.length-1;break;case d.ui.keyCode.HOME:c=0;break;case d.ui.keyCode.SPACE:a.preventDefault();clearTimeout(this.activating);this._activate(c);return;case d.ui.keyCode.ENTER:a.preventDefault();clearTimeout(this.activating);this._activate(c===this.options.active?false:c);return;default:return}a.preventDefault();clearTimeout(this.activating);c=this._focusNextTab(c,e);if(!a.ctrlKey){b.attr("aria-selected","false");this.tabs.eq(c).attr("aria-selected",
"true");this.activating=this._delay(function(){this.option("active",c)},this.delay)}}},_panelKeydown:function(a){if(!this._handlePageNav(a))if(a.ctrlKey&&a.keyCode===d.ui.keyCode.UP){a.preventDefault();this.active.focus()}},_handlePageNav:function(a){if(a.altKey&&a.keyCode===d.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(a.altKey&&a.keyCode===d.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(a,
b){function c(){if(a>e)a=0;if(a<0)a=e;return a}for(var e=this.tabs.length-1;d.inArray(c(),this.options.disabled)!==-1;)a=b?a+1:a-1;return a},_focusNextTab:function(a,b){a=this._findNextTab(a,b);this.tabs.eq(a).focus();return a},_setOption:function(a,b){if(a==="active")this._activate(b);else if(a==="disabled")this._setupDisabled(b);else{this._super(a,b);if(a==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",b);!b&&this.options.active===false&&this._activate(0)}a==="event"&&this._setupEvents(b);
a==="heightStyle"&&this._setupHeightStyle(b)}},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,b=this.tablist.children(":has(a[href])");a.disabled=d.map(b.filter(".ui-state-disabled"),function(c){return b.index(c)});this._processTabs();if(a.active===false||!this.anchors.length){a.active=false;this.active=d()}else if(this.active.length&&!d.contains(this.tablist[0],this.active[0]))if(this.tabs.length===a.disabled.length){a.active=
false;this.active=d()}else this._activate(this._findNextTab(Math.max(0,a.active-1),false));else a.active=this.tabs.index(this.active);this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(this.active.length){this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",
"aria-expanded":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}else this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return d("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",
tabIndex:-1});this.panels=d();this.anchors.each(function(b,c){var e,f=d(c).uniqueId().attr("id"),g=d(c).closest("li"),h=g.attr("aria-controls");if(a._isLocal(c)){e=c.hash;c=e.substring(1);e=a.element.find(a._sanitizeSelector(e))}else{c=g.attr("aria-controls")||d({}).uniqueId()[0].id;e="#"+c;e=a.element.find(e);if(!e.length){e=a._createPanel(c);e.insertAfter(a.panels[b-1]||a.tablist)}e.attr("aria-live","polite")}if(e.length)a.panels=a.panels.add(e);h&&g.data("ui-tabs-aria-controls",h);g.attr({"aria-controls":c,
"aria-labelledby":f});e.attr("aria-labelledby",f)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return d("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(a){if(d.isArray(a))if(a.length){if(a.length===this.anchors.length)a=true}else a=false;for(var b=0,c;c=this.tabs[b];b++)a===
true||d.inArray(b,a)!==-1?d(c).addClass("ui-state-disabled").attr("aria-disabled","true"):d(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var b={};a&&d.each(a.split(" "),function(c,e){b[e]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(c){c.preventDefault()}});this._on(this.anchors,b);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});
this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(a){var b,c=this.element.parent();if(a==="fill"){b=c.height();b-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var e=d(this),f=e.css("position");f==="absolute"||f==="fixed"||(b-=e.outerHeight(true))});this.element.children().not(this.panels).each(function(){b-=d(this).outerHeight(true)});this.panels.each(function(){d(this).height(Math.max(0,b-d(this).innerHeight()+
d(this).height()))}).css("overflow","auto")}else if(a==="auto"){b=0;this.panels.each(function(){b=Math.max(b,d(this).height("").height())}).height(b)}},_eventHandler:function(a){var b=this.options,c=this.active,e=d(a.currentTarget).closest("li"),f=e[0]===c[0],g=f&&b.collapsible,h=g?d():this._getPanelForTab(e),i=!c.length?d():this._getPanelForTab(c);c={oldTab:c,oldPanel:i,newTab:g?d():e,newPanel:h};a.preventDefault();if(!(e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||this.running||
f&&!b.collapsible||this._trigger("beforeActivate",a,c)===false)){b.active=g?false:this.tabs.index(e);this.active=f?d():e;this.xhr&&this.xhr.abort();!i.length&&!h.length&&d.error("jQuery UI Tabs: Mismatching fragment identifier.");h.length&&this.load(this.tabs.index(e),a);this._toggle(a,c)}},_toggle:function(a,b){function c(){f.running=false;f._trigger("activate",a,b)}function e(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(g.length&&f.options.show)f._show(g,f.options.show,
c);else{g.show();c()}}var f=this,g=b.newPanel,h=b.oldPanel;this.running=true;if(h.length&&this.options.hide)this._hide(h,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");e()});else{b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h.hide();e()}h.attr("aria-hidden","true");b.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(g.length&&h.length)b.oldTab.attr("tabIndex",-1);else g.length&&this.tabs.filter(function(){return d(this).attr("tabIndex")===
0}).attr("tabIndex",-1);g.attr("aria-hidden","false");b.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(a){a=this._findActive(a);if(a[0]!==this.active[0]){if(!a.length)a=this.active;a=a.find(".ui-tabs-anchor")[0];this._eventHandler({target:a,currentTarget:a,preventDefault:d.noop})}},_findActive:function(a){return a===false?d():this.tabs.eq(a)},_getIndex:function(a){if(typeof a==="string")a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"));return a},
_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){d.data(this,"ui-tabs-destroy")?d(this).remove():d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});
this.tabs.each(function(){var a=d(this),b=a.data("ui-tabs-aria-controls");b?a.attr("aria-controls",b).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")});this.panels.show();this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(a){var b=this.options.disabled;if(b!==false){if(a===undefined)b=false;else{a=this._getIndex(a);b=d.isArray(b)?d.map(b,function(c){return c!==a?c:null}):d.map(this.tabs,function(c,e){return e!==a?e:null})}this._setupDisabled(b)}},
disable:function(a){var b=this.options.disabled;if(b!==true){if(a===undefined)b=true;else{a=this._getIndex(a);if(d.inArray(a,b)!==-1)return;b=d.isArray(b)?d.merge([a],b).sort():[a]}this._setupDisabled(b)}},load:function(a,b){a=this._getIndex(a);var c=this,e=this.tabs.eq(a);a=e.find(".ui-tabs-anchor");var f=this._getPanelForTab(e),g={tab:e,panel:f};if(!this._isLocal(a[0]))if((this.xhr=d.ajax(this._ajaxSettings(a,b,g)))&&this.xhr.statusText!=="canceled"){e.addClass("ui-tabs-loading");f.attr("aria-busy",
"true");this.xhr.success(function(h){setTimeout(function(){f.html(h);c._trigger("load",b,g)},1)}).complete(function(h,i){setTimeout(function(){i==="abort"&&c.panels.stop(false,true);e.removeClass("ui-tabs-loading");f.removeAttr("aria-busy");h===c.xhr&&delete c.xhr},1)})}},_ajaxSettings:function(a,b,c){var e=this;return{url:a.attr("href"),beforeSend:function(f,g){return e._trigger("beforeLoad",b,d.extend({jqXHR:f,ajaxSettings:g},c))}}},_getPanelForTab:function(a){return this.element.find(this._sanitizeSelector("#"+
d(a).attr("aria-controls")))}});d.widget("ui.tooltip",{version:"1.11.0",options:{content:function(){var a=d(this).attr("title")||"";return d("<a>").text(a).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_addDescribedBy:function(a,b){var c=(a.attr("aria-describedby")||"").split(/\s+/);c.push(b);a.data("ui-tooltip-id",b).attr("aria-describedby",d.trim(c.join(" ")))},
_removeDescribedBy:function(a){var b=a.data("ui-tooltip-id"),c=(a.attr("aria-describedby")||"").split(/\s+/);b=d.inArray(b,c);b!==-1&&c.splice(b,1);a.removeData("ui-tooltip-id");(c=d.trim(c.join(" ")))?a.attr("aria-describedby",c):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=d("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},
_setOption:function(a,b){var c=this;if(a==="disabled"){this[b?"_disable":"_enable"]();this.options[a]=b}else{this._super(a,b);a==="content"&&d.each(this.tooltips,function(e,f){c._updateContent(f)})}},_disable:function(){var a=this;d.each(this.tooltips,function(b,c){b=d.Event("blur");b.target=b.currentTarget=c[0];a.close(b,true)});this.element.find(this.options.items).addBack().each(function(){var b=d(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=
d(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(a){var b=this,c=d(a?a.target:this.element).closest(this.options.items);if(!(!c.length||c.data("ui-tooltip-id"))){c.attr("title")&&c.data("ui-tooltip-title",c.attr("title"));c.data("ui-tooltip-open",true);a&&a.type==="mouseover"&&c.parents().each(function(){var e=d(this),f;if(e.data("ui-tooltip-open")){f=d.Event("blur");f.target=f.currentTarget=this;b.close(f,true)}if(e.attr("title")){e.uniqueId();b.parents[this.id]=
{element:this,title:e.attr("title")};e.attr("title","")}});this._updateContent(c,a)}},_updateContent:function(a,b){var c;c=this.options.content;var e=this,f=b?b.type:null;if(typeof c==="string")return this._open(b,a,c);(c=c.call(a[0],function(g){a.data("ui-tooltip-open")&&e._delay(function(){if(b)b.type=f;this._open(b,a,g)})}))&&this._open(b,a,c)},_open:function(a,b,c){function e(i){h.of=i;f.is(":hidden")||f.position(h)}var f,g,h=d.extend({},this.options.position);if(c){f=this._find(b);if(f.length)f.find(".ui-tooltip-content").html(c);
else{if(b.is("[title]"))a&&a.type==="mouseover"?b.attr("title",""):b.removeAttr("title");f=this._tooltip(b);this._addDescribedBy(b,f.attr("id"));f.find(".ui-tooltip-content").html(c);this.liveRegion.children().hide();if(c.clone){c=c.clone();c.removeAttr("id").find("[id]").removeAttr("id")}else c=c;d("<div>").html(c).appendTo(this.liveRegion);if(this.options.track&&a&&/^mouse/.test(a.type)){this._on(this.document,{mousemove:e});e(a)}else f.position(d.extend({of:b},this.options.position));f.hide();
this._show(f,this.options.show);if(this.options.show&&this.options.show.delay)g=this.delayedShow=setInterval(function(){if(f.is(":visible")){e(h.of);clearInterval(g)}},d.fx.interval);this._trigger("open",a,{tooltip:f});c={keyup:function(i){if(i.keyCode===d.ui.keyCode.ESCAPE){i=d.Event(i);i.currentTarget=b[0];this.close(i,true)}}};if(b[0]!==this.element[0])c.remove=function(){this._removeTooltip(f)};if(!a||a.type==="mouseover")c.mouseleave="close";if(!a||a.type==="focusin")c.focusout="close";this._on(true,
b,c)}}},close:function(a){var b=this,c=d(a?a.currentTarget:this.element),e=this._find(c);if(!this.closing){clearInterval(this.delayedShow);c.data("ui-tooltip-title")&&!c.attr("title")&&c.attr("title",c.data("ui-tooltip-title"));this._removeDescribedBy(c);e.stop(true);this._hide(e,this.options.hide,function(){b._removeTooltip(d(this))});c.removeData("ui-tooltip-open");this._off(c,"mouseleave focusout keyup");c[0]!==this.element[0]&&this._off(c,"remove");this._off(this.document,"mousemove");a&&a.type===
"mouseleave"&&d.each(this.parents,function(f,g){d(g.element).attr("title",g.title);delete b.parents[f]});this.closing=true;this._trigger("close",a,{tooltip:e});this.closing=false}},_tooltip:function(a){var b=d("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),c=b.uniqueId().attr("id");d("<div>").addClass("ui-tooltip-content").appendTo(b);b.appendTo(this.document[0].body);this.tooltips[c]=a;return b},_find:function(a){return(a=
a.data("ui-tooltip-id"))?d("#"+a):d()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;d.each(this.tooltips,function(b,c){var e=d.Event("blur");e.target=e.currentTarget=c[0];a.close(e,true);d("#"+b).remove();if(c.data("ui-tooltip-title")){c.attr("title")||c.attr("title",c.data("ui-tooltip-title"));c.removeData("ui-tooltip-title")}});this.liveRegion.remove()}})});

(function(){function k(){}function m(a,b){for(var d=a.length;d--;)if(a[d].listener===b)return d;return-1}function j(a){return function(){return this[a].apply(this,arguments)}}var g=k.prototype,p=this,i=p.EventEmitter;g.getListeners=function(a){var b=this._getEvents(),d,f;if(typeof a==="object"){d={};for(f in b)if(b.hasOwnProperty(f)&&a.test(f))d[f]=b[f]}else d=b[a]||(b[a]=[]);return d};g.flattenListeners=function(a){var b=[],d;for(d=0;d<a.length;d+=1)b.push(a[d].listener);return b};g.getListenersAsObject=
function(a){var b=this.getListeners(a),d;if(b instanceof Array){d={};d[a]=b}return d||b};g.addListener=function(a,b){a=this.getListenersAsObject(a);var d=typeof b==="object",f;for(f in a)if(a.hasOwnProperty(f)&&m(a[f],b)===-1)a[f].push(d?b:{listener:b,once:false});return this};g.on=j("addListener");g.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:true})};g.once=j("addOnceListener");g.defineEvent=function(a){this.getListeners(a);return this};g.defineEvents=function(a){for(var b=
0;b<a.length;b+=1)this.defineEvent(a[b]);return this};g.removeListener=function(a,b){a=this.getListenersAsObject(a);var d,f;for(f in a)if(a.hasOwnProperty(f)){d=m(a[f],b);d!==-1&&a[f].splice(d,1)}return this};g.off=j("removeListener");g.addListeners=function(a,b){return this.manipulateListeners(false,a,b)};g.removeListeners=function(a,b){return this.manipulateListeners(true,a,b)};g.manipulateListeners=function(a,b,d){var f,n,o=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;
if(typeof b==="object"&&!(b instanceof RegExp))for(f in b){if(b.hasOwnProperty(f)&&(n=b[f]))typeof n==="function"?o.call(this,f,n):a.call(this,f,n)}else for(f=d.length;f--;)o.call(this,b,d[f]);return this};g.removeEvent=function(a){var b=typeof a,d=this._getEvents(),f;if(b==="string")delete d[a];else if(b==="object")for(f in d)d.hasOwnProperty(f)&&a.test(f)&&delete d[f];else delete this._events;return this};g.removeAllListeners=j("removeEvent");g.emitEvent=function(a,b){var d=this.getListenersAsObject(a),
f,n,o,r;for(o in d)if(d.hasOwnProperty(o))for(n=d[o].length;n--;){f=d[o][n];f.once===true&&this.removeListener(a,f.listener);r=f.listener.apply(this,b||[]);r===this._getOnceReturnValue()&&this.removeListener(a,f.listener)}return this};g.trigger=j("emitEvent");g.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};g.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};g._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?
this._onceReturnValue:true};g._getEvents=function(){return this._events||(this._events={})};k.noConflict=function(){p.EventEmitter=i;return k};if(typeof define==="function"&&define.amd)define("eventEmitter/EventEmitter",[],function(){return k});else if(typeof module==="object"&&module.exports)module.exports=k;else this.EventEmitter=k}).call(this);
(function(k){function m(i){var a=k.event;a.target=a.target||a.srcElement||i;return a}var j=document.documentElement,g=function(){};if(j.addEventListener)g=function(i,a,b){i.addEventListener(a,b,false)};else if(j.attachEvent)g=function(i,a,b){i[a+b]=b.handleEvent?function(){var d=m(i);b.handleEvent.call(b,d)}:function(){var d=m(i);b.call(i,d)};i.attachEvent("on"+a,i[a+b])};var p=function(){};if(j.removeEventListener)p=function(i,a,b){i.removeEventListener(a,b,false)};else if(j.detachEvent)p=function(i,
a,b){i.detachEvent("on"+a,i[a+b]);try{delete i[a+b]}catch(d){i[a+b]=undefined}};j={bind:g,unbind:p};if(typeof define==="function"&&define.amd)define("eventie/eventie",j);else k.eventie=j})(this);
(function(k,m){if(typeof define==="function"&&define.amd)define(["eventEmitter/EventEmitter","eventie/eventie"],function(j,g){return m(k,j,g)});else if(typeof exports==="object")module.exports=m(k,require("wolfy87-eventemitter"),require("eventie"));else k.imagesLoaded=m(k,k.EventEmitter,k.eventie)})(window,function(k,m,j){function g(c,e){for(var h in e)c[h]=e[h];return c}function p(c){return r.call(c)==="[object Array]"}function i(c){var e=[];if(p(c))e=c;else if(typeof c.length==="number")for(var h=
0,l=c.length;h<l;h++)e.push(c[h]);else e.push(c);return e}function a(c,e,h){if(!(this instanceof a))return new a(c,e);if(typeof c==="string")c=document.querySelectorAll(c);this.elements=i(c);this.options=g({},this.options);if(typeof e==="function")h=e;else g(this.options,e);h&&this.on("always",h);this.getImages();if(f)this.jqDeferred=new f.Deferred;var l=this;setTimeout(function(){l.check()})}function b(c){this.img=c}function d(c){this.src=c;s[c]=this}var f=k.jQuery,n=k.console,o=typeof n!=="undefined",
r=Object.prototype.toString;a.prototype=new m;a.prototype.options={};a.prototype.getImages=function(){this.images=[];for(var c=0,e=this.elements.length;c<e;c++){var h=this.elements[c];h.nodeName==="IMG"&&this.addImage(h);var l=h.nodeType;if(l&&(l===1||l===9||l===11)){h=h.querySelectorAll("img");l=0;for(var q=h.length;l<q;l++)this.addImage(h[l])}}};a.prototype.addImage=function(c){this.images.push(new b(c))};a.prototype.check=function(){function c(t,v){e.options.debug&&o&&n.log("confirm",t,v);e.progress(t);
h++;h===l&&e.complete();return true}var e=this,h=0,l=this.images.length;this.hasAnyBroken=false;if(l)for(var q=0;q<l;q++){var u=this.images[q];u.on("confirm",c);u.check()}else this.complete()};a.prototype.progress=function(c){this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,c);e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,c)})};a.prototype.complete=function(){var c=this.hasAnyBroken?"fail":"done";this.isComplete=true;var e=this;setTimeout(function(){e.emit(c,
e);e.emit("always",e);if(e.jqDeferred)e.jqDeferred[e.hasAnyBroken?"reject":"resolve"](e)})};if(f)f.fn.imagesLoaded=function(c,e){return(new a(this,c,e)).jqDeferred.promise(f(this))};b.prototype=new m;b.prototype.check=function(){var c=s[this.img.src]||new d(this.img.src);if(c.isConfirmed)this.confirm(c.isLoaded,"cached was confirmed");else if(this.img.complete&&this.img.naturalWidth!==undefined)this.confirm(this.img.naturalWidth!==0,"naturalWidth");else{var e=this;c.on("confirm",function(h,l){e.confirm(h.isLoaded,
l);return true});c.check()}};b.prototype.confirm=function(c,e){this.isLoaded=c;this.emit("confirm",this,e)};var s={};d.prototype=new m;d.prototype.check=function(){if(!this.isChecked){var c=new Image;j.bind(c,"load",this);j.bind(c,"error",this);c.src=this.src;this.isChecked=true}};d.prototype.handleEvent=function(c){var e="on"+c.type;this[e]&&this[e](c)};d.prototype.onload=function(c){this.confirm(true,"onload");this.unbindProxyEvents(c)};d.prototype.onerror=function(c){this.confirm(false,"onerror");
this.unbindProxyEvents(c)};d.prototype.confirm=function(c,e){this.isConfirmed=true;this.isLoaded=c;this.emit("confirm",this,e)};d.prototype.unbindProxyEvents=function(c){j.unbind(c.target,"load",this);j.unbind(c.target,"error",this)};return a});

(function(f){f.fn.extend({imageReveal:function(b){function h(a,d){var e=b.sliderPadding*b.width,g=a;if(a<e)g=a=e;if(a>b.width-e){a=b.width;g=b.width-e}if(a<b.paddingLeft)g=a=b.paddingLeft;if(a>b.width-b.paddingRight){a=b.width-b.paddingRight;g=b.width-b.paddingRight}c[d].overlay.width(a);a=g-b.barWidth/2;if(a<0)a=0;if(a>b.width-b.barWidth)a=b.width-b.barWidth;c[d].drag.css({left:a})}function i(a){var d=f(this).data("imageRevealID");if(!c[d].dragging&&a.type!=="click")return false;h((a.originalEvent&&
a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.pageX)-c[d].overlay.offset().left,d);return false}var c={};b=f.extend({},{barWidth:30,touchBarWidth:40,startPosition:0.15,paddingLeft:0,paddingRight:0,width:500,height:500,ids:[],sliderPadding:0.15},b);b.ids=[];if(b.startPosition>1)b.startPosition=1;else if(b.startPosition<0)b.startPosition=0;return this.each(function(a){c[a]={};b.ids.push(a);c[a].container=f(this).addClass("imageReveal").data("imageRevealID",a);c[a].sliderWidth=
c[a].container.data("slider-width");b.sliderPadding=(100-c[a].sliderWidth)/2/100;var d=c[a].sliderWidth/100*b.width/2;c[a].scrollerLeft=c[a].container.children(".scroller-left").css({display:"block","margin-left":(d+128)*2>b.width?-b.width/2:-d-128});c[a].scrollerRight=c[a].container.children(".scroller-right").css({display:"block","margin-right":(d+132)*2>b.width?-b.width/2:-d-132});c[a].before=c[a].container.children("img").first().width(b.width).height(b.height).hide();c[a].after=c[a].before.next().width(b.width).height(b.height).hide();
c[a].container.width(b.width).height(b.height).css({overflow:"hidden",position:"relative"}).append('<div class="imageReveal-overlay"></div>').append('<div class="imageReveal-background"></div>').append('<div class="imageReveal-drag-bar"></div>').append('<div class="imageReveal-drag"></div>');c[a].bar=c[a].container.children(".imageReveal-drag-bar").width(c[a].sliderWidth/100*b.width).css({"margin-left":-(c[a].sliderWidth/100*b.width)/2});c[a].bg=c[a].container.children(".imageReveal-background").width(b.width).height(b.height).css({"background-image":"url("+
c[a].after.attr("src")+")","background-size":b.width+"px "+b.height+"px"});c[a].overlay=c[a].container.children(".imageReveal-overlay").width(b.width).height(b.height).css({"background-image":"url("+c[a].before.attr("src")+")","background-size":b.width+"px "+b.height+"px"});c[a].drag=c[a].container.children(".imageReveal-drag").css({right:b.sliderPadding*b.width-b.barWidth/2}).on("mousedown touchstart",function(){c[a].dragging=true;c[a].drag.addClass("dragging");return false}).on("mouseup touchend touchcancel",
function(){c[a].dragging=false;c[a].drag.removeClass("dragging");return false});f(document).on("mouseup touchend touchcancel",function(){if(c[a].dragging){c[a].dragging=false;c[a].drag.removeClass("dragging")}});c[a].container.on("mouseout",function(e){c[a].dragging&&h(e.pageX-c[a].overlay.offset().left,a)})}).on("mousemove click touchmove",i)}})})(jQuery);

/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.3.0
 Updated: 2013-11-04

 Requires jQuery 1.6.2 or higher
*/
(function(k){var U=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),X=!U&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!U&&!X&&k()})(function(){return jQuery.reel||function(k,U,X,r){function Ec(f){return n.instances.push(f[0])&&f}function Fc(f){return(n.instances=n.instances.not(Da(f.attr(ka))))&&f}function Y(f){return n.instances.first().data(f)}function Gc(f){return"data:image/gif;base64,R0lGODlh"+f}function V(f){return"<"+f+"/>"}function x(f){return"."+
(f||"")}function Wa(f){return f?f.replace(Ea,n.cdn):r}function Fa(f){return"url('"+bc(f)+"')"}function cc(f,j){return typeof j==vb?j[f]:j}function Ga(f,j,o){return wb(f,Ha(j,o))}function Ia(f,j){return H(f)*(j?-1:1)}function Xa(f){return f.touch||f.originalEvent.touches&&f.originalEvent.touches[0]||f}function xb(f){return f.originalEvent}function y(f){return f===r?0:typeof f==yb?f:f+"px"}function Da(f){return"#"+f}function dc(f,j,o){for(;f.length<j;)f=o+f;return f}function zb(f){return dc(f,2,"0")}
function bc(f){return encodeURI(decodeURI(f))}function Ab(f){return n.re.array.exec(f)?f.split(n.re.array):f}function Hc(f){return!f.parents(Bb).length}function ec(f){return typeof f==yb?f:k.each(f,function(j,o){f[j]=o?+o:r})}function Cb(f){try{console.error("[ Reel ] "+f)}catch(j){}}if(k){var Z=k&&k().jquery.split(/\./);if(!Z||+(zb(Z[0])+zb(Z[1])+zb(Z[2]||""))<10602)return Cb("Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher");var n=k.reel={version:"1.3.0",def:{frame:1,
frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,orientable:false,cw:false,revolution:r,stitched:0,directional:false,row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:r,images:"",path:"",preload:"fidelity",shy:false,speed:0,delay:0,timeout:2,duration:r,rebound:0.5,entry:r,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:r,hint:"",indicator:0,
klass:"",preloader:2,area:r,attr:{},annotations:r,responsive:false,graph:r,monitor:r},scan:function(){return k(x(z)+":not("+x(Db)+" > "+x(z)+")").each(function(f,j){f=k(j);j=f.data();j.images=Ab(j.images);var o={};k(x(fc)+"[data-for="+f.attr(ka)+"]").each(function(t,s){t=k(s);s=t.data();s.x=ec(Ab(s.x));s.y=ec(Ab(s.y));var g=t.attr(ka);s.node=t.removeData();o[g]=s});j.annotations=o;f.removeData().reel(j)})},fn:{reel:function(){var f=arguments,j=k(this),o=j.data(),t=f[0]||{},s=f[1];if(typeof t!="object")if(t.slice(0,
1)==":")return j.trigger(t.slice(1),s);else if(f.length==1)return o[t];else{if(s!==r){n.normal[t]&&(s=n.normal[t](s,o));if(o[t]===r)o[t]=s;else if(o[t]!==s)j.trigger(t+"Change",[r,o[t]=s])}return j}else{var g=k.extend({},n.def,t),K=[];j.filter(Ya).unreel().filter(function(){var h=k(this),e=g.attr,a=e.src||h.attr(qa),I=e.width||h.attr(L)||h.width();h=e.height||h.attr(D)||h.height();if(!a)return Cb("`src` attribute missing on target image");if(!I||!h)return Cb("Dimension(s) of the target image unknown");
return true}).each(function(){var h=k(this),e=function(c,d){return h.reel(c,d)&&a(c)},a=function(c){return h.data(c)},I={setup:function(){if(!(h.hasClass(z)&&h.parent().hasClass(Db))){e(Ja,g);var c={src:h.attr(qa),width:h.attr(D)||null,height:h.attr(L)||null,style:h.attr($)||null,"class":h.attr(gc)||null},d=h.attr(g.attr).attr(qa),b=e(ka,h.attr(ka)||h.attr(ka,z+"-"+ +new Date).attr(ka)),i=k.extend({},h.data()),p=e(aa,g.images||[]),m=e(W,g.stitched),l=!p.length||m;l=e(Za,g.responsive&&(Ic?true:!l));
var q=e(hc,{}),u=g.loops,v=g.orbital,E=g.revolution,ba=g.rows,ca=e(ra,Ha(g.footage,g.frames));e($a,g.spacing);var Eb=e(D,+h.attr(D)||h.width()),Fb=e(L,+h.attr(L)||h.height()),Jc=e(Ka,g.shy),ic=e(O,v&&ca||ba<=1&&p.length||g.frames),Kc=ba>1||v;e(La,cc("x",E)||m/2||Eb*2);e(Gb,!Kc?0:cc("y",E)||(ba>3?Fb:Fb/(5-ba)));ba=m?1:la(ic/ca);e(Hb,m-(u?0:Eb));e(ab,0);b=Da(b+g.suffix);u=h.attr(gc);u=!u?P:u+A;u=k(V(sa),{id:b.substr(1),"class":u+A+Db+A+jc+"0"});u=h.wrap(u.addClass(g.klass)).addClass(z);K.push(Ec(u)[0]);
u=u.parent().bind(I.instance);e(Ib,p.length?P:g.image||d.replace(n.re.image,"$1"+g.suffix+".$2"));e(bb,k(V(sa),{"class":Jb}).appendTo("body"));e(Ma,k());e(kc,[]);e(J,null);e(B,null);e(Q,g.row);e(ta,0);e(Kb,ba);e(lc,g.rowlock);e(mc,g.framelock);e(cb,e(Na,e(db,0)));e(eb,1/ic);e(nc,b);e(M,e(ua,g.speed)<0);e(Oa,false);e(ma,0);e(va,g.vertical);e(da,0);e(wa,Ia(1,!g.cw&&!m));e(fb,{});e(ea,false);e(gb,e(Lb,0));e(hb,e(ib,0));e(Pa,false);e(Mb,false);e(fa,false);e(oc,g.brake);e(Nb,!!v);e(ga,g.tempo/(n.lazy?
g.laziness:1));e(xa,-1);e(jb,-1);e(Qa,g.annotations||u.unbind(x(Qa))&&{});e(Ob,1);e(pc,{attr:c,data:i});g.steppable||u.unbind("up.steppable");g.indicator||u.unbind(".indicator");C(P,{overflow:Pb,position:"relative"});l||C(P,{width:Eb,height:Fb});l&&k.each(Lc,function(ed,qc){q[qc]=a(qc)});C(ya+A+x(z),{display:Qb});C(x(Jb),{position:"fixed",left:y(-100),top:y(-100)},true);C(x(Jb)+A+Ya,{position:Ra,width:10,height:10},true);ha.bind(I.pool);h.trigger(Jc?"prepare":"setup")}},instance:{teardown:function(){var c=
h.data(pc);h.parent().unbind(I.instance);if(a(Ka))h.parent().unbind(kb,ia);else a($).remove()&&a(Ma).unbind(F);a(bb).empty();clearTimeout(Rb);clearTimeout(Sb);k(U).unbind(rc,sc);k(U).unbind(F);ha.unbind(I.pool);na.unbind(ja);h.siblings().unbind(F).remove();lb();h.removeAttr("onloaded");Fc(h.unbind(F).removeData().unwrap().attr(c.attr).data(c.data));h.attr($)==P&&h.removeAttr($)},setup:function(){function c(q){return h.trigger("down",[Xa(q).clientX,Xa(q).clientY,q])&&q.give}function d(q,u){return!u||
h.trigger("wheel",[u,q])&&q.give}var b=h.parent().append(za()),i=e(Ma,k(g.area||b)),p=g.rows>1,m=g.cursor,l=m==tc?Mc:m;m=m==tc?Nc+A+"!important":r;C(A+x(z),{MozUserSelect:mb,WebkitUserSelect:mb,MozTransform:"translateZ(0)"});h.unbind(kb,ia);i.bind(Oc,c).bind(g.clickfree?Pc:Qc,c).bind(g.wheelable?Rc:null,d).bind(Sc,function(){return false});C(P,{cursor:Wa(l)});C(x(Tb),{cursor:"wait"});C(x(nb)+ya+x(nb)+" *",{cursor:Wa(m||l)},true);if(a(Za)){C(A+x(z),{width:"100%",height:Ub});k(U).bind(rc,sc)}g.hint&&
i.attr("title",g.hint);g.indicator&&b.append(Sa("x"));p&&g.indicator&&b.append(Sa("y"));g.monitor&&b.append(uc=k(V(sa),{"class":vc}))&&C(A+x(vc),{position:Ra,left:0,top:0})},preload:function(){function c(){var q=l.children(":not([src]):first");return q.attr(qa,q.data(qa))}var d=h.parent(),b=a(aa),i=!b.length,p=n.preload[g.preload]||n.preload[n.def.preload];b=i?[a(Ib)]:p(b.slice(0),g,a);e(da,i?0.5:0);var m=0,l=a(bb).empty();i=[];d.addClass(Tb);e($,a($)||k("<"+$+' type="text/css">'+C.rules.join("\n")+
"</"+$+">").prependTo(Vb));e(Oa,true);h.trigger("stop");g.responsive&&Wb();for(h.trigger("resize",true);b.length;){p=n.substitute(g.path+b.shift(),a);k(V(Ya)).data(qa,p).appendTo(l).bind("load error abort",function(q){q.type!="load"&&h.trigger(q.type);return!Hc(d)&&h.trigger("preloaded")&&c()&&false});i.push(p)}setTimeout(function(){for(;++m<n.concurrent_requests;)c()},0);e(kc,i);e(Ka,false)},preloaded:function(){var c=a(aa).length||1,d=e(da,Ha(a(da)+1,c));d===1&&h.trigger("frameChange",[r,a(J)]);
if(d===c){h.parent().removeClass(Tb);h.trigger("loaded")}},loaded:function(){a(aa).length>1||h.css({backgroundImage:Fa(n.substitute(g.path+a(Ib),a))}).attr({src:Wa(wc)});a(W)&&h.attr({src:Wa(wc)});a(Mb)||e(ma,g.velocity||0);e(Oa,false);oa=true},prepare:function(){h.css("display",Qb).parent().one(kb,ia)},opening:function(){if(!g.opening)return h.trigger("openingDone");e(fa,true);e(Xb,!a(ua));var c=g.entry||g.speed,d=a(B),b=g.opening;e(B,d-c*b);e(xa,la(b*Y(ga)))},openingDone:function(){function c(b){return h.trigger("orient",
[xb(b).alpha,xb(b).beta,xb(b).gamma,b])&&b.give}e(Ta,false);e(fa,false);var d=ob+x(fa);ha.unbind(d,I.pool[d]);g.orientable&&k(U).bind(Tc,c);if(g.delay>0)Rb=setTimeout(function(){h.trigger("play")},g.delay*1E3);else h.trigger("play")},play:function(c,d){d=d?e(ua,d):a(ua)*Ia(1,a(M));(c=g.duration)&&e(jb,la(c*Y(ga)));e(M,d<0);d=e(Ta,!!d);e(Xb,!d);Aa()},reach:function(c,d,b){if(d!=a(J)){c=a(O);e(Q,la(d/c));var i=e(cb,a(J));d=e(Na,d);d=e(db,n.math.distance(i,d,c));b=H(b||a(ua))*Ia(1,d<0);h.trigger("play",
b)}},pause:function(){w()},stop:function(){var c=e(Xb,true);e(Ta,!c)},down:function(c,d,b,i){function p(l){return h.trigger("pan",[Xa(l).clientX,Xa(l).clientY,l])&&l.give}function m(l){return h.trigger("up",[l])&&l.give}if(!(!g.clickfree&&i&&i.button!==r&&i.button!=Uc))if(g.draggable){e(ea,a(J));c=g.clickfree;e(ma,0);i=c?a(Ma):na;pb=qb(a(La),d,b);w();lb();G=0;k(Bb,na).addClass(nb);i.bind(Vc+A+Wc,p).bind(Xc+A+Yc,m).bind(c?Zc:$c,m)}},up:function(){e(ea,false);e(Pa,false);var c=g.throwable,d=H(Ua[0]+
Ua[1])/60;N=e(ma,!c?0:c===true?d:Ha(c,d))?1:0;w();lb();k(Bb,na).removeClass(nb);(g.clickfree?a(Ma):na).unbind(ja)},pan:function(c,d,b,i){if(g.draggable&&Va){Va=false;w();c=g.rows;var p=g.orbital,m=!a(Pa)&&c<=1&&!p&&g.scrollable,l={x:d-pb.x,y:b-pb.y},q={x:H(l.x),y:H(l.y)};if(i&&m&&q.x<q.y)return i.give=true;if(q.x>0||q.y>0){i&&(i.give=false);G=wb(q.x,q.y);pb={x:d,y:b};i=a(La);m=a(fb);q=a(va);if(!a(mc)){var u=e(B,xc(q?b-m.y:d-m.x,a(gb),i,a(hb),a(ib),a(wa),q?b-m.y:d-m.x));e(Pa,a(Pa)||a(J)!=a(ea));(l=
yc(q?l.y:l.x||0))&&e(M,l<0)}if(p&&a(Nb)){e(va,H(b-m.y)>H(d-m.x));m=qb(i,d,b)}if(c>1&&!a(lc)){c=a(Gb);p=a(Lb);l=-p*c;e(ta,n.math.envelope(b-m.y,p,c,l,l+c,-1))}!(u%1)&&!g.loops&&qb(i,d,b)}}},wheel:function(c,d,b){if(d){rb=true;c=la(pa.sqrt(H(d))/2);c=Ia(c,d>0);d=0.0833*a(La);qb(d);c&&e(M,c<0);e(ma,0);e(B,xc(c,a(gb),d,a(hb),a(ib),a(wa)));b&&b.preventDefault();b&&(b.give=false);w();h.trigger("up",[b])}},orient:function(c,d){if(!(!Va||R)){zc=true;c=d/360;fraction=e(B,+(g.stitched||g.cw?1-c:c).toFixed(2));
Va=false}},fractionChange:function(c,d,b){if(d===r){c=1+sb(b/a(eb));d=g.rows>1;b=g.orbital;e(Nb,!!b&&(c<=b||c>=a(ra)-b+2));if(d)c+=(a(Q)-1)*a(O);e(J,c)}},tierChange:function(c,d,b){if(d===r){c=e(Q,S(Yb(b,1,g.rows)));d=a(O);b=a(J)%d||d;e(J,b+c*d-d)}},rowChange:function(c,d,b){d===r&&Zb(ta,r,b,g.rows)},frameChange:function(c,d,b){if(d===r){this.className=this.className.replace(n.re.frame_klass,jc+b);c=a(O);d=g.rows;var i=g.path,p=b%c||c,m=((b-p)/c+1-1)/(d-1),l=a(Q);!d?a(ta):Zb(ta,m,l,d);var q=Zb(B,
r,p,c),u=a(ra);if(g.orbital&&a(va)){b=g.inversed?u+1-b:b;b+=u}var v=a(W);c=a(aa);if(!c.length||v){p=a($a);var E=a(D);m=a(L);if(v){b=e(ab,S(Yb(q,0,a(Hb)))%v);d=d<=1?0:(m+p)*(d-l);b=[y(-b),y(-d)];c=c.length>1&&c[l-1];d=n.substitute(i+c,a);c&&h.css("backgroundImage").search(d)<0&&h.css({backgroundImage:Fa(d)})}else{i=g.horizontal;l=b%u-1;l=l<0?u-1:l;b=sb((b-0.1)/u);b+=d>1?0:a(M)?0:!g.directional?0:a(Kb);b=b*((i?m:E)+p);d=l*((i?E:m)+p);b=c.length?[0,0]:i?[y(-d),y(-b)]:[y(-b),y(-d)]}h.css({backgroundPosition:b.join(A)})}else{a(Za)&&
Wb();a(da)&&h.attr({src:bc(n.substitute(i+c[b-1],a))})}}},"frameChange.reach":function(c,d,b){if(!(!a(Na)||d!==r)){c=n.math.distance(a(cb),b,a(O));if(H(c)>=H(a(db))){e(J,e(Na));e(Na,e(db,e(cb,0)));h.trigger("stop")}}},"imageChange imagesChange":function(){h.trigger("preload")},"fractionChange.indicator":function(c,d,b){if(g.indicator&&d===r){c=g.indicator;var i=g.orbital;d=i&&a(va)?a(L):a(D);i=i?a(ra):g.images.length||a(O);i=la(d/i);d-=i;b=S(Yb(b,0,d));b=!g.cw||a(W)?b:d-b;Sa.$x.css(a(va)?{left:0,
top:y(b),bottom:Ub,width:c,height:i}:{bottom:0,left:y(b),top:Ub,width:i,height:c})}},"tierChange.indicator":function(c,d,b){if(g.rows>1&&g.indicator&&d===r){var i=a(L);c=g.indicator;d=la(i/g.rows);i-=d;b=S(b*i);Sa.$y.css({left:0,top:b,width:c,height:d})}},"setup.annotations":function(){var c=h.parent();k.each(a(Qa),function(d,b){var i=typeof b.node==yb?k(b.node):b.node||{};i=i.jquery?i:k(V(sa),i);i=i.attr({id:d}).addClass(fc);var p=b.image?k(V(Ya),b.image):k(),m=b.link?k(V("a"),b.link).click(function(){h.trigger("up.annotations",
{target:m})}):k();C(Da(d),{display:mb,position:Ra},true);b.image||b.link&&i.append(m);b.link||b.image&&i.append(p);b.link&&b.image&&i.append(m.append(p));i.appendTo(c)})},"prepare.annotations":function(){k.each(a(Qa),function(c){k(Da(c)).hide()})},"frameChange.annotations":function(c,d){if(!(!a(da)||d!==r)){var b=a(D),i=a(W),p=a(ab);k.each(a(Qa),function(m,l){m=k(Da(m));var q=l.start||1,u=l.end,v=v||a(J),E=v-1,ba=l.at?l.at[E]=="+":false;E=l.at?E:E-q+1;v=typeof l.x!=vb?l.x:l.x[E];var ca=typeof l.y!=
vb?l.y:l.y[E];l=v!==r&&ca!==r&&(l.at?ba:E>=0&&(!u||E<=u-q));if(i){q=v>i-b&&p>=0&&p<b;v=!(v<b&&p>i-b)?v:v+i;v=!q?v:v-i;v-=p}if(a(Za)){q=a(Ob);v=v&&v*q;ca=ca&&ca*q}v={display:l?Qb:mb,left:y(v),top:y(ca)};m.css(v)})}},"up.annotations":function(c,d){if(!(G>10||rb)){c=k(d.target);(c.is("a")?c:c.parents("a")).attr("href")&&(G=10)}},"up.steppable":function(){G||rb||h.trigger(a(fb).x-h.offset().left>0.5*a(D)?"stepRight":"stepLeft")},"stepLeft stepRight":function(){w()},stepLeft:function(){e(M,false);e(B,
a(B)-a(eb)*a(wa))},stepRight:function(){e(M,true);e(B,a(B)+a(eb)*a(wa))},stepUp:function(){e(Q,a(Q)-1)},stepDown:function(){e(Q,a(Q)+1)},resize:function(c,d){if(!(a(Oa)&&!d)){var b=a(W),i=a($a);c=a(L);var p=!a(aa).length||b,m=g.rows||1;b=a(aa).length?!b?r:y(b)+A+y(c):b&&y(b)+A+y((c+i)*m-i)||y((a(D)+i)*a(ra)-i)+A+y((c+i)*a(Kb)*m*(g.directional?2:1)-i);h.css({height:p?y(c):null,backgroundSize:b||null});d||h.trigger("imagesChange")}},"setup.fu":function(){e(J,g.frame+(a(Q)-1)*a(O));h.trigger("preload")},
"wheel.fu":function(){rb=false},"clean.fu":function(){h.trigger("teardown")},"loaded.fu":function(){h.trigger("opening")}},pool:{"tick.reel.preload":function(){if(!(!(oa||a(Oa))||a(Ka))){var c=a(D),d=ad(za.$.css(D)),b=a(aa).length||1,i=S(1/b*a(da)*c);za.$.css({width:d+(i-d)/3+1});if(a(da)===b&&d>c-1){oa=false;za.$.fadeOut(300,function(){za.$.css({opacity:1,width:0})})}}},"tick.reel":function(c){if(!a(Ka)){var d=a(ma),b=Y(ga),i=g.monitor;if(!(!n.intense&&bd())){if(N){d=d-a(oc)/b*N;d=e(ma,d>0.1?d:(N=
R=0))}i&&uc.text(a(i));d&&N++;R&&R++;yc(0);Va=true;if(R&&!d)return T(c);if(a(ea))return T(c,w());if(!(a(xa)>0)){if(!g.loops&&g.rebound){!R&&!(a(B)%1)?$b++:($b=0);$b>=g.rebound*1E3/b&&e(M,!a(M))}c=a(wa)*Ia(1,a(M));b=a(jb);d=(!a(Ta)||zc||!b?d:H(a(ua))+d)/Y(ga);e(B,a(B)-d*c);b=!g.duration?b:b>0&&e(jb,b-1);!b&&a(Ta)&&h.trigger("stop")}}}},"tick.reel.opening":function(){if(a(fa)){var c=(g.entry||g.speed)/Y(ga)*(g.cw?-1:1),d=e(xa,a(xa)-1);e(B,a(B)+c);d||h.trigger("openingDone")}}}},oa=false,T=function(c,
d){return c.stopImmediatePropagation()||d},ia=function(){h.trigger("setup")},R,N=0,Aa=function(){return R=0},w=function(){clearTimeout(Rb);ha.unbind(ob+x(fa),I.pool[ob+x(fa)]);e(xa,0);e(Mb,true);return R=-g.timeout*Y(ga)},G=0,rb=false,zc=false,uc=k(),za=function(){C(A+x(Ac),{position:Ra,left:0,bottom:0,height:g.preloader,overflow:Pb,backgroundColor:"#000"});return za.$=k(V(sa),{"class":Ac})},Sa=function(c){C(A+x(Bc)+x(c),{position:Ra,width:0,height:0,overflow:Pb,backgroundColor:"#000"});return Sa["$"+
c]=k(V(sa),{"class":Bc+A+c})},C=function(c,d,b){function i(p){var m=[];k.each(p,function(l,q){m.push(l.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+y(q)+";")});return"{"+m.join(P)+"}"}b=b?P:a(nc);c=c.replace(/^/,b).replace(ya,ya+b);return C.rules.push(c+i(d))&&d},bd=function(){var c=a(L),d=a(D),b=h[0].getBoundingClientRect();return b.top<-c||b.left<-d||b.right>d+k(U).width()||b.bottom>c+k(U).height()},$b=0,pb={x:0,y:0},yc=function(c){return Ua.push(c)&&Ua.shift()&&c},lb=function(){return Ua=[0,0]},
Ua=lb(),xc=g.graph||n.math[g.loops?"hatch":"envelope"],sc=function(){clearTimeout(Sb);Sb=setTimeout(Wb,n.resize_gauge)},Wb=function(){if(h.width()!=a(D)){var c=a(hc),d=e(Ob,h.width()/c.width);k.each(c,function(b,i){e(b,S(i*d))});h.trigger("resize")}},Rb,Sb,qb=function(c,d,b){var i=e(gb,a(B));e(Lb,a(ta));var p=g.loops;e(hb,p?0:-i*c);e(ib,p?c:c-i*c);return d!==r&&e(fb,{x:d,y:b})||r},Va=true,Zb=function(c,d,b,i){if(i){var p=a(c)||0;b=d!==r?d:(b-1)/(i-1);b=c!=B?b:Ha(b,0.9999);return d=+H(p-b).toFixed(8)>=
+(1/(i-1)).toFixed(8)?e(c,b):d||p}},na=ha;try{if(ha[0]!=top.document)na=ha.add(top.document)}catch(fd){}top===self?k():function(c){k("iframe",na.last()).each(function(){try{if(k(this).contents().find(Vb).html()==k(Vb).html())return(c=k(this))&&false}catch(d){}});return c}();C.rules=[];I.setup()});tb=tb||function h(){var e=+new Date,a=Y(ga);if(!a)return tb=null;ha.trigger(ob);n.cost=(+new Date+n.cost-e)/2;return tb=setTimeout(h,wb(4,1E3/a-n.cost))}();return k(K)}},unreel:function(){return this.trigger("teardown")}},
re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"",math:{envelope:function(f,j,o,t,s,g){return j+Ga(t,s,-f*g)/o},hatch:function(f,j,o,t,s,g){f=(f<t?s:0)+f%s;f=j+-f*g/o;return f-
sb(f)},interpolate:function(f,j,o){return j+f*(o-j)},distance:function(f,j,o){var t=o/2;f=j-f;return f<-t?f+o:f>t?f-o:f}},preload:{fidelity:function(f,j,o){function t(e,a,I){function oa(G){for(;!(G>=1&&G<=N);)G+=G<1?+N:-N;return h[I+G]||(h[I+G]=!!T.push(G))}if(!e.length)return[];var T=[],ia=4*a,R=j.frame,N=e.length;a=true;for(var Aa=N/ia,w=0;w<ia;w++)oa(R+S(w*Aa));for(;Aa>1;){w=0;ia=T.length;Aa/=2;for(a=!a;w<ia;w++)oa(T[w]+(a?1:-1)*S(Aa))}for(w=0;w<=N;w++)oa(w);for(w=0;w<T.length;w++)T[w]=e[T[w]-
1];return T}var s=j.orbital,g=s?2:j.rows||1,K=s?o(ra):o(O);o=(j.row-1)*K;s=[].concat(f);var h=new Array(f.length+1);f=g<2?[]:s.slice(o,o+K);return t(f,1,o).concat(t(s,g,0))},linear:function(f){return f}},substitute:function(f,j){return f.replace(n.re.substitution,function(o,t,s){return typeof n.substitutes[s]=="function"?n.substitutes[s](j):Cc[s]?j(Cc[s]):t})},substitutes:{T:function(){return+new Date}},normal:{fraction:function(f,j){if(f===null)return f;return j[Ja].loops?f-sb(f):Ga(0,1,f)},tier:function(f){if(f===
null)return f;return Ga(0,1,f)},row:function(f,j){if(f===null)return f;return S(Ga(1,j[Ja].rows,f))},frame:function(f,j){if(f===null)return f;var o=j[Ja];j=j[O]*(o.orbital?2:o.rows||1);f=S(o.loops?f%j||j:Ga(1,j,f));return f<0?f+j:f},images:function(f,j){var o=n.re.sequence.exec(f);return!o?f:n.sequence(o,j[Ja])}},sequence:function(f,j){if(f.length<=1)return j.images;var o=[],t=j.orbital,s=f[1],g=f[2],K=f[4];K=n.re.no_match.test(K+P)?1:+K;var h=t?2:j.rows||1;j=t?j.footage:j.stitched?1:j.frames;h=+(f[5]||
h*j)-K;f=+f[7]||1;for(j=0;j<=h;){o.push(s.replace(g,dc(K+j+P,g.length,"0")));j+=f}return o},instances:k(),leader:Y,resize_gauge:300,concurrent_requests:4,cost:0},ha=k(X);X=navigator.userAgent;var Ba=n.re.ua[0].exec(X)||n.re.ua[1].exec(X)||n.re.ua[2].exec(X);Z=+Ba[2].split(".").slice(0,2).join(".");Ba=Ba[1]=="MSIE";var cd=!(Ba&&Z<8),Ic=!(Ba&&Z<9),tb,z="reel",Db=z+"-overlay",Jb=z+"-cache",Bc=z+"-indicator",Ac=z+"-preloader",vc=z+"-monitor",fc=z+"-annotation",nb=z+"-panning",Tb=z+"-loading",jc="frame-",
pa=Math,S=pa.round,sb=pa.floor,la=pa.ceil,Ha=pa.min,wb=pa.max,H=pa.abs,ad=parseInt,Yb=n.math.interpolate,Qa="annotations",Ma="area",Ub="auto",pc="backup",M="backwards",eb="bit",oc="brake",bb="cache",kc=bb+"d",Nb="center",gc="class",kb="click",ea=kb+"ed",fb=ea+"_location",gb=ea+"_on",Lb=ea+"_tier",wa="cwish",cb="departure",Na="destination",db="distance",ra="footage",B="fraction",J="frame",mc="framelock",O="frames",L="height",ib="hi",Pb="hidden",Ib="image",aa="images",hb="lo",Oa="loading",Ca="mouse",
fa="opening",xa=fa+"_ticks",Ja="options",Ta="playing",da="preloaded",Ob="ratio",Pa="reeling",Mb="reeled",Za="responsive",La="revolution",Gb="revolution_y",Q="row",lc="rowlock",Kb="rows",Ka="shy",$a="spacing",ua="speed",qa="src",nc="stage",W="stitched",ab=W+"_shift",Hb=W+"_travel",Xb="stopped",$="style",ga="tempo",jb="ticks",ta="tier",ub="touch",hc="truescale",ma="velocity",va="vertical",D="width",F=x(z),ja=x("pan")+F,Tc="deviceorientation"+F,Sc="dragstart"+F,Qc=Ca+"down"+F,Pc=Ca+"enter"+F,Zc=Ca+"leave"+
ja,Wc=Ca+"move"+ja,$c=Ca+"up"+ja,Rc=Ca+"wheel"+F,ob="tick"+F,Yc=ub+"cancel"+ja,Xc=ub+"end"+ja,Oc=ub+"start"+F,Vc=ub+"move"+ja,rc="resize"+F,P="",A=" ",ya=",",Ra="absolute",Qb="block",Ea="@CDN@",sa="div",tc="hand",Vb="head",Bb="html",ka="id",Ya="img",ac="jquery."+z,Dc="move",mb="none",vb="object",yb="string",Lc=[D,L,$a,La,Gb,W,ab,Hb],Cc={W:D,H:L},wc=cd?Gc("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Ea+"blank.gif";Fa(Ea+ac+".cur");var Mc=Fa(Ea+ac+"-drag.cur")+ya+Dc,Nc=Fa(Ea+ac+"-drag-down.cur")+
ya+Dc;n.lazy=n.re.lazy_agent.test(X);var Uc=Ba&&Z<9?1:0,dd=k.cleanData;k.cleanData=function(f){k(f).each(function(){k(this).triggerHandler("clean")});return dd.apply(this,arguments)};k.extend(k.fn,n.fn)&&k(n.scan);return n}}(jQuery,window,document)});

(function(){function d(f){if(!f)throw new Error("No options passed to Waypoint constructor");if(!f.element)throw new Error("No element option passed to Waypoint constructor");if(!f.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e;this.options=d.Adapter.extend({},d.defaults,f);this.element=this.options.element;this.adapter=new d.Adapter(this.element);this.callback=f.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;
this.triggerPoint=null;this.group=d.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=d.Context.findOrCreateByElement(this.options.context);if(d.offsetAliases[this.options.offset])this.options.offset=d.offsetAliases[this.options.offset];this.group.add(this);this.context.add(this);g[this.key]=this;e+=1}var e=0,g={};d.prototype.queueTrigger=function(f){this.group.queueTrigger(this,f)};d.prototype.trigger=function(f){this.enabled&&this.callback&&this.callback.apply(this,f)};d.prototype.destroy=
function(){this.context.remove(this);this.group.remove(this);delete g[this.key]};d.prototype.disable=function(){this.enabled=false;return this};d.prototype.enable=function(){this.context.refresh();this.enabled=true;return this};d.prototype.next=function(){return this.group.next(this)};d.prototype.previous=function(){return this.group.previous(this)};d.invokeAll=function(f){var h=[];for(var b in g)h.push(g[b]);b=0;for(var a=h.length;b<a;b++)h[b][f]()};d.destroyAll=function(){d.invokeAll("destroy")};
d.disableAll=function(){d.invokeAll("disable")};d.enableAll=function(){d.invokeAll("enable")};d.refreshAll=function(){d.Context.refreshAll()};d.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};d.viewportWidth=function(){return document.documentElement.clientWidth};d.adapters=[];d.defaults={context:window,continuous:true,enabled:true,group:"default",horizontal:false,offset:0};d.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},
"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=d})();
(function(){function d(a){window.setTimeout(a,1E3/60)}function e(a){this.element=a;this.Adapter=h.Adapter;this.adapter=new this.Adapter(a);this.key="waypoint-context-"+g;this.didResize=this.didScroll=false;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};a.waypointContextKey=this.key;f[a.waypointContextKey]=this;g+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var g=0,f={},h=window.Waypoint,b=window.onload;
e.prototype.add=function(a){this.waypoints[a.options.horizontal?"horizontal":"vertical"][a.key]=a;this.refresh()};e.prototype.checkEmpty=function(){var a=this.Adapter.isEmptyObject(this.waypoints.horizontal),c=this.Adapter.isEmptyObject(this.waypoints.vertical);if(a&&c){this.adapter.off(".waypoints");delete f[this.key]}};e.prototype.createThrottledResizeHandler=function(){function a(){c.handleResize();c.didResize=false}var c=this;this.adapter.on("resize.waypoints",function(){if(!c.didResize){c.didResize=
true;h.requestAnimationFrame(a)}})};e.prototype.createThrottledScrollHandler=function(){function a(){c.handleScroll();c.didScroll=false}var c=this;this.adapter.on("scroll.waypoints",function(){if(!c.didScroll||h.isTouch){c.didScroll=true;h.requestAnimationFrame(a)}})};e.prototype.handleResize=function(){h.Context.refreshAll()};e.prototype.handleScroll=function(){var a={},c={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),
oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var k in c){var l=c[k],p=l.newScroll>l.oldScroll?l.forward:l.backward;for(var i in this.waypoints[k]){var j=this.waypoints[k][i],m=l.oldScroll<j.triggerPoint,n=l.newScroll>=j.triggerPoint,o=!m&&!n;if(m&&n||o){j.queueTrigger(p);a[j.group.id]=j.group}}}for(var q in a)a[q].flushTriggers();this.oldScroll={x:c.horizontal.newScroll,y:c.vertical.newScroll}};e.prototype.innerHeight=function(){if(this.element==this.element.window)return h.viewportHeight();
return this.adapter.innerHeight()};e.prototype.remove=function(a){delete this.waypoints[a.axis][a.key];this.checkEmpty()};e.prototype.innerWidth=function(){if(this.element==this.element.window)return h.viewportWidth();return this.adapter.innerWidth()};e.prototype.destroy=function(){var a=[];for(var c in this.waypoints)for(var k in this.waypoints[c])a.push(this.waypoints[c][k]);c=0;for(k=a.length;c<k;c++)a[c].destroy()};e.prototype.refresh=function(){var a=this.element==this.element.window,c=this.adapter.offset(),
k={};this.handleScroll();a={horizontal:{contextOffset:a?0:c.left,contextScroll:a?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:a?0:c.top,contextScroll:a?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var l in a){c=a[l];for(var p in this.waypoints[l]){var i=this.waypoints[l][p],j=i.options.offset,m=i.triggerPoint,
n=0,o=m==null;if(i.element!==i.element.window)n=i.adapter.offset()[c.offsetProp];if(typeof j==="function")j=j.apply(i);else if(typeof j==="string"){j=parseFloat(j);if(i.options.offset.indexOf("%")>-1)j=Math.ceil(c.contextDimension*j/100)}i.triggerPoint=n+(c.contextScroll-c.contextOffset)-j;m=m<c.oldScroll;n=i.triggerPoint>=c.oldScroll;j=m&&n;m=!m&&!n;if(!o&&j){i.queueTrigger(c.backward);k[i.group.id]=i.group}else if(!o&&m){i.queueTrigger(c.forward);k[i.group.id]=i.group}else if(o&&c.oldScroll>=i.triggerPoint){i.queueTrigger(c.forward);
k[i.group.id]=i.group}}}for(var q in k)k[q].flushTriggers();return this};e.findOrCreateByElement=function(a){return e.findByElement(a)||new e(a)};e.refreshAll=function(){for(var a in f)f[a].refresh()};e.findByElement=function(a){return f[a.waypointContextKey]};window.onload=function(){b&&b();e.refreshAll()};h.requestAnimationFrame=function(a){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||d).call(window,a)};h.Context=e})();
(function(){function d(b,a){return b.triggerPoint-a.triggerPoint}function e(b,a){return a.triggerPoint-b.triggerPoint}function g(b){this.name=b.name;this.axis=b.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();f[this.axis][this.name]=this}var f={vertical:{},horizontal:{}},h=window.Waypoint;g.prototype.add=function(b){this.waypoints.push(b)};g.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};g.prototype.flushTriggers=function(){for(var b in this.triggerQueues){var a=
this.triggerQueues[b];a.sort(b==="up"||b==="left"?e:d);for(var c=0,k=a.length;c<k;c+=1){var l=a[c];if(l.options.continuous||c===a.length-1)l.trigger([b])}}this.clearTriggerQueues()};g.prototype.next=function(b){this.waypoints.sort(d);b=h.Adapter.inArray(b,this.waypoints);return b===this.waypoints.length-1?null:this.waypoints[b+1]};g.prototype.previous=function(b){this.waypoints.sort(d);return(b=h.Adapter.inArray(b,this.waypoints))?this.waypoints[b-1]:null};g.prototype.queueTrigger=function(b,a){this.triggerQueues[a].push(b)};
g.prototype.remove=function(b){b=h.Adapter.inArray(b,this.waypoints);b>-1&&this.waypoints.splice(b,1)};g.prototype.first=function(){return this.waypoints[0]};g.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};g.findOrCreate=function(b){return f[b.axis][b.name]||new g(b)};h.Group=g})();
(function(){function d(f){this.$element=e(f)}var e=window.jQuery,g=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(f,h){d.prototype[h]=function(){var b=Array.prototype.slice.call(arguments);return this.$element[h].apply(this.$element,b)}});e.each(["extend","inArray","isEmptyObject"],function(f,h){d[h]=e[h]});g.adapters.push({name:"jquery",Adapter:d});g.Adapter=d})();
(function(){function d(g){return function(f,h){var b=[],a=f;if(g.isFunction(f)){a=g.extend({},h);a.handler=f}this.each(function(){var c=g.extend({},a,{element:this});if(typeof c.context==="string")c.context=g(this).closest(c.context)[0];b.push(new e(c))});return b}}var e=window.Waypoint;if(window.jQuery)window.jQuery.fn.waypoint=d(window.jQuery);if(window.Zepto)window.Zepto.fn.waypoint=d(window.Zepto)})();

(function(c,o){function v(a){return typeof a==="string"}function m(a){var b=D.call(arguments,1);return function(){return a.apply(this,b.concat(D.call(arguments)))}}function E(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function H(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function t(a,b,d,e,f){var h;if(e!==i){b=d.match(a?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);d=b[3]||"";if(f===2&&v(e))e=e.replace(a?J:K,"");else{h=j(b[2]);e=v(e)?j[a?w:A](e):e;e=f===2?e:f===1?c.extend({},e,h):c.extend({},
h,e);e=p(e);if(a)e=e.replace(L,q)}a=b[1]+(a?"#":e||!b[1]?"?":"")+e+d}else a=b(d!==i?d:o[I][B]);return a}function x(a,b,d){if(b===i||typeof b==="boolean"){d=b;b=p[a?w:A]()}else b=v(b)?b.replace(a?J:K,""):b;return j(b,d)}function F(a,b,d,e){if(!v(d)&&typeof d!=="object"){e=d;d=b;b=i}return this.each(function(){var f=c(this),h=b||G()[(this.nodeName||"").toLowerCase()]||"",g=h&&f.attr(h)||"";f.attr(h,p[a](g,d,e))})}var i,D=Array.prototype.slice,q=decodeURIComponent,p=c.param,n,j,r,y=c.bbq=c.bbq||{},l,
s,G,C=c.event.special,A="querystring",w="fragment",I="location",B="href",K=/^.*\?|#.*$/g,J=/^.*\#/,L,M={};p[A]=m(t,0,H);p[w]=n=m(t,1,E);n.noEscape=function(a){a=a||"";a=c.map(a.split(""),encodeURIComponent);L=new RegExp(a.join("|"),"g")};n.noEscape(",/");c.deparam=j=function(a,b){var d={},e={"true":true,"false":false,"null":null};c.each(a.replace(/\+/g," ").split("&"),function(f,h){var g=h.split("=");f=q(g[0]);h=d;var z=0,k=f.split("]["),u=k.length-1;if(/\[/.test(k[0])&&/\]$/.test(k[u])){k[u]=k[u].replace(/\]$/,
"");k=k.shift().split("[").concat(k);u=k.length-1}else u=0;if(g.length===2){g=q(g[1]);if(b)g=g&&!isNaN(g)?+g:g==="undefined"?i:e[g]!==i?e[g]:g;if(u)for(;z<=u;z++){f=k[z]===""?h.length:k[z];h=h[f]=z<u?h[f]||(k[z+1]&&isNaN(k[z+1])?{}:[]):g}else if(c.isArray(d[f]))d[f].push(g);else d[f]=d[f]!==i?[d[f],g]:g}else if(f)d[f]=b?i:""});return d};j[A]=m(x,0);j[w]=r=m(x,1);c.elemUrlAttr||(c.elemUrlAttr=function(a){return c.extend(M,a)})({a:B,base:B,iframe:"src",img:"src",input:"src",form:"action",link:B,script:"src"});
G=c.elemUrlAttr;c.fn[A]=m(F,A);c.fn[w]=m(F,w);y.pushState=l=function(a,b){if(v(a)&&/^#/.test(a)&&b===i)b=2;var d=a!==i;a=n(o[I][B],d?a:{},d?b:2);o[I][B]=a+(/#/.test(a)?"":"#")};y.getState=s=function(a,b){return a===i||typeof a==="boolean"?r(a):r(b)[a]};y.removeState=function(a){var b={};if(a!==i){b=s();c.each(c.isArray(a)?a:arguments,function(d,e){delete b[e]})}l(b,2)};C.hashchange=c.extend(C.hashchange,{add:function(a){function b(e){var f=e[w]=n();e.getState=function(h,g){return h===i||typeof h===
"boolean"?j(f,h):j(f,g)[h]};d.apply(this,arguments)}var d;if(c.isFunction(a)){d=a;return b}else{d=a.handler;a.handler=b}}})})(jQuery,this);
(function(c,o,v){function m(q){q=q||o[t][x];return q.replace(/^[^#]*#?(.*)$/,"$1")}var E,H=c.event.special,t="location",x="href",F=document.documentMode,i=c.browser.msie&&(F===v||F<8),D="onhashchange"in o&&!i;c.hashchangeDelay=100;H.hashchange=c.extend(H.hashchange,{setup:function(){if(D)return false;c(E.start)},teardown:function(){if(D)return false;c(E.stop)}});E=function(){function q(){r=y=function(l){return l};if(i){j=c('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;
y=function(){return m(j.document[t][x])};r=function(l,s){if(l!==s){s=j.document;s.open().close();s[t].hash="#"+l}};r(m())}}var p={},n,j,r,y;p.start=function(){if(!n){var l=m();r||q();(function s(){var G=m(),C=y(l);if(G!==l){r(l=G,C);c(o).trigger("hashchange")}else if(C!==l)o[t][x]=o[t][x].replace(/#.*/,"")+"#"+C;n=setTimeout(s,c.hashchangeDelay)})()}};p.stop=function(){if(!j){n&&clearTimeout(n);n=0}};return p}()})(jQuery,this);

(function(m){var i=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(h){return!h||/^\s*$/.test(h)},escapeRegExChars:function(h){return h.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(h){return typeof h==="string"},isNumber:function(h){return typeof h==="number"},isArray:m.isArray,isFunction:m.isFunction,isObject:m.isPlainObject,isUndefined:function(h){return typeof h===
"undefined"},toStr:function(h){return i.isUndefined(h)||h===null?"":h+""},bind:m.proxy,each:function(h,l){function g(c,f){return l(f,c)}m.each(h,g)},map:m.map,filter:m.grep,every:function(h,l){var g=true;if(!h)return g;m.each(h,function(c,f){if(!(g=l.call(null,f,c,h)))return false});return!!g},some:function(h,l){var g=false;if(!h)return g;m.each(h,function(c,f){if(g=l.call(null,f,c,h))return false});return!!g},mixin:m.extend,getUniqueId:function(){var h=0;return function(){return h++}}(),templatify:function(h){function l(){return String(h)}
return m.isFunction(h)?h:l},defer:function(h){setTimeout(h,0)},debounce:function(h,l,g){var c,f;return function(){var a=this,b=arguments,d;d=g&&!c;clearTimeout(c);c=setTimeout(function(){c=null;g||(f=h.apply(a,b))},l);if(d)f=h.apply(a,b);return f}},throttle:function(h,l){var g,c,f,a,b,d;b=0;d=function(){b=new Date;f=null;a=h.apply(g,c)};return function(){var e=new Date,j=l-(e-b);g=this;c=arguments;if(j<=0){clearTimeout(f);f=null;b=e;a=h.apply(g,c)}else f||(f=setTimeout(d,j));return a}},noop:function(){}}}(),
E=function(){function h(c){return(c=i.toStr(c))?c.split(/\s+/):[]}function l(c){return(c=i.toStr(c))?c.split(/\W+/):[]}function g(c){return function(){var f=[].slice.call(arguments,0);return function(a){var b=[];i.each(f,function(d){b=b.concat(c(i.toStr(a[d])))});return b}}}return{nonword:l,whitespace:h,obj:{nonword:g(l),whitespace:g(h)}}}(),z=function(){function h(c){this.maxSize=i.isNumber(c)?c:100;this.reset();if(this.maxSize<=0)this.set=this.get=m.noop}function l(){this.head=this.tail=null}function g(c,
f){this.key=c;this.val=f;this.prev=this.next=null}i.mixin(h.prototype,{set:function(c,f){var a=this.list.tail;if(this.size>=this.maxSize){this.list.remove(a);delete this.hash[a.key]}if(a=this.hash[c]){a.val=f;this.list.moveToFront(a)}else{a=new g(c,f);this.list.add(a);this.hash[c]=a;this.size++}},get:function(c){if(c=this.hash[c]){this.list.moveToFront(c);return c.val}},reset:function(){this.size=0;this.hash={};this.list=new l}});i.mixin(l.prototype,{add:function(c){if(this.head){c.next=this.head;
this.head.prev=c}this.head=c;this.tail=this.tail||c},remove:function(c){c.prev?(c.prev.next=c.next):(this.head=c.next);c.next?(c.next.prev=c.prev):(this.tail=c.prev)},moveToFront:function(c){this.remove(c);this.add(c)}});return h}(),F=function(){function h(b){this.prefix=["__",b,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+i.escapeRegExChars(this.prefix))}function l(){return(new Date).getTime()}function g(b){return JSON.stringify(i.isUndefined(b)?null:b)}function c(b){return JSON.parse(b)}
var f;try{f=window.localStorage;f.setItem("~~~","!");f.removeItem("~~~")}catch(a){f=null}i.mixin(h.prototype,f&&window.JSON?{_prefix:function(b){return this.prefix+b},_ttlKey:function(b){return this._prefix(b)+this.ttlKey},get:function(b){this.isExpired(b)&&this.remove(b);return c(f.getItem(this._prefix(b)))},set:function(b,d,e){i.isNumber(e)?f.setItem(this._ttlKey(b),g(l()+e)):f.removeItem(this._ttlKey(b));return f.setItem(this._prefix(b),g(d))},remove:function(b){f.removeItem(this._ttlKey(b));f.removeItem(this._prefix(b));
return this},clear:function(){var b,d,e=[],j=f.length;for(b=0;b<j;b++)if((d=f.key(b)).match(this.keyMatcher))e.push(d.replace(this.keyMatcher,""));for(b=e.length;b--;)this.remove(e[b]);return this},isExpired:function(b){b=c(f.getItem(this._ttlKey(b)));return i.isNumber(b)&&l()>b?true:false}}:{get:i.noop,set:i.noop,remove:i.noop,clear:i.noop,isExpired:i.noop});return h}(),A=function(){function h(b){b=b||{};this.cancelled=false;this.lastUrl=null;this._send=b.transport?l(b.transport):m.ajax;this._get=
b.rateLimiter?b.rateLimiter(this._get):this._get;this._cache=b.cache===false?new z(0):a}function l(b){return function(d,e){function j(o){i.defer(function(){n.resolve(o)})}function k(o){i.defer(function(){n.reject(o)})}var n=m.Deferred();b(d,e,j,k);return n}}var g=0,c={},f=6,a=new z(10);h.setMaxPendingRequests=function(b){f=b};h.resetCache=function(){a.reset()};i.mixin(h.prototype,{_get:function(b,d,e){function j(q){e&&e(null,q);o._cache.set(b,q)}function k(){e&&e(true)}function n(){g--;delete c[b];
if(o.onDeckRequestArgs){o._get.apply(o,o.onDeckRequestArgs);o.onDeckRequestArgs=null}}var o=this,p;if(!(this.cancelled||b!==this.lastUrl))if(p=c[b])p.done(j).fail(k);else if(g<f){g++;c[b]=this._send(b,d).done(j).fail(k).always(n)}else this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(b,d,e){var j;if(i.isFunction(d)){e=d;d={}}this.cancelled=false;this.lastUrl=b;(j=this._cache.get(b))?i.defer(function(){e&&e(null,j)}):this._get(b,d,e);return!!j},cancel:function(){this.cancelled=true}});
return h}(),G=function(){function h(a){a=a||{};if(!a.datumTokenizer||!a.queryTokenizer)m.error("datumTokenizer and queryTokenizer are both required");this.datumTokenizer=a.datumTokenizer;this.queryTokenizer=a.queryTokenizer;this.reset()}function l(a){a=i.filter(a,function(b){return!!b});return a=i.map(a,function(b){return b.toLowerCase()})}function g(){return{ids:[],children:{}}}function c(a){for(var b={},d=[],e=0,j=a.length;e<j;e++)if(!b[a[e]]){b[a[e]]=true;d.push(a[e])}return d}function f(a,b){function d(p,
q){return p-q}var e=0,j=0,k=[];a=a.sort(d);b=b.sort(d);for(var n=a.length,o=b.length;e<n&&j<o;)if(a[e]<b[j])e++;else{if(!(a[e]>b[j])){k.push(a[e]);e++}j++}return k}i.mixin(h.prototype,{bootstrap:function(a){this.datums=a.datums;this.trie=a.trie},add:function(a){var b=this;a=i.isArray(a)?a:[a];i.each(a,function(d){var e;e=b.datums.push(d)-1;d=l(b.datumTokenizer(d));i.each(d,function(j){var k,n;k=b.trie;for(j=j.split("");n=j.shift();){k=k.children[n]||(k.children[n]=g());k.ids.push(e)}})})},get:function(a){var b=
this,d;a=l(this.queryTokenizer(a));i.each(a,function(e){var j,k;if(d&&d.length===0)return false;j=b.trie;for(e=e.split("");j&&(k=e.shift());)j=j.children[k];if(j&&e.length===0){j=j.ids.slice(0);d=d?f(d,j):j}else{d=[];return false}});return d?i.map(c(d),function(e){return b.datums[e]}):[]},reset:function(){this.datums=[];this.trie=g()},serialize:function(){return{datums:this.datums,trie:this.trie}}});return h}(),x=function(){function h(c){return c.local||null}function l(c){var f;f={url:null,thumbprint:"",
ttl:864E5,filter:null,ajax:{}};if(c=c.prefetch||null){c=i.isString(c)?{url:c}:c;c=i.mixin(f,c);c.thumbprint="0.10.5"+c.thumbprint;c.ajax.type=c.ajax.type||"GET";c.ajax.dataType=c.ajax.dataType||"json";!c.url&&m.error("prefetch requires url to be set")}return c}function g(c){function f(d){return function(e){return i.debounce(e,d)}}function a(d){return function(e){return i.throttle(e,d)}}var b;b={url:null,cache:true,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,
ajax:{}};if(c=c.remote||null){c=i.isString(c)?{url:c}:c;c=i.mixin(b,c);c.rateLimiter=/^throttle$/i.test(c.rateLimitBy)?a(c.rateLimitWait):f(c.rateLimitWait);c.ajax.type=c.ajax.type||"GET";c.ajax.dataType=c.ajax.dataType||"json";delete c.rateLimitBy;delete c.rateLimitWait;!c.url&&m.error("remote requires url to be set")}return c}return{local:h,prefetch:l,remote:g}}();(function(h){function l(b){if(!b||!b.local&&!b.prefetch&&!b.remote)m.error("one of local, prefetch, or remote is required");this.limit=
b.limit||5;this.sorter=g(b.sorter);this.dupDetector=b.dupDetector||c;this.local=x.local(b);this.prefetch=x.prefetch(b);this.remote=x.remote(b);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new G({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer});this.storage=this.cacheKey?new F(this.cacheKey):null}function g(b){function d(j){return j.sort(b)}function e(j){return j}return i.isFunction(b)?d:e}function c(){return false}var f,a;f=h.Bloodhound;a=
{data:"data",protocol:"protocol",thumbprint:"thumbprint"};h.Bloodhound=l;l.noConflict=function(){h.Bloodhound=f;return l};l.tokenizers=E;i.mixin(l.prototype,{_loadPrefetch:function(b){function d(k){e.clear();e.add(b.filter?b.filter(k):k);e._saveToStorage(e.index.serialize(),b.thumbprint,b.ttl)}var e=this,j;if(j=this._readFromStorage(b.thumbprint)){this.index.bootstrap(j);j=m.Deferred().resolve()}else j=m.ajax(b.url,b.ajax).done(d);return j},_getFromRemote:function(b,d){function e(n,o){n?d([]):d(j.remote.filter?
j.remote.filter(o):o)}var j=this,k;if(this.transport){b=b||"";k=encodeURIComponent(b);return this.transport.get(this.remote.replace?this.remote.replace(this.remote.url,b):this.remote.url.replace(this.remote.wildcard,k),this.remote.ajax,e)}},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(b,d,e){if(this.storage){this.storage.set(a.data,b,e);this.storage.set(a.protocol,location.protocol,e);this.storage.set(a.thumbprint,d,e)}},_readFromStorage:function(b){var d=
{};if(this.storage){d.data=this.storage.get(a.data);d.protocol=this.storage.get(a.protocol);d.thumbprint=this.storage.get(a.thumbprint)}b=d.thumbprint!==b||d.protocol!==location.protocol;return d.data&&!b?d.data:null},_initialize:function(){function b(){d.add(i.isFunction(e)?e():e)}var d=this,e=this.local,j;j=this.prefetch?this._loadPrefetch(this.prefetch):m.Deferred().resolve();e&&j.done(b);this.transport=this.remote?new A(this.remote):null;return this.initPromise=j.promise()},initialize:function(b){return!this.initPromise||
b?this._initialize():this.initPromise},add:function(b){this.index.add(b)},get:function(b,d){function e(o){var p=k.slice(0);i.each(o,function(q){!i.some(p,function(r){return j.dupDetector(q,r)})&&p.push(q);return p.length<j.limit});d&&d(j.sorter(p))}var j=this,k=[],n=false;k=this.index.get(b);k=this.sorter(k).slice(0,this.limit);k.length<this.limit?(n=this._getFromRemote(b,e)):this._cancelLastRemoteRequest();n||(k.length>0||!this.transport)&&d&&d(k)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&
this.storage.clear()},clearRemoteCache:function(){this.transport&&A.resetCache()},ttAdapter:function(){return i.bind(this.get,this)}});return l})(this);var v=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),s=function(){var h={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",
top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};i.isMsie()&&i.mixin(h.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});
i.isMsie()&&i.isMsie()<=7&&i.mixin(h.input,{marginTop:"-1px"});return h}(),B=function(){function h(l){if(!l||!l.el)m.error("EventBus initialized without el");this.$el=m(l.el)}i.mixin(h.prototype,{trigger:function(l){var g=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+l,g)}});return h}(),y=function(){function h(k,n,o,p){if(!o)return this;n=n.split(e);o=p?d(o,p):o;for(this._callbacks=this._callbacks||{};p=n.shift();){this._callbacks[p]=this._callbacks[p]||{sync:[],async:[]};this._callbacks[p][k].push(o)}return this}
function l(k,n,o){return h.call(this,"async",k,n,o)}function g(k,n,o){return h.call(this,"sync",k,n,o)}function c(k){var n;if(!this._callbacks)return this;for(k=k.split(e);n=k.shift();)delete this._callbacks[n];return this}function f(k){var n,o,p,q,r;if(!this._callbacks)return this;k=k.split(e);for(p=[].slice.call(arguments,1);(n=k.shift())&&(o=this._callbacks[n]);){q=a(o.sync,this,[n].concat(p));r=a(o.async,this,[n].concat(p));q()&&j(r)}return this}function a(k,n,o){function p(){for(var q,r=0,t=
k.length;!q&&r<t;r+=1)q=k[r].apply(n,o)===false;return!q}return p}function b(){return window.setImmediate?function(k){setImmediate(function(){k()})}:function(k){setTimeout(function(){k()},0)}}function d(k,n){return k.bind?k.bind(n):function(){k.apply(n,[].slice.call(arguments,0))}}var e=/\s+/,j=b();return{onSync:g,onAsync:l,off:c,trigger:f}}(),H=function(h){function l(c,f,a){for(var b=[],d=0,e=c.length;d<e;d++)b.push(i.escapeRegExChars(c[d]));c=a?"\\b("+b.join("|")+")\\b":"("+b.join("|")+")";return f?
new RegExp(c):new RegExp(c,"i")}var g={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function(c){function f(d){var e,j,k;if(e=b.exec(d.data)){k=h.createElement(c.tagName);c.className&&(k.className=c.className);j=d.splitText(e.index);j.splitText(e[0].length);k.appendChild(j.cloneNode(true));d.parentNode.replaceChild(k,j)}return!!e}function a(d,e){for(var j,k=0;k<d.childNodes.length;k++){j=d.childNodes[k];if(j.nodeType===3)k+=e(j)?1:0;else a(j,e)}}
var b;c=i.mixin({},g,c);if(c.node&&c.pattern){c.pattern=i.isArray(c.pattern)?c.pattern:[c.pattern];b=l(c.pattern,c.caseSensitive,c.wordsOnly);a(c.node,f)}}}(window.document),C=function(){function h(a){var b=this,d,e,j,k;a=a||{};a.input||m.error("input is missing");d=i.bind(this._onBlur,this);e=i.bind(this._onFocus,this);j=i.bind(this._onKeydown,this);k=i.bind(this._onInput,this);this.$hint=m(a.hint);this.$input=m(a.input).on("blur.tt",d).on("focus.tt",e).on("keydown.tt",j);if(this.$hint.length===
0)this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=i.noop;i.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){f[n.which||n.keyCode]||i.defer(i.bind(b._onInput,b,n))}):this.$input.on("input.tt",k);this.query=this.$input.val();this.$overflowHelper=l(this.$input)}function l(a){return m('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:a.css("font-family"),fontSize:a.css("font-size"),fontStyle:a.css("font-style"),
fontVariant:a.css("font-variant"),fontWeight:a.css("font-weight"),wordSpacing:a.css("word-spacing"),letterSpacing:a.css("letter-spacing"),textIndent:a.css("text-indent"),textRendering:a.css("text-rendering"),textTransform:a.css("text-transform")}).insertAfter(a)}function g(a,b){return h.normalizeQuery(a)===h.normalizeQuery(b)}function c(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var f;f={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};h.normalizeQuery=function(a){return(a||
"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")};i.mixin(h.prototype,y,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=f[a.which||a.keyCode];this._managePreventDefault(b,a);b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var d;switch(a){case "tab":a=this.getHint();d=this.getInputValue();a=a&&a!==d&&!c(b);break;case "up":case "down":a=
!c(b);break;default:a=false}a&&b.preventDefault()},_shouldTrigger:function(a,b){switch(a){case "tab":a=!c(b);break;default:a=true}return a},_checkInputValue:function(){var a,b,d;a=this.getInputValue();d=(b=g(a,this.query))?this.query.length!==a.length:false;this.query=a;if(b)d&&this.trigger("whitespaceChanged",this.query);else this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=
a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a);b?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,true)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b;a=this.getInputValue();b=this.getHint();b=a!==b&&b.indexOf(a)===0;!(a!==""&&b&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||
"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,b;a=this.$input.val().length;b=this.$input[0].selectionStart;if(i.isNumber(b))return b===a;else if(document.selection){b=document.selection.createRange();b.moveStart("character",-a);return a===b.text.length}return true},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=
null}});return h}(),w=function(){function h(d){d=d||{};d.templates=d.templates||{};d.source||m.error("missing source");d.name&&!c(d.name)&&m.error("invalid dataset name: "+d.name);this.query=null;this.highlight=!!d.highlight;this.name=d.name||i.getUniqueId();this.source=d.source;this.displayFn=l(d.display||d.displayKey);this.templates=g(d.templates,this.displayFn);this.$el=m(v.dataset.replace("%CLASS%",this.name))}function l(d){function e(j){return j[d]}d=d||"value";return i.isFunction(d)?d:e}function g(d,
e){function j(k){return"<p>"+e(k)+"</p>"}return{empty:d.empty&&i.templatify(d.empty),header:d.header&&i.templatify(d.header),footer:d.footer&&i.templatify(d.footer),suggestion:d.suggestion||j}}function c(d){return/^[_a-zA-Z0-9-]+$/.test(d)}var f="ttDataset",a="ttValue",b="ttDatum";h.extractDatasetName=function(d){return m(d).data(f)};h.extractValue=function(d){return m(d).data(a)};h.extractDatum=function(d){return m(d).data(b)};i.mixin(h.prototype,y,{_render:function(d,e){function j(){return p.templates.empty({query:d,
isEmpty:true})}function k(){function r(u){u=m(v.suggestion).append(p.templates.suggestion(u)).data(f,p.name).data(a,p.displayFn(u)).data(b,u);u.children().each(function(){m(this).css(s.suggestionChild)});return u}var t,D;t=m(v.suggestions).css(s.suggestions);D=i.map(e,r);t.append.apply(t,D);p.highlight&&H({className:"tt-highlight",node:t[0],pattern:d});return t}function n(){return p.templates.header({query:d,isEmpty:!q})}function o(){return p.templates.footer({query:d,isEmpty:!q})}if(this.$el){var p=
this,q;this.$el.empty();q=e&&e.length;if(!q&&this.templates.empty)this.$el.html(j()).prepend(p.templates.header?n():null).append(p.templates.footer?o():null);else if(q)this.$el.html(k()).prepend(p.templates.header?n():null).append(p.templates.footer?o():null);this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(d){function e(k){!j.canceled&&d===j.query&&j._render(d,k)}var j=this;this.query=d;this.canceled=false;this.source(d,e)},cancel:function(){this.canceled=true},clear:function(){this.cancel();
this.$el.empty();this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}});return h}(),I=function(){function h(g){var c=this,f,a,b;g=g||{};g.menu||m.error("menu is required");this.isOpen=false;this.isEmpty=true;this.datasets=i.map(g.datasets,l);f=i.bind(this._onSuggestionClick,this);a=i.bind(this._onSuggestionMouseEnter,this);b=i.bind(this._onSuggestionMouseLeave,this);this.$menu=m(g.menu).on("click.tt",".tt-suggestion",f).on("mouseenter.tt",".tt-suggestion",
a).on("mouseleave.tt",".tt-suggestion",b);i.each(this.datasets,function(d){c.$menu.append(d.getRoot());d.onSync("rendered",c._onRendered,c)})}function l(g){return new w(g)}i.mixin(h.prototype,y,{_onSuggestionClick:function(g){this.trigger("suggestionClicked",m(g.currentTarget))},_onSuggestionMouseEnter:function(g){this._removeCursor();this._setCursor(m(g.currentTarget),true)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function g(c){return c.isEmpty()}(this.isEmpty=
i.every(this.datasets,g))?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(g,c){g.first().addClass("tt-cursor");!c&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(g){var c,
f;if(this.isOpen){f=this._getCursor();c=this._getSuggestions();this._removeCursor();g=c.index(f)+g;g=(g+1)%(c.length+1)-1;if(g===-1)this.trigger("cursorRemoved");else{if(g<-1)g=c.length-1;this._setCursor(c=c.eq(g));this._ensureVisible(c)}}},_ensureVisible:function(g){var c,f,a;c=g.position().top;g=c+g.outerHeight(true);f=this.$menu.scrollTop();a=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);if(c<0)this.$menu.scrollTop(f+c);else a<g&&this.$menu.scrollTop(f+
(g-a))},close:function(){if(this.isOpen){this.isOpen=false;this._removeCursor();this._hide();this.trigger("closed")}},open:function(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function(g){this.$menu.css(g==="ltr"?s.ltr:s.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(+1)},getDatumForSuggestion:function(g){var c=null;if(g.length)c={raw:w.extractDatum(g),value:w.extractValue(g),datasetName:w.extractDatasetName(g)};
return c},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(g){function c(f){f.update(g)}i.each(this.datasets,c)},empty:function(){function g(c){c.clear()}i.each(this.datasets,g);this.isEmpty=true},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function g(c){c.destroy()}this.$menu.off(".tt");this.$menu=null;i.each(this.datasets,
g)}});return h}(),J=function(){function h(a){var b,d,e;a=a||{};a.input||m.error("missing input");this.isActivated=false;this.autoselect=!!a.autoselect;this.minLength=i.isNumber(a.minLength)?a.minLength:1;this.$node=l(a.input,a.withHint);b=this.$node.find(".tt-dropdown-menu");d=this.$node.find(".tt-input");e=this.$node.find(".tt-hint");d.on("blur.tt",function(j){var k,n;k=document.activeElement;n=b.is(k);k=b.has(k).length>0;if(i.isMsie()&&(n||k)){j.preventDefault();j.stopImmediatePropagation();i.defer(function(){d.focus()})}});
b.on("mousedown.tt",function(j){j.preventDefault()});this.eventBus=a.eventBus||new B({el:d});this.dropdown=(new I({menu:b,datasets:a.datasets})).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=(new C({input:d,hint:e})).onSync("focused",this._onFocused,
this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._setLanguageDirection()}function l(a,b){var d,
e,j;a=m(a);d=m(v.wrapper).css(s.wrapper);e=m(v.dropdown).css(s.dropdown);j=a.clone().css(s.hint).css(g(a));j.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",true).attr({autocomplete:"off",spellcheck:"false",tabindex:-1});a.data(f,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")});a.addClass("tt-input").attr({autocomplete:"off",spellcheck:false}).css(b?s.input:s.inputWithNoHint);try{!a.attr("dir")&&
a.attr("dir","auto")}catch(k){}return a.wrap(d).parent().prepend(b?j:null).append(e)}function g(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function c(a){var b=a.find(".tt-input");i.each(b.data(f),
function(d,e){i.isUndefined(d)?b.removeAttr(e):b.attr(e,d)});b.detach().removeData(f).removeClass("tt-input").insertAfter(a);a.remove()}var f="ttAttrs";i.mixin(h.prototype,{_onSuggestionClicked:function(a,b){if(a=this.dropdown.getDatumForSuggestion(b))this._select(a)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.setInputValue(a.value,true);this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue();this._updateHint()},
_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint();this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=true;this.dropdown.open()},_onBlurred:function(){this.isActivated=false;this.dropdown.empty();this.dropdown.close()},_onEnterKeyed:function(a,b){var d;a=this.dropdown.getDatumForCursor();d=this.dropdown.getDatumForTopSuggestion();if(a){this._select(a);b.preventDefault()}else if(this.autoselect&&
d){this._select(d);b.preventDefault()}},_onTabKeyed:function(a,b){if(a=this.dropdown.getDatumForCursor()){this._select(a);b.preventDefault()}else this._autocomplete(true)},_onEscKeyed:function(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorUp();this.dropdown.open()},_onDownKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=
this.minLength?this.dropdown.update(a):this.dropdown.moveCursorDown();this.dropdown.open()},_onLeftKeyed:function(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHintIfInvalid();b.length>=this.minLength?this.dropdown.update(b):this.dropdown.empty();this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function(){var a;
if(this.dir!==(a=this.input.getLanguageDirection())){this.dir=a;this.$node.css("direction",a);this.dropdown.setLanguageDirection(a)}},_updateHint:function(){var a,b,d;if((a=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()){b=this.input.getInputValue();d=C.normalizeQuery(b);d=i.escapeRegExChars(d);d=new RegExp("^(?:"+d+")(.+$)","i");(a=d.exec(a.value))?this.input.setHint(b+a[1]):this.input.clearHint()}else this.input.clearHint()},_autocomplete:function(a){var b,
d;b=this.input.getHint();d=this.input.getQuery();a=a||this.input.isCursorAtEnd();if(b&&d!==b&&a){(b=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(b.value);this.eventBus.trigger("autocompleted",b.raw,b.datasetName)}},_select:function(a){this.input.setQuery(a.value);this.input.setInputValue(a.value,true);this._setLanguageDirection();this.eventBus.trigger("selected",a.raw,a.datasetName);this.dropdown.close();i.defer(i.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},
close:function(){this.dropdown.close()},setVal:function(a){a=i.toStr(a);if(this.isActivated)this.input.setInputValue(a);else{this.input.setQuery(a);this.input.setInputValue(a,true)}this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy();this.dropdown.destroy();c(this.$node);this.$node=null}});return h}();(function(){var h,l,g;h=m.fn.typeahead;l="ttTypeahead";g={initialize:function(c,f){function a(){var b=m(this),d;i.each(f,function(e){e.highlight=
!!c.highlight});d=new J({input:b,eventBus:new B({el:b}),withHint:i.isUndefined(c.hint)?true:!!c.hint,minLength:c.minLength,autoselect:c.autoselect,datasets:f});b.data(l,d)}f=i.isArray(f)?f:[].slice.call(arguments,1);c=c||{};return this.each(a)},open:function(){function c(){var f;if(f=m(this).data(l))f.open()}return this.each(c)},close:function(){function c(){var f;if(f=m(this).data(l))f.close()}return this.each(c)},val:function(c){function f(){var b;if(b=m(this).data(l))b.setVal(c)}function a(b){var d;
if(b=b.data(l))d=b.getVal();return d}return!arguments.length?a(this.first()):this.each(f)},destroy:function(){function c(){var f=m(this),a;if(a=f.data(l)){a.destroy();f.removeData(l)}}return this.each(c)}};m.fn.typeahead=function(c){var f;if(g[c]&&c!=="initialize"){f=this.filter(function(){return!!m(this).data(l)});return g[c].apply(f,[].slice.call(arguments,1))}else return g.initialize.apply(this,arguments)};m.fn.typeahead.noConflict=function(){m.fn.typeahead=h;return this}})()})(window.jQuery);

(function(c,o){function v(a){return typeof a==="string"}function m(a){var b=D.call(arguments,1);return function(){return a.apply(this,b.concat(D.call(arguments)))}}function E(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function H(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function t(a,b,d,e,f){var h;if(e!==i){b=d.match(a?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);d=b[3]||"";if(f===2&&v(e))e=e.replace(a?J:K,"");else{h=j(b[2]);e=v(e)?j[a?w:A](e):e;e=f===2?e:f===1?c.extend({},e,h):c.extend({},
h,e);e=p(e);if(a)e=e.replace(L,q)}a=b[1]+(a?"#":e||!b[1]?"?":"")+e+d}else a=b(d!==i?d:o[I][B]);return a}function x(a,b,d){if(b===i||typeof b==="boolean"){d=b;b=p[a?w:A]()}else b=v(b)?b.replace(a?J:K,""):b;return j(b,d)}function F(a,b,d,e){if(!v(d)&&typeof d!=="object"){e=d;d=b;b=i}return this.each(function(){var f=c(this),h=b||G()[(this.nodeName||"").toLowerCase()]||"",g=h&&f.attr(h)||"";f.attr(h,p[a](g,d,e))})}var i,D=Array.prototype.slice,q=decodeURIComponent,p=c.param,n,j,r,y=c.bbq=c.bbq||{},l,
s,G,C=c.event.special,A="querystring",w="fragment",I="location",B="href",K=/^.*\?|#.*$/g,J=/^.*\#/,L,M={};p[A]=m(t,0,H);p[w]=n=m(t,1,E);n.noEscape=function(a){a=a||"";a=c.map(a.split(""),encodeURIComponent);L=new RegExp(a.join("|"),"g")};n.noEscape(",/");c.deparam=j=function(a,b){var d={},e={"true":true,"false":false,"null":null};c.each(a.replace(/\+/g," ").split("&"),function(f,h){var g=h.split("=");f=q(g[0]);h=d;var z=0,k=f.split("]["),u=k.length-1;if(/\[/.test(k[0])&&/\]$/.test(k[u])){k[u]=k[u].replace(/\]$/,
"");k=k.shift().split("[").concat(k);u=k.length-1}else u=0;if(g.length===2){g=q(g[1]);if(b)g=g&&!isNaN(g)?+g:g==="undefined"?i:e[g]!==i?e[g]:g;if(u)for(;z<=u;z++){f=k[z]===""?h.length:k[z];h=h[f]=z<u?h[f]||(k[z+1]&&isNaN(k[z+1])?{}:[]):g}else if(c.isArray(d[f]))d[f].push(g);else d[f]=d[f]!==i?[d[f],g]:g}else if(f)d[f]=b?i:""});return d};j[A]=m(x,0);j[w]=r=m(x,1);c.elemUrlAttr||(c.elemUrlAttr=function(a){return c.extend(M,a)})({a:B,base:B,iframe:"src",img:"src",input:"src",form:"action",link:B,script:"src"});
G=c.elemUrlAttr;c.fn[A]=m(F,A);c.fn[w]=m(F,w);y.pushState=l=function(a,b){if(v(a)&&/^#/.test(a)&&b===i)b=2;var d=a!==i;a=n(o[I][B],d?a:{},d?b:2);o[I][B]=a+(/#/.test(a)?"":"#")};y.getState=s=function(a,b){return a===i||typeof a==="boolean"?r(a):r(b)[a]};y.removeState=function(a){var b={};if(a!==i){b=s();c.each(c.isArray(a)?a:arguments,function(d,e){delete b[e]})}l(b,2)};C.hashchange=c.extend(C.hashchange,{add:function(a){function b(e){var f=e[w]=n();e.getState=function(h,g){return h===i||typeof h===
"boolean"?j(f,h):j(f,g)[h]};d.apply(this,arguments)}var d;if(c.isFunction(a)){d=a;return b}else{d=a.handler;a.handler=b}}})})(jQuery,this);
(function(c,o,v){function m(q){q=q||o[t][x];return q.replace(/^[^#]*#?(.*)$/,"$1")}var E,H=c.event.special,t="location",x="href",F=document.documentMode,i=c.browser.msie&&(F===v||F<8),D="onhashchange"in o&&!i;c.hashchangeDelay=100;H.hashchange=c.extend(H.hashchange,{setup:function(){if(D)return false;c(E.start)},teardown:function(){if(D)return false;c(E.stop)}});E=function(){function q(){r=y=function(l){return l};if(i){j=c('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;
y=function(){return m(j.document[t][x])};r=function(l,s){if(l!==s){s=j.document;s.open().close();s[t].hash="#"+l}};r(m())}}var p={},n,j,r,y;p.start=function(){if(!n){var l=m();r||q();(function s(){var G=m(),C=y(l);if(G!==l){r(l=G,C);c(o).trigger("hashchange")}else if(C!==l)o[t][x]=o[t][x].replace(/#.*/,"")+"#"+C;n=setTimeout(s,c.hashchangeDelay)})()}};p.stop=function(){if(!j){n&&clearTimeout(n);n=0}};return p}()})(jQuery,this);


(function(b){b.support.touch="ontouchend" in document;if(!b.support.touch){return;}var c=b.ui.mouse.prototype,e=c._mouseInit,a;function d(g,h){if(g.originalEvent.touches.length>1){return;}g.preventDefault();var i=g.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(h,true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);g.target.dispatchEvent(f);}c._touchStart=function(g){var f=this;if(a||!f._mouseCapture(g.originalEvent.changedTouches[0])){return;}a=true;f._touchMoved=false;d(g,"mouseover");d(g,"mousemove");d(g,"mousedown");};c._touchMove=function(f){if(!a){return;}this._touchMoved=true;d(f,"mousemove");};c._touchEnd=function(f){if(!a){return;}d(f,"mouseup");d(f,"mouseout");if(!this._touchMoved){d(f,"click");}a=false;};c._mouseInit=function(){var f=this;f.element.bind("touchstart",b.proxy(f,"_touchStart")).bind("touchmove",b.proxy(f,"_touchMove")).bind("touchend",b.proxy(f,"_touchEnd"));e.call(f);};})(jQuery);


var a;
function WebTrends(){var b=this;this.domain="statse.webtrendslive.com";this.onsitedoms="";this.downloadtypes="xls,doc,pdf,txt,csv,zip,docx,xlsx";this.navigationtag="div,table";this.i18n=this.enabled=this.trimoffsiteparams=this.trackevents=true;this.fpc="WT_FPC";this.paidsearchparams="gclid";this.splitvalue="";this.preserve=true;this.DCS={};this.WT={};this.DCSext={};this.images=[];this.index=0;this.exre=function(){return window.RegExp?/dcs(uri)|(ref)|(aut)|(met)|(sta)|(sip)|(pro)|(byt)|(dat)|(p3p)|(cfg)|(redirect)|(cip)/i:""}();
this.re=function(){return window.RegExp?b.i18n?{"%25":/\%/g,"%26":/\&/g}:{"%09":/\t/g,"%20":/ /g,"%23":/\#/g,"%26":/\&/g,"%2B":/\+/g,"%3F":/\?/g,"%5C":/\\/g,"%22":/\"/g,"%7F":/\x7F/g,"%A0":/\xA0/g}:""}()}a=WebTrends.prototype;
a.dcsGetId=function(){if(this.enabled&&document.cookie.indexOf(this.fpc+"=")==-1&&document.cookie.indexOf("WTLOPTOUT=")==-1){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src="http"+(window.location.protocol.indexOf("https:")==0?"s":"")+"://"+this.domain+"/"+this.dcsid+"/wtid.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}};
a.dcsGetCookie=function(b){var c=document.cookie.split("; "),d=[],e=0,f=0,h=b.length,g=c.length;for(f=0;f<g;f++){var i=c[f];if(i.substring(0,h+1)==b+"=")d[e++]=i}c=d.length;if(c>0){e=0;if(c>1&&b==this.fpc){b=new Date(0);for(f=0;f<c;f++){g=parseInt(this.dcsGetCrumb(d[f],"lv"));g=new Date(g);if(g>b){b.setTime(g.getTime());e=f}}}return unescape(d[e].substring(h+1))}else return null};a.dcsGetCrumb=function(b,c,d){b=b.split(d||":");for(d=0;d<b.length;d++){var e=b[d].split("=");if(c==e[0])return e[1]}return null};
a.dcsGetIdCrumb=function(b,c){b=b.substring(0,b.indexOf(":lv=")).split("=");for(var d=0;d<b.length;d++)if(c==b[0])return b[1];return null};a.dcsIsFpcSet=function(b,c,d,e){if(b=this.dcsGetCookie(b))return c==this.dcsGetIdCrumb(b,"id")&&d==this.dcsGetCrumb(b,"lv")&&e==this.dcsGetCrumb(b,"ss")?0:3;return 2};
a.dcsFPC=function(){if(document.cookie.indexOf("WTLOPTOUT=")==-1){var b=this.WT,c=this.fpc,d=new Date,e=d.getTimezoneOffset()*6E4+this.timezone*36E5;d.setTime(d.getTime()+e);var f=new Date(d.getTime()+31536E7),h=new Date(d.getTime());b.co_f=b.vtid=b.vtvs=b.vt_f=b.vt_f_a=b.vt_f_s=b.vt_f_d=b.vt_f_tlh=b.vt_f_tlv="";if(document.cookie.indexOf(c+"=")==-1){if(typeof gWtId!="undefined"&&gWtId!="")b.co_f=gWtId;else{if(typeof gTempWtId!="undefined"&&gTempWtId!="")b.co_f=gTempWtId;else{b.co_f="2";for(var g=
d.getTime().toString(),i=2;i<=32-g.length;i++)b.co_f+=Math.floor(Math.random()*16).toString(16);b.co_f+=g}b.vt_f="1"}if(typeof gWtAccountRollup=="undefined")b.vt_f_a="1";b.vt_f_s=b.vt_f_d="1";b.vt_f_tlh=b.vt_f_tlv="0"}else{var j=this.dcsGetCookie(c);g=this.dcsGetIdCrumb(j,"id");i=parseInt(this.dcsGetCrumb(j,"lv"));j=parseInt(this.dcsGetCrumb(j,"ss"));if(g==null||g=="null"||isNaN(i)||isNaN(j))return;b.co_f=g;g=new Date(i);b.vt_f_tlh=Math.floor((g.getTime()-e)/1E3);h.setTime(j);if(d.getTime()>g.getTime()+
18E5||d.getTime()>h.getTime()+288E5){b.vt_f_tlv=Math.floor((h.getTime()-e)/1E3);h.setTime(d.getTime());b.vt_f_s="1"}if(d.getDay()!=g.getDay()||d.getMonth()!=g.getMonth()||d.getYear()!=g.getYear())b.vt_f_d="1"}b.co_f=escape(b.co_f);b.vtid=typeof this.vtid=="undefined"?b.co_f:this.vtid||"";b.vtvs=(h.getTime()-e).toString();e="; expires="+f.toGMTString();d=d.getTime().toString();h=h.getTime().toString();document.cookie=c+"=id="+b.co_f+":lv="+d+":ss="+h+e+"; path=/"+(this.fpcdom!=""?"; domain="+this.fpcdom:
"");c=this.dcsIsFpcSet(c,b.co_f,d,h);if(c!=0){b.co_f=b.vtvs=b.vt_f_s=b.vt_f_d=b.vt_f_tlh=b.vt_f_tlv="";if(typeof this.vtid=="undefined")b.vtid="";b.vt_f=b.vt_f_a=c}}};a.dcsTP=function(){if(document.cookie.indexOf("WTLOPTOUT=")==-1){if(document.cookie.indexOf("WT_DC=tsp=1")!=-1)this.WT.ttp="1";if(this.dcsGetMeta("SmartView_Page")=="1"){this.WT.tsp="1";document.cookie="WT_DC=tsp=1; expires=Thu, 31-Dec-2020 08:00:00 GMT; path=/"}else document.cookie="WT_DC=; expires=Sun, 1-Jan-1995 00:00:00 GMT;; path=/"}};
a.dcsGetMeta=function(b){var c;if(document.documentElement)c=document.getElementsByTagName("meta");else if(document.all)c=document.all.tags("meta");if(typeof c!="undefined")for(var d=1;d<=c.length;d++){var e=c.item(d-1);if(e.name&&e.name.indexOf(b)==0)return e.content}return null};
a.dcsIsOnsite=function(b){if(b.length>0){b=b.toLowerCase();if(b==window.location.hostname.toLowerCase())return true;if(typeof this.onsitedoms.test=="function")return this.onsitedoms.test(b);else if(this.onsitedoms.length>0)for(var c=this.dcsSplit(this.onsitedoms),d=c.length,e=0;e<d;e++)if(b==c[e])return true}return false};a.dcsTypeMatch=function(b,c){b=b.toLowerCase().substring(b.lastIndexOf(".")+1,b.length);c=this.dcsSplit(c);for(var d=c.length,e=0;e<d;e++)if(b==c[e])return true;return false};
a.dcsEvt=function(b,c){for(b=b.target||b.srcElement;b&&b.tagName&&b.tagName.toLowerCase()!=c.toLowerCase();)b=b.parentElement||b.parentNode;return b};a.dcsNavigation=function(b){var c="",d="",e=this.dcsSplit(this.navigationtag),f=e.length,h,g;for(h=0;h<f;h++){g=e[h];if(g.length){d=this.dcsEvt(b,g);c=d.getAttribute&&d.getAttribute("id")?d.getAttribute("id"):"";d=d.className||"";if(c.length||d.length)break}}return c.length?c:d};
a.dcsBind=function(b,c){if(typeof c=="function"&&document.body)if(document.body.addEventListener)document.body.addEventListener(b,c.wtbind(this),true);else document.body.attachEvent&&document.body.attachEvent("on"+b,c.wtbind(this))};
a.dcsET=function(){var b=navigator.appVersion.indexOf("MSIE")!=-1?"click":"mousedown";this.dcsBind(b,this.dcsDownload);this.dcsBind(b,this.dcsJavaScript);this.dcsBind(b,this.dcsMailTo);this.dcsBind(b,this.dcsFormButton);this.dcsBind(b,this.dcsOffsite);this.dcsBind(b,this.dcsAnchor);this.dcsBind("contextmenu",this.dcsRightClick);this.dcsBind(b,this.dcsImageMap)};
a.dcsMultiTrack=function(){var b=dcsMultiTrack.arguments?dcsMultiTrack.arguments:arguments;if(b.length%2==0){this.dcsSaveProps(b);this.dcsSetProps(b);this.DCS.dcsdat=(new Date).getTime();this.dcsFPC();this.dcsTag();this.dcsRestoreProps()}};a.dcsCleanUp=function(){this.DCS={};this.WT={};this.DCSext={};arguments.length%2==0&&this.dcsSetProps(arguments)};
a.dcsSetProps=function(b){for(var c=0;c<b.length;c+=2)if(b[c].indexOf("WT.")==0)this.WT[b[c].substring(3)]=b[c+1];else if(b[c].indexOf("DCS.")==0)this.DCS[b[c].substring(4)]=b[c+1];else if(b[c].indexOf("DCSext.")==0)this.DCSext[b[c].substring(7)]=b[c+1]};
a.dcsSaveProps=function(b){var c,d,e,f;if(this.preserve){this.args=[];for(d=c=0;c<b.length;c+=2){f=b[c];if(f.indexOf("WT.")==0){e=f.substring(3);this.args[d]=f;this.args[d+1]=this.WT[e]||"";d+=2}else if(f.indexOf("DCS.")==0){e=f.substring(4);this.args[d]=f;this.args[d+1]=this.DCS[e]||"";d+=2}else if(f.indexOf("DCSext.")==0){e=f.substring(7);this.args[d]=f;this.args[d+1]=this.DCSext[e]||"";d+=2}}}};a.dcsRestoreProps=function(){if(this.preserve){this.dcsSetProps(this.args);this.args=[]}};
a.dcsSplit=function(b){b=b.toLowerCase().split(",");for(var c=b.length,d=0;d<c;d++)b[d]=b[d].replace(/^\s*/,"").replace(/\s*$/,"");return b};
a.dcsDownload=function(b){if((b=b||window.event||"")&&(typeof b.which!="number"||b.which==1)){var c=this.dcsEvt(b,"A");if(c.href){var d=c.hostname?c.hostname.split(":")[0]:"";if(this.dcsIsOnsite(d)&&this.dcsTypeMatch(c.pathname,this.downloadtypes)){c.search&&c.search.substring(c.search.indexOf("?")+1,c.search.length);var e=c.pathname?c.pathname.indexOf("/")!=0?"/"+c.pathname:c.pathname:"/",f="",h=document.all?c.innerText:c.text,g=this.dcsEvt(b,"IMG");if(g.alt)f=g.alt;else if(h)f=h;else if(c.innerHTML)f=
c.innerHTML;this.dcsMultiTrack("DCS.dcssip",d,"DCS.dcsuri",e,"DCS.dcsqry",c.search||"","WT.ti","Download:"+f,"WT.dl","20","WT.nv",this.dcsNavigation(b))}}}};
a.dcsRightClick=function(b){if(b=b||window.event||"")if((b.which||b.button)!=1||navigator.userAgent.indexOf("Safari")!=-1){b=this.dcsEvt(b,"A");if(typeof b.href!="undefined"&&b.href)if(typeof b.protocol!="undefined"&&b.protocol&&b.protocol.indexOf("http")!=-1)if(typeof b.pathname!="undefined"&&this.dcsTypeMatch(b.pathname,this.downloadtypes)){var c=b.pathname?b.pathname.indexOf("/")!=0?"/"+b.pathname:b.pathname:"/";this.dcsMultiTrack("DCS.dcssip",b.hostname?b.hostname.split(":")[0]:"","DCS.dcsuri",
c,"DCS.dcsqry","","WT.ti","RightClick:"+c,"WT.dl","25")}}};a.dcsMailTo=function(b){if((b=b||window.event||"")&&(typeof b.which!="number"||b.which==1)){var c=this.dcsEvt(b,"A");if(c.href&&c.protocol){c.search&&c.search.substring(c.search.indexOf("?")+1,c.search.length);c.protocol.toLowerCase()=="mailto:"&&this.dcsMultiTrack("DCS.dcssip",window.location.hostname,"DCS.dcsuri",c.href,"WT.ti","MailTo:"+c.innerHTML,"WT.dl","23","WT.nv",this.dcsNavigation(b))}}};
a.dcsJavaScript=function(b){if((b=b||window.event||"")&&(typeof b.which!="number"||b.which==1)){var c=this.dcsEvt(b,"A");if(c.href&&c.protocol){c.search&&c.search.substring(c.search.indexOf("?")+1,c.search.length);c.protocol.toLowerCase()=="javascript:"&&this.dcsMultiTrack("DCS.dcssip",window.location.hostname,"DCS.dcsuri",c.href,"WT.ti","JavaScript:"+c.innerHTML,"WT.dl","22","WT.nv",this.dcsNavigation(b))}}};
a.dcsFormButton=function(b){if((b=b||window.event||"")&&(typeof b.which!="number"||b.which==1))for(var c=["INPUT","BUTTON"],d=0;d<c.length;d++){var e=this.dcsEvt(b,c[d]),f=e.type||"";if(f&&(f=="submit"||f=="image"||f=="button"||f=="reset")||f=="text"&&(b.which||b.keyCode)==13){var h=f="",g=0;if(e.form){f=e.form.action||window.location.pathname;h=e.form.id||e.form.name||e.form.className||"Unknown";g=e.form.method&&e.form.method.toLowerCase()=="post"?"27":"26"}else{f=window.location.pathname;h=e.name||
e.id||"Unknown";g=c[d].toLowerCase()=="input"?"28":"29"}f&&h&&b.keyCode!=9&&this.dcsMultiTrack("DCS.dcsuri",f,"WT.ti","FormButton:"+h,"WT.dl",g,"WT.nv",this.dcsNavigation(b));break}}};
a.dcsOffsite=function(b){if((b=b||window.event||"")&&(typeof b.which!="number"||b.which==1)){var c=this.dcsEvt(b,"A");if(c.href){var d=c.hostname?c.hostname.split(":")[0]:"",e=c.protocol||"";if(d.length>0&&e.indexOf("http")==0&&!this.dcsIsOnsite(d)){e=c.search?c.search.substring(c.search.indexOf("?")+1,c.search.length):"";c=c.pathname?c.pathname.indexOf("/")!=0?"/"+c.pathname:c.pathname:"/";this.dcsMultiTrack("DCS.dcssip",d,"DCS.dcsuri",c,"DCS.dcsqry",this.trimoffsiteparams?"":e,"DCS.dcsref",window.location,
"WT.ti","Offsite:"+d+c+(e.length?"?"+e:""),"WT.dl","24","WT.nv",this.dcsNavigation(b))}}}};
a.dcsAnchor=function(b){if((b=b||window.event||"")&&(typeof b.which!="number"||b.which==1)){var c=this.dcsEvt(b,"A");if(c.href){var d=c.hostname?c.hostname.split(":")[0]:"";if(this.dcsIsOnsite(d)&&c.hash&&c.hash!=""&&c.hash!="#"){c.search&&c.search.substring(c.search.indexOf("?")+1,c.search.length);var e=c.pathname?c.pathname.indexOf("/")!=0?"/"+c.pathname:c.pathname:"/";this.dcsMultiTrack("DCS.dcssip",d,"DCS.dcsuri",escape(e+c.hash),"WT.ti","Anchor:"+c.hash,"WT.dl","21","WT.nv",this.dcsNavigation(b))}}}};
a.dcsImageMap=function(b){if(b=b||window.event||""){var c=this.dcsEvt(b,"AREA");if(c.href){var d=c.hostname?c.hostname.split(":")[0]:"";if(d!=""&&c.protocol&&c.protocol.indexOf("http")!=-1){var e="",f=this.dcsEvt(b,"MAP");if(f)if(f.name)e=f.name;else if(f.id)e=f.id;f=c.pathname?c.pathname.indexOf("/")!=0?"/"+c.pathname:c.pathname:"/";this.dcsMultiTrack("DCS.dcssip",d,"DCS.dcsuri",f,"DCS.dcsqry",c.search||"","WT.ti","ImageMap:"+e,"WT.dl","30","WT.nv",this.dcsNavigation(b))}}}};
a.dcsAdv=function(){if(this.trackevents&&typeof this.dcsET=="function")if(window.addEventListener)window.addEventListener("load",this.dcsET.wtbind(this),false);else window.attachEvent&&window.attachEvent("onload",this.dcsET.wtbind(this));this.dcsFPC();this.dcsTP()};
a.dcsVar=function(){var b=new Date,c=this.WT,d=this.DCS;c.tz=parseInt(b.getTimezoneOffset()/60*-1)||"0";c.bh=b.getHours()||"0";c.ul=navigator.appName=="Netscape"?navigator.language:navigator.userLanguage;if(typeof screen=="object"){c.cd=navigator.appName=="Netscape"?screen.pixelDepth:screen.colorDepth;c.sr=screen.width+"x"+screen.height}if(typeof navigator.javaEnabled()=="boolean")c.jo=navigator.javaEnabled()?"Yes":"No";if(document.title)c.ti=window.RegExp?document.title.replace(new RegExp("^"+window.location.protocol+
"//"+window.location.hostname+"\\s-\\s"),""):document.title;c.js="Yes";c.jv=function(){var g=navigator.userAgent.toLowerCase(),i=parseInt(navigator.appVersion),j=g.indexOf("mac")!=-1,k=g.indexOf("firefox")!=-1,m=g.indexOf("firefox/0.")!=-1,q=g.indexOf("firefox/1.0")!=-1,r=g.indexOf("firefox/1.5")!=-1,s=g.indexOf("firefox/2.0")!=-1,u=k&&!m&&!q&!r&!s,o=!k&&g.indexOf("mozilla")!=-1&&g.indexOf("compatible")==-1;k=o&&i==4;o=o&&i>=5;var n=g.indexOf("msie")!=-1&&g.indexOf("opera")==-1;i=n&&i==4&&g.indexOf("msie 4")!=
-1;n=n&&!i;var p=g.indexOf("opera")!=-1,t=g.indexOf("opera 5")!=-1||g.indexOf("opera/5")!=-1;g=g.indexOf("opera 6")!=-1||g.indexOf("opera/6")!=-1;p=p&&!t&&!g;var l="1.1";if(u)l="1.8";else if(s)l="1.7";else if(r)l="1.6";else if(m||q||o||p)l="1.5";else if(j&&n||g)l="1.4";else if(n||k||t)l="1.3";else if(i)l="1.2";return l}();c.ct="unknown";if(document.body&&document.body.addBehavior)try{document.body.addBehavior("#default#clientCaps");c.ct=document.body.connectionType||"unknown";document.body.addBehavior("#default#homePage");
c.hp=document.body.isHomePage(location.href)?"1":"0"}catch(e){}c.bs=document.all?document.body?document.body.offsetWidth+"x"+document.body.offsetHeight:"unknown":window.innerWidth+"x"+window.innerHeight;c.fv=function(){var g;if(window.ActiveXObject)for(g=15;g>0;g--)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+g);return g+".0"}catch(i){}else if(navigator.plugins&&navigator.plugins.length)for(g=0;g<navigator.plugins.length;g++)if(navigator.plugins[g].name.indexOf("Shockwave Flash")!=-1)return navigator.plugins[g].description.split(" ")[2];
return"Not enabled"}();c.slv=function(){var g="Not enabled";try{if(navigator.userAgent.indexOf("MSIE")!=-1){if(new ActiveXObject("AgControl.AgControl"))g="Unknown"}else if(navigator.plugins["Silverlight Plug-In"])g="Unknown"}catch(i){}if(g!="Not enabled"){var j,k,m;if(typeof Silverlight=="object"&&typeof Silverlight.isInstalled=="function"){for(j=9;j>0;j--){k=j;if(Silverlight.isInstalled(k+".0"))break;if(g==k)break}for(j=9;j>=0;j--){m=k+"."+j;if(Silverlight.isInstalled(m)){g=m;break}if(g==m)break}}}return g}();
if(this.i18n)c.le=typeof document.defaultCharset=="string"?document.defaultCharset:typeof document.characterSet=="string"?document.characterSet:"unknown";c.tv="9.4.0";c.sp=this.splitvalue;c.dl="0";c.ssl=window.location.protocol.indexOf("https:")==0?"1":"0";d.dcsdat=b.getTime();d.dcssip=window.location.hostname;d.dcsuri=window.location.pathname;c.es=d.dcssip+d.dcsuri;if(window.location.search)d.dcsqry=window.location.search;if(d.dcsqry){b=d.dcsqry.toLowerCase();for(var f=this.paidsearchparams.length?
this.paidsearchparams.toLowerCase().split(","):[],h=0;h<f.length;h++)if(b.indexOf(f[h]+"=")!=-1){c.srch="1";break}}if(window.document.referrer!=""&&window.document.referrer!="-")if(!(navigator.appName=="Microsoft Internet Explorer"&&parseInt(navigator.appVersion)<4))d.dcsref=window.document.referrer};a.dcsEscape=function(b,c){if(c!=""){b=b.toString();for(var d in c)if(c[d]instanceof RegExp)b=b.replace(c[d],d);return b}else return escape(b)};
a.dcsA=function(b,c){if(this.i18n&&this.exre!=""&&!this.exre.test(b))if(b=="dcsqry"){for(var d="",e=c.substring(1).split("&"),f=0;f<e.length;f++){var h=e[f],g=h.indexOf("=");if(g!=-1){var i=h.substring(0,g);h=h.substring(g+1);if(f!=0)d+="&";d+=i+"="+this.dcsEncode(h)}}c=c.substring(0,1)+d}else c=this.dcsEncode(c);return"&"+b+"="+this.dcsEscape(c,this.re)};a.dcsEncode=function(b){return typeof encodeURIComponent=="function"?encodeURIComponent(b):escape(b)};
a.dcsCreateImage=function(b){if(document.images){this.images[this.index]=new Image;this.images[this.index].src=b;this.index++}};
a.dcsMeta=function(){var b;if(document.documentElement)b=document.getElementsByTagName("meta");else if(document.all)b=document.all.tags("meta");if(typeof b!="undefined")for(var c=b.length,d=0;d<c;d++){var e=b.item(d).name,f=b.item(d).content;b.item(d);if(e.length>0)if(e.toUpperCase().indexOf("WT.")==0)this.WT[e.substring(3)]=f;else if(e.toUpperCase().indexOf("DCSEXT.")==0)this.DCSext[e.substring(7)]=f;else if(e.toUpperCase().indexOf("DCS.")==0)this.DCS[e.substring(4)]=f}};
a.dcsTag=function(){if(document.cookie.indexOf("WTLOPTOUT=")==-1){var b=this.WT,c=this.DCS,d=this.DCSext,e=this.i18n,f="http"+(window.location.protocol.indexOf("https:")==0?"s":"")+"://"+this.domain+(this.dcsid==""?"":"/"+this.dcsid)+"/dcs.gif?";if(e)b.dep="";for(var h in c)if(c[h]&&typeof c[h]!="function")f+=this.dcsA(h,c[h]);for(h in b)if(b[h]&&typeof b[h]!="function")f+=this.dcsA("WT."+h,b[h]);for(h in d)if(d[h]&&typeof d[h]!="function"){if(e)b.dep=b.dep.length==0?h:b.dep+";"+h;f+=this.dcsA(h,
d[h])}if(e&&b.dep.length>0)f+=this.dcsA("WT.dep",b.dep);if(f.length>2048&&navigator.userAgent.indexOf("MSIE")>=0)f=f.substring(0,2040)+"&WT.tu=1";this.dcsCreateImage(f);this.WT.ad=""}};
a.dcsDebug=function(){var b=this,c=b.images[0].src,d=c.indexOf("?"),e=c.substring(0,d).split("/"),f="<b>Protocol</b><br><code>"+e[0]+"<br></code>";f+="<b>Domain</b><br><code>"+e[2]+"<br></code>";f+="<b>Path</b><br><code>/"+e[3]+"/"+e[4]+"<br></code>";f+="<b>Query Params</b><code>"+c.substring(d+1).replace(/\&/g,"<br>")+"</code>";f+="<br><b>Cookies</b><br><code>"+document.cookie.replace(/\;/g,"<br>")+"</code>";b.w&&!b.w.closed&&b.w.close();b.w=window.open("","dcsDebug","width=500,height=650,scrollbars=yes,resizable=yes");
b.w.document.write(f);b.w.focus()};a.dcsCollect=function(){if(this.enabled){this.dcsVar();this.dcsMeta();this.dcsAdv();typeof this.dcsCustom=="function"&&this.dcsCustom();this.dcsTag()}};function dcsMultiTrack(){if(typeof _tag!="undefined")return _tag.dcsMultiTrack()}function dcsDebug(){if(typeof _tag!="undefined")return _tag.dcsDebug()}Function.prototype.wtbind=function(b){var c=this;return function(){return c.apply(b,arguments)}};

/* ***************** Credit PROD/Dev  H 27.2 Code ********/
/* San Jose - Remote Code - H Version

	151014 - add fordcreditlink
	151120 - addition of logic for s_account, language
	151125 - change dev suite
	
*/

/************************ ADDITIONAL FEATURES ************************
     Universal Tag
     Plugins
     Cookie Migration
*/

var default_account="fmccreditfcdev"
//var rs="dev"	// For sending data to "DEV" report suite **/
var rs="prod"		// For Sending data to "PROD" report suite

var valid_suites=new Array();
valid_suites[0]="fmccreditfc"
valid_suites[1]="fmccreditln"
valid_suites[2]="fmccreditcanada"
valid_suites[3]="fmccreditprimus"
valid_suites[4]="fmccreditsuzuki"
valid_suites[5]="fmccreditdearborn"
valid_suites[6]="fmccreditmazda"
valid_suites[7]="fmccreditjaguar"
valid_suites[8]="fmccreditvolvo"
valid_suites[9]="fmccreditlandrover"
valid_suites[10]="fmccreditpr"
valid_suites[11]="fmccreditsubaru"
valid_suites[12]="fmccreditfairlane"
valid_suites[13]="fmccreditsecureemail"
valid_suites[14]="fmccreditlncanada"
valid_suites[15]="fmccreditfcmexico"
valid_suites[16]="fmccreditlnmexico"

/* if s_account is set on page */
/*************** Load Account  - Should be set on a page level *****************/
if (typeof s_account == "undefined" || s_account==null || s_account==''){
	var s_account=default_account
}else{
	for (i=0;i<valid_suites.length;i++){
		if(valid_suites[i]==s_account){
			s_account=s_account+rs;
		}
	}
}

/* default s_account */
if(!s_account){
	s_account=default_account
}

var s=s_gi(s_account,1)
/************************** CONFIG SECTION **************************/
/* You may add or alter any code config here. */ 
/* E-commerce Config */
s.currencyCode="USD"
/* Link Tracking Config */
s.trackDownloadLinks=false
s.trackExternalLinks=false
s.trackInlineStats=true
s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls"
s.linkInternalFilters="javascript:,credit.lincoln.com,credit.ford.com,fordmotorcredit.com,fordmotorcreditcompany.com,securedcontact.com,fordcredit.ca,mazdacredit.com,jaguarcredit.com,AmericanSuzukiAutomotiveCredit.com,subarucredit.com,primuscredit.com,fairlanecredit.com,fordcreditpr.com,dearborncapitalcorp.com,landrovercredit.com,volvocarfinance.com,acctaccess.com,fordfinancial.com,onlinevehiclefinancing.com,fordcomsearch.ford.com,credito.ford.com,credito.lincoln.com,credit.ford.ca,fordcredit.ca,lincolncanada.ca,lincolncanada.ford.com,ford.mx/ford-credit/,fordcreditlink.com"
s.linkLeaveQueryString=false
s.linkTrackVars="None"
s.linkTrackEvents="None"

/* Plugin Config */
s.usePlugins=true
function s_doPlugins(s) {
/* Add calls to plugins here */
		 
/* Force pageName to Lowercase all sites*/
	if(s.pageName)
		s.pageName=s.pageName.toLowerCase();
		
/* External Campaign Tracking */
	if(!s.campaign){
		if(s.getQueryParam('bannerid'))s.campaign=s.getQueryParam('bannerid')
		s.campaign=s.getCustomValOnce(s.campaign,"cmp_getval",0)
	}

	if(s.campaign){
		s.events=s.apl(s.events,"event53",",",2)
	}
	
	s.prop17=s.getAndPersistValue(s.campaign,'s_p17_pers',90);
  	s.eVar26 = s.prop26 = s.getQueryParam('searchid','');
	s.eVar26=s.getCustomValOnce(s.eVar26,"eVar26_getval",0)
	if(s.eVar26)s.events=s.apl(s.events,"event54",",",2)
	
/* Adobe Social Integration */
	if (!s.eVar60) s.eVar60=s.getQueryParam('scmp');
	s.socialPlatforms();
	
/* Set global campaign ID*/
	if(s.getQueryParam('fmccmp'))s.eVar30=s.getQueryParam('fmccmp');
	s.eVar30=s.getCustomValOnce(s.eVar30,"eVar30_getval",0)
	s.prop30=s.getAndPersistValue(s.eVar30,'s_p30_pers',90);	
        
/* Campaign Path Tracking */
	s.prop19=s.pageName;
	if(s.campaign)
		s.prop19=s.campaign+': '+s.pageName;
	else if(s.eVar30)
		s.prop19=s.eVar30+': '+s.pageName;               

/* Internal Campaign Tracking */
	if(!s.eVar13)
	s.eVar13=s.getQueryParam('intcmp'); 
	s.eVar13=s.getCustomValOnce(s.eVar13,"int_getval",0)
	s.prop13=s.getAndPersistValue(s.eVar13,'s_p13_pers',0);
	
/* Referrer Overide */
	if(s.getQueryParam('referrer'))
		s.referrer=s.getQueryParam('referrer');        

/* Email Campaign Tracking */
	s.eVar33=s.getQueryParam('emailid');
	s.prop33=s.getAndPersistValue(s.eVar33,'s_cp_pers',90);
	s.eVar31=s.getQueryParam('cks');
	s.eVar31=s.getCustomValOnce(s.eVar31,"eVar31_getval",0)

/* TnT Tracking */
	s.prop35=s.pageName;
	if(s.prop32)
		s.prop35=s.prop32 + ': ' + s.pageName;

/* Visit Start Logic */	

	var tempSuite="nosuite"
	if(!s.c_r("s_suite")){s.setSuite(s_account,"s_suite",0);}else{tempSuite=s.c_r("s_suite");}

	if(!s.c_r('v_starting')){
		s_visIdFloodlight('690327','fvflup','adobesvi','u2',1);	
		
		if((!tempSuite.match(s_account))&& tempSuite!=""){
			if(!isInternal()||document.referrer==''){
				s.prop48=s.prop49=s.eVar8=trafficsource();s.prop8=s.getAndPersistValue(s.eVar8,'s_p_s_prop8',0);
				s.eVar36 = s.getCustomValOnce(dt,'ev_36_getval',0);s.events = s.apl(s.events,'event17,event52',',',2);
				var dt=popDT();
			}
		} 
	}
	var expTime=new Date;expTime.setTime(expTime.getTime()+1800000);
	s.c_w('v_starting','nfp',expTime);
		
	if(!tempSuite.match(s_account)){s.setSuite(tempSuite+s_account,"s_suite",0);tempSuite=s.c_r("s_suite");}

 
/* Source of data, must be after traffic source*/ 
	var sod = s.getQueryParam('SourceOfData'); 
	if (sod != '') { 
    	s.prop49 = s.eVar49 = sod; 
    }    
    
	if(s.linkTrackVars=='None'){
		//s.linkTrackVars="prop37,prop39,pageName,eVar52,prop52"
	}else{
		s.linkTrackVars=s.linkTrackVars+",prop37,prop39,pageName,eVar52,prop52"
	}	
	
	if((s.linkTrackVars!='None'&& s.linkTrackVars!='')||s.linkTrackVars.match('prop')||s.linkTrackVars.match('eVar')||s.linkTrackVars.match('evar')||s.linkTrackVars.match('events')){
	
	}
	
   	s.prop37="151125"
   	if(!s.prop39 && s.pageName)s.prop39=s.pageName;
	s.eVar52=s.prop52=document.URL
	s.prop51=s.eVar51="D=UserAgent"
	   
	
/* Language setting	*/ 
	if (document.location.href.indexOf("credito.ford.com")>-1||document.location.href.indexOf("credito.lincoln.com")>-1||document.location.href.indexOf("ford.mx")>-1||document.location.href.indexOf("lincoln.mx")>-1) {
	    s.prop4=s.eVar4='esp';
	}else if (document.location.href.indexOf("fordcredit.ca/fr") >-1 || document.location.href.indexOf("fr.credit.ford.ca")>-1 || s.getQueryParam('lang') == 'FR'){
		s.prop4=s.eVar4='fre';
	}else{
		s.prop4=s.eVar4='eng';
	}
	
	/************************ TNT Integration *************************/
	
	//EVARS
	if (s.eVar2) updateCookie('fc_v1_v10','v2',s.eVar2,365);
	if (s.eVar3){
		updateCookie('fc_v1_v10','v3',s.eVar3,365);
		
		if (s.eVar3.indexOf('registered:') != -1){
			var curr_site='ford';
			if(document.location.hostname.indexOf('lincoln') != -1) curr_site='lincoln';
			updateCookie('cust_owner','v3',curr_site,365);
		}
	}
	
	if (s.eVar9) updateCookie('fc_v1_v10','v9',s.eVar9,365);
	
	if (s.eVar48){
		if (s.eVar48.indexOf('flmc payment estimator') != -1) updateCookie('fc_payest','v48','true',365);
		
		if(s.eVar48.indexOf('test run') != -1){
			if (s.eVar49.indexOf('start') != -1){
				s.events = s.apl(s.events, 'event39', ',', 2);}
			else if (s.eVar49.indexOf('complete') != -1){
				s.events = s.apl(s.events, 'event40', ',', 2);}
		}
	}
	
	//EVENTS
	if (s.events){
	
		if (s.events.match("event39")) updateCookie('fc_ev31_ev40','ev39','none',365);
		if (s.events.match("event40")) updateCookie('fc_ev31_ev40','ev40','none',365);
		
		if (s.events.match("event41")) updateCookie('fc_ev41_ev50','ev41','none',365);
		if (s.events.match("event42")) updateCookie('fc_ev41_ev50','ev42','none',365);

		
		//SPECIAL CASES
		if (s.events.match("event17")) updateCookie('fc_entpg','entpg',s.pageName,365);
		if (s.events.match("event17") && document.referrer != ""){
			var refArray=new Array();refArray = document.referrer.split('/');
			var trimmedRefDom = refArray[2];
			updateCookie('fc_refdom','refdom',trimmedRefDom,365);
		}
	}
	
} //end doPlugins

/*************************************CUSTOM COMMON SITE FUNCTIONS*****************************/

function padFrontZero(val) {
	if (val < 10) return '0'+val; else return val.toString();
}

function popDT() {
	var dte = new Date();
	return dte.getFullYear()+padFrontZero(dte.getMonth()+1)+padFrontZero(dte.getDate())+' '+padFrontZero(dte.getHours());
}


function trafficsource() {

	 var fs = new Array('fmc:ford.com|corporate.ford.com','fmc:fordvehicles.com|www.ford.com|fordenespanol.com','fmc:lincoln.com|lincoln.com|lincolnmercury.com',
      'fmc:mercuryvehicles.com|mercuryvehicles.com','fmc:flmowner.com|flmowner.com','fmc:motocraft.com|motocraft.com','fmc:fordracing.com|fordracing.com',
      'fmc:fordaccessories.com|fordaccessoriesstore.com|fordaccessories.com','fmc:lincolnaccessories.com|lincolnaccessories.com',
      'fmc:mercuryaccessories.com|mercuryaccessories.com','fmc:genuineservice.com|genuineservice.com|genuineflmservice.com|genuinefordservice.com|genuinemercuryservice.com|genuinelincolnservice.com|fordautoclub.com|genuineflmservice.com',
      'fmc:syncmyride.com|syncmyride.com','fmc:fordaxz.com|fordaxz.com','fmc:fordurban.com|fordurban.com',
      'fmc:quicklane.com|quicklane.com|quicklaneservice.com','fmc:dealerconnection.com|.dealerconnection.com',
      'fmc:owneradvantage.com|owneradvantage.com','fmc:fordworksolutions.com|fordworksolutions.com|fordworkssolutions.com',
      'fmc:fordcredit.com|fordcredit.com|acctaccess.com|onlinevehiclefinancing.com|billerweb.com','fmc:fordcpo.com|fordcpo.com','fmc:fordpartsonline.com|fordparts.com|fordpartsonline.com');


	if(s.getQueryParam('referrer')) var ref=s.getQueryParam('referrer') 
	else var ref = document.referrer; 
    
    for (i=0;i<fs.length;i++) {
    var fss = fs[i].split('|');
    	for (j=1;j<fss.length;j++) {
        	if (ref.indexOf(fss[j])>-1){
        		if(refSearch(ref)){ return camp();}else return fss[0];		   
        	}
      	}
    }
  	return camp()
}

function camp(){

	if(s.getQueryParam('referrer')) var ref=s.getQueryParam('referrer') 
	else var ref = document.referrer; 
	
	var fordCamp = s.getQueryParam('fmccmp');
	 
	if(s.getQueryParam('bannerid')) return 'banner';
	else if(s.getQueryParam('emailid')) return 'email';
    else if(s.getQueryParam('searchid')) {s.eVar50 = s.prop50 = "paid:" + s.prop50; return 'search-paid';}
    else if(s.getQueryParam('scmp')) return 'social-placement';
    else if(fordCamp){if (fordCamp.indexOf('t2-fdaf')>-1 || fordCamp.indexOf('t2-lda')>-1){return 'fmc:tier2';}else return 'fmc:other';}
    else if(ref=='') return 'typed-bookmarked';
    else if(refSearch(ref)) {s.eVar50 = s.prop50 = "natural:"+s.prop50; return 'search-natural';}
    else if(refSocial(ref)) return 'social';
    else return 'natural-referrer';
}


function refSearch(ref) {
   	var se = new Array('google.|q','yahoo.com|p','msn.com|q','ask.com|q','myway.com|searchfor','altavista.com|q','netscape.com|query','live.com|q','allthweb.com|q','lycos.com|query','.aol.|q','.aol.|query','suche.aolsvc.de|query','suche.aolsvc.de|q','bing.com|q','ask.jp|q','ask.co|ask','ask.jp|ask','ask.co|q','search.mywebsearch.com|searchfor');

    for (i = 0; i < se.length; i++) {
        var tmp = se[i].split('|');
        var keyword = s.getQueryParam(tmp[1], '', ref);
        if (ref.indexOf(tmp[0]) > -1) {
	        if(keyword == '' && typeof keyword != "undefined")keyword="no keyword"
	   		s.eVar50 = s.prop50 = keyword;
            if (tmp[0] == 'google.') {
                var rnk1 = s.getQueryParam('resnum', '', ref);
                var rnk2 = s.getQueryParam('cd', '', ref);
    
                if (rnk1||rnk2) {
                    s.events = s.apl(s.events, "event50", ",", 1);
                    s.events = s.apl(s.events, "event51", ",", 1);
                   
                    if(rnk1)s.products = s.apl(s.products, ";;;;" + "event50=" + rnk1, ",", 1);
                    if(rnk2)s.products = s.apl(s.products, ";;;;" + "event50=" + rnk2, ",", 1);
                	}
            	}
        
            return true;
        }
    }

    return false;
}

function refSocial(ref) {
   	var socialSites = new Array('12seconds.tv','4travel.jp','advogato.org','ameba.jp','anobii.com','asmallworld.net','backtype.com','badoo.com','bebo.com','bigadda.com','bigtent.com','biip.no','blackplanet.com','blog.seesaa.jp','blogspot.com','blogster.com','blomotion.jp','bolt.com','brightkite.com','buzznet.com','cafemom.com','care2.com','classmates.com','cloob.com','collegeblender.com','cyworld.co.kr','cyworld.com.cn','dailymotion.com','delicious.com','deviantart.com','digg.com','diigo.com','disqus.com','draugiem.lv','facebook.com','faceparty.com','fc2.com','flickr.com','flixster.com','fotolog.com','foursquare.com','friendfeed.com','friendsreunited.com','friendster.com','fubar.com','gaiaonline.com','geni.com','goodreads.com','grono.net','habbo.com','hatena.ne.jp','hi5.com','hotnews.infoseek.co.jp','hyves.nl','ibibo.com','identi.ca','imeem.com','intensedebate.com','irc-galleria.net','iwiw.hu','jaiku.com','jp.myspace.com','kaixin001.com','kaixin002.com','kakaku.com','kanshin.com','kozocom.com','last.fm','linkedin.com','livejournal.com','me2day.net','meetup.com','mister-wong.com','mixi.jp','mixx.com','mouthshut.com','multiply.com','myheritage.com','mylife.com','myspace.com','myyearbook.com','nasza-klasa.pl','netlog.com','nettby.no','netvibes.com','nicovideo.jp','ning.com','odnoklassniki.ru','orkut.com','pakila.jp','photobucket.com','pinterest.com','plaxo.com','plurk.com','plus.google.com','reddit.com','renren.com','skyrock.com','slideshare.net','smcb.jp','smugmug.com','sonico.com','studivz.net','stumbleupon.com','t.163.com','t.co','t.hexun.com','t.ifeng.com','t.people.com.cn','t.qq.com','t.sohu.com','tabelog.com','tagged.com','taringa.net','tripit.com','trombi.com','trytrend.jp','tuenti.com','tumblr.com','twine.com','twitter.com','uhuru.jp','viadeo.com','vimeo.com','vkontakte.ru','vox.com','wayn.com','weibo.com','weourfamily.com','wer-kennt-wen.de','wordpress.com','xanga.com','xing.com','yaplog.jp','yelp.com','youtube.com','yozm.daum.net','yuku.com','zooomr.com');
	
    for (i = 0; i < socialSites.length; i++) {
        if (ref.indexOf(socialSites[i]) > -1) {return true;}
    }
    return false;
}

/* ---------- TNT integration start	-------------*/ 

//tnt cookieRead - reads the cookie, returns the value in that cookie
function cookieRead(cookieName){

	var cvalue =document.cookie
	var carray=cvalue.split(';')
	for (i=0;i<carray.length;i++){
		if(carray[i].indexOf(cookieName)>-1) {
			var cresult=carray[i].split("=")		
			return(cresult[1]);
		}
	}
}
	
//tnt setCookie - sets the cookie. Only used within the updateCookie function
function setCookie(c_name,value,exdays)
{
var temp = location.host.split('.').reverse();
var root_domain = '.' + temp[1] + '.' + temp[0];

var exdate=new Date();
exdate.setDate(exdate.getDate() + exdays);
var c_value=value + ((exdays==null) ? "" : "; expires="+exdate.toUTCString());
document.cookie=c_name + "=" + c_value + "; domain=" + root_domain + "; path=/";
}

//tnt updateCookie - main cookie function to update cookies and values
//note: valueN=the variable name
//note: if value exists, it updates the value. if it does not exist, it appends it to the list
function updateCookie(c_name,valueN,value,exdays)
{
	var cValue=cookieRead(c_name);
	if (value=="" || value==undefined)value='none';
	if(value!=""&& value!=undefined){
	if(cValue== undefined)
	{
		value=valueN+"|"+value
		setCookie(c_name,value,exdays);
		}
	else{
		var exVar=finCookieVal(c_name,valueN)
		if(exVar=="not in the cookie")
			{
	
			value=valueN+"|"+value
			cValue=cValue+","+value
			setCookie(c_name,cValue,exdays);
			}
		else
			{
			cValue=cValue.replace(exVar,value);
			setCookie(c_name,cValue,exdays);
			}
		
		}
	}
		
}

//tnt finCookieVal - returns the value of the individual variable >> it will give me the VALUE of eVarX, not 'eVarX'
function finCookieVal(cookieN,varn){
	var cval= cookieRead(cookieN);
	if(cval==undefined){return "undefined"}
	else{
		if(cval.indexOf(varn)>-1)
		{
		var ar1=cval.split(',')
		for(var i=0;i<ar1.length;i++)
			{
				var ar2=ar1[i].split('|')
				if(ar2[0]==varn)
				return ar2[1];
			}
		}
		else return "not in the cookie"
	}	
}

/* ---------- TNT integration finish -------------*/ 

// function isInternal returns true if the referrer is internal, returns false if it is external
function isInternal(){
	var ref=document.referrer;
	if(ref!=''){
		if(ref.indexOf('www.')>-1)ref=ref.replace('www.','')
		if(ref.indexOf('https://')>-1)ref=ref.replace('https://','')
		if(ref.indexOf('http://')>-1)ref=ref.replace('http://','')	
		var ref1=ref.split('/');
		var refdom=ref1[0];
		
		var filter = s.linkInternalFilters.split(',')
		for(i=0;i<filter.length;i++){
			if(refdom.indexOf(filter[i])>-1)return true	;
		}
	}	

		return false;
}

function omtr_ovf_unload() {

  var metrsec = ['','','',''];
  var viewonly = true;
  var prop48=prop49=apptype='';

  function checkval(fv,sec,fld) {
    if (fv=="") {
      metrsec[sec-1]+=','+fld;
    } else {
      viewonly = false;
    }
  }

	var f = document.dataEntry;
		
	checkval(f.prFirstName.value,1,'a');
	checkval(f.prLastName.value,1,'b');
	checkval(f.prStreet.value,1,'c');
	checkval(f.prCity.value,1,'d');
	checkval(f.prState.value,1,'e');
	checkval(f.prZipCode.value,1,'f');
	checkval(f.prHomeMonthlyPayment.value,1,'g');
	checkval(f.prYearsAtAddress.value+f.prMonthAtAddress.value,1,'h');
	checkval(f.prEmail.value,1,'i');
	checkval(f.prConfirmEmail.value,1,'j');
	checkval(f.prPhNumber1.value+f.prPhNumber2.value+f.prPhNumber3.value,1,'k');
	checkval(f.prSSN1.value+f.prSSN2.value+f.prSSN3.value,1,'l');
	checkval(f.prDOBMM.value+f.prDOBDD.value+f.prDOBYY.value,1,'m');	
	checkval(f.prGrossAnnualIncome.value,2,'a');
	if (f.prRetiredFlag[1].checked) {
    checkval(f.prOccupation.value,2,'b');
    checkval(f.prEmployerName.value,2,'c');
    checkval(f.prYearsOnJob.value+f.prMonthsOnJob.value,2,'d');
    checkval(f.prWorkPh1.value+f.prWorkPh2.value+f.prWorkPh3.value,2,'e');
  }
	
	if (f.applicationType[1].checked) {
    prop48 = 'ovf app detail - joint';
    apptype = 'ovfj-';
    checkval(f.coFirstName.value,3,'a');
    checkval(f.coLastName.value,3,'b');
    checkval(f.coStreet.value,3,'c');
    checkval(f.coCity.value,3,'d');
    checkval(f.coState.value,3,'e');
    checkval(f.coZipCode.value,3,'f');
    checkval(f.coHomeMonthlyPayment.value,3,'g');
    checkval(f.coYearsAtAddress.value+f.coMonthAtAddress.value,3,'h');
    checkval(f.coEmail.value,3,'i');
    checkval(f.coConfirmEmail.value,3,'j');
    checkval(f.coPhNumber1.value+f.coPhNumber2.value+f.coPhNumber3.value,3,'k');
    checkval(f.coSSN1.value+f.coSSN2.value+f.coSSN3.value,3,'l');
    checkval(f.coDOBMM.value+f.coDOBDD.value+f.coDOBYY.value,3,'m');
	if (f.relationshipCode.options[0].selected==true)
		checkval('',3,'n');
    checkval(f.coGrossAnnualIncome.value,4,'a');
    if (f.coRetiredFlag[1].checked) {
      checkval(f.coOccupation.value,4,'b');
      checkval(f.coEmployerName.value,4,'c');
      checkval(f.coYearsOnJob.value+f.coMonthsOnJob.value,4,'d');
      checkval(f.coWorkPh1.value+f.coWorkPh2.value+f.coWorkPh3.value,4,'e');
      }
	} else 
	{
    prop48 = 'ovf app detail - individual';
    apptype = 'ovfi-';
	}
	
	if (viewonly) {
   prop49 = 'zero data';
	} else {
    var i;
    for (i=0;i<4;i++)
    {
      if (metrsec[i].length>1) {
        metrsec[i] = metrsec[i].substring(1);
       prop49+=(i+1)+':'+metrsec[i]+';';
       }
    }
	}
	
	if (prop49!='') {
    var scf = s_gi(s_account);
    scf.linkTrackVars = "prop48,prop49";
    scf.prop48 = prop48;
    scf.prop49 = apptype+prop49;
    scf.tl(this,"o","Credit Form Analysis");
  }

}


s.doPlugins=s_doPlugins
/************************** PLUGINS SECTION *************************/
/* You may insert any plugins you wish to use here.                 */

/* Floodlight Tag Generation Plugin v0.1 */
s_visIdFloodlight = function (ds, dt, dc, dn, ep) {

    if (!ep || ep != 1) {
        var isFirstPage = s.getVisitStart('s_visit');
    }
    if (ep == 1 || isFirstPage == 1) {
        var dviCookie = s.c_r('s_fid');
        var visRegExp = /[0-9A-F]+-[0-9A-F]+/g;
        var dvi = dviCookie.match(visRegExp);
        var pr = location.protocol;
        var du = pr + '//fls.doubleclick.net/activityi;src=' + ds + ';type=' + dt + ';cat=' + dc + ';' + dn + '=';
        if (dvi) {
            s_dfaCall(du, dvi);
        } else {
            setTimeout('s_dfaCall(\'' + du + '\')', 4000);
        }
    }
}
s_dfaCall = function (du, dvi) {
      s.prop60 = s.c_r('s_fid');
      if(!dvi) {
		var dviCookie = s.c_r('s_fid');
		var visRegExp = /[0-9A-F]+-[0-9A-F]+/g;
		var dvi = dviCookie.match(visRegExp);
      }
      var axel = Math.random() + '';
      var a = axel * 10000000000000;
      dfaUrl = du + dvi + ';ord=' + a + '?';
      var createIframe = document.createElement('iframe');
      createIframe.setAttribute('src', dfaUrl);
      createIframe.setAttribute('width', '1');
      createIframe.setAttribute('height', '1');
      createIframe.setAttribute('frameborder', '0');
      createIframe.setAttribute('style', 'display:none');
      document.getElementsByTagName('body')[0].appendChild(createIframe);
}

/*
 * Plugin Utility: Replace v1.0
 */
s.repl=new Function("x","o","n",""
+"var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x."
+"substring(i+o.length);i=x.indexOf(o,i+l)}return x");

/*
 * Plugin: socialPlatforms v1.1
 */
s.socialPlatforms=new Function("a",""
+"var s=this,g,K,D,E,F,i;g=s.referrer?s.referrer:document.referrer;g=g."
+"toLowerCase();K=s.split(s.socPlatList,'|');for(i=0;i<K.length;i++){"
+"D=s.split(K[i],'>');if(g.indexOf(D[0])!=-1){s.contextData['a.socialcontentprovider']=D[1];}}");
 
s.socPlatList="facebook.com>Facebook|twitter.com>Twitter|t.co/>Twitter|youtube.com>Youtube|clipmarks.com>Clipmarks|dailymotion.com>Dailymotion|delicious.com>Delicious|digg.com>Digg|diigo.com>Diigo|flickr.com>Flickr|flixster.com>Flixster|fotolog.com>Fotolog|friendfeed.com>FriendFeed|google.com/buzz>Google Buzz|buzz.googleapis.com>Google Buzz|plus.google.com>Google+|hulu.com>Hulu|identi.ca>identi.ca|ilike.com>iLike|intensedebate.com>IntenseDebate|myspace.com>MySpace|newsgator.com>Newsgator|photobucket.com>Photobucket|plurk.com>Plurk|slideshare.net>SlideShare|smugmug.com>SmugMug|stumbleupon.com>StumbleUpon|tumblr.com>Tumblr|vimeo.com>Vimeo|wordpress.com>WordPress|xanga.com>Xanga|metacafe.com>Metacafe|pinterest.com>Pinterest";

/*  
 * socialAuthors v1.5.2
 */
s.socialAuthors=new Function("",""
+"var s=this,g;g=s.referrer?s.referrer:document.referrer;if(g.indexOf"
+"('http://t.co/')===0||g.indexOf('https://t.co/')===0||g.indexOf('pi"
+"nterest.com/pin')!==-1||g.indexOf('tumblr.com')!==-1||g.indexOf('yo"
+"utube.com')!==-1){s.Integrate.add('SocialAuthor');s.Integrate.Socia"
+"lAuthor.tEvar='reserved';s.Integrate.SocialAuthor.get('http://sa-se"
+"rvices.social.omniture.com/author/name?var=[VAR]&callback=s.socialA"
+"uthorSearch&rs='+encodeURIComponent(s_account)+'&q='+encodeURICompo"
+"nent(g));s.Integrate.SocialAuthor.delay();s.Integrate.SocialAuthor."
+"setVars=function(s,p){if(p.tEvar==='reserved'){s.contextData['a.soc"
+"ialauthor']=s.user;}else{s[p.tEvar]=s.user;}}}");
s.socialAuthorSearch=new Function("obj",""
+"var s=this;if(typeof obj==='undefined'||typeof obj.author==='undefi"
+"ned'){s.user='Not Found';}else{s.user=obj.author;}s.Integrate.Socia"
+"lAuthor.ready();");

/*
* Plugin Utility: apl v1.1
*/
s.apl = new Function("l", "v", "d", "u", ""
+ "var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a."
+ "length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"
+ "e()));}}if(!m)l=l?l+d+v:v;return l");

/*
* Utility Function: split v1.5 (JS 1.0 compatible)
*/
s.split = new Function("l", "d", ""
+ "var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"
+ "++]=l.substring(0,i);l=l.substring(i+d.length);}return a");


/*
 * Plugin: Set Suite
 */
s.setSuite=new Function("v","c","e",""
+"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime("
+")+1800000);s.c_w(c,v,a);}else{v='novalue';a.setTime(a.getTime()+1800000);s.c_w(c,v,a);}");

/*
 * Plugin: getQueryParam 2.3
 */
s.getQueryParam=new Function("p","d","u",""
+"var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.locati"
+"on);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p"
+".length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-"
+"1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i="
+"=p.length?i:i+1)}return v");
s.p_gpv=new Function("k","u",""
+"var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v"
+"=s.pt(q,'&','p_gvf',k)}return v");
s.p_gvf=new Function("t","k",""
+"if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'T"
+"rue':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s."
+"epa(v)}return ''");
/*
 * Plugin: getCustomValOnce 
 */
s.getCustomValOnce=new Function("v","c","e",""
+"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime("
+")+1800000);if(!s.c_w(c,v,a))s.c_w(c,v,0);}else{a.setTime(a.getTime()+1800000);v=s.c_r(c);if(!s.c_w(c,v,a))s.c_w(c,v,a);}return v==k?'':v");

/*
 * Plugin: getAndPersistValue 0.3 - get a value on every page
 */
s.getAndPersistValue=new Function("v","c","e",""
+"var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if("
+"v)s.c_w(c,v,e?a:0);return s.c_r(c);");

s.join = new Function("v","p",""
+"var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back"
+":'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0"
+";x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);el"
+"se str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;");

/*
 * Plugin: getVisitStart v2.0 - returns 1 on first page of visit
 * otherwise 0
 */
s.getVisitStart=new Function("c",""
+"var s=this,v=1,t=new Date;t.setTime(t.getTime()+1800000);if(s.c_r(c"
+")){v=0}if(!s.c_w(c,1,t)){s.c_w(c,1,0)}if(!s.c_r(c)){v=0}return v;"); 

/* Configure Modules and Plugins */

s.maxDelay='3000';
s.loadModule("Integrate")
s.Integrate.onLoad=function(s,m){
	s.socialAuthors();
	//add other integration module dependent functions here
 };

/* WARNING: Changing any of the below variables will cause drastic
changes to how your visitor data is collected.  Changes should only be
made when instructed to do so by your account manager.*/
s.visitorNamespace="ford"
s.trackingServer="metrics.ford.com"
s.trackingServerSecure="smetrics.ford.com"
s.dc="112"
s.vmk="4A43B06B"

/* Configure Modules and Plugins */

s.loadModule("Media")
s.Media.autoTrack=false
s.Media.trackVars="None"
s.Media.trackEvents="None"

/****************************** MODULES *****************************/
/* Module: Media */
s.m_Media_c="(`OWhilePlaying~='s_media_'+m._in+'_~unc^D(~;`E~m.ae(mn,l,\"'+p+'\",~){var m=this~o;w.percent=((w.off^e+1)/w`X)*100;w.percent=w.percent>1~o.'+f~=new ~o.Get~:Math.floor(w.percent);w.timeP"
+"layed=i.t~}`x p');p=tcf(o)~Time~x,x!=2?p:-1,o)}~if(~m.monitor)m.monitor(m.s,w)}~m.s.d.getElementsByTagName~ersionInfo~'^N_c_il['+m._in+'],~'o','var e,p=~else~i.to~=Math.floor(~}catch(e){p=~m.track~"
+"s.wd.addEventListener~.name~m.s.rep(~layState~||^8~Object~m.s.wd[f1]~^A+=i.t+d+i.s+d+~.length~parseInt(~Player '+~s.wd.attachEvent~'a','b',c~Media~pe='m~;o[f1]~m.s.isie~.current~);i.~p<p2||p-p2>5)~"
+".event=~m.close~i.lo~vo.linkTrack~=v+',n,~.open~){w.off^e=~;n=m.cn(n);~){this.e(n,~v=e='None';~Quick~MovieName()~);o[f~out(\"'+v+';~return~1000~i.lx~m.ol~o.controls~m.s.ape(i.~load',m.as~)}};m.~scr"
+"ipt';x.~,t;try{t=~Version()~n==~'--**--',~pev3~o.id~i.ts~tion~){mn=~1;o[f7]=~();~(x==~){p='~&&m.l~l[n])~:'')+i.e~':'E')+o~var m=s~!p){tcf~xc=m.s.~Title()~()/~7+'~+1)/i.l~;i.e=''~3,p,o);~m.l[n]=~Dat"
+"e~5000~;if~i.lt~';c2='~tm.get~Events~set~Change~)};m~',f~(x!=~4+'=n;~~^N.m_i('`c');m.cn=f`2n`5;`x `Rm.s.rep(`Rn,\"\\n\",''),\"\\r\",''),^9''^g`o=f`2n,l,p,b`5,i`8`U,tm`8^X,a='',x`ql=`Yl)`3!l)l=1`3n&"
+"&p){`E!m.l)m.l`8`U`3m.^K`k(n)`3b&&b.id)a=b.id;for (x in m.l)`Em.l[x]^J[x].a==a)`k(m.l[x].n`hn=n;i.l=l;i.p=m.cn(p`ha=a;i.t=0;^C=0;i.s`M^c`C^R`y`hlx=0;^a=i.s;`l=0^U;`L=-1;^Wi}};`k=f`2n`r0,-1^g.play=f"
+"`2n,o`5,i;i=m.e(n,1,o`hm`8F`2`Ii`3m.l){i=m.l[\"'+`Ri.n,'\"','\\\\\"')+'\"]`3i){`E`z==1)m.e(i.n,3,-1`hmt=^e`Cout(i.m,^Y)}}'`hm(^g.stop=f`2n,o`r2,o)};`O=f`2n`5^Z `0) {m.e(n,4,-1^4e=f`2n,x,o`5,i,tm`8^"
+"X,ts`M^c`C^R`y),ti=`OSeconds,tp=`OMilestones,z`8Array,j,d=^9t=1,b,v=`OVars,e=`O^d,`dedia',^A,w`8`U,vo`8`U`qi=n^J&&m.l[n]?m.l[n]:0`3i){w`Q=n;w`X=i.l;w.playerName=i.p`3`L<0)w`j\"OPEN\";`K w`j^H1?\"PL"
+"AY\":^H2?\"STOP\":^H3?\"MONITOR\":\"CLOSE\")));w`o`C`8^X^Gw`o`C.^e`C(i.s*`y)`3x>2||^i`z&&^i2||`z==1))) {b=\"`c.\"+name;^A = ^2n)+d+i.l+d+^2p)+d`3x){`Eo<0&&^a>0){o=(ts-^a)+`l;o=o<i.l?o:i.l-1}o`Mo)`3"
+"x>=2&&`l<o){i.t+=o-`l;^C+=o-`l;}`Ex<=2){i.e+=^H1?'S^M;`z=x;}`K `E`z!=1)m.e(n,1,o`hlt=ts;`l=o;`W`0&&`L>=0?'L'+`L^L+^i2?`0?'L^M:'')^Z`0){b=0;`d_o'`3x!=4`p`600?100`A`3`F`E`L<0)`d_s';`K `Ex==4)`d_i';`K"
+"{t=0;`sti=ti?`Yti):0;z=tp?m.s.sp(tp,','):0`3ti&&^C>=ti)t=1;`K `Ez){`Eo<`L)`L=o;`K{for(j=0;j<z`X;j++){ti=z[j]?`Yz[j]):0`3ti&&((`L^T<ti/100)&&((o^T>=ti/100)){t=1;j=z`X}}}}}}}`K{m.e(n,2,-1)^Z`0`pi.l`6"
+"00?100`A`3`F^W0`3i.e){`W`0&&`L>=0?'L'+`L^L^Z`0){`s`d_o'}`K{t=0;m.s.fbr(b)}}`K t=0;b=0}`Et){`mVars=v;`m^d=e;vo.pe=pe;vo.^A=^A;m.s.t(vo,b)^Z`0){^C=0;`L=o^U}}}}`x i};m.ae=f`2n,l,p,x,o,b){`En&&p`5`3!m."
+"l||!m.^Km`o(n,l,p,b);m.e(n,x,o^4a=f`2o,t`5,i=^B?^B:o`Q,n=o`Q,p=0,v,c,c1,c2,^Ph,x,e,f1,f2`1oc^h3`1t^h4`1s^h5`1l^h6`1m^h7`1c',tcf,w`3!i){`E!m.c)m.c=0;i`1'+m.c;m.c++}`E!^B)^B=i`3!o`Q)o`Q=n=i`3!^0)^0`8"
+"`U`3^0[i])`x;^0[i]=o`3!xc)^Pb;tcf`8F`2`J0;try{`Eo.v`H&&o`g`c&&^1)p=1`N0`B`3^O`8F`2`J0^6`9`t`C^7`3t)p=2`N0`B`3^O`8F`2`J0^6`9V`H()`3t)p=3`N0`B}}v=\"^N_c_il[\"+m._in+\"],o=^0['\"+i+\"']\"`3p==1^IWindo"
+"ws `c `Zo.v`H;c1`np,l,x=-1,cm,c,mn`3o){cm=o`g`c;c=^1`3cm&&c^Ecm`Q?cm`Q:c.URL;l=cm.dura^D;p=c`gPosi^D;n=o.p`S`3n){`E^88)x=0`3^83)x=1`3^81`T2`T4`T5`T6)x=2;}^b`Ex>=0)`4`D}';c=c1+c2`3`f&&xc){x=m.s.d.cr"
+"eateElement('script');x.language='j^5type='text/java^5htmlFor=i;x`j'P`S^f(NewState)';x.defer=true;x.text=c;xc.appendChild(x`v6]`8F`2c1+'`E^83){x=3;'+c2+'}^e`Cout(`76+',^Y)'`v6]()}}`Ep==2^I`t`C `Z(`"
+"9Is`t`CRegistered()?'Pro ':'')+`9`t`C^7;f1=f2;c`nx,t,l,p,p2,mn`3o^E`9`u?`9`u:`9URL^Gn=`9Rate^Gt=`9`CScale^Gl=`9Dura^D^Rt;p=`9`C^Rt;p2=`75+'`3n!=`74+'||`i{x=2`3n!=0)x=1;`K `Ep>=l)x=0`3`i`42,p2,o);`4"
+"`D`En>0&&`7^S>=10){`4^V`7^S=0}`7^S++;`7^j`75+'=p;^e`C`w`72+'(0,0)\",500)}'`e`8F`2`b`v4]=-^F0`e(0,0)}`Ep==3^IReal`Z`9V`H^Gf1=n+'_OnP`S^f';c1`nx=-1,l,p,mn`3o^E`9^Q?`9^Q:`9Source^Gn=`9P`S^Gl=`9Length^"
+"R`y;p=`9Posi^D^R`y`3n!=`74+'){`E^83)x=1`3^80`T2`T4`T5)x=2`3^80&&(p>=l||p==0))x=0`3x>=0)`4`D`E^83&&(`7^S>=10||!`73+')){`4^V`7^S=0}`7^S++;`7^j^b`E`72+')`72+'(o,n)}'`3`V)o[f2]=`V;`V`8F`2`b1+c2)`e`8F`2"
+"`b1+'^e`C`w`71+'(0,0)\",`73+'?500:^Y);'+c2`v4]=-1`3`f)o[f3]=^F0`e(0,0^4as`8F`2'e',`Il,n`3m.autoTrack&&`G){l=`G(`f?\"OBJECT\":\"EMBED\")`3l)for(n=0;n<l`X;n++)m.a(^K;}')`3`a)`a('on^3);`K `E`P)`P('^3,"
+"false)";
s.m_i("Media");

/* Module: Integrate */
s.m_Integrate_c="var m=s.m_i('Integrate');m.add=function(n,o){var m=this,p;if(!o)o='s_Integrate_'+n;if(!m.s.wd[o])m.s.wd[o]=new Object;m[n]=new Object;p=m[n];p._n=n;p._m=m;p._c=0;p._d=0;p.disable=0;p"
+".get=m.get;p.delay=m.delay;p.ready=m.ready;p.beacon=m.beacon;p.script=m.script;m.l[m.l.length]=n};m._g=function(t){var m=this,s=m.s,i,p,f=(t?'use':'set')+'Vars',tcf;for(i=0;i<m.l.length;i++){p=m[m."
+"l[i]];if(p&&!p.disable&&p[f]){if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','p','f','var e;try{p[f](s,p)}catch(e){}');tcf(s,p,f)}else p[f](s,p)}}};m._t=function(){this._g(1)};m._fu=func"
+"tion(p,u){var m=this,s=m.s,v,x,y,z,tm=new Date;if(u.toLowerCase().substring(0,4) != 'http')u='http://'+u;if(s.ssl)u=s.rep(u,'http:','https:');p.RAND=Math&&Math.random?Math.floor(Math.random()*10000"
+"000000000):tm.getTime();p.RAND+=Math.floor(tm.getTime()/10800000)%10;x=0;while(x>=0){x=u.indexOf('[',x);if(x>=0){y=u.indexOf(']',x);if(y>x){z=u.substring(x+1,y);if(z.length>2&&z.substring(0,2)=='s."
+"'){v=s[z.substring(2)];if(!v)v=''}else{v=''+p[z];if(!(v==p[z]||parseFloat(v)==p[z]))z=0}if(z) {u=u.substring(0,x)+s.rep(escape(v),'+','%2B')+u.substring(y+1);x=y-(z.length-v.length+1)} else {x=y}}}"
+"}return u};m.get=function(u,v){var p=this,m=p._m;if(!p.disable){if(!v)v='s_'+m._in+'_Integrate_'+p._n+'_get_'+p._c;p._c++;p.VAR=v;p._d++;m.s.loadModule('Integrate:'+v,m._fu(p,u),0,1,p._n)}};m.delay"
+"=function(){var p=this;if(p._d<=0)p._d=1};m.ready=function(){var p=this,m=p._m;p._d=0;if(!p.disable)m.s.dlt()};m._d=function(){var m=this,i,p;for(i=0;i<m.l.length;i++){p=m[m.l[i]];if(p&&!p.disable&"
+"&p._d>0)return 1}return 0};m._x=function(d,n){var p=this[n],x;if(!p.disable){for(x in d)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))p[x]=d[x];p._d--}};m.beacon=function(u){var p=this,m"
+"=p._m,s=m.s,imn='s_i_'+m._in+'_Integrate_'+p._n+'_'+p._c,im;if(!p.disable&&s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){p._c++;im=s.wd[imn]=new Image;im.src=m._fu(p,u)}};m.s"
+"cript=function(u){var p=this,m=p._m;if(!p.disable)m.s.loadModule(0,m._fu(p,u),0,1)};m.l=new Array;if(m.onLoad)m.onLoad(s,m)";
s.m_i("Integrate");

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code='',s_objectID;function s_gi(un,pg,ss){var c="s.version='H.27.2';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(s.rep(m,\"\\\\\",\"\\\\"
+"\\\\\"),\"\\n\",\"\\\\n\"),\"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}retur"
+"n y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;ret"
+"urn 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent("
+"x);for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.su"
+"bstring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+"
+"','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00"
+"'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unesc"
+"ape(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r"
+";z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring("
+"0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf'"
+",f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visi"
+"bilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){whil"
+"e(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\")"
+";s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.li"
+"nkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostnam"
+"e,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'"
+".','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<"
+"0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-6"
+"0);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':''"
+");return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i"
+";l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tc"
+"f=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s"
+".wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0"
+";return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return "
+"s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)fo"
+"r(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackin"
+"gServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+s._in+'_'+un,im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLow"
+"erCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.vers"
+"ion+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if"
+"(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]"
+"=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd["
+"imn];if(!im)im=s.wd[imn]=new Image;im.alt=\"\";im.s_l=0;im.onload=im.onerror=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!"
+"s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window"
+".s_c_il)window.s_c_il['+s._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e"
+".getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'"
+"+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,"
+"l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='ht"
+"tps://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l="
+"',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'"
+"+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextDat"
+"a\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(n"
+"fn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){n"
+"k=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLi"
+"ghtData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(s"
+"p=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return "
+"qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe"
+"=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if"
+"(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv|"
+"|fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='supplementalDataID')q='sdid';else if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';e"
+"lse if(k=='marketingCloudVisitorID')q='mid';else if(k=='analyticsVisitorID')q='aid';else if(k=='audienceManagerLocationHint')q='aamlh';else if(k=='audienceManagerBlob')q='aamb';else if(k=='pageURL'"
+"){q='g';if(v.length>255){s.pageURLRest=v.substring(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigratio"
+"nKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}"
+"else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='co"
+"okieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='"
+"resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='br"
+"owserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v=''"
+";else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q"
+"='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k"
+"],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev"
+"'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?'),hi=h.indexOf('#');if(qi>=0){if(hi>=0&&hi<qi)qi=hi;}else qi=hi;h=qi>=0?h.substring("
+"0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function("
+"h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',"
+"h))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e'"
+";return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var s=this;if(s.bct&&s.bce)s.bct.d"
+"ispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&e.s_fe)return;var s=s_c_il['+s"
+"._in+'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener(\"click\",s.bc,true);s.bbc=s.useFor"
+"cedLinkTracking=0;return}else s.b.removeEventListener(\"click\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLinkTracking&&e.target){a=e.targe"
+"t;while(a&&a!=s.b&&a.tagName.toUpperCase()!=\"A\"&&a.tagName.toUpperCase()!=\"AREA\")a=a.parentNode;if(a){h=a.href;if(h.indexOf(\"#\")==0||h.indexOf(\"about:\")==0||h.indexOf(\"javascript:\")==0)h="
+"0;t=a.target;if(e.target.dispatchEvent&&h&&(!t||t==\"_self\"||t==\"_top\"||t==\"_parent\"||(s.wd.name&&t==s.wd.name))){tcf=new Function(\"s\",\"var x;try{n=s.d.createEvent(\\\\\"MouseEvents\\\\\")}"
+"catch(x){n=new MouseEvent}return n\");n=tcf(s);if(n){tcf=new Function(\"n\",\"e\",\"var x;try{n.initMouseEvent(\\\\\"click\\\\\",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX"
+",e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(x){n=0}return n\");n=tcf(n,e);if(n){n.s_fe=1;e.stopPropagation();if (e.stopImmediatePropagation) {e.stopImmediateP"
+"ropagation();}e.preventDefault();s.bct=e.target;s.bce=n}}}}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||"
+"(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)"
+"!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase()"
+":'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;"
+"if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''"
+"),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o"
+".s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')"
+">=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un)"
+";return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){v"
+"ar s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if"
+"(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+"
+"=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o="
+"s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s"
+".apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&((s.n.userAgent.indexOf('WebKit')>=0&&s.d.createEvent)||(s."
+"n.userAgent.indexOf('Firefox/2')>=0&&s.wd.MouseEvent))){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,false)}else s.eh(s.wd,'onload',0,"
+"s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n"
+"){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0"
+"&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,"
+"i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.u"
+"n.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n"
+",a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._"
+"il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}"
+"else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)"
+"g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\"
+"'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m="
+"function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m"
+"[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};"
+"s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s."
+"h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){"
+"if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a("
+"\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c"
+"','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendC"
+"hild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g"
+".length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"|"
+"|k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo,onlySet){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!onlySet&&!vo[k])vo['!"
+"'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}"
+"else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTi"
+"me();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s._waitingForMarketingCloudVisitorID = false;s._doneWaitingForMarketingCloudVisitorID = false;s._marketi"
+"ngCloudVisitorIDCallback=function(marketingCloudVisitorID) {var s=this;s.marketingCloudVisitorID = marketingCloudVisitorID;s._doneWaitingForMarketingCloudVisitorID = true;s._callbackWhenReadyToTrac"
+"kCheck();};s._waitingForAnalyticsVisitorID = false;s._doneWaitingForAnalyticsVisitorID = false;s._analyticsVisitorIDCallback=function(analyticsVisitorID) {var s=this;s.analyticsVisitorID = analytic"
+"sVisitorID;s._doneWaitingForAnalyticsVisitorID = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerLocationHint = false;s._doneWaitingForAudienceManagerLocationHint = false;s._a"
+"udienceManagerLocationHintCallback=function(audienceManagerLocationHint) {var s=this;s.audienceManagerLocationHint = audienceManagerLocationHint;s._doneWaitingForAudienceManagerLocationHint = true;"
+"s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerBlob = false;s._doneWaitingForAudienceManagerBlob = false;s._audienceManagerBlobCallback=function(audienceManagerBlob) {var s=this;s"
+".audienceManagerBlob = audienceManagerBlob;s._doneWaitingForAudienceManagerBlob = true;s._callbackWhenReadyToTrackCheck();};s.isReadyToTrack=function() {var s=this,readyToTrack = true,visitor = s.v"
+"isitor;if ((visitor) && (visitor.isAllowed())) {if ((!s._waitingForMarketingCloudVisitorID) && (!s.marketingCloudVisitorID) && (visitor.getMarketingCloudVisitorID)) {s._waitingForMarketingCloudVisi"
+"torID = true;s.marketingCloudVisitorID = visitor.getMarketingCloudVisitorID([s,s._marketingCloudVisitorIDCallback]);if (s.marketingCloudVisitorID) {s._doneWaitingForMarketingCloudVisitorID = true;}"
+"}if ((!s._waitingForAnalyticsVisitorID) && (!s.analyticsVisitorID) && (visitor.getAnalyticsVisitorID)) {s._waitingForAnalyticsVisitorID = true;s.analyticsVisitorID = visitor.getAnalyticsVisitorID(["
+"s,s._analyticsVisitorIDCallback]);if (s.analyticsVisitorID) {s._doneWaitingForAnalyticsVisitorID = true;}}if ((!s._waitingForAudienceManagerLocationHint) && (!s.audienceManagerLocationHint) && (vis"
+"itor.getAudienceManagerLocationHint)) {s._waitingForAudienceManagerLocationHint = true;s.audienceManagerLocationHint = visitor.getAudienceManagerLocationHint([s,s._audienceManagerLocationHintCallba"
+"ck]);if (s.audienceManagerLocationHint) {s._doneWaitingForAudienceManagerLocationHint = true;}}if ((!s._waitingForAudienceManagerBlob) && (!s.audienceManagerBlob) && (visitor.getAudienceManagerBlob"
+")) {s._waitingForAudienceManagerBlob = true;s.audienceManagerBlob = visitor.getAudienceManagerBlob([s,s._audienceManagerBlobCallback]);if (s.audienceManagerBlob) {s._doneWaitingForAudienceManagerBl"
+"ob = true;}}if (((s._waitingForMarketingCloudVisitorID)     && (!s._doneWaitingForMarketingCloudVisitorID)     && (!s.marketingCloudVisitorID)) ||((s._waitingForAnalyticsVisitorID)          && (!s."
+"_doneWaitingForAnalyticsVisitorID)          && (!s.analyticsVisitorID)) ||((s._waitingForAudienceManagerLocationHint) && (!s._doneWaitingForAudienceManagerLocationHint) && (!s.audienceManagerLocati"
+"onHint)) ||((s._waitingForAudienceManagerBlob)         && (!s._doneWaitingForAudienceManagerBlob)         && (!s.audienceManagerBlob))) {readyToTrack = false;}}return readyToTrack;};s._callbackWhen"
+"ReadyToTrackQueue = null;s._callbackWhenReadyToTrackInterval = 0;s.callbackWhenReadyToTrack=function(callbackThis,callback,args) {var s=this,callbackInfo;callbackInfo = {};callbackInfo.callbackThis"
+" = callbackThis;callbackInfo.callback     = callback;callbackInfo.args         = args;if (s._callbackWhenReadyToTrackQueue == null) {s._callbackWhenReadyToTrackQueue = [];}s._callbackWhenReadyToTra"
+"ckQueue.push(callbackInfo);if (s._callbackWhenReadyToTrackInterval == 0) {s._callbackWhenReadyToTrackInterval = setInterval(s._callbackWhenReadyToTrackCheck,100);}};s._callbackWhenReadyToTrackCheck"
+"=new Function('var s=s_c_il['+s._in+'],callbackNum,callbackInfo;if (s.isReadyToTrack()) {if (s._callbackWhenReadyToTrackInterval) {clearInterval(s._callbackWhenReadyToTrackInterval);s._callbackWhen"
+"ReadyToTrackInterval = 0;}if (s._callbackWhenReadyToTrackQueue != null) {while (s._callbackWhenReadyToTrackQueue.length > 0) {callbackInfo = s._callbackWhenReadyToTrackQueue.shift();callbackInfo.ca"
+"llback.apply(callbackInfo.callbackThis,callbackInfo.args);}}}');s._handleNotReadyToTrack=function(variableOverrides) {var s=this,args,varKey,variableOverridesCopy = null,setVariables = null;if (!s."
+"isReadyToTrack()) {args = [];if (variableOverrides != null) {variableOverridesCopy = {};for (varKey in variableOverrides) {variableOverridesCopy[varKey] = variableOverrides[varKey];}}setVariables ="
+" {};s.vob(setVariables,true);args.push(variableOverridesCopy);args.push(setVariables);s.callbackWhenReadyToTrack(s,s.track,args);return true;}return false;};s.gfid=function(){var s=this,d='01234567"
+"89ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j=Math.floor(Math.random()*n);"
+"l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.track=s.t=function(vo,setVariables){var s=this,notReadyToTrack,trk=1,tm"
+"=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?"
+"y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;if ((!s.supplementalDataID) &&"
+" (s.visitor) && (s.visitor.getSupplementalDataID)) {s.supplementalDataID = s.visitor.getSupplementalDataID(\"AppMeasurement:\" + s._in,(s.expectSupplementalData ? false : true));}if(s.mpc('t',argum"
+"ents))return;s.gl(s.vl_g);s.uns();s.m_ll();notReadyToTrack = s._handleNotReadyToTrack(vo);if (!notReadyToTrack) {if (setVariables) {s.voa(setVariables);}if(!s.td){var tl=tfs.location,a,o,i,x='',c='"
+"',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)"
+"j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a."
+"reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?"
+"'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.do"
+"cumentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}ca"
+"tch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.p"
+"l.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeigh"
+"t=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if(!s.analyticsVisitorID&&!s.marketingCloudVisitorID)s.fid=s.gfid();if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins"
+")s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s."
+"eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid("
+"o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf("
+"'?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s."
+"ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAt"
+"tribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useForcedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_object"
+"ID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb))>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(o"
+"cq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\"\\\\\")ocx=!ocx;else ocx=0;}else{ocq=oc.charAt(oce);if(ocq!='\"'&&ocq!=\"'\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=n"
+"ew Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.a"
+"pe(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,"
+"ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);}s.abort=0;s.supplementalDataID=s.pageU"
+"RLRest=s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t"
+",n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s."
+"t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;"
+"i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeo"
+"f(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);e"
+"lse y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.ge"
+"tElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE ')"
+",o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if"
+"(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parse"
+"Float(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l="
+"'supplementalDataID,timestamp,dynamicVariablePrefix,visitorID,marketingCloudVisitorID,analyticsVisitorID,audienceManagerLocationHint,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrat"
+"ionServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLight"
+"Profiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreFo"
+"rSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,audienceManagerBlob,linkName,linkType';var n;"
+"for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,p"
+"ev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+"
+"',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamic"
+"AccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo"
+",lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs="
+"function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",
w=window,l=w.s_c_il,n=navigator,u=n.userAgent,v=n.appVersion,e=v.indexOf('MSIE '),m=u.indexOf('Netscape6/'),a,i,j,x,s;if(un){un=un.toLowerCase();if(l)for(j=0;j<2;j++)for(i=0;i<l.length;i++){s=l[i];x=s._c;if((!x||x=='s_c'||(j>0&&x=='s_l'))&&(s.oun==un||(s.fs&&s.sa&&s.fs(s.oun,un)))){if(s.sa)s.sa(un);if(x=='s_c')return s}else s=0}}w.s_an='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
w.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.subst"
+"ring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a");
w.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x");
w.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)");
w.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d"
+"=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn("
+"x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x");
w.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")");
w.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':"
+"a");
w.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){i"
+"f(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")"
+"'+c.substring(e+1);s=c.indexOf('=function(')}return c;");
c=s_d(c);if(e>0){a=parseInt(i=v.substring(e+5));if(a>3)a=parseFloat(i)}else if(m>0)a=parseFloat(u.substring(m+10));else a=parseFloat(v);if(a<5||v.indexOf('Opera')>=0||u.indexOf('Opera')>=0)c=s_ft(c);if(!s){s=new Object;if(!w.s_c_in){w.s_c_il=new Array;w.s_c_in=0}s._il=w.s_c_il;s._in=w.s_c_in;s._il[s._in]=s;w.s_c_in++;}s._c='s_c';(new Function("s","un","pg","ss",c))(s,un,pg,ss);return s}

/************* Audience Manager ***********************/
"function"!=typeof DIL&&(DIL=function(a,b){var d=[],c,e;a!==Object(a)&&(a={});var f,h,m,u,s,v,w,q,x,H,I;f=a.partner;h=a.containerNSID;m=a.iframeAttachmentDelay;u=!!a.disableDestinationPublishingIframe;s=a.iframeAkamaiHTTPS;v=a.mappings;w=a.uuidCookie;q=!0===a.enableErrorReporting;x=a.visitorService;H=a.declaredId;I=!0===a.removeFinishedScriptsAndCallbacks;var J,K,E,C;J=!0===a.disableScriptAttachment;K=!0===a.disableDefaultRequest;E=a.afterResultForDefaultRequest;C=a.dpIframeSrc;q&&DIL.errorModule.activate();
var L=!0===window._dil_unit_tests;(c=b)&&d.push(c+"");if(!f||"string"!=typeof f)return c="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:c,filename:"dil.js"}),Error(c);c="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(h||"number"==typeof h)h=parseInt(h,10),!isNaN(h)&&0<=h&&(c="");c&&(h=0,d.push(c),c="");e=DIL.getDil(f,h);if(e instanceof DIL&&e.api.getPartner()==f&&e.api.getContainerNSID()==h)return e;
if(this instanceof DIL)DIL.registerDil(this,f,h);else return new DIL(a,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+f+" and containerNSID = "+h);var y={IS_HTTPS:"https:"==document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC"},F={stuffed:{}},n={},p={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},
callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:h+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,uuid:null,noVisitorAPI:!1,instance:null,releaseType:"no VisitorAPI",
admsProcessingStarted:!1,process:function(g){try{if(!this.admsProcessingStarted){var a=this,l,k,c,b,d;if("function"==typeof g&&"function"==typeof g.getInstance){if(x===Object(x)&&(l=x.namespace)&&"string"==typeof l)k=g.getInstance(l);else{this.releaseType="no namespace";this.releaseRequests();return}if(k===Object(k)&&"function"==typeof k.isAllowed&&"function"==typeof k.getGlobalVisitorID){if(!k.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=k;this.admsProcessingStarted=
!0;c=function(g){"VisitorAPI"!=a.releaseType&&(a.uuid=g,a.releaseType="VisitorAPI",a.releaseRequests())};L&&(b=x.server)&&"string"==typeof b&&(k.server=b);d=k.getGlobalVisitorID(c);if("string"==typeof d&&d.length){c(d);return}setTimeout(function(){"VisitorAPI"!=a.releaseType&&(a.releaseType="timeout",a.releaseRequests())},this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE);return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(f){this.releaseRequests()}},releaseRequests:function(){this.calledBack=
!0;p.registerRequest()},getGlobalVisitorID:function(){return this.instance?this.instance.getGlobalVisitorID():null}},declaredId:{uuid:null,declaredId:{init:null,request:null},declaredIdCombos:{},dIdAlwaysOn:!1,dIdInRequest:!1,setDeclaredId:function(g,a){var l=t.isPopulatedString,k=encodeURIComponent;if(g===Object(g)&&l(a)){var c=g.dpid,d=g.dpuuid,b=null;if(l(c)&&l(d)){b=k(c)+"$"+k(d);if(!0===this.declaredIdCombos[b])return"setDeclaredId: combo exists for type '"+a+"'";this.declaredIdCombos[b]=!0;
this.declaredId[a]={dpid:c,dpuuid:d};"init"==a?this.dIdAlwaysOn=!0:"request"==a&&(this.dIdInRequest=!0);return"setDeclaredId: succeeded for type '"+a+"'"}}return"setDeclaredId: failed for type '"+a+"'"},getDeclaredIdQueryString:function(){var g=this.declaredId.request,a=this.declaredId.init,l="";null!==g?l="&d_dpid="+g.dpid+"&d_dpuuid="+g.dpuuid:null!==a&&(l="&d_dpid="+a.dpid+"&d_dpuuid="+a.dpuuid);return l},getUUIDQueryString:function(){var g=p.adms,a=t.isPopulatedString,l=!1,k=p.adms.getGlobalVisitorID();
a(this.uuid)?a(k)&&this.uuid!=k&&(this.uuid=k):this.uuid=k||g.uuid;if(this.dIdAlwaysOn||this.dIdInRequest)l=!0,this.dIdInRequest=!1;return a(this.uuid)&&l?"d_uuid="+this.uuid+"&":""}},registerRequest:function(g){var a=this.firingQueue;g===Object(g)&&a.push(g);!this.firing&&a.length&&(this.adms.calledBack?(g=a.shift(),g.src=g.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.declaredId.getUUIDQueryString()+"d_nsid="),z.fireRequest(g),this.firstRequestHasFired||"script"!=g.tag||(this.firstRequestHasFired=
!0)):this.processVisitorAPI())},processVisitorAPI:function(){this.adms.process(window.Visitor)},requestRemoval:function(g){if(!I)return"removeFinishedScriptsAndCallbacks is not boolean true";var a=this.toRemove,l,k;g===Object(g)&&(l=g.script,k=g.callbackName,(l===Object(l)&&"SCRIPT"==l.nodeName||"no script created"==l)&&"string"==typeof k&&k.length&&a.push(g));if(this.readyToRemove&&a.length){k=a.shift();l=k.script;k=k.callbackName;"no script created"!=l?(g=l.src,l.parentNode.removeChild(l)):g=l;
window[k]=null;try{delete window[k]}catch(c){}this.removed.push({scriptSrc:g,callbackName:k});DIL.variables.scriptsRemoved.push(g);DIL.variables.callbacksRemoved.push(k);return this.requestRemoval()}return"requestRemoval() processed"}};e=function(){var g="http://fast.",a="?d_nsid="+h+"#"+encodeURIComponent(document.location.href);if("string"===typeof C&&C.length)return C+a;y.IS_HTTPS&&(g=!0===s?"https://fast.":"https://");return g+f+".demdex.net/dest4.html"+a};var A={THROTTLE_START:3E4,throttleTimerSet:!1,
id:"destination_publishing_iframe_"+f+"_"+h,url:e(),iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messageSendingInterval:y.POST_MESSAGE_ENABLED?15:100,jsonProcessed:[],attachIframe:function(){var g=this,a=document.createElement("iframe");a.id=this.id;a.style.cssText="display: none; width: 0; height: 0;";a.src=this.url;r.addListener(a,"load",function(){g.iframeHasLoaded=!0;g.requestToProcess()});document.body.appendChild(a);this.iframe=a},requestToProcess:function(g,
a){var l=this;g&&!t.isEmptyObject(g)&&this.process(g,a);this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){l.messageSendingInterval=y.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},process:function(g,a){var l=encodeURIComponent,k,c,d,b,f,e;a===Object(a)&&(e=r.encodeAndBuildRequest([p.declaredId.uuid||"",a.dpid||"",a.dpuuid||""],","));if((k=g.dests)&&k instanceof
Array&&(c=k.length))for(d=0;d<c;d++)b=k[d],b=[l("dests"),l(b.id||""),l(b.y||""),l(b.c||"")],this.addMessage(b.join("|"));if((k=g.ibs)&&k instanceof Array&&(c=k.length))for(d=0;d<c;d++)b=k[d],b=[l("ibs"),l(b.id||""),l(b.tag||""),r.encodeAndBuildRequest(b.url||[],","),l(b.ttl||""),"",e],this.addMessage(b.join("|"));if((k=g.dpcalls)&&k instanceof Array&&(c=k.length))for(d=0;d<c;d++)b=k[d],f=b.callback||{},f=[f.obj||"",f.fn||"",f.key||"",f.tag||"",f.url||""],b=[l("dpm"),l(b.id||""),l(b.tag||""),r.encodeAndBuildRequest(b.url||
[],","),l(b.ttl||""),r.encodeAndBuildRequest(f,","),e],this.addMessage(b.join("|"));this.jsonProcessed.push(g)},addMessage:function(g){var a=encodeURIComponent,a=q?a("---destpub-debug---"):a("---destpub---");this.messages.push(a+g)},sendMessages:function(){var g=this,a;this.messages.length?(a=this.messages.shift(),DIL.xd.postMessage(a,this.url,this.iframe.contentWindow),this.messagesPosted.push(a),setTimeout(function(){g.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1}},G={traits:function(g){t.isValidPdata(g)&&
(n.sids instanceof Array||(n.sids=[]),r.extendArray(n.sids,g));return this},pixels:function(g){t.isValidPdata(g)&&(n.pdata instanceof Array||(n.pdata=[]),r.extendArray(n.pdata,g));return this},logs:function(g){t.isValidLogdata(g)&&(n.logdata!==Object(n.logdata)&&(n.logdata={}),r.extendObject(n.logdata,g));return this},customQueryParams:function(g){t.isEmptyObject(g)||r.extendObject(n,g,p.reservedKeys);return this},signals:function(g,a){var b,d=g;if(!t.isEmptyObject(d)){if(a&&"string"==typeof a)for(b in d=
{},g)g.hasOwnProperty(b)&&(d[a+b]=g[b]);r.extendObject(n,d,p.reservedKeys)}return this},declaredId:function(g){p.declaredId.setDeclaredId(g,"request");return this},result:function(g){"function"==typeof g&&(n.callback=g);return this},afterResult:function(g){"function"==typeof g&&(n.postCallbackFn=g);return this},useImageRequest:function(){n.useImageRequest=!0;return this},clearData:function(){n={};return this},submit:function(){z.submitRequest(n);n={};return this},getPartner:function(){return f},getContainerNSID:function(){return h},
getEventLog:function(){return d},getState:function(){var g={},a={};r.extendObject(g,p,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});r.extendObject(a,A,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{pendingRequest:n,otherRequestInfo:g,destinationPublishingInfo:a}},idSync:function(g){if(g!==Object(g)||"string"!=typeof g.dpid||!g.dpid.length)return"Error: config or config.dpid is empty";if("string"!=typeof g.url||!g.url.length)return"Error: config.url is empty";var a=
g.url,b=g.minutesToLive,d=encodeURIComponent,c=p.declaredId,a=a.replace(/^https:/,"").replace(/^http:/,"");if("undefined"==typeof b)b=20160;else if(b=parseInt(b,10),isNaN(b)||0>=b)return"Error: config.minutesToLive needs to be a positive number";c=r.encodeAndBuildRequest([p.adms.getGlobalVisitorID()||c.uuid||"",g.dpid,g.dpuuid||""],",");g=["ibs",d(g.dpid),"img",d(a),b,"",c];A.addMessage(g.join("|"));p.firstRequestHasFired&&A.requestToProcess();return"Successfully queued"},aamIdSync:function(a){if(a!==
Object(a)||"string"!=typeof a.dpuuid||!a.dpuuid.length)return"Error: config or config.dpuuid is empty";a.url="//dpm.demdex.net/ibs:dpid="+a.dpid+"&dpuuid="+a.dpuuid;return this.idSync(a)},passData:function(a){if(t.isEmptyObject(a))return"Error: json is empty or not an object";z.defaultCallback(a);return"json submitted for processing"},getPlatformParams:function(){return p.platformParams},getEventCallConfigParams:function(){var a=p,b=a.modStatsParams,d=a.platformParams,c;if(!b){b={};for(c in d)d.hasOwnProperty(c)&&
!a.nonModStatsParams[c]&&(b[c.replace(/^d_/,"")]=d[c]);a.modStatsParams=b}return b}},z={submitRequest:function(a){p.registerRequest(z.createQueuedRequest(a));return!0},createQueuedRequest:function(a){var b=p,d,c=a.callback,e="img";if(!t.isEmptyObject(v)){var B,q,s;for(B in v)v.hasOwnProperty(B)&&(q=v[B],null!=q&&""!==q&&B in a&&!(q in a||q in p.reservedKeys)&&(s=a[B],null!=s&&""!==s&&(a[q]=s)))}t.isValidPdata(a.sids)||(a.sids=[]);t.isValidPdata(a.pdata)||(a.pdata=[]);t.isValidLogdata(a.logdata)||
(a.logdata={});a.logdataArray=r.convertObjectToKeyValuePairs(a.logdata,"=",!0);a.logdataArray.push("_ts="+(new Date).getTime());"function"!=typeof c&&(c=this.defaultCallback);if(b.useJSONP=!a.useImageRequest||"boolean"!=typeof a.useImageRequest)e="script",d=b.callbackPrefix+"_"+f+"_"+h+"_"+(new Date).getTime();return{tag:e,src:z.makeRequestSrc(a,d),internalCallbackName:d,callbackFn:c,postCallbackFn:a.postCallbackFn,useImageRequest:a.useImageRequest,requestData:a}},defaultCallback:function(a,b){var d,
c,f,e,h,q,s,v,m;if((d=a.stuff)&&d instanceof Array&&(c=d.length))for(f=0;f<c;f++)if((e=d[f])&&e===Object(e)){h=e.cn;q=e.cv;s=e.ttl;if("undefined"==typeof s||""===s)s=Math.floor(r.getMaxCookieExpiresInMinutes()/60/24);v=e.dmn||"."+document.domain.replace(/^www\./,"");m=e.type;h&&(q||"number"==typeof q)&&("var"!=m&&(s=parseInt(s,10))&&!isNaN(s)&&r.setCookie(h,q,1440*s,"/",v,!1),F.stuffed[h]=q)}d=a.uuid;c=p.declaredId;f=t.isPopulatedString;f(d)&&(f(c.uuid)||(c.uuid=d),t.isEmptyObject(w)||(c=w.path,"string"==
typeof c&&c.length||(c="/"),f=parseInt(w.days,10),isNaN(f)&&(f=100),r.setCookie(w.name||"aam_did",d,1440*f,c,w.domain||"."+document.domain.replace(/^www\./,""),!0===w.secure)));u||p.abortRequests||A.requestToProcess(a,b)},makeRequestSrc:function(a,b){a.sids=t.removeEmptyArrayValues(a.sids||[]);a.pdata=t.removeEmptyArrayValues(a.pdata||[]);var d=p,c=d.platformParams,e=r.encodeAndBuildRequest(a.sids,","),h=r.encodeAndBuildRequest(a.pdata,","),q=(a.logdataArray||[]).join("&");delete a.logdataArray;var s=
y.IS_HTTPS?"https://":"http://",v=d.declaredId.getDeclaredIdQueryString(),m;m=[];var n,w,x,u;for(n in a)if(!(n in d.reservedKeys)&&a.hasOwnProperty(n))if(w=a[n],n=encodeURIComponent(n),w instanceof Array)for(x=0,u=w.length;x<u;x++)m.push(n+"="+encodeURIComponent(w[x]));else m.push(n+"="+encodeURIComponent(w));m=m.length?"&"+m.join("&"):"";return s+f+".demdex.net/event?d_nsid="+c.d_nsid+v+(e.length?"&d_sid="+e:"")+(h.length?"&d_px="+h:"")+(q.length?"&d_ld="+encodeURIComponent(q):"")+m+(d.useJSONP?
"&d_rtbd="+c.d_rtbd+"&d_jsonv="+c.d_jsonv+"&d_dst="+c.d_dst+"&d_cb="+(b||""):"")},fireRequest:function(a){if("img"==a.tag)this.fireImage(a);else if("script"==a.tag){var b=p.declaredId,b=b.declaredId.request||b.declaredId.init||{};this.fireScript(a,{dpid:b.dpid||"",dpuuid:b.dpuuid||""})}},fireImage:function(a){var b=p,f,e;b.abortRequests||(b.firing=!0,f=new Image(0,0),b.sent.push(a),f.onload=function(){b.firing=!1;b.fired.push(a);b.num_of_img_responses++;b.registerRequest()},e=function(f){c="imgAbortOrErrorHandler received the event of type "+
f.type;d.push(c);b.abortRequests=!0;b.firing=!1;b.errored.push(a);b.num_of_img_errors++;b.registerRequest()},f.addEventListener?(f.addEventListener("error",e,!1),f.addEventListener("abort",e,!1)):f.attachEvent&&(f.attachEvent("onerror",e),f.attachEvent("onabort",e)),f.src=a.src)},fireScript:function(a,b){var e=this,k=p,h,q,s=a.src,m=a.postCallbackFn,v="function"==typeof m,n=a.internalCallbackName;k.abortRequests||(k.firing=!0,window[n]=function(e){try{e!==Object(e)&&(e={});var l=a.callbackFn;k.firing=
!1;k.fired.push(a);k.num_of_jsonp_responses++;l(e,b);v&&m(e,b)}catch(h){h.message="DIL jsonp callback caught error with message "+h.message;c=h.message;d.push(c);h.filename=h.filename||"dil.js";h.partner=f;DIL.errorModule.handleError(h);try{l({error:h.name+"|"+h.message}),v&&m({error:h.name+"|"+h.message})}catch(s){}}finally{k.requestRemoval({script:q,callbackName:n}),k.registerRequest()}},J?(k.firing=!1,k.requestRemoval({script:"no script created",callbackName:n})):(q=document.createElement("script"),
q.addEventListener&&q.addEventListener("error",function(b){k.requestRemoval({script:q,callbackName:n});c="jsonp script tag error listener received the event of type "+b.type+" with src "+s;e.handleScriptError(c,a)},!1),q.type="text/javascript",q.src=s,h=DIL.variables.scriptNodeList[0],h.parentNode.insertBefore(q,h)),k.sent.push(a),k.declaredId.declaredId.request=null)},handleScriptError:function(a,b){var c=p;d.push(a);c.abortRequests=!0;c.firing=!1;c.errored.push(b);c.num_of_jsonp_errors++;c.registerRequest()}},
t={isValidPdata:function(a){return a instanceof Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeEmptyArrayValues:function(a){for(var b=0,c=a.length,d,f=[],b=0;b<c;b++)d=a[b],"undefined"!=typeof d&&null!=d&&f.push(d);return f},isPopulatedString:function(a){return"string"==typeof a&&a.length}},r={addListener:function(){if(document.addEventListener)return function(a,
b,d){a.addEventListener(b,function(a){"function"==typeof d&&d(a)},!1)};if(document.attachEvent)return function(a,b,d){a.attachEvent("on"+b,function(a){"function"==typeof d&&d(a)})}}(),convertObjectToKeyValuePairs:function(a,b,d){var c=[];b=b||"=";var f,e;for(f in a)e=a[f],"undefined"!=typeof e&&null!=e&&c.push(f+b+(d?encodeURIComponent(e):e));return c},encodeAndBuildRequest:function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)},map:function(a,b){if(Array.prototype.map)return a.map(b);
if(void 0===a||null===a)throw new TypeError;var d=Object(a),c=d.length>>>0;if("function"!==typeof b)throw new TypeError;for(var f=Array(c),e=0;e<c;e++)e in d&&(f[e]=b.call(b,d[e],e,d));return f},filter:function(a,b){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var d=Object(a),c=d.length>>>0;if("function"!==typeof b)throw new TypeError;for(var f=[],e=0;e<c;e++)if(e in d){var h=d[e];b.call(b,h,e,d)&&f.push(h)}return f}return a.filter(b)},getCookie:function(a){a+="=";var b=
document.cookie.split(";"),d,c,e;d=0;for(c=b.length;d<c;d++){for(e=b[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(a))return decodeURIComponent(e.substring(a.length,e.length))}return null},setCookie:function(a,b,d,c,e,f){var h=new Date;d&&(d*=6E4);document.cookie=a+"="+encodeURIComponent(b)+(d?";expires="+(new Date(h.getTime()+d)).toUTCString():"")+(c?";path="+c:"")+(e?";domain="+e:"")+(f?";secure":"")},extendArray:function(a,b){return a instanceof Array&&b instanceof Array?(Array.prototype.push.apply(a,
b),!0):!1},extendObject:function(a,b,d){var c;if(a===Object(a)&&b===Object(b)){for(c in b)!b.hasOwnProperty(c)||!t.isEmptyObject(d)&&c in d||(a[c]=b[c]);return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(y.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60}};"error"==f&&0==h&&r.addListener(window,"load",function(){DIL.windowLoaded=!0});var D=function(){N();u||p.abortRequests||A.attachIframe();p.readyToRemove=!0;p.requestRemoval()},N=function(){u||setTimeout(function(){K||
p.firstRequestHasFired||p.adms.admsProcessingStarted||p.adms.calledBack||("function"==typeof E?G.afterResult(E).submit():G.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)},M=document;"error"!=f&&(DIL.windowLoaded?D():"complete"!=M.readyState&&"loaded"!=M.readyState?r.addListener(window,"load",D):DIL.isAddedPostWindowLoadWasCalled?r.addListener(window,"load",D):(m="number"==typeof m?parseInt(m,10):0,0>m&&(m=0),setTimeout(D,m||DIL.constants.TIME_TO_CATCH_ALL_DP_IFRAME_ATTACHMENT)));p.declaredId.setDeclaredId(H,
"init");this.api=G;this.getStuffedVariable=function(a){var b=F.stuffed[a];b||"number"==typeof b||(b=r.getCookie(a))||"number"==typeof b||(b="");return b};this.validators=t;this.helpers=r;this.constants=y;this.log=d;L&&(this.pendingRequest=n,this.requestController=p,this.setDestinationPublishingUrl=e,this.destinationPublishing=A,this.requestProcs=z,this.variables=F)},function(){var a=document,b;null==a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",b=
function(){a.removeEventListener("DOMContentLoaded",b,!1);a.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(a){var b;if(a===Object(a))for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},DIL.extendStaticPropertiesAndMethods({version:"4.8",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50,TIME_TO_CATCH_ALL_DP_IFRAME_ATTACHMENT:500},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoadWasCalled:!1,
isAddedPostWindowLoad:function(a){this.isAddedPostWindowLoadWasCalled=!0;this.windowLoaded="function"==typeof a?!!a():"boolean"==typeof a?a:!0},create:function(a){try{return new DIL(a)}catch(b){return(new Image(0,0)).src="http://error.demdex.net/event?d_nsid=0&d_px=14137&d_ld=name%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},
registerDil:function(a,b,d){b=b+"$"+d;b in this.dils||(this.dils[b]=a)},getDil:function(a,b){var d;"string"!=typeof a&&(a="");b||(b=0);d=a+"$"+b;return d in this.dils?this.dils[d]:Error("The DIL instance with partner = "+a+" and containerNSID = "+b+" was not found")},dexGetQSVars:function(a,b,d){b=this.getDil(b,d);return b instanceof this?b.getStuffedVariable(a):""},xd:{postMessage:function(a,b,d){var c=1;b&&(window.postMessage?d.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&(d.location=
b.replace(/#.*$/,"")+"#"+ +new Date+c++ +"&"+a))}}}),DIL.errorModule=function(){var a=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),b={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},d=!1;return{activate:function(){d=!0},handleError:function(c){if(!d)return"DIL error module has not been activated";c!==Object(c)&&
(c={});var e=c.name?(new String(c.name)).toLowerCase():"",f=[];c={name:e,filename:c.filename?c.filename+"":"",partner:c.partner?c.partner+"":"no_partner",site:c.site?c.site+"":document.location.href,message:c.message?c.message+"":""};f.push(e in b?b[e]:b.noerrortypedefined);a.api.pixels(f).logs(c).useImageRequest().submit();return"DIL error report sent"},pixelMap:b}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(a,b,d){var c="";b=b||"Error caught in DIL module/submodule: ";a===Object(a)?
c=b+(a.message||"err has no message"):(c=b+"err is not a valid object",a={});a.message=c;d instanceof DIL&&(a.partner=d.api.getPartner());DIL.errorModule.handleError(a);return this.errorMessage=c}}});
DIL.tools.getSearchReferrer=function(a,b){var d=DIL.getDil("error"),c=DIL.tools.decomposeURI(a||document.referrer),e="",f="",h={queryParam:"q"};return(e=d.helpers.filter([b===Object(b)?b:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(a){return!(!a.hasOwnProperty("hostPattern")||!c.hostname.match(a.hostPattern))}).shift())?{valid:!0,name:c.hostname,keywords:(d.helpers.extendObject(h,e),f=h.queryPattern?
(e=(""+c.search).match(h.queryPattern))?e[1]:"":c.uriParams[h.queryParam],decodeURIComponent(f||"").replace(/\+|%20/g," "))}:{valid:!1,name:"",keywords:""}};
DIL.tools.decomposeURI=function(a){var b=DIL.getDil("error"),d=document.createElement("a");d.href=a||document.referrer;return{hash:d.hash,host:d.host.split(":").shift(),hostname:d.hostname,href:d.href,pathname:d.pathname.replace(/^\//,""),protocol:d.protocol,search:d.search,uriParams:function(a,d){b.helpers.map(d.split("&"),function(b){b=b.split("=");a[b.shift()]=b.shift()});return a}({},d.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var a={},b=document.getElementsByTagName("meta"),d,c,e,f,h;d=0;for(e=arguments.length;d<e;d++)if(f=arguments[d],null!==f)for(c=0;c<b.length;c++)if(h=b[c],h.name==f){a[f]=h.content;break}return a};
DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(a,b,d){try{var c=this,e={name:"DIL Site Catalyst Module Error"},f=function(a){e.message=a;DIL.errorModule.handleError(e);return a};this.dil=null;if(b instanceof DIL)this.dil=b;else return f("dilInstance is not a valid instance of DIL");e.partner=b.api.getPartner();if(a!==Object(a))return f("siteCatalystReportingSuite is not an object");window.AppMeasurement_Module_DIL=a.m_DIL=function(a){var b="function"===
typeof a.m_i?a.m_i("DIL"):this;if(b!==Object(b))return f("m is not an object");b.trackVars=c.constructTrackVars(d);b.d=0;b.s=a;b._t=function(){var a,b,d=","+this.trackVars+",",c=this.s,e,h=[];e=[];var m={},u=!1;if(c!==Object(c))return f("Error in m._t function: s is not an object");if(this.d){if("function"==typeof c.foreachVar)c.foreachVar(function(a,b){m[a]=b;u=!0},this.trackVars);else{if(!(c.va_t instanceof Array))return f("Error in m._t function: s.va_t is not an array");if(c.lightProfileID)(a=
c.lightTrackVars)&&(a=","+a+","+c.vl_mr+",");else if(c.pe||c.linkType)a=c.linkTrackVars,c.pe&&(b=c.pe.substring(0,1).toUpperCase()+c.pe.substring(1),c[b]&&(a=c[b].trackVars)),a&&(a=","+a+","+c.vl_l+","+c.vl_l2+",");if(a){b=0;for(h=a.split(",");b<h.length;b++)0<=d.indexOf(","+h[b]+",")&&e.push(h[b]);e.length&&(d=","+e.join(",")+",")}e=0;for(b=c.va_t.length;e<b;e++)a=c.va_t[e],0<=d.indexOf(","+a+",")&&null!=c[a]&&""!==c[a]&&(m[a]=c[a],u=!0)}u&&this.d.api.signals(m,"c_").submit()}}};a.loadModule("DIL");
a.DIL.d=b;return e.message?e.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(h){return this.handle(h,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(a){var b=[],d,c,e,f,h;if(a===Object(a)){d=a.names;if(d instanceof Array&&(e=d.length))for(c=0;c<e;c++)f=d[c],"string"==typeof f&&f.length&&b.push(f);a=a.iteratedNames;if(a instanceof Array&&(e=a.length))for(c=0;c<e;c++)if(d=a[c],d===Object(d)&&(f=d.name,h=parseInt(d.maxIndex,
10),"string"==typeof f&&f.length&&!isNaN(h)&&0<=h))for(d=0;d<=h;d++)b.push(f+d);if(b.length)return b.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:75}]})}};
DIL.modules.GA={dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,signals:{},hasSignals:!1,handle:DIL.modules.helpers.handleModuleError,init:function(a,b,d){try{this.tv=this.arr=this.dil=null;this.errorMessage="";this.signals={};this.hasSignals=!1;var c={name:"DIL GA Module Error"},e="";b instanceof DIL?(this.dil=b,c.partner=this.dil.api.getPartner()):(e="dilInstance is not a valid instance of DIL",
c.message=e,DIL.errorModule.handleError(c));a instanceof Array&&a.length?this.arr=a:(e="gaArray is not an array or is empty",c.message=e,DIL.errorModule.handleError(c));this.tv=this.constructTrackVars(d);this.errorMessage=e}catch(f){this.handle(f,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(a){var b=[],d,c,e,f;if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){e=this.defaultTrackVars;f={};d=0;for(c=e.length;d<c;d++)f[e[d]]=
!0;this.defaultTrackVarsObj=f}else f=this.defaultTrackVarsObj;if(a===Object(a)){a=a.names;if(a instanceof Array&&(c=a.length))for(d=0;d<c;d++)e=a[d],"string"==typeof e&&e.length&&e in f&&b.push(e);if(b.length)return b}return this.defaultTrackVars},constructGAObj:function(a){var b={};a=a instanceof Array?a:this.arr;var d,c,e,f;d=0;for(c=a.length;d<c;d++)e=a[d],e instanceof Array&&e.length&&(e=[],f=a[d],e instanceof Array&&f instanceof Array&&Array.prototype.push.apply(e,f),f=e.shift(),"string"==typeof f&&
f.length&&(b[f]instanceof Array||(b[f]=[]),b[f].push(e)));return b},addToSignals:function(a,b){if("string"!=typeof a||""===a||null==b||""===b)return!1;this.signals[a]instanceof Array||(this.signals[a]=[]);this.signals[a].push(b);return this.hasSignals=!0},constructSignals:function(){var a=this.constructGAObj(),b={_setAccount:function(a){this.addToSignals("c_accountId",a)},_setCustomVar:function(a,b,c,d){"string"==typeof b&&b.length&&this.addToSignals("c_"+b,c)},_addItem:function(a,b,c,d,e,f){this.addToSignals("c_itemOrderId",
a);this.addToSignals("c_itemSku",b);this.addToSignals("c_itemName",c);this.addToSignals("c_itemCategory",d);this.addToSignals("c_itemPrice",e);this.addToSignals("c_itemQuantity",f)},_addTrans:function(a,b,c,d,e,f,h,m){this.addToSignals("c_transOrderId",a);this.addToSignals("c_transAffiliation",b);this.addToSignals("c_transTotal",c);this.addToSignals("c_transTax",d);this.addToSignals("c_transShipping",e);this.addToSignals("c_transCity",f);this.addToSignals("c_transState",h);this.addToSignals("c_transCountry",
m)},_trackSocial:function(a,b,c,d){this.addToSignals("c_socialNetwork",a);this.addToSignals("c_socialAction",b);this.addToSignals("c_socialTarget",c);this.addToSignals("c_socialPagePath",d)}},d=this.tv,c,e,f,h,m,u;c=0;for(e=d.length;c<e;c++)if(f=d[c],a.hasOwnProperty(f)&&b.hasOwnProperty(f)&&(u=a[f],u instanceof Array))for(h=0,m=u.length;h<m;h++)b[f].apply(this,u[h])},submit:function(){try{if(""!==this.errorMessage)return this.errorMessage;this.constructSignals();return this.hasSignals?(this.dil.api.signals(this.signals).submit(),
"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)+this.dil.log):"No signals present"}catch(a){return this.handle(a,"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:DIL.modules.helpers.handleModuleError,callback:null,v:function(){return!1},init:function(a,b,d){try{this.callback=this.dil=null,this.errorMessage="",a instanceof DIL?(this.dil=a,this.v=this.dil.validators.isPopulatedString,
this.cookieName=this.v(b)?b:"aam_ga",this.delimiter=this.v(d)?d:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(c){this.handle(c,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(a){var b,d,c,e,f,h;h=!1;var m=1;if(a===Object(a)&&(b=a.stuff)&&b instanceof Array&&(d=b.length))for(a=0;a<d;a++)if((c=b[a])&&c===Object(c)&&(e=c.cn,f=c.cv,e==this.cookieName&&this.v(f))){h=!0;break}if(h){b=
f.split(this.delimiter);"undefined"==typeof window._gaq&&(window._gaq=[]);c=window._gaq;a=0;for(d=b.length;a<d&&!(h=b[a].split("="),f=h[0],h=h[1],this.v(f)&&this.v(h)&&c.push(["_setCustomVar",m++,f,h,1]),m>this.LIMIT);a++);this.errorMessage=1<m?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"==typeof this.callback)return this.callback()},submit:function(){try{var a=this;if(""!==this.errorMessage)return this.errorMessage;
this.dil.api.afterResult(function(b){a.process(b)}).submit();return"DIL.modules.GA.Stuffer.submit() successful"}catch(b){return this.handle(b,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}};
DIL.modules.Peer39={aid:"",dil:null,optionals:null,errorMessage:"",calledBack:!1,script:null,scriptsSent:[],returnedData:[],handle:DIL.modules.helpers.handleModuleError,init:function(a,b,d){try{this.dil=null;this.errorMessage="";this.calledBack=!1;this.optionals=d===Object(d)?d:{};d={name:"DIL Peer39 Module Error"};var c=[],e="";this.isSecurePageButNotEnabled(document.location.protocol)&&(e="Module has not been enabled for a secure page",c.push(e),d.message=e,DIL.errorModule.handleError(d));b instanceof
DIL?(this.dil=b,d.partner=this.dil.api.getPartner()):(e="dilInstance is not a valid instance of DIL",c.push(e),d.message=e,DIL.errorModule.handleError(d));"string"==typeof a&&a.length?this.aid=a:(e="aid is not a string or is empty",c.push(e),d.message=e,DIL.errorModule.handleError(d));this.errorMessage=c.join("\n")}catch(f){this.handle(f,"DIL.modules.Peer39.init() caught error with message ",this.dil)}finally{return this}},isSecurePageButNotEnabled:function(a){return"https:"==a&&!0!==this.optionals.enableHTTPS?
!0:!1},constructSignals:function(){var a=this,b=this.constructScript(),d=DIL.variables.scriptNodeList[0];window["afterFinished_"+this.aid]=function(){try{var b=a.processData(p39_KVP_Short("c_p","|").split("|"));b.hasSignals&&a.dil.api.signals(b.signals).submit()}catch(d){}finally{a.calledBack=!0,"function"==typeof a.optionals.afterResult&&a.optionals.afterResult()}};d.parentNode.insertBefore(b,d);this.scriptsSent.push(b);return"Request sent to Peer39"},processData:function(a){var b,d,c,e,f={},h=!1;
this.returnedData.push(a);if(a instanceof Array)for(b=0,d=a.length;b<d;b++)c=a[b].split("="),e=c[0],c=c[1],e&&isFinite(c)&&!isNaN(parseInt(c,10))&&(f[e]instanceof Array||(f[e]=[]),f[e].push(c),h=!0);return{hasSignals:h,signals:f}},constructScript:function(){var a=document.createElement("script"),b=this.optionals,d=b.scriptId,c=b.scriptSrc,b=b.scriptParams;a.id="string"==typeof d&&d.length?d:"peer39ScriptLoader";a.type="text/javascript";"string"==typeof c&&c.length?a.src=c:(a.src=(this.dil.constants.IS_HTTPS?
"https:":"http:")+"//stags.peer39.net/"+this.aid+"/trg_"+this.aid+".js","string"==typeof b&&b.length&&(a.src+="?"+b));return a},submit:function(){try{return""!==this.errorMessage?this.errorMessage:this.constructSignals()}catch(a){return this.handle(a,"DIL.modules.Peer39.submit() caught error with message ",this.dil)}}};
var fDil = DIL.create({
			partner: "ford",
			uuidCookie:{
				name:'aam_uuid',
				days:30
				}
			});
var _scDilObj = s_gi(s_account);
DIL.modules.siteCatalyst.init(_scDilObj, fDil, {
	names: ['pageName', 'channel', 'campaign', 'products', 'events', 'pe', 'referrer', 'server', 'purchaseID', 'zip', 'state'],
	iteratedNames: [{
		name: 'eVar',
		maxIndex: 75
		}, {
		name: 'prop',
		maxIndex: 75
		}, {
		name: 'pev',
		maxIndex: 3
		}, {
		name: 'hier',
		maxIndex: 4
		}, {
		name: "list",
		maxIndex: 3
		}]
	});
	
	
function objIsEmpty(obj) { 
    for(var prop in obj) { 
        if(obj.hasOwnProperty(prop) && prop !== "") 
                return false; 
    }; 
        return true; 
    };

var uriData = DIL.tools.decomposeURI(document.URL);
delete uriData.hash;
delete uriData.search;
delete uriData.href;
if(! objIsEmpty(uriData.uriParams)){ 
	fDil.api.signals(uriData.uriParams, 'c_');
};
if(objIsEmpty(uriData.pathname)){ 
	delete uriData.pathname;
};
delete uriData.uriParams;

fDil.api.signals(uriData, 'c_').submit();

var b = fDil.helpers.getCookie("s_vi");
if(b){
	b = b.split("|")[1].split("[")[0];
	fDil.api.aamIdSync({
		dpid: '1308',
		dpuuid: b,
		minutesToLive: 20160
	});
};

if(typeof fDil != 'undefined' && typeof s.eVar31 != 'undefined' && s.eVar31 /*&& s.eVar31 != <ADD NOT LOGGED IN VALUE HERE>*/)
{
	var cksId = s.eVar31;
	fDil.api.aamIdSync({
		dpid: '1307',
		dpuuid: cksId,
		minutesToLive: 20160
	});
};



(function(e){e.fn.touchwipe=function(f){var b={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};f&&e.extend(b,f);this.each(function(){function g(){this.removeEventListener("touchmove",h);c=null;d=false}function h(a){b.preventDefaultEvents&&a.preventDefault();if(d){var i=c-a.touches[0].pageX;a=j-a.touches[0].pageY;if(Math.abs(i)>=b.min_move_x){g();i>0?b.wipeLeft():b.wipeRight()}else if(Math.abs(a)>=b.min_move_y){g();
a>0?b.wipeDown():b.wipeUp()}}}function k(a){if(a.touches.length==1){c=a.touches[0].pageX;j=a.touches[0].pageY;d=true;this.addEventListener("touchmove",h,false)}}var c,j,d=false;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",k,false)});return this}})(jQuery);

ND=window.ND=window.ND||{};
(function(a){ND.accordionMod={init:function(){var c=a(".accordion-panel ul li").index(a("li.active"))+1,d=c+1,e=c-1;if(a(".accordion-active").size()){a("div.accordion-active > UL > LI > DIV.dropdown").hide();a("div.accordion-active > UL > LI.active > DIV.dropdown").show();a("div.accordion-active > UL > LI > DIV.tab-area a").click(function(b){b.stopPropagation()});a("div.accordion-active > UL > LI > DIV.tab-area").each(function(){a(this).next().hasClass("dropdown")||a(this).addClass("no-dropdown")});a("div.accordion-active > UL > LI > DIV.tab-area").click(function(){var b=
a(this);if(a(".accordion-panel.single-open")[0]){if(b.parent("li").hasClass("active"))return;b.parents(".accordion-panel").find(".dropdown").slideUp(200).parent("li").removeClass("active");setTimeout(function(){a("html, body").animate({scrollTop:b.offset().top},150);a(".panel").length&&a("div.accordion-active .panel .dropdown").show()},250)}if(b.next().hasClass("dropdown")){if(b.parent("li").hasClass("active")){b.next("div.dropdown").slideUp(200);b.parent("li").removeClass("active")}else{b.next("div.dropdown").slideDown(200);
b.parent("li").addClass("active")}if(a(".single-open")[0]){d=a(".accordion-panel > ul > li").index(a("li.active"))+2;e=a(".accordion-panel > ul > li").index(a("li.active"))}}else{var f=b.find("a").attr("href");location.href=f}});if(a(".accordion-panel.single-open")[0]){a(".accordion-next").on("click",function(b){b.preventDefault();a("div.single-open > ul > li:nth-child("+d+") > DIV.tab-area").trigger("click")});a(".accordion-prev").on("click",function(b){if(!a(this).hasClass("islink")){b.preventDefault();
a("div.single-open > ul > li:nth-child("+e+") > DIV.tab-area").trigger("click")}})}}}};a(function(){ND.accordionMod.init()})})(jQuery);

(function(){function x(a,b,c){var d=b&&c||0,e=0;b=b||[];for(a.toLowerCase().replace(/[0-9a-f]{2}/g,function(f){if(e<16)b[d+e++]=q[f]});e<16;)b[d+e++]=0;return b}function m(a,b){b=b||0;var c=n;return c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]}function y(a,b,c){c=b&&c||0;var d=b||[];a=a||{};var e=a.clockseq!=null?a.clockseq:r,f=a.msecs!=null?a.msecs:(new Date).getTime(),
h=a.nsecs!=null?a.nsecs:o+1,s=f-p+(h-o)/1E4;if(s<0&&a.clockseq==null)e=e+1&16383;if((s<0||f>p)&&a.nsecs==null)h=0;if(h>=1E4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=f;o=h;r=e;f+=122192928E5;h=((f&268435455)*1E4+h)%4294967296;d[c++]=h>>>24&255;d[c++]=h>>>16&255;d[c++]=h>>>8&255;d[c++]=h&255;f=f/4294967296*1E4&268435455;d[c++]=f>>>8&255;d[c++]=f&255;d[c++]=f>>>24&15|16;d[c++]=f>>>16&255;d[c++]=e>>>8|128;d[c++]=e&255;a=a.node||z;for(e=0;e<6;e++)d[c+e]=a[e];return b?b:m(d)}
function g(a,b,c){c=b&&c||0;if(typeof a=="string"){b=a=="binary"?new t(16):null;a=null}a=a||{};a=a.random||(a.rng||j)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b)for(var d=0;d<16;d++)b[c+d]=a[d];return b||m(a)}var l=this,j;if(typeof require=="function")try{var u=require("crypto").randomBytes;j=u&&function(){return u(16)}}catch(B){}if(!j&&l.crypto&&crypto.getRandomValues){var v=new Uint8Array(16);j=function(){crypto.getRandomValues(v);return v}}if(!j){var w=new Array(16);j=function(){for(var a=0,b;a<16;a++){if((a&
3)===0)b=Math.random()*4294967296;w[a]=b>>>((a&3)<<3)&255}return w}}for(var t=typeof Buffer=="function"?Buffer:Array,n=[],q={},k=0;k<256;k++){n[k]=(k+256).toString(16).substr(1);q[n[k]]=k}var i=j(),z=[i[0]|1,i[1],i[2],i[3],i[4],i[5]],r=(i[6]<<8|i[7])&16383,p=0,o=0;g.v1=y;g.v4=g;g.parse=x;g.unparse=m;g.BufferClass=t;if(typeof define==="function"&&define.amd)define(function(){return g});else if(typeof module!="undefined"&&module.exports)module.exports=g;else{var A=l.uuid;g.noConflict=function(){l.uuid=
A;return g};l.uuid=g}}).call(this);

(function(h,j,n,l){function p(a){if(typeof a==="string"||a instanceof String)a=a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"");return a}(function(a){for(var b=a.length,c=h("head");b--;)c.has("."+a[b]).length===0&&c.append('<meta class="'+a[b]+'" />')})(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]);h(function(){typeof FastClick!=="undefined"&&typeof n.body!=="undefined"&&FastClick.attach(n.body)});
var i=function(a,b){if(typeof a==="string"){if(b){var c;if(b.jquery){c=b[0];if(!c)return b}else c=b;return h(c.querySelectorAll(a))}return h(n.querySelectorAll(a))}return h(a,b)},q=function(a){var b=[];a||b.push("data");this.namespace.length>0&&b.push(this.namespace);b.push(this.name);return b.join("-")},r=function(a){a=a.split("-");for(var b=a.length,c=[];b--;)if(b!==0)c.push(a[b]);else this.namespace.length>0?c.push(this.namespace,a[b]):c.push(a[b]);return c.reverse().join("-")},s=function(a,b){var c=
this,e=!i(this).data(this.attr_name(true));if(typeof a==="string")return this[a].call(this,b);if(i(this.scope).is("["+this.attr_name()+"]")){i(this.scope).data(this.attr_name(true)+"-init",h.extend({},this.settings,b||a,this.data_options(i(this.scope))));e&&this.events(this.scope)}else i("["+this.attr_name()+"]",this.scope).each(function(){var f=!i(this).data(c.attr_name(true)+"-init");i(this).data(c.attr_name(true)+"-init",h.extend({},c.settings,b||a,c.data_options(i(this))));f&&c.events(this)})},
t=function(a,b){function c(){b(a[0])}function e(){this.one("load",c);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var f=this.attr("src"),d=f.match(/\?/)?"&":"?";d+="random="+(new Date).getTime();this.attr("src",f+d)}}if(a.attr("src"))a[0].complete||a[0].readyState===4?c():e.call(a);else c()};j.matchMedia=j.matchMedia||function(a){var b,c=a.documentElement,e=c.firstElementChild||c.firstChild,f=a.createElement("body"),d=a.createElement("div");d.id="mq-test-1";d.style.cssText="position:absolute;top:-100em";
f.style.background="none";f.appendChild(d);return function(k){d.innerHTML='&shy;<style media="'+k+'"> #mq-test-1 { width: 42px; }</style>';c.insertBefore(f,e);b=d.offsetWidth===42;c.removeChild(f);return{matches:b,media:k}}}(n);(function(){function a(){if(b){f(a);k&&jQuery.fx.tick()}}for(var b,c=0,e=["webkit","moz"],f=j.requestAnimationFrame,d=j.cancelAnimationFrame,k="undefined"!==typeof jQuery.fx;c<e.length&&!f;c++){f=j[e[c]+"RequestAnimationFrame"];d=d||j[e[c]+"CancelAnimationFrame"]||j[e[c]+"CancelRequestAnimationFrame"]}if(f){j.requestAnimationFrame=
f;j.cancelAnimationFrame=d;if(k){jQuery.fx.timer=function(g){if(g()&&jQuery.timers.push(g)&&!b){b=true;a()}};jQuery.fx.stop=function(){b=false}}}else{j.requestAnimationFrame=function(g){var m=(new Date).getTime(),o=Math.max(0,16-(m-c)),u=j.setTimeout(function(){g(m+o)},o);c=m+o;return u};j.cancelAnimationFrame=function(g){clearTimeout(g)}}})(jQuery);j.Foundation={name:"Foundation",version:"5.2.3",media_queries:{small:i(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,
""),medium:i(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:i(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:i(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:i(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:h("<style></style>").appendTo("head")[0].sheet,global:{namespace:l},init:function(a,b,c,e,
f){c=[a,c,e,f];e=[];this.rtl=/rtl/i.test(i("html").attr("dir"));this.scope=a||this.scope;this.set_namespace();if(b&&typeof b==="string"&&!/reflow/i.test(b))this.libs.hasOwnProperty(b)&&e.push(this.init_lib(b,c));else for(var d in this.libs)e.push(this.init_lib(d,b));return a},init_lib:function(a,b){if(this.libs.hasOwnProperty(a)){this.patch(this.libs[a]);if(b&&b.hasOwnProperty(a)){if(typeof this.libs[a].settings!=="undefined")h.extend(true,this.libs[a].settings,b[a]);else typeof this.libs[a].defaults!==
"undefined"&&h.extend(true,this.libs[a].defaults,b[a]);return this.libs[a].init.apply(this.libs[a],[this.scope,b[a]])}b=b instanceof Array?b:new Array(b);return this.libs[a].init.apply(this.libs[a],b)}return function(){}},patch:function(a){a.scope=this.scope;a.namespace=this.global.namespace;a.rtl=this.rtl;a.data_options=this.utils.data_options;a.attr_name=q;a.add_namespace=r;a.bindings=s;a.S=this.utils.S},inherit:function(a,b){b=b.split(" ");for(var c=b.length;c--;)if(this.utils.hasOwnProperty(b[c]))a[b[c]]=
this.utils[b[c]]},set_namespace:function(){var a=this.global.namespace===l?h(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=a===l||/false/i.test(a)?"":a},libs:{},utils:{S:i,throttle:function(a,b){var c=null;return function(){var e=this,f=arguments;if(c==null)c=setTimeout(function(){a.apply(e,f);c=null},b)}},debounce:function(a,b,c){var e,f;return function(){var d=this,k=arguments,g=c&&!e;clearTimeout(e);e=setTimeout(function(){e=null;c||(f=a.apply(d,
k))},b);if(g)f=a.apply(d,k);return f}},data_options:function(a,b){function c(g){return!isNaN(g-0)&&g!==null&&g!==""&&g!==false&&g!==true}function e(g){if(typeof g==="string")return h.trim(g);return g}b=b||"options";var f={},d,k;a=function(g){var m=Foundation.global.namespace;if(m.length>0)return g.data(m+"-"+b);return g.data(b)}(a);if(typeof a==="object")return a;k=(a||":").split(";");for(a=k.length;a--;){d=k[a].split(":");d=[d[0],d.slice(1).join(":")];if(/true/i.test(d[1]))d[1]=true;if(/false/i.test(d[1]))d[1]=
false;if(c(d[1]))d[1]=d[1].indexOf(".")===-1?parseInt(d[1],10):parseFloat(d[1]);if(d.length===2&&d[0].length>0)f[e(d[0])]=e(d[1])}return f},register_media:function(a,b){if(Foundation.media_queries[a]===l){h("head").append('<meta class="'+b+'">');Foundation.media_queries[a]=p(h("."+b).css("font-family"))}},add_custom_rule:function(a,b){if(b===l&&Foundation.stylesheet)Foundation.stylesheet.insertRule(a,Foundation.stylesheet.cssRules.length);else Foundation.media_queries[b]!==l&&Foundation.stylesheet.insertRule("@media "+
Foundation.media_queries[b]+"{ "+a+" }")},image_loaded:function(a,b){var c=this,e=a.length;e===0&&b(a);a.each(function(){t(c.S(this),function(){e-=1;e===0&&b(a)})})},random_str:function(){if(!this.fidx)this.fidx=0;this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-");return this.prefix+(this.fidx++).toString(36)}}};h.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(a));return this})}})(jQuery,
window,window.document);

(function(e,g){Foundation.libs.equalizer={name:"equalizer",version:"5.2.3",settings:{use_tallest:true,before_height_change:e.noop,after_height_change:e.noop,equalize_on_stack:false},init:function(a,c,b){Foundation.inherit(this,"image_loaded");this.bindings(c,b);this.reflow()},events:function(){this.S(g).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(a){var c=false,b=a.find("["+this.attr_name()+"-watch]:visible"),f=a.data(this.attr_name(true)+
"-init");if(b.length!==0){var h=b.first().offset().top;f.before_height_change();a.trigger("before-height-change");b.height("inherit");b.each(function(){if(e(this).offset().top!==h)c=true});if(f.equalize_on_stack===false)if(c)return;var d=b.map(function(){return e(this).outerHeight(false)}).get();if(f.use_tallest){d=Math.max.apply(null,d);b.css("height",d)}else{d=Math.min.apply(null,d);b.css("height",d)}f.after_height_change();a.trigger("after-height-change")}},reflow:function(){var a=this;this.S("["+
this.attr_name()+"]",this.scope).each(function(){var c=e(this);a.image_loaded(a.S("img",this),function(){a.equalize(c)})})}}})(jQuery,window,window.document);

(function(j){Foundation.libs.accordion={name:"accordion",version:"5.2.3",settings:{active_class:"active",multi_expand:false,toggleable:true,callback:function(){}},init:function(c,b,f){this.bindings(b,f)},events:function(){var c=this,b=this.S;b(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a",function(f){var d=b(this).closest("["+c.attr_name()+"]"),e=b("#"+this.href.split("#")[1]),g=b("dd > .content",d),h=j("dd",d),i=c.attr_name()+"="+d.attr(c.attr_name()),
a=d.data(c.attr_name(true)+"-init"),k=b("dd > .content."+a.active_class,d);f.preventDefault();if(d.attr(c.attr_name())){g=g.add("["+i+"] dd > .content");h=h.add("["+i+"] dd")}if(a.toggleable&&e.is(k)){e.parent("dd").toggleClass(a.active_class,false);return e.toggleClass(a.active_class,false)}if(!a.multi_expand){g.removeClass(a.active_class);h.removeClass(a.active_class)}e.addClass(a.active_class).parent().addClass(a.active_class);a.callback(e)})},off:function(){},reflow:function(){}}})(jQuery,window,
window.document);

(function(f,h,m,j){function i(a){var b=/fade/i.test(a);a=/pop/i.test(a);return{animate:b||a,pop:a,fade:b}}Foundation.libs.reveal={name:"reveal",version:"5.2.3",locked:false,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:true,close_on_esc:true,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:f(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},
close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(a,b,c){f.extend(true,this.settings,b,c);this.bindings(b,c)},events:function(){var a=this,b=a.S;b(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(c){c.preventDefault();if(!a.locked){c=b(this);var d=c.data(a.data_attr("reveal-ajax"));a.locked=true;if(typeof d==="undefined")a.open.call(a,c);else{d=d===true?c.attr("href"):d;a.open.call(a,c,{url:d})}}});b(m).on("touchend.fndtn.reveal click.fndtn.reveal",
this.close_targets(),function(c){c.preventDefault();if(!a.locked){var d=b("["+a.attr_name()+"].open").data(a.attr_name(true)+"-init"),e=b(c.target)[0]===b("."+d.bg_class)[0];if(e)if(d.close_on_background_click)c.stopPropagation();else return;a.locked=true;a.close.call(a,e?b("["+a.attr_name()+"].open"):b(this).closest("["+a.attr_name()+"]"))}});b("["+a.attr_name()+"]",this.scope).length>0?b(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",
this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):b(this.scope).on("open.fndtn.reveal","["+a.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+a.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+a.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+a.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+a.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal",
"["+a.attr_name()+"]",this.close_video);return true},key_up_on:function(){var a=this;a.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(b){var c=a.S("["+a.attr_name()+"].open"),d=c.data(a.attr_name(true)+"-init");d&&b.which===27&&d.close_on_esc&&!a.locked&&a.close.call(a,c)});return true},key_up_off:function(){this.S("body").off("keyup.fndtn.reveal");return true},open:function(a,b){var c=this,d;if(a)if(typeof a.selector!=="undefined")d=c.S("#"+a.data(c.data_attr("reveal-id"))).first();
else{d=c.S(this.scope);b=a}else d=c.S(this.scope);var e=d.data(c.attr_name(true)+"-init");e=e||this.settings;if(!d.hasClass("open")){var g=c.S("["+c.attr_name()+"].open");typeof d.data("css-top")==="undefined"&&d.data("css-top",parseInt(d.css("top"),10)).data("offset",this.cache_offset(d));this.key_up_on(d);d.trigger("open");g.length<1&&this.toggle_bg(d,true);if(typeof b==="string")b={url:b};if(typeof b==="undefined"||!b.url){g.length>0&&this.hide(g,e.css.close);this.show(d,e.css.open)}else{var k=
typeof b.success!=="undefined"?b.success:null;f.extend(b,{success:function(l,n,o){f.isFunction(k)&&k(l,n,o);d.html(l);c.S(d).foundation("section","reflow");c.S(d).children().foundation();g.length>0&&c.hide(g,e.css.close);c.show(d,e.css.open)}});f.ajax(b)}}},close:function(a){a=a&&a.length?a:this.S(this.scope);var b=this.S("["+this.attr_name()+"].open"),c=a.data(this.attr_name(true)+"-init")||this.settings;if(b.length>0){this.locked=true;this.key_up_off(a);a.trigger("close");this.toggle_bg(a,false);
this.hide(b,c.css.close,c)}},close_targets:function(){var a="."+this.settings.dismiss_modal_class;if(this.settings.close_on_background_click)return a+", ."+this.settings.bg_class;return a},toggle_bg:function(a,b){if(this.S("."+this.settings.bg_class).length===0)this.settings.bg=f("<div />",{"class":this.settings.bg_class}).appendTo("body").hide();a=this.settings.bg.filter(":visible").length>0;if(b!=a)(b==j?a:!b)?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(a,b){if(b){var c=
a.data(this.attr_name(true)+"-init");c=c||this.settings;if(a.parent("body").length===0){var d=a.wrap('<div style="display: none;" />').parent(),e=this.settings.rootElement||"body";a.on("closed.fndtn.reveal.wrapped",function(){a.detach().appendTo(d);a.unwrap().unbind("closed.fndtn.reveal.wrapped")});a.detach().appendTo(e)}e=i(c.animation);if(!e.animate)this.locked=false;if(e.pop){b.top=f(h).scrollTop()-a.data("offset")+"px";var g={top:f(h).scrollTop()+a.data("css-top")+"px",opacity:1};return setTimeout(function(){return a.css(b).animate(g,
c.animation_speed,"linear",function(){this.locked=false;a.trigger("opened")}.bind(this)).addClass("open")}.bind(this),c.animation_speed/2)}if(e.fade){b.top=f(h).scrollTop()+a.data("css-top")+"px";g={opacity:1};return setTimeout(function(){return a.css(b).animate(g,c.animation_speed,"linear",function(){this.locked=false;a.trigger("opened")}.bind(this)).addClass("open")}.bind(this),c.animation_speed/2)}return a.css(b).show().css({opacity:1}).addClass("open").trigger("opened")}c=this.settings;if(i(c.animation).fade)return a.fadeIn(c.animation_speed/
2);this.locked=false;return a.show()},hide:function(a,b){if(b){var c=a.data(this.attr_name(true)+"-init");c=c||this.settings;var d=i(c.animation);if(!d.animate)this.locked=false;if(d.pop){var e={top:-f(h).scrollTop()-a.data("offset")+"px",opacity:0};return setTimeout(function(){return a.animate(e,c.animation_speed,"linear",function(){this.locked=false;a.css(b).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),c.animation_speed/2)}if(d.fade){e={opacity:0};return setTimeout(function(){return a.animate(e,
c.animation_speed,"linear",function(){this.locked=false;a.css(b).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),c.animation_speed/2)}return a.hide().css(b).removeClass("open").trigger("closed")}c=this.settings;if(i(c.animation).fade)return a.fadeOut(c.animation_speed/2);return a.hide()},close_video:function(a){a=f(".flex-video",a.target);var b=f("iframe",a);if(b.length>0){b.attr("data-src",b[0].src);b.attr("src","about:blank");a.hide()}},open_video:function(a){a=f(".flex-video",a.target);
var b=a.find("iframe");if(b.length>0){if(typeof b.attr("data-src")==="string")b[0].src=b.attr("data-src");else{var c=b[0].src;b[0].src=j;b[0].src=c}a.show()}},data_attr:function(a){if(this.namespace.length>0)return this.namespace+"-"+a;return a},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10);a.hide();return b},off:function(){f(this.scope).off(".fndtn.reveal")},reflow:function(){}}})(jQuery,window,window.document);

(function(e,g){Foundation.libs.dropdown={name:"dropdown",version:"5.2.3",settings:{active_class:"open",align:"bottom",is_hover:false,opened:function(){},closed:function(){}},init:function(a,b,c){Foundation.inherit(this,"throttle");this.bindings(b,c)},events:function(){var a=this,b=a.S;b(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(c){if(!(b(this).data(a.attr_name(true)+"-init")||a.settings).is_hover||Modernizr.touch){c.preventDefault();a.toggle(e(this))}}).on("mouseenter.fndtn.dropdown",
"["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(c){var d=b(this),f;clearTimeout(a.timeout);if(d.data(a.data_attr())){f=b("#"+d.data(a.data_attr()));d=d}else{f=d;d=b("["+a.attr_name()+"='"+f.attr("id")+"']")}var h=d.data(a.attr_name(true)+"-init")||a.settings;b(c.target).data(a.data_attr())&&h.is_hover&&a.closeall.call(a);h.is_hover&&a.open.apply(a,[f,d])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var c=b(this);a.timeout=setTimeout(function(){if(c.data(a.data_attr())){var d=
c.data(a.data_attr(true)+"-init")||a.settings;d.is_hover&&a.close.call(a,b("#"+c.data(a.data_attr())))}else{d=b("["+a.attr_name()+'="'+b(this).attr("id")+'"]').data(a.attr_name(true)+"-init")||a.settings;d.is_hover&&a.close.call(a,c)}}.bind(this),150)}).on("click.fndtn.dropdown",function(c){var d=b(c.target).closest("["+a.attr_name()+"-content]");b(c.target).data(a.data_attr())||b(c.target).parent().data(a.data_attr())||(!b(c.target).data("revealId")&&d.length>0&&(b(c.target).is("["+a.attr_name()+
"-content]")||e.contains(d.first()[0],c.target))?c.stopPropagation():a.close.call(a,b("["+a.attr_name()+"-content]")))}).on("opened.fndtn.dropdown","["+a.attr_name()+"-content]",function(){a.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+a.attr_name()+"-content]",function(){a.settings.closed.call(this)});b(g).off(".dropdown").on("resize.fndtn.dropdown",a.throttle(function(){a.resize.call(a)},50));this.resize()},close:function(a){var b=this;a.each(function(){if(b.S(this).hasClass(b.settings.active_class)){b.S(this).css(Foundation.rtl?
"right":"left","-99999px").removeClass(b.settings.active_class).prev("["+b.attr_name()+"]").removeClass(b.settings.active_class).removeData("target");b.S(this).trigger("closed",[a])}})},closeall:function(){var a=this;e.each(a.S("["+this.attr_name()+"-content]"),function(){a.close.call(a,a.S(this))})},open:function(a,b){this.css(a.addClass(this.settings.active_class),b);a.prev("["+this.attr_name()+"]").addClass(this.settings.active_class);a.data("target",b.get(0)).trigger("opened",[a,b])},data_attr:function(){if(this.namespace.length>
0)return this.namespace+"-"+this.name;return this.name},toggle:function(a){var b=this.S("#"+a.data(this.data_attr()));if(b.length!==0){this.close.call(this,this.S("["+this.attr_name()+"-content]").not(b));if(b.hasClass(this.settings.active_class)){this.close.call(this,b);b.data("target")!==a.get(0)&&this.open.call(this,b,a)}else this.open.call(this,b,a)}},resize:function(){var a=this.S("["+this.attr_name()+"-content].open"),b=this.S("["+this.attr_name()+"='"+a.attr("id")+"']");a.length&&b.length&&
this.css(a,b)},css:function(a,b){this.clear_idx();if(this.small()){b=this.dirs.bottom.call(a,b);a.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:b.top});a.css(Foundation.rtl?"right":"left","2.5%")}else{var c=b.data(this.attr_name(true)+"-init")||this.settings;this.style(a,b,c)}return a},style:function(a,b,c){b=e.extend({position:"absolute"},this.dirs[c.align].call(a,b,c));a.attr("style","").css(b)},dirs:{_base:function(a){var b=
this.offsetParent().offset();a=a.offset();a.top-=b.top;a.left-=b.left;return a},top:function(a){var b=Foundation.libs.dropdown,c=b.dirs._base.call(this,a),d=a.outerWidth()/2-8;this.addClass("drop-top");if(a.outerWidth()<this.outerWidth()||b.small())b.adjust_pip(d,c);if(Foundation.rtl)return{left:c.left-this.outerWidth()+a.outerWidth(),top:c.top-this.outerHeight()};return{left:c.left,top:c.top-this.outerHeight()}},bottom:function(a){var b=Foundation.libs.dropdown,c=b.dirs._base.call(this,a),d=a.outerWidth()/
2-8;if(a.outerWidth()<this.outerWidth()||b.small())b.adjust_pip(d,c);if(b.rtl)return{left:c.left-this.outerWidth()+a.outerWidth(),top:c.top+a.outerHeight()};return{left:c.left,top:c.top+a.outerHeight()}},left:function(a){a=Foundation.libs.dropdown.dirs._base.call(this,a);this.addClass("drop-left");return{left:a.left-this.outerWidth(),top:a.top}},right:function(a){var b=Foundation.libs.dropdown.dirs._base.call(this,a);this.addClass("drop-right");return{left:b.left+a.outerWidth(),top:b.top}}},adjust_pip:function(a,
b){var c=Foundation.stylesheet;if(this.small())a+=b.left-8;this.rule_idx=c.cssRules.length;b="left: "+a+"px;";a="left: "+(a-1)+"px;";if(c.insertRule){c.insertRule([".f-dropdown.open:before {",b,"}"].join(" "),this.rule_idx);c.insertRule([".f-dropdown.open:after {",a,"}"].join(" "),this.rule_idx+1)}else{c.addRule(".f-dropdown.open:before",b,this.rule_idx);c.addRule(".f-dropdown.open:after",a,this.rule_idx+1)}},clear_idx:function(){var a=Foundation.stylesheet;if(this.rule_idx){a.deleteRule(this.rule_idx);
a.deleteRule(this.rule_idx);delete this.rule_idx}},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown");this.S("html, body").off(".fndtn.dropdown");this.S(g).off(".fndtn.dropdown");this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}})(jQuery,window,window.document);

(function(){for(var b=["assert","assert","cd","clear","count","countReset","debug","dir","dirxml","dirxml","dirxml","error","error","exception","group","group","groupCollapsed","groupCollapsed","groupEnd","info","info","log","log","markTimeline","profile","profileEnd","profileEnd","select","table","table","time","time","timeEnd","timeEnd","timeEnd","timeEnd","timeEnd","timeStamp","timeline","timelineEnd","trace","trace","trace","trace","trace","warn"],c=b.length,d=window.console=window.console||{},
a,e=function(){};c--;){a=b[c];d[a]||(d[a]=e)}})();

var guxApp=guxApp||{};
(function(c){guxApp.tools={encode:function(a){if(!a)return null;return encodeURIComponent(a)||null},decode:function(a){if(!a)return null;return decodeURIComponent(a)||null},restServicesData:function(){return c("#rest-services").length?c("#rest-services").embeddedData():null},commonConfigData:function(){return c("#common-config").length?c("#common-config").embeddedData():null},getEmbeddedData:function(a){return c(a).length?c(a).embeddedData():null},getObjectLength:function(a){var b=0;for(var d in a)a.hasOwnProperty(d)&&
b++;return b},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return false;return true},cleanData:function(a){var b=[];for(var d in a){var e=d.match(/\d/);b[e]||(b[e]={});b[e][d]=a[d]}return b},slugify:function(a){a=c.trim(a.replace(/([~!@#$%^&*()_-]+)(\s)?/g,""));return a.toLowerCase().replace(/\s/g,"-")},isIE:function(a,b){var d="IE",e=document.createElement("B"),f=document.documentElement;if(a){d+=" "+a;if(b)d=b+" "+d}e.innerHTML="<!--[if "+d+']><b id="iecctest"></b><![endif]--\>';f.appendChild(e);
a=!!document.getElementById("iecctest");f.removeChild(e);return a},detectIE:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(a.indexOf("Trident/")>0){b=a.indexOf("rv:");return parseInt(a.substring(b+3,a.indexOf(".",b)),10)}b=a.indexOf("Edge/");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);return false},loader:function(a){a.prev(".loading").remove();a.removeClass("module-loader")},imageLoader:function(a,
b){imagesLoaded(a).on("always",function(){guxApp.viewport.view!=="mobile"&&c(".flex-direction-nav",a).length>0&&c(".flex-direction-nav",a).show();typeof b==="function"&&b()}).promise().done(function(){guxApp.billboardCarousel.init()})},isBingMap:function(){if(typeof Microsoft!="undefined"&&typeof Microsoft.Maps!="undefined")return true;return false},isAutoNaviMap:function(){if(typeof AMap!="undefined"&&typeof AMap.Map!="undefined")return true;return false},isIOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},
getMonth:function(){return(new Date).getMonth()+1},getYear:function(){return(new Date).getFullYear()},numberCommas:function(a){a=a.toString().replace(/,/g,"");return a.replace(/\B(?=(\d{3})+(?!\d))/g,",")},removeCommas:function(a){a=a.replace(/,/g,"");return parseFloat(a,10)},equalHeight:function(){var a=0;c(arguments).each(function(){var b=c(this);if(b.outerHeight(true)>a)a=b.outerHeight(true)});return a},isMobile:function(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)},
isRTL:function(){return c("body").hasClass("rtl")}}})(jQuery);

var guxApp=guxApp||{};
(function(e){guxApp.cookie={get:function(a,c,b){if(!a)return null;var f=this;return(a=guxApp.tools.decode(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+guxApp.tools.encode(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null)&&c&&b?f.getCookieVal(a,c,b):a},set:function(a,c,b,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return false;var g=typeof e("#common-config")!="undefined"&&e("#common-config").length>0?e("#common-config").embeddedData():null,d=
"",h="";if(b)switch(b.constructor){case Number:d=b===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+b;break;case String:d="; expires="+b;break;case Date:d="; expires="+b.toUTCString();break}if(g!=null&&g.cookieDomain)h=g.cookieDomain;document.cookie=guxApp.tools.encode(a)+"="+guxApp.tools.encode(c)+d+(h?"; domain="+h:"")+"; path=/"+(f?"; secure":"");return true},del:function(a){if(!this.hasItem(a))return false;var c=typeof e("#common-config")!="undefined"&&e("#common-config").length>
0?e("#common-config").embeddedData():null,b="";if(c!=null&&c.cookieDomain)b=c.cookieDomain;document.cookie=guxApp.tools.encode(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain="+b:"")+"; path=/";return true},hasItem:function(a){if(!a)return false;return(new RegExp("(?:^|;\\s*)"+guxApp.tools.encode(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},isJsonStr:function(a){try{e.parseJSON(a)}catch(c){return false}return true},getCookieVal:function(a,c,b){var f={},g=c.length;
if(this.isJsonStr(a)){b=e.parseJSON(a);for(var d in b)for(a=0;a<g;a++)if(d==c[a])f[c[a]]=b[d]}else{b=a.split(b);var h=b.length;for(d=0;d<h;d++)for(a=0;a<g;a++)if(b[d].indexOf(c[a])!=-1)f[c[a]]=b[d].substring(c[a].length+1,b[d].length)}return f}}})(jQuery);

(function(a){var b={init:function(){a(document).foundation({reveal:{animation:"fade",animation_speed:400,close_on_esc:false,dismiss_modal_class:"close-reveal-modal",css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}}})}};a(function(){b.init()})})(jQuery);

(function(b){b.fn.embeddedData=function(c){var a=this.data("x-json");if(!a&&this.attr("type")==="text/x-json"){a=b.parseJSON(this.html());this.data("x-json",a)}return c?a[c]||null:a||{}}})(jQuery);

var guxApp=guxApp||{};
(function(t){guxApp.priceFormatter={initialise:function(a){var e={data:"true,0",formatString:"",prefix:"",suffix:"",centsSeparator:".",thousandsSeparator:"",limit:false,centsLimit:0,clearPrefix:false,clearSufix:false,allowNegative:false,forceDecimal:false};guxApp.priceFormatter.options=t.extend({},e,a);a=guxApp.priceFormatter.options.data.match(/\W+/g);a=guxApp.priceFormatter.options.data.split(a);guxApp.priceFormatter.options.thousandsSeparator=a[0]==="true"?guxApp.priceFormatter.options.thousandsSeparator:e.thousandsSeparator;
if(parseInt(a[1])>0){guxApp.priceFormatter.options.forceDecimal=true;guxApp.priceFormatter.options.centsLimit=parseInt(a[1])}},internalFormatter:function(a){function e(c){for(var b="",d=0;d<c.length;d++){char_=c.charAt(d);if(b.length==0&&char_==0)char_=false;if(char_&&char_.match(l))if(o){if(b.length<o)b+=char_}else b+=char_}return b}function i(c){for(;c.length<j+1;)c="0"+c;return c}function f(c){var b=i(e(c)),d="",p=0,m=b.substr(b.length-j,j),k=b.substr(0,b.length-j);b=k+q+m;if(n){for(b=k.length;b>
0;b--){char_=k.substr(b-1,1);p++;if(p%3==0)char_=n+char_;d=char_+d}if(d.substr(0,1)==n)d=d.substring(1,d.length);b=d+q+m}if(u&&c.indexOf("-")!=-1&&(k!=0||m!=0))b="-"+b;if(r)b=r+b;if(s)b+=s;return b}function h(){var c=g,b=f(c);if(c!=b)g=b}var g=a,l=/[0-9]/,r=guxApp.priceFormatter.options.prefix,s=guxApp.priceFormatter.options.suffix,q=guxApp.priceFormatter.options.centsSeparator,n=guxApp.priceFormatter.options.thousandsSeparator,o=guxApp.priceFormatter.options.limit,j=guxApp.priceFormatter.options.centsLimit,
u=guxApp.priceFormatter.options.allowNegative;h();return g},pad:function(a,e){for(a=a+"";a.length<e;)a="0"+a;return a},format:function(a){var e=a=a.toString();try{if(guxApp.priceFormatter.options===undefined)throw"Priceformatter not initialized";a=a.replace(".",guxApp.priceFormatter.options.centsSeparator);var i=0,f=guxApp.priceFormatter.options.centsLimit,h=a.indexOf(guxApp.priceFormatter.options.centsSeparator);if(f>0&&h===-1)a+=guxApp.priceFormatter.options.centsSeparator+guxApp.priceFormatter.pad("0",
f);else if(h>0&&(i=a.substring(h+1,a.length).length)<f)a+=guxApp.priceFormatter.pad("0",f-i);else if(i>f)a=a.substring(0,h+1+f);var g=guxApp.priceFormatter.internalFormatter(a);guxApp.priceFormatter.options.forceDecimal||(g=g.substring(0,g.indexOf(guxApp.priceFormatter.options.centsSeparator)));e=guxApp.priceFormatter.options.formatString.replace("%1",g)}catch(l){throw l;}return e}}})(jQuery);

var guxApp=guxApp||{};(function(b){guxApp.priceformatInit={init:function(){var a;if(b("#mpz-config").length){a=b("#mpz-config").embeddedData();guxApp.priceFormatter.initialise({data:a.priceFormat,formatString:a.currencySymbol,centsSeparator:a.monetaryDecimalSeparator,thousandsSeparator:a.groupingSeparator})}}};b(function(){guxApp.priceformatInit.init()})})(jQuery);

var guxApp=guxApp||{};
(function(d){var f={init:function(){var b=this;wrapper=".uniform";elementObj={select:"select",checkbox:"input[type=checkbox]","radio-round":"input[type=radio].round","radio-square":"input[type=radio].square"};for(var c in elementObj)b.bindTo(d(wrapper+" "+elementObj[c]),c);d.subscribe("uniform",function(e,a){b.bindTo(a.el,a.el_type)})},bindTo:function(b,c){var e=this,a={};switch(c){case "select":a.selectAutoWidth=false;a.selectClass="dropdown";break;case "radio-square":a.radioClass="radio square";
break}b.uniform(e.isEmptyObject(a)?null:a)},isEmptyObject:function(b){for(var c in b)return false;return true}};d(function(){f.init()})})(jQuery);

(function(b){var c={init:function(){if(!Modernizr.input.placeholder){b("[placeholder]").focus(function(){var a=b(this);if(a.val()==a.attr("placeholder-value")){a.val("");a.removeClass("placeholder")}}).blur(function(){var a=b(this);a.attr("placeholder-value")||a.attr("placeholder-value",a.attr("placeholder"));if(a.val()==""||a.val()==a.attr("placeholder-value")){a.addClass("placeholder");a.val(a.attr("placeholder-value"))}}).blur();b("[placeholder]").parents("form").submit(function(){b(this).find(".placeholder").each(function(){var a=
b(this);a.val()==a.attr("placeholder-value")&&a.val("")})})}}};b(function(){c.init()})})(jQuery);

var guxApp=guxApp||{};
(function(c){guxApp.innerPopup={init:function(b){var a=this;a.setting=c.extend({},{container:"#page-wrapper",ngView:".ng-scope",triggerBy:".citation",triggerEvent:"click",popup:".inner-popup",popupClose:".close-popup",hideOnLeave:true,sectionContainer:"section"},b);a.container=c(a.setting.container);a.ngView=c(a.setting.ndView);a.sectionContainer=c(a.setting.sectionContainer);a.triggerBy=c(a.setting.triggerBy,a.container);a.closBtn=c(a.setting.popupClose,a.container);a.appendPopupTmpl();if(a.popUp.length!=
0){a.open();a.close()}},appendPopupTmpl:function(){var b=this,a=c("#inner-popup"),f=c("#showroom-popup");b.container.find(b.setting.popup).length==0&&a.length>0&&b.container.append(_.template(a.html()));b.container.find(b.setting.popup).length==0&&f.length>0&&b.container.append(_.template(f.html()));b.popUp=c(b.setting.popup,b.container)},open:function(){var b=this;b.triggerBy.length!=0&&b.sectionContainer.on(b.setting.triggerEvent,b.setting.triggerBy,function(a){a.preventDefault();a=c(this).closest(b.setting.container).children(b.setting.popup);
b.fillContent(this,a);c.publish("popup-opened")})},close:function(){var b=this;c(document).on("click",b.setting.popupClose,function(a){a.preventDefault();a=c(this).closest(b.setting.popup);if(a.hasClass("clone")){a.siblings(".vehicle-container.clone").length==0&&c("body").removeClass("no-scroll has-scroll");a.remove()}else a.removeClass("active")})},hover:function(){var b=this;if(b.popUp.length!=0){b.popUp.on("mouseleave",function(){c(this).removeClass("active")});b.popUp.hover(function(){var a=c(".vehicle-container");
a.length>0&&a.addClass("no-hover")},function(){c(this).removeClass("active");var a=c(".vehicle-container");a.length>0&&a.removeClass("no-hover")});c(document).on("touchstart",function(){b.popUp.removeClass("active")});b.popUp.on("touchstart",function(a){a.stopPropagation()});b.closBtn.on("touchstart",function(){c(this).closest(b.setting.popup).removeClass("active")})}},fillContent:function(b,a){var f=this,d=c(b);b=d.attr("data-title");data="";targetDataList=c(".disclaimer .disclaimer-text li");curDataList=
d.find("sup, span");insertTo=d.closest(f.setting.sectionContainer);clonedInnerPopup=insertTo.children(f.setting.popup);if(!b||b.length==0)b=f.title;a.find(".header h5").text(b);if(d.hasClass("fill-by-text")){data=d.find(".text").html();a.find(".content").html(data);a.addClass("active")}else{if(targetDataList.length==0||curDataList.length==0)return;curDataList.each(function(){var e=c(this).attr("data-disclosure");targetDataList.each(function(){var g=c(this),h=g.attr("data-disclosure");if(e==h){data=
data+"<li>"+g.html()+"</li>";return false}})});data.length>0&&a.find(".content").html("<ul>"+data+"</ul>")}f.popUp.removeClass("active");clonedInnerPopup.remove();c("body").removeClass("no-scroll has-scroll");if(c(window).width()>751)setTimeout(function(){var e=d.offset(),g;if(d.parents(".reveal-modal").length){c(".reveal-modal").offset();g=e.top-d.parents(".reveal-modal").offset().top-10;e=d.closest(".right").length?c(".reveal-modal").outerWidth()/2+10:c(".reveal-modal").outerWidth()/2-(a.outerWidth()+
10)}else{g=e.top-1;if(d.hasClass("align-to-container")){var h=d.closest("div");e.left=h.offset().left+h.width()/2}e=e.left-a.outerWidth()/2}a.css({top:g,left:e});a.addClass("active")},500);else{c("body").addClass("no-scroll has-scroll");a.clone().addClass("clone hide-for-large-up").css({top:0,left:0}).appendTo(insertTo)}}}})(jQuery);$(function(){guxApp.innerPopup.init()});

var guxApp=guxApp||{};
(function(e){guxApp.locationAware={locationDetection:function(f){var g=guxApp.googleMapController,i=e(".search-panel .input-panel input[type=text]"),b={"dfy.u":{key:["pc"]},userInfo:{key:["country_code","latitude","longitude"],seperator:"#"}};if(guxApp.tools.isAutoNaviMap())g=guxApp.autonaviMapController;var j=setInterval(function(){if(g.mapAPI){clearInterval(j);var c={};for(var a in b){if(guxApp.cookie.get(a))c=guxApp.cookie.getCookieVal(guxApp.cookie.get(a),b[a].key,b[a].seperator);else if(typeof sessionStorage!=
"undefined"&&sessionStorage.getItem(a)!=null)c=guxApp.cookie.getCookieVal(sessionStorage.getItem(a),b[a].key,b[a].seperator);if(b[a].key.length==1)var d=c[b[a].key[0]];else{var h=e("#common-config").embeddedData().iso2country;if(a=="userInfo"&&c.country_code&&h&&c.country_code==h){d={lat:c.latitude,lng:c.longitude};i.addClass("isIpDetection")}}if(d)break}f&&f(d,true)}},1E3)}}})(jQuery);

var guxApp=guxApp||{};(function(a){guxApp.viewport={view:"",init:function(){guxApp.viewport.view=a(window).width()<768?"mobile":"tablet";this.resize()},resize:function(){a(window).on("resize",function(){guxApp.viewport.view=a(window).width()<768?"mobile":"tablet"})}};a(function(){guxApp.viewport.init()})})(jQuery);

var guxApp=guxApp||{};
(function(c){guxApp.billboardCarousel={init:function(a){if(c(".flexslider",a).length){a=c(".flexslider",a);var d=c("body").hasClass("rtl");a.each(function(e,g){var b=c(g);e={slideshow:b.hasClass("rotating")?guxApp.billboardCarousel.autoRotate(b):false,animation:b.hasClass("carousel-fader")?"fade":"slide",animationLoop:b.hasClass("noloop")?false:true,directionNav:b.hasClass("carousel-mobile-only")?false:true,sync:b.hasClass("carousel-main")?guxApp.billboardCarousel.getSyncedCarousel(b):"",itemWidth:guxApp.billboardCarousel.getSlideWidth(b),
itemMargin:guxApp.billboardCarousel.getSlideMargin(b),minItems:b.hasClass("carousel-limit")?guxApp.billboardCarousel.getGridSize(b):1,maxItems:b.hasClass("carousel-limit")?guxApp.billboardCarousel.getGridSize(b):0,controlsContainer:"",touch:b.hasClass("carousel-fader")||b.hasClass("no-touch")?false:true,allowOneSlide:true,move:b.hasClass("one-slide")?1:0,reverse:d,start:function(f){f.resize();c.publish("flex-complete");c(".smob-controls .prev-smob").click(function(){f.currentSlide==0?c(this).hide():
c(this).show()})},end:function(){guxApp.viewport.view=="mobile"&&b.hasClass("smob-hide")&&c(".smob-controls .next-smob").hide()}};if(b.parents(".controls-container").length>0)e.controlsContainer=b.parents(".controls-container");if(b.hasClass("rotating")){e.pauseOnHover=true;e.slideshowSpeed=5E3}b.flexslider(e);c(window).on("resize",function(){if(typeof b.data("flexslider")!="undefined"){if(b.hasClass("rotating")){var f=b.data("rotate-on");guxApp.viewport.view==f?guxApp.billboardCarousel.setOpts(b.data("flexslider"),
{slideshow:true}):guxApp.billboardCarousel.setOpts(b.data("flexslider"),{slideshow:false})}if(b.hasClass("carousel-limit")){f=guxApp.billboardCarousel.getGridSize(b);typeof f!="undefined"&&guxApp.billboardCarousel.setOpts(b.data("flexslider"),{minItems:f,maxItems:f})}}})});c(document).on("scroll",function(){});guxApp.billboardCarousel.flexSliderResize();d&&guxApp.billboardCarousel.rtlSupport()}},setOpts:function(a,d){for(var e in d)a.vars[e]=d[e];a.setup()},getGridSize:function(a){if(!(!a.data("item-limit")||
c(".slides li",a).length===1)){var d=a.data("item-limit"),e=c(window).width(),g=d.small,b=d.medium,f=d.large;d=d.xlarge;c(".flex-direction-nav",a).css("visibility","");c(".slides li",a).length<=d&&c(".flex-direction-nav",a).css("visibility","hidden");return e<480?g:e<768?b:e<991?f:d}},getSlideWidth:function(a){if(!a.data("slide-width"))return 0;return a.data("slide-width")},getSlideMargin:function(a){if(!a.data("slide-margin"))return 0;return a.data("slide-margin")},getSyncedCarousel:function(a){return a.parent().find(".carousel-fader")},
autoRotate:function(a){if(!a.data("rotate-on")||c(".slides li",a).length===1)return false;a=a.data("rotate-on");return guxApp.viewport.view==a?true:false},flexSliderResize:function(){c(".flexslider").length&&c(window).trigger("resize")},setToFirstSlide:function(){var a=c(".flexslider");a.length&&c(".flex-control-nav li",a).each(function(d,e){c(e).first().find("a").triggerHandler("click")})},rtlSupport:function(){c(".flexslider").each(function(){var a=c(this).find(".flex-control-nav"),d=a.children("li");
a.append(d.get().reverse())})}};c(function(){guxApp.billboardCarousel.init()})})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.revealer={init:function(){if(a(".revealer").length){var d=a(".revealer"),k=a(".revealer-open"),l=a(".revealer-close"),f=a(".revealer-one"),g=a(".revealer-two"),e=null,c=a("#page-wrapper").width(),h=d.width(),i=function(){return guxApp.viewport.view==="tablet"?600:400},m=function(b){c=a("#page-wrapper").width();b.parents(".revealer-one").add(b.parents(".revealer-one").next()).animate({left:-c},i()).parent().addClass("revealer-open")},n=function(b){b.parents(".revealer-two").add(b.parents(".revealer-two").prev()).animate({left:0},i()).parent().removeClass("revealer-open")},
j=function(){c=a("#page-wrapper").width();h=c*2;d.css("width",h);f.add(g).css("width",c)};a("body").hasClass("rtl")&&d.parent().css("direction","ltr");setTimeout(function(){j();d.parent().css("overflow","hidden");f.css("float","left");g.css({"float":"left",left:0})},250);a(window).on("resize",function(){j();d.each(function(){a(this).hasClass("revealer-open")&&a(this).children(".revealer-one").add(a(this).children(".revealer-two")).css("left",-c)})});k.on("click",function(b){b.preventDefault();e=a(this);
m(e)});l.on("click",function(b){b.preventDefault();e=a(this);n(e)})}}};a(function(){guxApp.revealer.init()})})(jQuery);

(function(b){var d={init:function(){if(b(".brand-gallery").length){var a=b(".brand-gallery");d.toggleElements(a)}},toggleElements:function(a){var e=b(".show-for-large-up",a).not(".hero");a=b(".expandbar",a);var c=b(".viewall",a),f=b(".viewless",a),g=b(".icon",a);a.click(function(){if(c.is(":visible")){c.hide();f.show();g.addClass("icon-minus");e.removeClass("show-for-large-up")}else{c.show();f.hide();g.removeClass("icon-minus");e.addClass("show-for-large-up")}})}};b(function(){d.init()})})(jQuery);

var guxApp=guxApp||{};(function(a){guxApp.revealerVertical={init:function(){if(a(".revealer-vertical").length){var d=null,b=a(".revealer-vertical .hide");a(".revealer-vertical .revealer-open").click(function(e){var c=a(this);if(c.is(".trackable")&&!e.originalEvent)return false;d=c.parents(".revealer-vertical");b=a(".hide",d);c.toggleClass("active");b.slideToggle("normal",function(){a(this)})});a(window).resize(function(){a(window).width()<768&&b.show()})}}};a(function(){guxApp.revealerVertical.init()})})(jQuery);

var guxApp=guxApp||{};
(function(b){guxApp.moduleLoader={init:function(){if(b(".module-loader").length){b(".module-loader").each(function(){var a=b(this);guxApp.moduleLoader.imageLoader(a,function(){guxApp.moduleLoader.loader(a)})});b.subscribe("flex-complete",function(){guxApp.billboardCarousel.flexSliderResize();guxApp.billboardCarousel.setToFirstSlide()})}},imageLoader:function(a,c){imagesLoaded(a).on("always",function(){guxApp.viewport.view!=="mobile"&&b(".flex-direction-nav",a).length>0&&b(".flex-direction-nav",a).show();
typeof c==="function"&&c()})},loader:function(a){a.children().unwrap()}};b(function(){guxApp.moduleLoader.init()})})(jQuery);

var guxApp=guxApp||{};
(function(b){guxApp.locale={init:function(){if(b("#locale-data").length){var a=this,c=b("#locale-data").embeddedData(),f=b("#common-config").embeddedData();guxApp.locale.url=c["locale-overlay"];guxApp.locale.domain=c.domain;guxApp.locale.fromLink=false;guxApp.locale.isGUX=b("#gux-footer").length;guxApp.locale.cookieDomain=f.cookieDomain;guxApp.locale.locale=f.locale;ND.rtl=b("body").hasClass("rtl");a.launchOverlayEvent();a.checkLocale();if(!guxApp.locale.isGUX){a.checkCookie();a.initMenu()}}},checkLocale:function(){var a=
this,c=window.location.href,f=[];if(b.cookie(a.COOKIEKEY)){f=b.cookie(a.COOKIEKEY).split("-");if(c.indexOf(f[1])<0){a.clearFPSinfo();a.setGTUID()}c.indexOf(f[2])==="1"?a.updateCookie(c,true):a.updateCookie(c,false)}else a.updateCookie(c,false)},launchOverlayEvent:function(){var a=this;b(".locale-select").on("click",function(c){c.preventDefault();b("body").addClass("modal-open");guxApp.locale.fromLink=true;a.commonLocaleOverlay();a.removeBodyClass();a.launchOverlay()})},removeBodyClass:function(){b(".close-reveal-modal",
".reveal-modal").on("click",function(a){a.preventDefault();b("body").removeClass("modal-open")})},launchOverlay:function(){var a=this;if(a.cache){b(".locale-modal .modal-body").html(a.cache);a.commonLocaleOverlay()}else b.get(a.url,function(c){b(".locale-modal .modal-body").html(c);a.cache=c;a.closeOverlayEvent();a.commonLocaleOverlay()})},commonLocaleOverlay:function(){var a=this;b.subscribe("foundation-reveal-modal-open",function(){b(".reveal-modal .uniform")&&b(".uniform select",".reveal-modal").uniform({selectClass:"dropdown",
selectAutoWidth:false});a.reinitInnerPopup()});guxApp.locale.fromLink&&a.checkCookie();a.bindOverlay()},localeArr:[],COUNTRY:1,CONFIRMED:2,COOKIEKEY:"dfy.fme.locale",checkCookie:function(){var a=this,c=b.cookie(a.COOKIEKEY);if(c)a.localeArr=c.split("-");if(a.localeArr[a.CONFIRMED]!="1")if(guxApp.locale.url&&!guxApp.locale.fromLink)guxApp.locale.isGUX?a.launchOverlay():window.setTimeout(function(){b.publish("overlay.launch",{url:guxApp.locale.url,success:function(){a.bindOverlay()}})},1E3)},bindOverlay:function(){var a=
this;b("#overlay .controls").length&&b("#overlay .controls").hide();b(".country-overlay select").on("change",function(){b(this).parents("form").attr({action:b(this).val()})}).trigger("change");b(".country-overlay form").submit(function(f){var e=b(this),d=b("select",e).val();e.attr("action")&&e.attr({action:d});d.indexOf(guxApp.locale.locale)<0&&a.clearFPSinfo();if(!a.updateCookie(d,true)){f.preventDefault();guxApp.locale.isGUX?a.closeOverlay():b.publish("overlay.hide");return false}});var c=a.localeArr[a.COUNTRY];
c&&b(".country-overlay select option").each(function(){var f=b(this),e=f.attr("value");e&&e.indexOf(c)>0&&f.attr({selected:"selected"})});guxApp.locale.isGUX&&b(".locale-modal select").uniform()},initMenu:function(){var a=b(".countrytab .current"),c=b(".country li a"),f=this;if(f.localeArr[f.CONFIRMED]=="1"){var e=f.localeArr.slice(0,2).join("/");c.each(function(){var d=b(this);d.attr("href").indexOf(e)>-1&&a.text(d.text())})}c.click(function(d){var g=b(this).attr("href");g.indexOf(guxApp.locale.locale)<
0&&f.clearFPSinfo();f.updateCookie(g,true)||d.preventDefault()})},updateCookie:function(a,c){var f=this;if(a){var e=location.host,d=a.indexOf(e);a=d>0?a.substr(d+e.length):a;a=a.charAt(0)=="/"?a.substr(1):a;a=a.split("/").slice(0,2);a[f.CONFIRMED]=c?"1":"0";b.cookie(f.COOKIEKEY,a.join("-"),{expires:365,path:"/"});if(location.href.indexOf("/"+a.slice(0,2).join("/"))>0)return 0}return 1},reinitInnerPopup:function(){guxApp.innerPopup.init({container:".reveal-modal"})},realignInnerPopup:function(){b(".reveal-modal a.citation").on("click",
function(){b(".reveal-modal > .inner-popup").removeClass("right-popup")});b(".reveal-modal .right a.citation").on("click",function(){b(".reveal-modal > .inner-popup").addClass("right-popup")})},closeOverlayEvent:function(){var a=this;b("#modalWrap.locale-modal").off("click").on("click",".icon-close",function(c){c.preventDefault();a.closeOverlay()});b(document).keydown(function(c){c.keyCode==27&&a.closeOverlay()})},closeOverlay:function(){b("#modalWrap").modal("hide").removeClass("polk-modal").find(".modal-body").html("");
guxApp.innerPopup.init()},clearFPSinfo:function(){b.cookie("dfy.uuid")&&b.removeCookie("dfy.uuid",{path:"/",domain:guxApp.locale.cookieDomain});if(b.cookie("gt_uid")){var a=[];a=guxApp.locale.cookieDomain.split(".");b.removeCookie("gt_uid",{path:"/",domain:"."+a[a.length-2]+"."+a[a.length-1]})}b.cookie("dfy.p")&&b.removeCookie("dfy.p",{path:"/",domain:guxApp.locale.cookieDomain});sessionStorage.getItem("dfy.p")!==null&&sessionStorage.removeItem("dfy.p")},setGTUID:function(){var a=function e(d){return d?
(d^Math.random()*16>>d/4).toString(16):([1E7]+-1000+-4000+-8000+-100000000000).replace(/[018]/g,e)};a=function(e){e=e+"=";for(var d=document.cookie.split(";"),g=0;g<d.length;g++){for(var h=d[g];h.charAt(0)==" ";)h=h.substring(1,h.length);if(h.indexOf(e)==0)return h.substring(e.length,h.length)}return null}("gt_uid")||a();var c=new Date,f=function(){for(var e=0,d=document.domain,g=d.split("."),h="_gd"+c.getTime();e<g.length-1&&document.cookie.indexOf(h+"="+h)==-1;){d=g.slice(-1-++e).join(".");document.cookie=
h+"="+h+";domain="+d+";"}document.cookie=h+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+d+";";return d}();(function(e,d,g,h,j,k){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return false;var i="";if(g)switch(g.constructor){case Number:i=g===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+g;break;case String:i="; expires="+g;break;case Date:i="; expires="+g.toUTCString();break}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(d)+i+(j?"; domain="+j:"")+
(h?"; path="+h:"")+(k?"; secure":"");return true})("gt_uid",a,new Date(c.getTime()+31536E6),"/",f)}};b(function(){guxApp.locale.init()})})(jQuery);

var guxApp=guxApp||{};
(function(j){guxApp.commonMapController={searchDealersByKeyword:function(a,b,c,d){var e=this,f=this.map,g=/^\d/.test(a),i=/[@#$%^*()_+]+/.test(a);j("dealer-locator,mini-dealer");if(g)e.searchDealersByLocation(a,b,null,null,c,d);else{if(i)a="@";e.searchDealersByProperties({},{DealerNameSearch:a.toLowerCase()},function(h){h.length?c(h):f.geocodeLocation(a,function(k){(k=k[0])&&_.contains(k.types,"country")?e.searchDealersByProperties({},{Country:k.description},function(l){l.length?c(l):setTimeout(function(){e.searchDealersByLocation(a,
b,null,null,c,d)},1E3)}):setTimeout(function(){e.searchDealersByLocation(a,b,null,null,c,d)},1E3)})})}},makeDealerURL:function(a){var b=a.DealerID,c=this.config.lad_url||location.href,d=_.contains(c,"?"),e=/(\?|\&)+(dealer)+\=/.test(c),f=j("#dealer-translations").embeddedData();if(f.usePathUrl&&f.usePathUrl=="true"){if(guxApp.tools.isAutoNaviMap()){b=guxApp.tools.slugify(a._name)+"-"+b;b=(a._address?guxApp.tools.slugify(a._address)+"/":"")+b;b=(a.Province?guxApp.tools.slugify(a.Province)+"/":"")+
b}else{b=guxApp.tools.slugify(a.DealerName)+"-"+b;b=(a.Locality?guxApp.tools.slugify(a.Locality)+"/":"")+b;b=(a.AdministrativeArea?guxApp.tools.slugify(a.AdministrativeArea)+"/":"")+b}if(d){a=c.split("?");return a[0]+"/"+b+"?"+a[1]}return c+"/"+b}else{if(guxApp.tools.isAutoNaviMap()){b=guxApp.tools.slugify(a._name)+"-"+b;b=(a._address?guxApp.tools.slugify(a._address)+"-":"")+b;b=(a.Province?guxApp.tools.slugify(a.Province)+"-":"")+b}else{b=guxApp.tools.slugify(a.DealerName)+"-"+b;b=(a.Locality?guxApp.tools.slugify(a.Locality)+
"-":"")+b;b=(a.AdministrativeArea?guxApp.tools.slugify(a.AdministrativeArea)+"-":"")+b}if(d&&e){c=c.split(/(\?|\&)+(dealer)+\=/)[0];d=_.contains(c,"?")}if(_da&&_da.module&&_da.module.template&&c.indexOf("intcmp")!=-1)if(c.indexOf("STATUS")!=-1)c=c.replace(/STATUS/,_da.module.template);return c+(d?"&":"?")+"dealer="+b}},makeDealerAddress:function(a,b){var c=this,d=(b||"a l L A C p").split(/\s/),e={a:_.reduce([a.AddressLine1,a.AddressLine2,a.AddressLine3],function(f,g){return f+(g?" "+g:"")}),l:a.SubLocality?
a.SubLocality:"",L:a.Locality?a.Locality:"",A:a.AdministrativeArea?a.AdministrativeArea:"",C:a.Country?a.Country:"",p:a.PostCode?a.PostCode:""};_.each(d,function(f,g){var i=f.replace(/\W/g,""),h=e[i];if(h){if(g<d.length-1)h+=",";if(c.config.display_country&&c.config.display_country=="N"&&i=="C")h="";f=f.replace(i.toString(),h);d.splice(g,1,f)}else d.splice(g,1," ")});return d.join(" ")},open_dept:function(a){var b=false;for(key in a){b=a[key];break}return b},capitalize:function(a){if(a)return a.charAt(0).toUpperCase()+
a.slice(1)},is_dealerOpen:function(a,b){var c=this,d=false,e=new Date;if(a.hours){var f=c.open_dept(a.hours);f=c.capitalize(f.key);if(parseInt(a[f+b+"Open"])||a[f+b+"Open"]==="Y"){a=c.strTotime(a[f+b+"CloseTime"],true);d=Date.parse(e)<=Date.parse(a)}}return d},filterData:function(a,b){var c=false;for(var d in a)if(b.test(d)&&a[d]!=""){c||(c={});c[d]=a[d]}return c},getDeptSchedule:function(a,b){var c=this,d={sales:{pattern:/^Sales+\w+(Time|Open|Comments)$/,keys:["HasSalesDepartmentPV","HasSalesDepartmentCV",
"Used","ApprovedUsed"]},service:{pattern:/^Service+\w+(Time|Open|Comments)$/,keys:["HasServiceDepartmentPV","HasServiceDepartmentCV"]},parts:{pattern:/^Parts+\w+(Time|Open|Comments)$/,keys:["HasPartsDepartment"]}},e=false,f=false;if(j("#mocked-api").length==1)a=j("#mocked-api").embeddedData();for(var g in d){f=false;j.each(d[g].keys,function(k,l){f=a[l]=="Y"||a[l]=="1"?true:f});if(f){var i=c.filterData(a,d[g].pattern);e||(e={});for(var h in i){e.hasOwnProperty(g)||(e[g]={name:c.config.translation[g],
key:g});e[g][h]=(h.indexOf("OpenTime")!=-1||h.indexOf("CloseTime")!=-1)&&(/^\d{4}$/.test(i[h])||/\d{2}\:\d{2}/.test(i[h]))?b.strTotime(i[h]):i[h]}}}return e},strTotime:function(a,b){if(a){a=a.replace(":","");var c=this,d=new Date,e=parseInt(a,10)/100;a=parseInt(a,10)%100;time=null;time=new Date(d.getFullYear(),d.getMonth(),d.getDate(),e,a,0,0);if(b)return time;e=time.getHours();a=time.getMinutes().toString();return(e>12?e-12:e==0?12:e)+":"+(a.length<=1?"0"+a:a)+(e>=12?c.config.translation.evening_suffix:
c.config.translation.morning_suffix)}},getCloseTime:function(a,b){var c=this,d=false;if(a.hours){d=c.open_dept(a.hours);d=c.strTotime(a[c.capitalize(d.key)+b+"CloseTime"])}return d},getNextOpenTime:function(a){var b=this,c=(new Date).getDay(),d="";if(a.hours){var e=b.open_dept(a.hours);e=b.capitalize(e.key);c=c+1;for(var f=0;f<7;f++){if(parseInt(a[e+a.day_str[c]+"Open"])||a[e+a.day_str[c]+"Open"]==="Y"){d=a.day_str_translated[c]+" "+b.strTotime(a[e+a.day_str[c]+"OpenTime"]);break}c=c>=6?0:c+1}}return d},
scheduleString:function(a,b,c){var d=this,e=new Date;e=parseInt(e.getHours().toString()+e.getMinutes().toString());var f={type:"",description:d.config.translation.closed_str};if(a.hours){var g=d.open_dept(b);b=d.capitalize(g.key);g=d.capitalize(g.name);var i=a[b+c+"CloseTime"]?parseInt(a[b+c+"CloseTime"],10):2459;if((parseInt(a[b+c+"Open"])||a[b+c+"Open"]==="Y")&&e<i)if(a.closeTime){f.type=g+" ";f.description=d.config.translation.open_until+a.closeTime}else f.description="";else if(a.nextOpenTime){f.type=
g+" ";f.description=d.config.translation.reopen_on+a.nextOpenTime}}return f}}})(jQuery);

var guxApp=guxApp||{};
(function(d){guxApp.googleMapController={init:function(){var a=this;a.mapAPI=new googleMapsApi({language:a.config.localisation,countryCode:a.config.country_code,countryCodes:a.config.country_code,imagePath:a.config.marker_image_path,countryBounds:a.config.country_bounds,autocompleteCallbackName:"googleAutocompleteCallbackName",dealerTableURL:a.config.dealer_table});if(d(".dealer-locator").length)a.mapContainer=d(".dealer-map-field")[0];else if(d(".mini-dealer").length)a.mapContainer=d("#map-container")[0];
!a.map&&a.mapContainer&&a.loadMap(a.mapContainer);d.publish("api-done")},loadMap:function(a){var b=this;a=new b.mapAPI.map(a,{center:{lat:b.config.currentLat,lng:b.config.currentLong},scrollwheel:false,mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.RIGHT_BOTTOM},panControl:true,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:true,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},
scaleControl:true,streetViewControl:false,supressInfoWindows:true,zoom:parseInt(b.config.zoom_level)});b.map=a;d(".map-default",d(".dealer-locator")).length&&d(".map-default",d(".dealer-locator")).remove();d.publish("map-api-done")},getCoordsFromAddressString:function(a,b){this.map.geocodeLocation(a,b)},getAddressStringFromCoord:function(a,b){this.map.reverseGeocode(a,b)},searchDealersByKeyword:function(a,b,c,g){guxApp.commonMapController.searchDealersByKeyword.call(this,a,b,c,g)},searchDealersByProperties:function(a,
b,c,g){var f=this,i=f.map;a=a||{};b=b||null;f.cleanMap();f.currentLocationCoords=null;if(f.config.langFilter)a.Language=f.config.langFilter;if(f.config.brandFilter)a.Brand=f.config.brandFilter;i.searchDealersByProperties(f.config.limit,function(j){c(j,g)},a,b)},searchDealersByLocation:function(a,b,c,g,f,i,j){var e=this,l=this.map;c=c||{};g=g||null;e.currentLocationCoords=null;var k=function(m){l.geocodeLocation(m,function(h){if(h=h[0]){if(_.contains(h.types,"country")&&h.description.toLowerCase()!=
m.toLowerCase()){f(false,e.config.error_message.location_not_found);return false}}else{f(false,i);return false}j&&b.val(h.description);e.currentLocationCoords={lat:h.lat,lng:h.lng};e.searchForDealers(h,e.config.radius,e.config.limit,c,g,f,e.config.error_message.nearest_dealer_not_found)})};typeof a=="object"?l.reverseGeocode(a,function(m){k(m.address)}):k(a)},searchForDealers:function(a,b,c,g,f,i,j){var e=this,l=e.map;g=g||{};f=f||null;e.reiterate=null;e.cleanMap();if(e.config.langFilter)g.Language=
e.config.langFilter;if(e.config.brandFilter)g.Brand=e.config.brandFilter;l.searchDealersByDistance(a,b,c,function(k){if(k.length)i(k);else if(b<=e.config.max_radius)e.reiterate=setTimeout(function(){e.searchForDealers(a,b+50,c,g,f,i,j)},1E3);else i(false,j)},g,f)},makeMapURL:function(a,b){return this.map.getDirectionsURL(a,b)},makeDealerURL:function(a){return guxApp.commonMapController.makeDealerURL.call(this,a)},makeDealerAddress:function(a,b){return guxApp.commonMapController.makeDealerAddress.call(this,
a,b)},displayMap:function(){google.maps.event.trigger(this.map.map,"resize")},cleanMap:function(){var a=this.map;a.deselectMarkers();a.clearMarkers(a.markers);a.clearRoutes();a.clearDealers()},open_dept:function(a){return guxApp.commonMapController.open_dept.call(this,a)},capitalize:function(a){return guxApp.commonMapController.capitalize.call(this,a)},is_dealerOpen:function(a,b){return guxApp.commonMapController.is_dealerOpen.call(this,a,b)},filterData:function(a,b){return guxApp.commonMapController.filterData.call(this,
a,b)},getDeptSchedule:function(a){return guxApp.commonMapController.getDeptSchedule.call(this,a,guxApp.googleMapController)},strTotime:function(a,b){return guxApp.commonMapController.strTotime.call(this,a,b)},getCloseTime:function(a,b){return guxApp.commonMapController.getCloseTime.call(this,a,b)},getNextOpenTime:function(a){return guxApp.commonMapController.getNextOpenTime.call(this,a)},scheduleString:function(a,b,c){return guxApp.commonMapController.scheduleString.call(this,a,b,c)}};d(function(){if(!(d(".dealer-locator").length==
0&&d(".mini-dealer").length==0||guxApp.tools.isAutoNaviMap())){var a=d("#locator-config").embeddedData(),b=d("#common-config").embeddedData(),c=guxApp.googleMapController;c.config=a;if(b.multiLanguage==true&&b.language)c.config.langFilter=b.language;c.config.brandFilter=b.brand?b.brand:"Ford";c.config.countryCodeFilter=b.iso2country;c.map_loaded=false;c.currentLocationCoords=null;c=document.createElement("script");c.type="text/javascript";c.src="https://maps.googleapis.com/maps/api/js?"+(!b.apiClient?
"client_id":b.apiClient)+"=gme-fordmotorcompany2&libraries=places&language="+a.localisation+"&callback=guxApp.googleMapController.init";document.body.appendChild(c);c.onerror=function(){var g=g||undefined;d(".error",d(".dealer-locator, .mini-dealer")).show().find(".text").text(a.error_message.map_not_loaded)};c.onreadystatechange=function(){if(this.readyState=="loaded")window.google||d(".error",d(".dealer-locator, .mini-dealer")).show().find(".text").text(a.error_message.map_not_loaded)}}})})(jQuery);

var guxApp=guxApp||{};
(function(c){guxApp.video={settings:{},defaults:{width:593,height:348,modes:[{type:"html5",config:{skin:"/themes/ftd/skin/glow/glow.xml"}},{type:"flash",src:"/themes/ftd/swf/player.swf",config:{skin:"/themes/ftd/skin/glow.zip"}}],track:"00000",play:false},init:function(){if(c("#video-inner").length){guxApp.video.dataSetup();guxApp.video.load("jwplayer-js","/themes/ftd/js/lib/jwplayer.js");$ready("jwplayer",guxApp.video.videoSetup)}},load:function(a,e){if(!document.getElementById(a)){var b,d=document.getElementsByTagName("script")[0];
b=document.createElement("script");b.id=a;b.src=e;d.parentNode.insertBefore(b,d)}},dataSetup:function(){if(c("#video-config").length>0)var a=c("#video-config").embeddedData();if(a!==undefined&&!guxApp.tools.isEmpty(a)){guxApp.video.settings=c.extend({},guxApp.video.defaults,a);if(a.skin)guxApp.video.settings.modes[0].config.skin="/themes/ftd/skin/"+guxApp.video.settings.skin+"/"+guxApp.video.settings.skin+".xml"}},videoSetup:function(){var a={image:guxApp.video.settings.image,modes:guxApp.video.settings.modes,
levels:[{type:"video/mp4",file:guxApp.video.settings.file}],width:guxApp.video.settings.width,autostart:guxApp.video.settings.play,plugins:{}};if(guxApp.video.settings.controlbar)a.controlbar="none";if(guxApp.video.settings.caption)a.plugins["captions-2"]={file:guxApp.video.settings.caption};jwplayer("video-inner").setup(a);jwplayer().onReady(function(){var e=c("#modalWrap .modal-body"),b=e.width(),d,g;guxApp.video.settings.hideControls&&jwplayer().getPlugin("controlbar").hide();console.log(guxApp.tools.isMobile());
guxApp.tools.isMobile()!="Android"&&jwplayer().getPlugin("controlbar").hide();if(guxApp.video.settings.ratio){var f=guxApp.video.settings.ratio.split(":");g=f[1]/f[0];d=b*g;jwplayer().resize(b,d)}c(window).resize(function(){b=e.width();d=b*g;jwplayer().resize(b,d)});c("#video-inner").on("click","#video-inner_jwplayer_controlbar_fullscreenButton",function(){c(".modal .icon-close").hide()});c("#video-inner").on("click","#video-inner_jwplayer_controlbar_normalscreenButton",function(){c(".modal .icon-close").show()});
jwplayer().play(guxApp.video.settings.play);c(".modal-body").removeClass("loading-video")});jwplayer().onPlay(function(){jwplayer().getPlugin("controlbar").show();jwplayer().resize(jwplayer().getWidth(),jwplayer().getHeight())});guxApp.video.settings.track!="00000"&&guxApp.video.track(guxApp.video.settings)},track:function(a){var e={"0":1,"0.2":1,"0.5":1,"0.7":1,"0.8":1},b=a.title||"",d=a.pname||"",g=a.hier||"";jwplayer().onTime(function(f){var h=Math.round(f.position/f.duration*10)/10,i,j,k;f="none";
if(e[h]){switch(h){case 0:if(a.track.charAt(0)=="1"){i="video start";j="event56"}break;case 0.2:a.track.charAt(1);break;case 0.5:a.track.charAt(2);break;case 0.7:a.track.charAt(3);break;case 0.8:if(a.track.charAt(4)=="1"){i="video finish";j="event57"}break}e[h]=0;if(i&&j)if(window._da&&window._da.om&&ND&&ND.omniture){h=a.clip_n||b;if(_da.nameplate&&_da.nameplate.year)k=_da.nameplate.year;if(_da.nameplate&&_da.nameplate.name)f=_da.nameplate.name;ND.omniture.trackLink({link:true,onclicks:i,events:j,
type:"o",content:h,title:i,nameplate:f,titleNameplate:"none",pname:d,hier1:g,year:k})}}});jwplayer().onComplete(function(){e={"0":1,"0.2":1,"0.5":1,"0.7":1,"0.8":1}})}}})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.dealerLocator={init:function(){var b=a(".dealer-locator");if(!(!b.length||a(".dealer-unaware",b).hasClass("search-panel"))){var e=a(".dealer-locator"),c=this;c.colorLengend=c.colorLengend||a();b=a("#locator-config").embeddedData();c.mapController=guxApp.googleMapController;if(guxApp.tools.isAutoNaviMap())c.mapController=guxApp.autonaviMapController;c.filters=[];c.container=e;c.mapContainer=a(".dealer-map-field",c.container);c.dealerResultHolder=a(".dealer-list",e);c.config=c.mapController.config;
c.is_mobile=guxApp.viewport.view=="mobile";c.is_autoDetection=false;c.is_selectLocation=false;c.hideDistanceByLocation=!!c.config.hideDistanceByLocation;c.errorContainer=a(".error",c.container);c.config.dealerId.length==0&&a(".dealer-map-landing").removeClass("hide");a(".btn-search",e).on("click",function(d){if(a(this).is(".trackable")&&!d.originalEvent)return false});a(".filter-toggler",e).on("click",function(d){d.preventDefault();d=a(this).closest(".dealer-filter-bar");var g=d.siblings(".result-list");
if(d.hasClass("active"))c._LastHasCls?d.siblings(".result-list.selected").show():d.siblings(".result-list.selected").siblings(".result-list").show();else{c._LastHasCls=d.siblings(".result-list:visible").hasClass("selected")?true:false;g.hide()}a(".dealer-filter-bar").hasClass("active")&&a(this).removeClass("trackable");d=a(".viewSaved",e);c.getSavedDealer()?d.show():d.hide();a(".view-details",e).on("click",c.togglePopInfo);a(".dealer-filter-bar").toggleClass("active")});a(".filter-accordion",e).find(".control").on("click",
c.toggleAccordion);a(".filter-distance",e).find("dt a").on("click",c.showOptions);a(".group-list",e).on("click",".close-info",c.closePopInfo);a(".filter-clear",e).on("click",function(){var d=a(".group-list",e);d.find("input:checked").removeAttr("checked");d.find('span[class="checked"]').removeClass("checked")});a(".input-panel input[type=text]",e).on("focus",function(){var d=this,g=a(d).attr("placeholder");a(d).val();if(a(d).attr("placeholder")){a(d).data("placeholder",g);a(d).removeAttr("placeholder")}});
a(".input-panel input[type=text]",e).on("blur",function(){var d=this;a(d).attr("placeholder");a(d).val()||a(d).attr("placeholder",a(d).data("placeholder"))});a(".dealer-filter-bar",e).on("submit",".filter-accordion",function(d){d.preventDefault();d=a(this).serialize();var g=c.dealers||[],f={};c.filters=[];c.is_autoDetection=false;c.closeTabs();if(d){d=d.split("&");a.each(d,function(h,i){h=i.split("=");c.filters.push(h[0]);f[h[0]]=true});g=_.where(c.dealers,f);if(!g.length){c.loadedDealers=[];c.mapController.cleanMap();
a(".dealer-result-container .count .num").text("");a(".dealer-result-container .count .msg").text("");a(".result-list ul").empty().append(a('<li class="error" />').text(c.config.error_message.filtered_dealer_not_found));a(".result-list").not(".selected").find(".dealer-view-more").hide();return}}c.loadedDealers=[];c.mapController.cleanMap();c.processResults(g,"",true);return false});a(".viewSaved",e).on("click",function(d){d.preventDefault();c.closeTabs();c.showSavedDealer()});a(".show-list",e).on("click",
function(){c.closeTabs()});a(".dealer-result-container",e).on("click",".view-all-dealers",function(d){d.preventDefault();d.stopPropagation();var g=a("#dealer-translations").embeddedData();if(window.history.pushState&&!c.is_mobile){d=location.href;_.contains(d,"?");if(/(\?|\&)+(dealer)+\=/.test(d))d=d.split(/(\?|\&)+(dealer)+\=/)[0];else if(g.usePathUrl&&g.usePathUrl=="true"){g=d.split("/");g=g[g.length-3];if(a(".dealer-result-container").hasClass("detailed"))d=d.split(g)[0]}window.history.pushState("",
"",d)}a(this).parents(".dealer-result-container").removeClass("detailed");a(this).parents(".dealer-result-container").find(".filter-toggler").addClass("trackable");a(".dealer-filter-bar").is(".active")&&a(".filter-toggler",c.container).triggerHandler("click");a(".result-list",e).show().siblings(".selected").hide()});a(".dealer-unaware .btn-current",e).on("click",function(d){d.preventDefault();d.stopPropagation();c.getDealersFromCurrentLocation();c.is_selectLocation=false});a(".search-panel",e).on("submit",
function(d){d.preventDefault();c.getDealersByKeyword(a(".input-panel input[type=text]").val(),false);return false});a(".input-panel input[type=text]",e).on("keyup",c.autoCompleteTrigger);c=this;if(sessionStorage.dealers){c.processResults(JSON.parse(sessionStorage.dealers),sessionStorage.error_message);sessionStorage.search_keyword&&a(".input-panel input[type=text]",c.container).val(sessionStorage.search_keyword).blur();sessionStorage.removeItem("dealers");sessionStorage.removeItem("search_keyword");
sessionStorage.removeItem("error_message")}else b.dealerId.length!=0?c.mapController.searchDealersByProperties({DealerID:b.dealerId},{},function(d){if(d.length){c.processResults(d,null,null,true);a(".result-list.selected").show().siblings(".result-list").hide();a(".dealer-result-container").addClass("detailed").find(".filter-toggler").removeClass("trackable");c.showDealerCard(a(".dealer-result-container li.dealer-result"),true);guxApp.tools.isAutoNaviMap()&&c.mapController.map.panTo(d[0].location)}}):
guxApp.locationAware.locationDetection(function(d,g){d&&c.mapController.searchDealersByLocation(d,a(".input-panel input[type=text]",e),{},{},function(f){if(!f)return false;c.is_autoDetection=g;c.processResults(f)},"",g)})}},showNotification:function(){var b=a(".save-dealer",guxApp.dealerLocator.container);b.stop().slideDown();setTimeout(function(){b.stop().slideUp()},5E3)},hideNotification:function(){a(".save-dealer",guxApp.dealerLocator.container).stop().slideUp()},toggleAccordion:function(b){b.preventDefault();
if(a(this).is(".trackable")&&!b.originalEvent)return false;b=a(this);b.parent().toggleClass("active").siblings().removeClass("active");a(":first-child",b).toggleClass("trackable")},showOptions:function(b){b.preventDefault();a(this).parents(".values").toggleClass("active").siblings().removeClass("active")},togglePopInfo:function(b){b.preventDefault();b=a(this);var e=b.siblings(".popover");if(!b.is(".active")){a(".popover").hide();a(".view-details").removeClass("active")}b.toggleClass("active");e.toggle()},
closePopInfo:function(b){b.preventDefault();guxApp.dealerLocator.togglePopInfo(b)},getDealerServices:function(b){var e=a("#services-config").embeddedData(),c=[];a.each(e,function(d,g){b[d]&&c.push(g)});c.sort(function(d,g){return parseInt(d.order)-parseInt(g.order)});return c.length?c:false},showSavedDealer:function(){var b=guxApp.dealerLocator,e=b.getSavedDealer();b.loadedDealers=[];b.mapController.cleanMap();_.contains(_.pluck(b.dealers,"DealerID"),e)?b.processResults(b.dealers,null,null,null,true):
b.mapController.searchDealersByProperties({DealerID:e},{},function(c){b.processResults(_.union(c,b.dealers),null,null,null,true)})},removeSavedDealer:function(){var b=guxApp.dealerLocator,e=b.getSavedDealer();b.loadedDealers=[];b.mapController.cleanMap();_.contains(_.pluck(b.dealers,"DealerID"),e)&&b.dealers.splice(_.indexOf(b.dealer,e),1);b.processResults(b.dealers,null,null,null,true)},is_loggedin:function(){return guxPersonalisation.psn.profile.authState==="OW"},getSavedDealer:function(){return this.is_loggedin()?
guxApp.cookie.get("dfy.dl")||JSON.parse(sessionStorage["dfy.p"]).dc:guxApp.cookie.get("dfy.dl")},is_savedDealer:function(b){return b.DealerID==this.getSavedDealer()},showDealerCard:function(b,e){var c=this,d=a(b).data();b=guxApp.dealerLocator.getDealerServices(d);var g=guxPersonalisation.psn,f=guxApp.cookie,h=false;e=e||false;a.extend(d,{services:b});window.history.pushState&&!c.is_mobile&&!e&&window.history.pushState(d,d.DealerName,d.dealershipURL);a(".result-list.selected .dealer-result").html(_.template(a("#dealer-detail").html(),
d)).data(d);c.is_selectLocation&&c.hideDistanceByLocation&&a(".distance",a(".result-list.selected .dealer-result")).hide();a.publish("uniform",{el:a(".select-dept",c.container),el_type:"select"});if(c.is_savedDealer(d)){a(".save-dealer-btn",a(".result-list.selected")).addClass("saved");h=true}a(".save-dealer-btn em",c.container).html(h?c.config.translation.saved:c.config.translation.save);guxApp.tools.isAutoNaviMap()&&a(".dealer-locator .dealer-result-container .result-list.selected .dealer-result .dealer-num").addClass(d.DealerAffiliation);
a(".dealer-accordion").find(".control").on("click",c.toggleAccordion);a(".save-dealer-btn").on("click",function(i){i.preventDefault();i=a(this).attr("data-name");var l=a(this).attr("data-type"),j=a(this).attr("data-freq"),k="dealer info:save",n=this,o=a(".view-all-dealers",c.container),m=function(){a(".input-panel",c.container).is(".active")||o.data("dealerEvent")();o.unbind("click",m)};o.on("click",m);personalisation_data=JSON.parse(sessionStorage["dfy.p"]);if(a(this).is(".saved")){a(this).removeClass("saved");
k="dealer info:unsave";a.publish("/analytics/event/",{type:"fav-dealer",code:""});personalisation_data.dc="";g.profile=personalisation_data;sessionStorage["dfy.p"]=JSON.stringify(personalisation_data);f.hasItem("dfy.dl")&&f.del("dfy.dl");a(".dealer-result.preferred").removeClass("preferred");a("em",n).html(c.config.translation.save);c.hideNotification();o.data("dealerEvent",c.removeSavedDealer);a.publish("/analytics/link/",{title:i,link:this,type:l,onclicks:k,freq:j});return false}c.showNotification();
a.publish("/analytics/event/",{type:"fav-dealer",code:d.DealerID});if(c.is_loggedin()){personalisation_data.dc=d.DealerID;g.profile=personalisation_data;sessionStorage["dfy.p"]=JSON.stringify(personalisation_data)}f.set("dfy.dl",d.DealerID,Infinity);a(n).addClass("saved");a("em",n).html(c.config.translation.saved);o.data("dealerEvent",c.showSavedDealer);a.publish("/analytics/link/",{title:i,link:this,type:l,onclicks:k,freq:j})});a(".save-dealer .view-details").on("click",function(i){i.preventDefault();
a(this).parent().find(".popover").toggle()});a(".select-dept",c.container).on("change",function(){var i=a(this).val();a(this).closest(".dropdown").siblings(".hours-wrap").children(".sched").each(function(){a(this).hasClass(i)?a(this).show():a(this).hide()})});a(".result-list.selected",c.container).show().siblings(".result-list").hide();a(".dealer-result-container",c.container).addClass("detailed");a(".filter-toggler",c.container).removeClass("trackable")},scrollToDealer:function(b,e,c,d){var g=this;
b=b-1;var f=a(".result-list").not(".selected"),h=a("li",f).eq(b);b=g.mapController.map;guxApp.tools.isAutoNaviMap()?b.panTo(e.marker.getPosition()):b.panTo(e.getPosition());if(!h.is(".active")){if(g.is_mobile){c&&a("html,body").animate({scrollTop:a(".dealer-locator .dealer-unaware").offset().top});d&&!a(".dealer-result-container .result-list:visible").hasClass("selected")&&a("html,body").animate({scrollTop:h.offset().top-parseInt(h.css("margin-top"))})}else a(".result-list").not(".selected").animate({scrollTop:h.position().top});
b.markers.length&&b.deselectMarkers();guxApp.tools.isAutoNaviMap()||e.select(3E3);g.is_mobile||e.showInfoWindow();guxApp.tools.isAutoNaviMap()||h.addClass("active").siblings().removeClass("active");window.setTimeout(function(){a(".alt-theme .info-window .dealer-name").off("click").on("click",function(i){i.preventDefault();g.showDealerCard(h)})},500)}},addDealerToList:function(b,e,c,d,g,f,h){function i(m){var p="";if(m)if(a(".color-lengend ."+m).length)p=a(".color-lengend ."+m).parent().text();return p}
b.hours=f.getDeptSchedule(b);a.extend(b,{address:f.makeDealerAddress(b,d.config.addressFormat),dealershipURL:f.makeDealerURL(b),index:c,is_preferred:d.is_savedDealer(b),is_mobile:d.is_mobile,is_open:f.is_dealerOpen(b,d.day),closeTime:f.getCloseTime(b,d.day),govtTaxIDName:d.config.govtTaxIdName,mapURL:f.makeMapURL(b.location,f.currentLocationCoords)});b.day_str=[];b.day_str_translated=[];for(var l in d.config.translation.day_str){b.day_str.push(l);b.day_str_translated.push(d.config.translation.day_str[l])}b.nextOpenTime=
f.getNextOpenTime(b);f=f.scheduleString(b,b.hours,d.day);b.schedule=f.description;b.scheduleType=f.type;b.vehicleOffer=d.getVehiOffer(b);b.phoneNumbers=b.PrimaryPhone&&b.PrimaryPhone.length?b.PrimaryPhone.split(/[;,]/g):[];b.DealerAffiliation=b.DealerAffiliation||"";b.entityText=i(b.DealerAffiliation);b.dealerNewVehicle=b.DealerNewVehicle&&b.DealerNewVehicle.length?b.DealerNewVehicle.replace(/\s/g,"").split(/[;,]/g):[];if(guxApp.tools.isAutoNaviMap()){if(b.dealershipURL!=""&&b.dealershipURL.indexOf("http://")!=
0)b.dealershipURL="http://"+b.dealershipURL}else if(b.PrimaryURL!=""&&b.PrimaryURL.indexOf("http://")!=0)b.PrimaryURL="http://"+b.PrimaryURL;var j=a(_.template(a("#dealer-results").html(),b));f={};if(d.config.markerImages&&d.config.markerImagesAttribute)f=d.config.markerImages[b[d.config.markerImagesAttribute]];var k=g.addGuxMarker(b.location,b.index,_.template(a("#infobox-template").html(),b).toString(),function(){return function(){d.scrollToDealer(c,k,false,true)}}(b),f);a(e).append(j);d.is_selectLocation&&
d.hideDistanceByLocation&&a(".distance",j).hide();j.data(b);a(".dealer-icon .dealer-num",j).on("click",function(){a(j).is(".active")||d.scrollToDealer(c,k,a(this).hasClass("dealer-num")?true:false)});a(".details, .dealer-heading a",j).on("click",function(m){m.preventDefault();d.scrollToDealer(c,k);d.showDealerCard(j)});if(h){var n="idle";if(guxApp.tools.isAutoNaviMap())n="moveend";var o=g.addListener(g.map,n,function(){d.scrollToDealer(c,k);g.removeListener(o)});a(".save-dealer-btn.saved em",j).text(d.config.translation.saved)}},
loadDealers:function(b){var e=this,c=e.mapController.map,d=a(".result-list").find("> ul"),g=e.loadedDealers||[],f=g.length,h=b.slice(f,f+5);g=_.union(g,h);e.loadedDealers=g;a.each(h,function(l,j){l=l+f+1;e.addDealerToList(j,d,l,e,c,e.mapController,l==1)});a(".dealer-result-container").show();if(guxApp.tools.isAutoNaviMap()){var i=[];a.each(g,function(l,j){i[l]=j._location});c.setBounds(i,1)}else c.setBounds(g,1);_.size(b)<5&&c.setZoom(10);b.length>g.length?a(".result-list").not(".selected").find(".dealer-view-more").show():
a(".result-list").not(".selected").find(".dealer-view-more").hide()},autoCompleteTrigger:function(b){var e=guxApp.dealerLocator,c=a(this).val(),d=c.length,g=a(".search-panel"),f=e.config.auto_suggest_limit,h=null,i=!b.charCode?b.which:b.charCode;String.fromCharCode(i).valueOf();if(b.altKey||b.ctrlKey||i==17||i==18)return false;if(h){clearTimeout(h);h=null}if(i==38||i==40){switch(i){case 38:var l=true;break;case 40:l=false;break}a(".dealer-disambiguation",e.container).is(":visible")&&e.selectSuggestion(this,
l)}else if(c&&(/[A-Z]{2,}/.test(c)||d>=e.config.autocomplete_char_count))h=setTimeout(function(){if(a(".input-panel",e.container).is(".active"))return false;guxApp.googleMapController.map.autocomplete(c,f,function(j){var k=j.locations;j=_.pluck(j.dealers,"DealerName");if(k.length||j.length)guxApp.dealerLocator.showSuggestions(_.union(j,k),g)})},300)},selectSuggestion:function(b,e){var c=a(".search-panel .dealer-disambiguation"),d=a("li.active",c),g=d.next().length?d.next():a("li",c).eq(0);c=d.prev().length?
d.prev():a("li",c).eq(a("li",c).length-1);d=g;if(e)d=c;d.addClass("active").siblings().removeClass("active");a(b).val(a("a",d).text())},showSuggestions:function(b,e){a(".search-panel .error").hide();a(".dealer-result-container").hide();if(b.length){a(".dealer-disambiguation",e).show();a(".dealer-disambiguation ul",e).html(_.template(a("#dealer-disambiguation").html(),{suggestions:b}));a(".dealer-disambiguation a",a(e)).on("click",function(c){c.preventDefault();a(".input-panel input[type=text]",e).val(a(this).text());
a(".dealer-disambiguation",e).hide();a(e).trigger("submit")})}else a(".dealer-disambiguation",e).hide()},getDealersByKeyword:function(b){var e=this,c=e.mapController.map,d=e.config.error_message.dealer_not_found;e.is_autoDetection=false;e.filters=[];a(".error",e.container).hide();if(b==""||!b)e.showError(e.config.error_message.blank_field);else{if(a(".input-panel",e.container).is(".active"))return false;a(".input-panel",e.container).addClass("active");clearTimeout(c.autocompleteTimeout);c.autocompleteTimeout=
null;e.mapController.searchDealersByKeyword(b,a(".input-panel input[type=text]",e.container),e.processResults,d);e.loadedDealers=[];a(".input-panel input[type=text]",e.container).blur();e.closeTabs()}},showError:function(b){this.closeTabs();a(".dealer-result-container").hide();this.errorContainer.addClass("active").show().find(".text").text(b)},getDealersFromCurrentLocation:function(){var b=this,e=a(".input-panel input[type=text]",b.container),c=null;b.is_autoDetection=false;b.filters=[];b.closeTabs();
b.mapController.cleanMap();a(".error",b.container).hide();if(a(".input-panel",b.container).is(".active"))return false;a(".input-panel",b.container).addClass("active");c=setTimeout(function(){b.showError(b.config.error_message.geolocation_error_timeout);a(".input-panel",b.container).removeClass("active")},1E4);if(navigator.geolocation)navigator.geolocation.getCurrentPosition(function(d){var g=d.coords.latitude;d=d.coords.longitude;b.loadedDealers=[];clearTimeout(c);c=null;b.mapController.getAddressStringFromCoord({lat:g,
lng:d},function(f){e.val(f);b.mapController.searchDealersByLocation(f,e,{},{},b.processResults,b.config.error_message.location_not_found)})},function(d){clearTimeout(c);c=null;switch(d.code){case d.PERMISSION_DENIED:b.showError(b.config.error_message.geolocation_error_denied);break;case d.POSITION_UNAVAILABLE:b.showError(b.config.error_message.geolocation_error);break;case d.TIMEOUT:b.showError(b.config.error_message.geolocation_error_timeout);break}a(".input-panel",b.container).removeClass("active")},
{timeout:7E3});else{clearTimeout(c);c=null;b.showError(b.config.error_message.geolocation_error_denied);a(".input-panel",b.container).removeClass("active")}},processResults:function(b,e,c,d,g){var f=guxApp.dealerLocator,h=a(".sub-options",f.searchContainer),i=a(".dealer-result-container .filter-header");d?i.hide():i.show();a(".input-panel",f.container).removeClass("active");if(!b||!b.length){f.hasResults=false;f.colorLengend.removeClass("active");f.is_autoDetection||f.showError(e);h.show();return false}if(h.length>
0){f.hasResults=true;h.hide();a(".wrap .title",f.container).removeClass("active");f.colorLengend.addClass("active");f.errorContainer.removeClass("active");f.resultsContainer.removeClass("detailed");f.selResContainer.hide()}a(".dealer-map-field").addClass("show");a(".dealer-map-landing").addClass("hide");f.mapController.displayMap();_.each(b,function(k){_.defaults(k,{distance:"",ABN:""})});a(".result-list.selected",f.container).is(":hidden")&&a(".result-list").not(".selected").show();a(".dealer-disambiguation").hide();
a(".search-panel .error").hide();a(".result-list > ul").empty();if(!c)f.dealers=_.sortBy(b,"distance");e=_.find(b,function(k){return f.is_savedDealer(k)});if(_.size(e)){new_dealers=_.reject(b,function(k){return f.is_savedDealer(k)});b=_.union(e,new_dealers)}e="";d=f.config.dealer_count_message.no_dealer;if(b.length==1){e=b.length;d=" "+f.config.dealer_count_message.single_dealer}else if(b.length>1){e=b.length;d=" "+f.config.dealer_count_message.multiple_dealer}a(".dealer-result-container .count .num").text(e);
a(".dealer-result-container .count .msg").text(d);f.loadDealers(b);(g=g||false)||a.publish("dealers-done");var l=a("#services-config").embeddedData();g=f.filters||[];if(!c){f.services={};a.each(b,function(k,n){_.each(l,function(o,m){if(parseInt(n[m])||n[m]==="Y"||n[m]===true)f.services[m]=o})})}if(guxApp.tools.isEmpty(f.services))a(".filter-header .filter-toggler").hide();else{c=[];for(var j in f.services){c.push(f.services[j]);c[c.length-1].key=j}c.sort(function(k,n){return parseInt(k.order)-parseInt(n.order)});
a(".filter-services .group-list").html(_.template(a("#services-template").html(),{services:c,filters:g}));a(".filter-header .filter-toggler").is(":hidden")&&a(".filter-header .filter-toggler").show()}a.publish("uniform",{el:a(".filter-services input:checkbox",f.container),el_type:"rounded-checkbox"});a(".dealer-view-more",a(".result-list",f.container).not(".selected")).unbind().on("click",".button",function(k){a(".dealer-result");k.preventDefault();f.loadDealers(b)});a(".input-panel",f.container).removeClass("active")},
displayRouteToDealerTrigger:function(b){b.preventDefault();b=guxApp.dealerLocator;var e=b.mapController.map,c=a(this).parents(".dealer-result").data();e.displayRouteToDealer({lat:b.mapController.currentLat,lng:b.mapController.currentLong},c)},closeTabs:function(){var b=this;a(".view-all-dealers",b.container).trigger("click");a(".dealer-filter-bar").is(".active")&&a(".filter-toggler",b.container).triggerHandler("click");a(".dealer-disambiguation",b.container).hide();a(".error",b.container).removeClass("active")}};
a(function(){if(a(".dealer-locator").length){guxApp.dealerLocator.loading=true;var b=new Date;guxApp.dealerLocator.date=b;guxApp.dealerLocator.day=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][b.getDay()];a.subscribe("api-done",function(){guxApp.dealerLocator.init()})}});a(document).on("pageinit",function(){if(a(".dealer-locator").length){a(".dealer-locator .ui-link").removeClass("ui-link");if(!guxApp.dealerLocator.loading){a(".dealer-map-field").is(":hidden")&&a(".dealer-map-field").show();
a.subscribe("api-done",function(){guxApp.dealerLocator.init()})}}});a(document).on("pageshow",function(){guxApp.dealerLocator.loading=false})})(jQuery);

(function(b){guxApp.dealerLocator.resultsFiltering=function(a,f){var c=this;f=f||c.config.error_message.nearest_dealer_not_found;var e=b("input[type='text']",".name-search"),d=e.attr("placeholder-value"),i=e.val(),g=b("select",".vehicle-search").val(),l=[],j=[];if(d&&d==i)i="";if(i&&i.length>0){b.each(a,function(){if(guxApp.tools.isAutoNaviMap())this._name.indexOf(i)!=-1&&l.push(this);else this.DealerName.indexOf(i)!=-1&&l.push(this)});a=l}if(g&&g.length>0){b.each(a,function(){if(guxApp.tools.isAutoNaviMap())this.DealerNewVehicle.toString().indexOf(g)!=
-1&&j.push(this);else this.DealerRangeNew.indexOf(g)!=-1&&j.push(this)});a=j}c.processResults(a,f)};guxApp.dealerLocator.getOptData=function(){var a=this,f=b("#cityDropdownData"),c=[],e=b("select[name='province']",a.searchContainer),d=b("select[name='city']",a.searchContainer);d.prop("disabled","disabled").closest(".dropdown").addClass("disabled");if(f.length>0&&f.embeddedData().list&&f.embeddedData().list.length)c=f.embeddedData().list[0].states;c.length>0&&b.each(c,function(i,g){b("<option value='"+
g[1].name+"'>"+g[1].name+"</option>").appendTo(e)});e.on("change",function(){var i=b(this).val(),g=false;d.val("");d.uniform.update();b.each(c,function(l,j){if(i==j[1].name){d.children("option:gt(0)").remove();b.each(j[1].cities,function(k,h){b("<option value='"+h[1].name+"'>"+h[1].name+"</option>").appendTo(d)});g=true}if(g)return false});e.val()==""?d.prop("disabled","disabled").closest(".dropdown").addClass("disabled"):d.prop("disabled",false).closest(".dropdown").removeClass("disabled")})};guxApp.dealerLocator.getOptDataQL=
function(){var a=this,f=b("#countryCityDropdownData"),c=[],e=b("select[name='country']",a.searchContainer),d=b("select[name='statecity']",a.searchContainer);d.prop("disabled","disabled").closest(".dropdown").addClass("disabled");if(f.length>0&&f.embeddedData().list&&f.embeddedData().list.length)c=f.embeddedData().list[0].countries;c.length>0&&b.each(c,function(i,g){b("<option value='"+g[1].name+"'>"+g[1].name+"</option>").appendTo(e)});e.on("change",function(){var i=b(this).val(),g=false;d.val("");
d.uniform.update();b.each(c,function(l,j){if(i==j[1].name){d.children("option:gt(0)").remove();if(j[1].cities.length>0)b.each(j[1].cities,function(k,h){b("<option value=city>"+h[1].name+"</option>").appendTo(d)});else j[1].states.length>0&&b.each(j[1].states,function(k,h){b("<option value=state>"+h[1].name+"</option>").appendTo(d)});g=true}if(g)return false});e.val()==""?d.prop("disabled","disabled").closest(".dropdown").addClass("disabled"):d.prop("disabled",false).closest(".dropdown").removeClass("disabled")})};
guxApp.dealerLocator.getVehiOffer=function(a){var f=this,c={};a.PerOwnedVehicle="type1,type2";if(a.DealerRangeNew&&a.DealerRangeNew.length>0)c.newCars={name:f.config.newCars,value:a.DealerRangeNew.split(",")};if(a.PerOwnedVehicle&&a.PerOwnedVehicle.length>0)c.preOwnedCars={name:f.config.preOwnedCars,value:a.PerOwnedVehicle.split(",")};return c};b(function(){var a=guxApp.dealerLocator;a.mapWrapper=b(".dealer-locator.alt-theme");if(a.mapWrapper.length!=0){a=guxApp.dealerLocator;a.hasResults=false;a.mapController=
guxApp.googleMapController;a.searchContainer=b(".dealer-unaware",a.mapWrapper);a.resultsContainer=b(".dealer-result-container",a.mapWrapper);a.errorContainer=b(".error",".location-search",a.searchContainer);a.selResContainer=b(".selected",a.resultsContainer);a.colorLengend=b(".color-lengend",a.mapWrapper);!b(".store-locator-form").length||!b("#countryCityDropdownData").length?a.getOptData():a.getOptDataQL();b(".title",a.searchContainer).on("click",function(){var c=b(this),e=c.siblings(".sub-options");
if(a.hasResults)e.is(":visible")?a.resultsContainer.show():a.resultsContainer.hide();e.slideToggle(function(){e.is(":visible")?c.addClass("active"):c.removeClass("active")})});b(".sub-options label",a.searchContainer).on("click",function(c){if(c.target.tagName==="INPUT"){c=b(this);var e=c.siblings(".nested-options");e.is(":hidden")?c.addClass("active"):c.removeClass("active");e.slideToggle(function(){e.length>0&&e.is(":hidden")&&e.find("select,input[type='text']").val("").uniform.update()})}});b(".actions-bar .button",
a.searchContainer).on("click",function(c){var e=b("select",".location-search").serializeArray(),d=b("select[name='province']",a.searchContainer),i=b("select[name='city']",a.searchContainer),g="",l=b("select[name='country']",a.searchContainer),j=b("select[name='statecity']",a.searchContainer);a.filters=[];a.closeTabs();c.preventDefault();if(!b(".store-locator-form").length||!b("#countryCityDropdownData").length)if(d.val()==""||i.val()=="")d.closest(".location-search").find(".error").addClass("active").find(".text").text(a.config.error_message.isMandatory);
else{b.each(e,function(k,h){if(h.value!="")g+=h.value});a.loadedDealers=[];guxApp.tools.isAutoNaviMap()?a.mapController.searchDealersByLocation(g,false,{AdministrativeArea:d.val()||"",Locality:i.val()||""},{},function(k,h){a.is_selectLocation=true;a.resultsFiltering(k,h)}):a.mapController.searchDealersByProperties({AdministrativeArea:d.val(),Locality:i.val()},{},function(k,h){a.is_selectLocation=true;a.resultsFiltering(k,h)})}else if(l.val()==""||j.val()=="")d.closest(".location-search").find(".error").addClass("active").find(".text").text(a.config.error_message.isMandatory);
else{a.loadedDealers=[];if(j.val()=="city")a.mapController.searchDealersByProperties({Country:l.val(),Locality:b("select[name='statecity'] option:selected").text()},{},function(k,h){a.is_selectLocation=true;a.resultsFiltering(k,h)});else j.val()=="state"&&a.mapController.searchDealersByProperties({Country:l.val(),AdministrativeArea:b("select[name='statecity'] option:selected").text()},{},function(k,h){a.is_selectLocation=true;a.resultsFiltering(k,h)})}});if(sessionStorage.search_province){b("select[name=province]",
a.searchContainer).val(sessionStorage.search_province).blur();b("select[name=province]",a.searchContainer).change();b("select[name=province]",a.searchContainer).uniform.update();sessionStorage.removeItem("search_province")}if(sessionStorage.search_city){b("select[name=city]",a.searchContainer).val(sessionStorage.search_city).blur();b("select[name=city]",a.searchContainer).uniform.update();sessionStorage.removeItem("search_city")}if(sessionStorage.search_vehicle){b("select[name=vehicle]",a.searchContainer).val(sessionStorage.search_vehicle).blur();
b("select[name=vehicle]",a.searchContainer).uniform.update();sessionStorage.removeItem("search_vehicle")}if(sessionStorage.search_location){b("input[name=location]",a.searchContainer).val(sessionStorage.search_location).blur();sessionStorage.removeItem("search_location")}b.urlParam=function(c){c=(new RegExp("[?&]"+c+"=([^&#]*)")).exec(window.location.href);return c==null?null:c[1]||0};var f=b.urlParam("specialities")?decodeURI(b.urlParam("specialities")):"";if(guxApp.tools.isAutoNaviMap()){b(".vehicle-search label",
a.searchContainer).addClass("active").siblings(".nested-options").slideToggle();b("#vehicle-search").attr("checked","true");b("#uniform-vehicle-search").children("span").addClass("checked");b(".name-search label",a.searchContainer).addClass("active").siblings(".nested-options").slideToggle();b("#name-search").attr("checked","true");b("#uniform-name-search").children("span").addClass("checked");f.length!=0&&b(".vehicle-search label",a.searchContainer).siblings(".nested-options").length>0&&b(".vehicle-search label").siblings(".nested-options").find("select").find("option[value='"+
f+"']").attr("selected","true").click()}}})})(jQuery);

var guxApp=guxApp||{};(function(a){guxApp.interpolate={init:function(){_.templateSettings={interpolate:/\<\@\=(.+?)\@\>/gim,evaluate:/\<\@([\s\S]+?)\@\>/gim,escape:/\<\@\-(.+?)\@\>/gim}}};a(function(){guxApp.interpolate.init()})})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.scrollup={init:function(){a("#page-wrapper").append('<div class="back-top"><a><span></span></a></div>');a(".back-top").click(function(){a("html, body").animate({scrollTop:0},300);return false});var b=a(window).scrollTop(),d=false;a(window).scroll(function(){var c=a(window).scrollTop();if(c>b)guxApp.scrollup.scrolledUp=false;else if(c<b)guxApp.scrollup.scrolledUp=true;else if(c===b)guxApp.scrollup.scrolledUp=null;guxApp.scrollup.userScrolled();b=c;d&&clearTimeout(d);d=setTimeout(guxApp.scrollup.afterScroll,
2500)})},afterScroll:function(){a(window).scrollTop()>=480&&guxApp.scrollup.hideButton()},userScrolled:function(){var b=a(window).scrollTop();if(b>=480&&guxApp.scrollup.scrolledUp)guxApp.scrollup.showButton();else if(b<=480||guxApp.scrollup.scrolledUp===false)guxApp.scrollup.hideButton()},showButton:function(){Modernizr.csstransitions?a(".back-top a").addClass("btn-visible"):a(".back-top a").clearQueue().animate({right:0,opacity:1},200)},hideButton:function(){Modernizr.csstransitions?a(".back-top a").removeClass("btn-visible"):
a(".back-top a").clearQueue().animate({right:-60,opacity:0},200)}};a(function(){guxApp.scrollup.init()})})(jQuery);

(function(a){var m={init:function(){var b=this;b.container=a(".showroom-container");if(b.container.length!==0){b.vehicleCard=a(".vehicle-list .vehicle-container",b.container);if(a(".body.derivative-price")[0]){a(".sort-dropdown",b.container).find("[data-cat='price']").hide();a.subscribe("userchangesuccess.calculateprice.dfy",function(){a(".sort-dropdown",b.container).find("[data-cat='price']").show()})}a(".sort-dropdown",b.container).on("click",function(e){e.preventDefault();a(this).toggleClass("active")});
a(".section-cars",b.container).children("div:last-child").addClass("end");b.floatHeader();b.container.hasClass("mini-showroom")||b.enlargeVehicleCard();b.VehicleSorting()}},floatHeader:function(){var b=a(".sort-area",this.container),e=b.children(".sort-dropdown");if(b.length!==0){var d=function(){var f=a(window).scrollTop(),j=b.offset().top;f>j?e.addClass("fixedPos"):e.removeClass("fixedPos")};d();a(window).scroll(function(){d()})}},enlargeVehicleCard:function(){var b=this,e=b.container.children(".row");
if(b.vehicleCard.length!==0){a(".vehicle > a",b.vehicleCard).on("click",function(d){var f=e.siblings(".vehicle-container");if(a(window).width()<751&&f.length===0){d.preventDefault();d=a(this).closest(".vehicle-container");a("body").addClass("no-scroll has-scroll");d.clone().addClass("clone").insertAfter(e).fadeIn(function(){a(this).addClass("hide-for-large-up")})}});b.container.on("click",".close-vehicle",function(d){d.preventDefault();a(this).closest(".vehicle-container").fadeOut(function(){a("body").removeClass("no-scroll has-scroll");
a(this).remove()})})}},VehicleSorting:function(){var b=this;if(b.vehicleCard.length!==0){var e=b.vehicleCard.children(".vehicle-data"),d=a(".section-cars header",b.container),f=a(".section-cars",b.container);e.each(function(c){a(this).attr("data-index",c);a(this).attr("data-sort-index",c+1)});f.attr("data-sort-total",f.children(".vehicle-container:visible").length);var j=function(c){f.children(".vehicle-container").removeClass("inactive");if(c=="data-bodytype")d.each(function(){var h=a(this),i=[];
e.each(function(){a(this).attr(c)==h.attr(c)&&i.push(this)});i.sort(function(k,l){return parseInt(a(l).attr("data-index"))-parseInt(a(k).attr("data-index"))});a(i).each(function(){a(this).closest(".vehicle-container").insertAfter(h)})});else{var g=[];e.each(function(){a(this).attr(c)?g.push(this):a(this).closest(".vehicle-container").addClass("inactive")});g.sort(function(h,i){return parseFloat(a(h).attr(c))-parseFloat(a(i).attr(c))});a(g).each(function(){a(this).closest(".vehicle-container").appendTo(a(this).closest(".section-cars"))})}};
a(".sort-dropdown li",b.container).on("click",function(){var c=a(this).attr("data-cat"),g="data-bodytype";a(".sort-dropdown li",b.container).removeClass("active");a(this).addClass("active");switch(c){case "body":d.removeClass("inactive");break;case "price":g="data-price";d.addClass("inactive");break;case "fuel":g="data-fuel";d.addClass("inactive");break}j(g);b.vehicleCard.removeClass("end");f.children("div:last-child").addClass("end");c=f.children(".vehicle-container:visible");c.each(function(h){a(this).children(".vehicle-data").attr("data-sort-index",
h+1)});c.parent(".section-cars").attr("data-sort-total",c.length)})}}};a(function(){m.init()});a(document).on("pageinit",function(){a(".showroom-container .ui-link").removeClass("ui-link")})})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.imageReveal={init:function(){if(a(".imageReveal").length){var c=a(window).width();imagesLoaded(".imageReveal").on("done",function(){var b=a("#page-wrapper").width();a(".imageReveal img").height();a(".imageReveal img").hide();a(".imageReveal").each(function(){var d=a(this);d.imageReveal({width:b,height:a("img",d).height()})})});a(window).on("resize",function(){if(a(window).width()!==c){a.removeData(a(".imageReveal"));a(".imageReveal").off("mousemove click touchmove mouseout");a(".imageReveal-overlay, .imageReveal-background, .imageReveal-drag-bar, .imageReveal-drag").remove();
a(".imageReveal, .imageReveal img").css({width:"",height:""});sliderWidth=a("#page-wrapper").width();sliderHeight=a(".imageReveal img").height();a(".imageReveal").each(function(){var b=a(this);b.imageReveal({width:sliderWidth,height:a("img",b).height()})})}c=a(window).width()})}}};a(function(){guxApp.imageReveal.init()})})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.textExpand={init:function(){var b=guxApp.tools.getEmbeddedData("#textexpand-config");if(!(b==null||a(".model-walk").length)){this.wrapText(b);guxApp.textExpand.resizeToggle()}},wrapText:function(b){if(b.auto){var g=a("p").filter(':not(:has(".hiddenContent"))').not(".noReadMore"),c=parseInt(b.textLength),i=function(f,e){var d=-1;return d=e.indexOf(f,d+1)};g.each(function(f,e){var d=a(e),j=[],l=-1,m={},h=0;e="";var n=a(this);a(this).children(".citation").each(function(){if(n.text().indexOf(a(this).text())==c)c=
parseInt(c-1)});if(d.text().length>b.textLength)if(d.children().length>0){d.children().each(function(){l=i(String(a(this).prop("outerHTML")),String(d.html()));m[l]=a(this).prop("outerHTML");a(this).remove();j.push(l);h=l});j.push(c);j.sort(function(o,p){return o-p});for(f=h=0;f<j.length;f++){var k=j[f];if(k==c){e+=d.html().substring(h,k);e+="<span class='hiddenContent'>"}else{e+=d.html().substring(h,k);e+=m[k]+" "}h=k}e+=d.html().substring(h);e+="</span>";d.html(e)}else d.html(function(){return a(this).text().substring(0,
c)+"<span class='hiddenContent'>"+a(this).text().substring(c)+"</span>"})})}a(".hiddenContent").each(function(){var f=a("<a href='#' class='control'></a>");a(this);window.innerWidth<780&&guxApp.textExpand.contentToggle(a(this),b,f)})},resizeToggle:function(){if(!guxApp.tools.isIE(8)){var b=_.debounce(function(){if(window.innerWidth<780)guxApp.textExpand.init();else{a(".control").remove();a(".hiddenContent").show()}},200);a(window).on("resize",b)}},contentToggle:function(b,g,c){guxApp.textExpand.controlsInit(b,
g,c);b.parent().unbind("click").on("click","a.control",function(){var i=a(this);i.parent();b.is(":visible")?i.html(g.more):i.html(g.less);b.toggle();return false})},controlsInit:function(b,g,c){if(b.next(".control").length==0){b.hide();c.html(g.more);b.parent().append(c)}}};a(function(){guxApp.textExpand.init()})})(jQuery);

(function(b){secondaryNav={init:function(){if(b(".secondarynav").length){var a=b(".secondarynav"),c=b(".selected-sticky");a.css({width:a.closest(".component-container").width()});this.currentAndParent(a);this.hasDropdown(a);this.ieAlign(a);b(window).on("scroll",function(){if(b(window).scrollTop()>=70)a.addClass("fixed");else{a.removeClass("fixed");c.removeClass("fixed")}});b(window).on("resize",function(){secondaryNav.currentAndParent(a);secondaryNav.hasDropdown(a);guxApp.tools.isIE(8)&&secondaryNav.ieAlign(a);
a.css({width:a.closest(".component-container").width()})})}},currentAndParent:function(a){var c=b("#current-and-parent").embeddedData();for(var d in c)b('li[title="'+c[d]+'"]',a).addClass("active")},ieAlign:function(a){if(guxApp.tools.isIE(8))b(window).width()<1342?a.addClass("aligned"):a.removeClass("aligned")},hasDropdown:function(a){var c=Modernizr.touch?"touchstart":"click";b(window).width()<768?b(".has-dropdown > a",a).unbind(c).on(c,function(){b(this).toggleClass("open");return false}):b(".has-dropdown > a",
a).removeClass("open").unbind(c)}};b(function(){secondaryNav.init()})})(jQuery);

(function(a){var d={init:function(){d.thumbnailsTotal();d.toggleGallery();var b=a(window).width();a(window).on("resize",function(){if(a(window).width()!==b)if(a(window).width()>767){a("#content").css("height","");a(".gallery-category .thumbnails").css({width:"100%","max-width":"100%"});a("body").css("overflow","visible")}else{var c=a(".gallery-category.open").width();a(".gallery-category.open .thumbnails").css({width:c,"max-width":"none"})}b=a(window).width()});guxApp.viewport.view==="mobile"?d.expandBar(9):
d.expandBar(6)},thumbnailsTotal:function(){a(".gallery-category").each(function(){var b=a(this).find(".thumbnails img").length;a(this).find(".overlay-text span.num").html(b).fadeIn(800).parent().fadeIn(800);b=a(this).find(".thumbnails").height();a(this).data("thumbsheight",b)})},toggleGallery:function(){a(".category-title").on("click",function(b){b.preventDefault();if(guxApp.viewport.view!=="tablet"){var c=a(this).parents(".gallery-category");b=a(this).parents(".gallery-category").children(".thumbnails");
var e=c.width();b.css({width:e,"max-width":"none"});a("body").css("overflow","hidden");c.addClass("open").siblings().children(".thumbnails").animate({left:"100%"},300,function(){c.siblings().removeClass("open")});b.animate({left:-3},400,function(){a("#content").height();c.data("thumbsheight")});a(window).trigger("resize")}});a(".mobile-title").on("click",function(b){b.preventDefault();a("#content").css("height","");var c=a(this).parents(".gallery-category");b=a(this).parents(".gallery-category").children(".thumbnails");
a("body").css("overflow","visible");b.animate({left:"100%"},300,function(){c.removeClass("open")});a(window).trigger("resize")})},expandBar:function(b){a(".gallery-category").each(function(){var c=a(this).find(".thumbnails img").length;a(this).find(".thumbnails .item:gt("+b+")").hide();c>b+1&&a(this).find(".expandbar").show()});a(".gallery-category").on("click",".expandbar",function(){var c=a(this).parent();c.find(".item:hidden").slice(0,b+1).fadeIn(350);c.find(".item:hidden").length===0&&c.find(".expandbar").hide()})}};
a(function(){a(".gallery-category").length&&d.init()})})(jQuery);

var guxApp=guxApp||{};
(function(b){guxApp.shareWidget={init:function(a){a=a||".media-overlay .share-panel.cloned";this._shareBtnContainer=b(a);this._shareBtns=this._shareBtnContainer.find("li");this._setDefaultUrl();this._addEventListener()},_setDefaultUrl:function(){this._shareBtnContainer.find("input").val(location.href)},_addEventListener:function(){var a=this;this._shareBtns.off("click").on("click",function(c){c.preventDefault();c=a._shareBtnContainer.find("input").val()?a._shareBtnContainer.find("input").val():location.href;
var d=b(this).find("a").data("title"),e=b(this).find("a").data("share"),f=b(this).find("a").data("country");if(f==="en"&&typeof addthis_sendto==="function"){addthis.update("share","url",c);addthis.update("share","title",d);addthis_sendto(e)}else if(f==="cn"&&typeof jiathis_sendto==="function"){jiathis_config.url=c;jiathis_config.title=d;jiathis_sendto(e)}})}}})(jQuery);

var guxApp=guxApp||{};
(function(b){guxApp.hotspots={init:function(){if(b(".hotspots .flexslider").length){var a=b(".hotspots .flexslider");this.activateTrigger(a);a.on("click",".flex-active",function(){guxApp.hotspots.activateTrigger(a)});b(document).on("keyup",function(){guxApp.hotspots.activateTrigger(a)});a.touchwipe({wipeLeft:function(){setTimeout(function(){guxApp.hotspots.activateTrigger(a)},500)},wipeRight:function(){setTimeout(function(){guxApp.hotspots.activateTrigger(a)},500)}})}},getCurrentSlide:function(a){return b(".flex-control-nav li a",a).index(b(".flex-active"))},
activateTrigger:function(a){currSlide=guxApp.hotspots.getCurrentSlide(a);a.parents(".hotspots").find(".hs-triggers .trigger").removeClass("active").eq(currSlide).addClass("active")}};b(function(){guxApp.hotspots.init()})})(jQuery);

(function(a){colorizer={init:function(){if(a(".colorizer").length){var b=a(".colorizer"),f=a(".vehicle-image",b),d=a(".color-name",b),e=a(".color-palette li",b);colorizer.colorSwap(f,e,d);colorizer.imageSwap(e);b=_.debounce(function(){colorizer.imageSwap(e)},500);a(window).on("resize",b)}},colorSwap:function(b,f,d){var e=a("a",f);e.click(function(){var c=a(this),g=c.find(".citation").length>0?c.find(".citation").clone():null;if(!c.hasClass("active")){e.removeClass("active");c.addClass("active");if(guxApp.tools.detectIE()||
guxApp.tools.isIOS())a("img",b).attr("src",c.attr("href"));else{a("source",b).first().attr("srcset",c.attr("href"));a("source",b).last().attr("srcset",c.attr("data-smob"))}d.html(c.text());g&&d.append(g)}a(window).scroll();return false})},imageSwap:function(b){var f=guxApp.viewport.view=="mobile"?"smob":"desktop";a(b).each(function(){var d=a("a",this);d.attr("href",d.data(f))})}};a(function(){colorizer.init()})})(jQuery);

(function(b){tabSwitch={init:function(){if(b(".tabs-switch").length){var a=b(".tabs-wrap"),c=b(".tabs-switch .options",a),d=b(".active",c);b(".tabs-content",a);tabSwitch.contentSwitch(d);tabSwitch.tabEvent(c);tabSwitch.iconRemover(c);if(!guxApp.tools.isIE(8))window.onresize=function(){window.innerWidth>=768&&c.parent().removeClass("open")}}},contentSwitch:function(a){a=a.data("tab");a=b('.tab-content[data-tab="'+a+'"]');a.siblings().removeClass("active");a.addClass("active");b.publish("tab-switched")},
tabEvent:function(a){var c=b("li",a);c.click(function(d){d.preventDefault();d=b(this);c.removeClass("active");d.addClass("active");tabSwitch.contentSwitch(d)});a.click(function(){window.innerWidth<768&&b(this).parent().toggleClass("open")})},iconRemover:function(a){a=b("li",a);a.eq("1").length||a.find(".icon").hide()}};b(function(){tabSwitch.init()})})(jQuery);

var guxApp=guxApp||{};
(function(c){threesixtySlider={init:function(){if(c(".threesixty-slider").length){var b=c(".threesixty-slider");threesixtySlider.slider(b)}},slider:function(b){b.each(function(){var d=c(this),a=c(".vr-data",d);a=guxApp.tools.getEmbeddedData(a);var h=guxApp.viewport.view=="mobile"&&a.vrImages.smobLocation?a.vrImages.smobLocation:a.vrImages.location,e=c(".vr-image",d),f=[];e.attr("src",h+a.vrImages.filenamePrefix+threesixtySlider.pad(0,a.vrImages.counterFormat.length)+"."+a.vrImages.extension);for(var g=
a.vrImages.start;g<a.vrImages.end;g++)f.push(h+a.vrImages.filenamePrefix+threesixtySlider.pad(g,a.vrImages.counterFormat.length)+"."+a.vrImages.extension);if(f.length){e.reel({revolution:500,frames:f.length,images:f,responsive:true});c(".arrow-left",d).on("click",function(){e.trigger("stepLeft")});c(".arrow-right",d).on("click",function(){e.trigger("stepRight")})}c.subscribe("tab-switched",function(){e.trigger("resize")})})},pad:function(b,d){for(b=b+"";b.length<d;)b="0"+b;return b}};c(function(){threesixtySlider.init()})})(jQuery);

(function(b){var f={init:function(){var a=b(".model-display"),d=this,c=b(window).width();b(".carousel-limit li",a).length<=1&&a.addClass("model-single");b(".flexslider",a).append("<div class='alt-controls'><span class='alt-prev' /><span class='item-count'><span class='current-item' />/<span class='items-total' /></span><span class='alt-next' /></div>").find(".items-total").html(b(".flex-control-nav li",a).length);b(".alt-controls",a).hide();d.bindControls(a);d.updateControls(a,7);b(window).on("resize",
function(){if(b(this).width()!=c){c=b(this).width();setTimeout(function(){d.updateControls(a,7)},500)}})},bindControls:function(a){b(".alt-controls",a).on("click",".alt-prev",function(){b(".flex-prev",a).trigger("click")});b(".alt-controls",a).on("click",".alt-next",function(){b(".flex-next",a).trigger("click")})},updateControls:function(a,d){var c=b(".flex-control-nav li",a).length;if(c>d)f.displayAltControls(a,c);else{b(".flex-control-nav",a).show();b(".alt-controls",a).hide().parents(".model-display").removeClass("alt-ctrl")}},
displayAltControls:function(a,d){b(".flex-control-nav",a).hide();b(".alt-controls",a).css("display","inline-block").find(".items-total").html(d);b(".alt-controls",a).parents(".model-display").addClass("alt-ctrl");var c=b(".flexslider",a).data("flexslider"),e=c.currentSlide+1;b(".alt-controls .current-item",a).html(e);c.vars.after=function(){e=c.currentSlide+1;b(".alt-controls .current-item",a).html(e)}}};b(function(){b(".model-display").length&&f.init()})})(jQuery);

(function(a){var e={init:function(){if(a(".selected-sticky").length){var b=b?b:a(".selected-sticky"),d=a(".secondarynav");a(window).on("scroll",function(){var c=a(window).scrollTop();c>70?b.addClass("fixed"):b.removeClass("fixed");c<70?d.removeClass("fullwidth"):d.addClass("fullwidth");guxApp.viewport.view=="mobile"?a(".title-holder").trigger("sticky_kit:detach"):guxApp.accordion.stickyTitle()});a(".tab-nav:eq(1)").addClass("open");a(".tab-contents:eq(1)").addClass("open")}},zebraStyling:function(){var b=
a(".accordion-block");a(b).length&&guxApp.tools.isIE(8)&&a(".accordion-block .table-holder > table tr:odd").addClass("odd")},recalcSticky:function(){var b=_.debounce(function(){guxApp.viewport.view!=="mobile"&&guxApp.accordion.stickyTitle()},300);a(window).on("resize",b)},enlargeVehicleCard:function(){var b=a("#content .model-walk.model-enhance"),d=a(".mw-wrapper .mw-content .select-models .model-container",b);if(!(!b||d.length===0)){a(".model-data .model-select a",d).on("click",function(c){var f=
a(".mw-wrapper",b).siblings(".model-container");if(guxApp.viewport.view==="mobile"&&f.length===0){c.preventDefault();c=a(this).closest(".model-container");a("body").addClass("no-scroll has-scroll");c.clone().addClass("clone").insertAfter(a(".mw-wrapper",b)).fadeIn(function(){a(this).addClass("hide-for-large-up")})}});b.on("click",".close-vehicle",function(c){c.preventDefault();a(this).closest(".model-container").fadeOut(function(){a("body").removeClass("no-scroll has-scroll");a(this).remove()})})}}};
a(function(){e.init();e.zebraStyling();e.recalcSticky();e.enlargeVehicleCard()})})(jQuery);

(function(){var l,c;l=this.jQuery||window.jQuery;c=l(window);l.fn.stick_in_parent=function(h){var t,w,m,n,u,E,p,I,x,J;if(h==null)h={};p=h.sticky_class;w=h.inner_scrolling;E=h.recalc_every;u=h.parent;n=h.offset_top;m=h.spacer;t=h.bottoming;if(n==null)n=0;if(u==null)u=void 0;if(w==null)w=true;if(p==null)p="is_stuck";if(t==null)t=true;I=function(a,L,F,y,G,q,o,H){var r,z,k,A,d,e,B,C,v,f,i;if(!a.data("sticky_kit")){a.data("sticky_kit",true);e=a.parent();if(u!=null)e=e.closest(u);if(!e.length)throw"failed to find stick parent";
r=k=false;(f=m!=null?m&&a.closest(m):l("<div />"))&&f.css("position",a.css("position"));B=function(){var b,s,g;if(!H){b=parseInt(e.css("border-top-width"),10);s=parseInt(e.css("padding-top"),10);L=parseInt(e.css("padding-bottom"),10);F=e.offset().top+b+s;y=e.height();if(k){r=k=false;if(m==null){a.insertAfter(f);f.detach()}a.css({position:"",top:"",width:"",bottom:""}).removeClass("stick").removeClass(p);g=true}G=a.offset().top-parseInt(a.css("margin-top"),10)-n;q=a.outerHeight(true);o=a.css("float");
f&&f.css({width:a.outerWidth()-2,height:q,display:a.css("display"),"vertical-align":a.css("vertical-align"),"float":o});if(g)return i()}};B();if(q!==y){A=void 0;d=n;v=E;i=function(){var b,s,g,j;if(!H){if(v!=null){v-=1;if(v<=0){v=E;B()}}g=c.scrollTop();if(A!=null)s=g-A;A=g;if(k){if(t){j=g+q+d>y+F;if(r&&!j){r=false;a.css({position:"fixed",bottom:"",top:d}).addClass("stick").trigger("sticky_kit:unbottom")}}if(g<G){k=false;d=n;a.removeClass("stick");if(m==null){if(o==="left"||o==="right")a.insertAfter(f);
f.detach()}b={position:"",width:"",top:""};a.css(b).removeClass(p).removeClass("stick").trigger("sticky_kit:unstick")}if(w){b=c.height()+1E3;if(q+n>b)if(!r){d-=s;d=Math.max(b-q,d);d=Math.min(n,d);k&&a.css({top:d+"px"})}}}else if(g>G){k=true;b={position:"fixed",top:d};b.width=a.css("box-sizing")==="border-box"?a.outerWidth()+"px":a.width()+"px";a.css(b).addClass(p);a.addClass("stick");if(m==null){a.after(f);if(o==="left"||o==="right")f.append(a)}a.addClass("stick").trigger("sticky_kit:stick")}if(k&&
t){if(j==null)j=g+350+q+d>y+F;if(!r&&j){r=true;e.css("position")==="static"&&e.css({position:"relative"});return a.css({position:"absolute",bottom:0,top:"auto"}).removeClass("stick").trigger("sticky_kit:bottom")}}}};C=function(){B();return i()};z=function(){H=true;c.off("touchmove",i);c.off("scroll",i);c.off("resize",C);l(document.body).off("sticky_kit:recalc",C);a.off("sticky_kit:detach",z);a.removeData("sticky_kit");a.removeClass("stick");a.css({position:"",bottom:"",top:"",width:""});e.position("position",
"");if(k){if(m==null){if(o==="left"||o==="right")a.insertAfter(f);f.remove()}return a.removeClass(p)}};resize_complete=function(){var b={};return function(s,g,j){j||(j="Don't call this twice without a uniqueId");b[j]&&clearTimeout(b[j]);b[j]=setTimeout(s,g)}};var K=_.debounce(i,100);_.debounce(i,500);var D=_.debounce(C,100),M=guxApp.tools.isIOS()?true:false;if(guxApp.tools.isIE(8)){c.on("touchmove",K);c.on("scroll",K);c.on("resize",resize_complete(D,500,"recalcComplete"));l(document.body).on("sticky_kit:recalc",
D);a.on("sticky_kit:detach",z)}else if(M)c.on("scrollstop",i);else{c.on("touchmove",i);c.on("scroll",i);c.on("resize",D);l(document.body).on("sticky_kit:recalc",D);a.on("sticky_kit:detach",z)}return setTimeout(i,0)}}};x=0;for(J=this.length;x<J;x++){h=this[x];I(l(h))}return this}}).call(this);

var guxApp=guxApp||{};
(function(a){guxApp.accordion={init:function(){var b=a(".accordion-block");if(b.length){a(".tab-item .open").next().css("display","block");this.stickyTitle();a(".tab-nav",b).off("click").on("click",function(){var c=a(this);if(!c.hasClass("disable")){a(".title-holder").trigger("sticky_kit:detach");if(c.hasClass("open")){guxApp.accordion.toggleAnimate(c.removeClass("open"));a.publish("accordion-tab-nav-close")}else{guxApp.accordion.toggleAnimate(a('.tab-nav.open:not(".disable")',b).removeClass("open"));
c.toggleClass("open");guxApp.accordion.toggleAnimate(c)}}});a(".close-accordion",b).length&&a(".close-accordion",b).off("click").on("click",function(c){c.preventDefault();guxApp.accordion.toggleAnimate(a(".tab-nav.open",b).removeClass("open"));a(".selected-sticky").addClass("fixed");c=b.offset().top-a(".selected-sticky").outerHeight()-50;a("html,body").animate({scrollTop:c},200)});a(window).on("resize",function(){a(".title-holder").trigger("sticky_kit:detach")})}},toggleAnimate:function(b){b.next().animate({height:"toggle",
opacity:"toggle"},{duration:600,complete:function(){a.publish("accordion-tab-nav-open",[a(this).prev()]);a(document).foundation("equalizer","reflow")}})},toggleWaypoint:function(){},stickyTitle:function(){a(".title-holder").stick_in_parent({parent:".title-waypoint",offset_top:350,recalc_every:5})},recalcSticky:function(){a(document.body).trigger("sticky_kit:recalc")}};a(function(){guxApp.accordion.init()})})(jQuery);

(function(a){var c={init:function(){a(".reveal-trigger .multi-buttons").find(".active").length<1&&a(".reveal-trigger .button").eq(0).addClass("active").parents(".reveal-trigger").find(".gallery").eq(0).addClass("active");a(".reveal-trigger").on("click",".button",function(b){b.preventDefault();b=a(this).data("gallery-type");a(this).parent().find(".button").removeClass("active").parent().find(".button[data-gallery-type="+b+"]").addClass("active").parents(".reveal-trigger").find(".gallery").removeClass("active").parent().find(".gallery[data-gallery-type="+
b+"]").addClass("active")})}};a(function(){a(".reveal-trigger").length&&c.init()})})(jQuery);

(function(){function a(b){this.options=c.extend({},d.defaults,a.defaults,b);this.element=this.options.element;this.$element=c(this.element);this.createWrapper();this.createWaypoint()}var c=window.jQuery,d=window.Waypoint;a.prototype.createWaypoint=function(){var b=this.options.handler;this.waypoint=new d(c.extend({},this.options,{element:this.wrapper,handler:c.proxy(function(e){var f=this.options.direction.indexOf(e)>-1;this.$wrapper.height(f?this.$element.outerHeight(true):"");this.$element.toggleClass(this.options.stuckClass,
f);b&&b.call(this,e)},this)}))};a.prototype.createWrapper=function(){this.$element.wrap(this.options.wrapper);this.$wrapper=this.$element.parent();this.wrapper=this.$wrapper[0]};a.prototype.destroy=function(){if(this.$element.parent()[0]===this.wrapper){this.waypoint.destroy();this.$element.removeClass(this.options.stuckClass).unwrap()}};a.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"};d.Sticky=a})();

var guxApp=guxApp||{};(function(a){guxApp.lang={init:function(){a("#lang-toggle")&&a("#lang-toggle").change(function(){window.location.href=a("#lang-toggle option:selected").val()})}};a(function(){guxApp.lang.init()})})(jQuery);

(function(){var c=jQuery.event.special,g="D"+ +new Date,h="D"+(+new Date+1);c.scrollstart={setup:function(){var a,b=function(d){var e=this,f=arguments;if(a)clearTimeout(a);else{d.type="scrollstart";jQuery.event.handle.apply(e,f)}a=setTimeout(function(){a=null},c.scrollstop.latency)};jQuery(this).bind("scroll",b).data(g,b)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(g))}};c.scrollstop={latency:300,setup:function(){var a,b=function(d){var e=this,f=arguments;a&&clearTimeout(a);
a=setTimeout(function(){a=null;d.type="scrollstop";jQuery.event.handle.apply(e,f)},c.scrollstop.latency)};jQuery(this).bind("scroll",b).data(h,b)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(h))}}})();

var guxApp=guxApp||{},SB=SB||{};
(function(b){guxApp.sc={};guxApp.sc.vehicles={init:function(){guxApp.sc.cache={};this.setupRestServices();guxApp.tools.isIOS()=="iPhone"&&b(".service-calc").addClass("iphone-ios")},setupRestServices:function(){var a=b("#service-calc-services").embeddedData(),c=b("#common-config").embeddedData(),d=b("#service-calc-text").embeddedData(),e=a["sc.vehicleservices"],f=a["sc.pdf"];c=c.site;guxApp.sc.urlVehicles=a["sc.allvehicles"].replace("{site}",c);guxApp.sc.urlServices=e.replace("{site}",c);guxApp.sc.urlPdf=
f.replace("{site}",c);guxApp.sc.selectTexts=d;this.populateYearSelect()},getData:function(a,c,d){b.ajax({url:a,async:true,cache:false,dataType:"json",headers:{"Cache-Control":"no-cache"},success:function(e){c(e)},error:function(e,f){d(a,e,f)}})},resetSelects:function(a){b(a).parents(".group").nextAll().addClass("disabled").find("select").attr("disabled","disabled").off("change");b(a).parents(".group").nextAll().find("option:not(:first-child)").remove();b("select",this.wrapper).uniform()},resetErrors:function(){b(".error",
this.wrapper).remove()},deactivateResults:function(){if(b(".service-calc.service-results").hasClass("active")){b(".service-calc.service-results").removeClass("active").addClass("deactive");b("button.calculate",guxApp.sc.services.wrapper).removeClass("ready").attr("disabled",true)}b("select",this.wrapper).uniform()},populateSelectsDefault:function(){var a=this,c=b("select",a.wrapper)[0];b("select",a.wrapper).each(function(){var d=b(this).attr("id");b("select#"+d+" > option:first-child",a.wrapper).text(guxApp.sc.selectTexts["select."+
d+".text"])});guxApp.sc.vehicles.resetSelects(c)},populateYearSelect:function(){var a=this;b(".service-calc .loading").show();guxApp.sc.vehicles.wrapper=b("form#service-dropdowns");guxApp.sc.vehicles.getData(guxApp.sc.urlVehicles,function(c){a.populateSelectsDefault();guxApp.sc.cache=c.data;var d=b("select#year",a.wrapper);b.each(guxApp.sc.cache.years,function(e,f){d.append('<option value="'+f+'">'+f+"</option>")});b("select",a.wrapper).uniform();b(".service-calc .loading").hide();guxApp.sc.vehicles.yearChangeEvent()},
function(){b(".service-calc .loading").hide();guxApp.sc.vehicles.wrapper.prepend('<p class="error">'+guxApp.sc.selectTexts["error.url.vehicles"]+"</p>");b("select#year",a.wrapper).attr("disabled","disabled").parents(".group").addClass("disabled")})},yearChangeEvent:function(){var a=this;b("select#year",a.wrapper).on("change",function(){var c=b(this),d=b(this).val();a.resetSelects(c);a.resetErrors();if(d!=="default"){b("select#model",a.wrapper).attr("disabled",false).parents(".group").removeClass("disabled");
b.each(guxApp.sc.cache.models,function(e,f){d>=f.startyear&&d<=f.endyear&&b("select#model",a.wrapper).append('<option value="'+f.name+'">'+f.name+"</option>")});if(b("select#model option",a.wrapper).length===1){guxApp.sc.vehicles.wrapper.prepend('<p class="error">There are no models produced for this year. Please select another year.</p>');a.resetSelects(c)}a.modelChangeEvent()}a.deactivateResults()})},modelChangeEvent:function(){var a=this;b("select#model",a.wrapper).on("change",function(){var c=
b(this),d=b(this).val(),e=parseInt(b("select#year",a.wrapper).val(),10);a.resetSelects(c);if(d!=="default"){b("select#style",a.wrapper).attr("disabled",false).parents(".group").removeClass("disabled");b.each(guxApp.sc.cache.models,function(f,g){g.name===d&&b.each(g.years,function(h,i){if(i.year===e){guxApp.sc.cache.style=i.style;b.each(i.style,function(j,k){b("select#style",a.wrapper).append('<option value="'+k.name+'">'+k.name+"</option>")})}})});c.uniform();a.styleChangeEvent()}a.deactivateResults()})},
styleChangeEvent:function(){var a=this;b("select#style",a.wrapper).on("change",function(){var c=b(this),d=b(this).val();a.resetSelects(c);if(d!=="default"){b("select#engine",a.wrapper).attr("disabled",false).parents(".group").removeClass("disabled");b.each(guxApp.sc.cache.style,function(e,f){if(f.name===d){guxApp.sc.cache.engines=f.engines;b.each(f.engines,function(g,h){b("select#engine",a.wrapper).append('<option value="'+h.type+'" id="'+h.id+'">'+h.type+"</option>")})}});c.uniform();a.engineChangeEvent()}a.deactivateResults()})},
engineChangeEvent:function(){var a=this;b("select#engine",this.wrapper).on("change",function(){var c=b(this);if(b(this).val()!=="default"){b(".service-results select option").remove();guxApp.sc.selectedVehicle=b("select#engine option:selected",this.wrapper).attr("id");c.uniform();guxApp.sc.services.loadVehicleData()}a.deactivateResults()})}};guxApp.sc.services={monthsArr:["January","February","March","April","May","June","July","August","September","October","November","December"],unbindEvents:function(){b("input#estimatedkm",
this.wrapper).off("keypress blur");b("select#regyear",this.wrapper).off("change");b("button.calculate",this.wrapper).off("click");b(".show-roadside-assist",this.wrapper).off("click");b(".xtime-mobile-link",this.wrapper).off("click")},loadVehicleData:function(){var a=this,c=guxApp.sc.urlServices;guxApp.sc.services.wrapper=b("form#recommended-service");a.unbindEvents();b(".service-calc .loading").show();guxApp.sc.vehicles.getData(c+guxApp.sc.selectedVehicle,function(d){b(".service-calc .loading").hide();
guxApp.sc.cache.services=d.data;guxApp.sc.cache.services.serviceinterval.push({km:"> "+guxApp.sc.cache.services.serviceinterval[guxApp.sc.cache.services.serviceinterval.length-1].km,number:guxApp.sc.cache.services.serviceinterval.length+1,agetext:"> "+guxApp.sc.cache.services.serviceinterval[guxApp.sc.cache.services.serviceinterval.length-1].agetext});a.populateRegDate();a.bindXtimeMobile();b(".js-totalprice",a.wrapper).empty();b(".options-list li",a.warpper).removeClass("option-checked");b(".options-list li span",
a.warpper).removeClass("checked");b("button.calculate",a.wrapper).attr("disabled",true);b(".service-calc.service-results").removeClass("deactive").fadeIn(350,function(){b(this).addClass("active")});a.numbersOnly();a.serviceLinksHeight();b(window).on("resize",function(){a.serviceLinksHeight()});b(".view-roadside-assist a",a.wrapper).on("click",function(e){e.preventDefault();a.scrollToElem(b(".roadside-assistance"))});b(".service-calc .book-service").fadeOut(350,function(){a.scrollToElem(b(".vehicle-registration"))})},
function(){var d=b("select#year",guxApp.sc.vehicles.wrapper);guxApp.sc.vehicles.wrapper.prepend('<p class="error">'+guxApp.sc.selectTexts["error.url.services"]+"</p>");b(".service-calc .loading").hide();guxApp.sc.vehicles.resetSelects(d)})},serviceLinksHeight:function(){var a=this;b(".service-links .columns a",a.wrapper).css("height","");var c=b(".service-links .prev").outerHeight(true),d=b(".service-links .next").outerHeight(true),e=b(".service-links .active").outerHeight(true);c=Math.max(c,d,e);
b(".service-links .columns a",a.wrapper).css("height",c)},bindXtimeMobile:function(){this.wrapper.on("click",".xtime-mobile-link",function(){var a=b(this).attr("href"),c=a.indexOf("?")==-1?"?":"&";SB.keyword=b(this).data("sb-keyword");a.indexOf("keyword")==-1&&b(this).attr("href",a+c+"keyword="+SB.keyword)})},showCalcBtn:function(){var a=this,c=b("button.calculate",a.wrapper);c.addClass("ready").attr("disabled",false);c.on("click",function(d){d.preventDefault();d.stopPropagation();a.calcRecService()})},
populateRegDate:function(){var a=this,c=guxApp.sc.cache.services.startdatebreak-1,d=guxApp.tools.getMonth()-1,e=guxApp.tools.getYear(),f=guxApp.sc.cache.services.year,g=parseInt(b("select#year option:selected",guxApp.sc.vehicles.wrapper).val(),10);if(c==="")b("#regmonth",a.wrapper).append('<option value="'+a.monthsArr[0]+'">'+a.monthsArr[0]+"</option>");else if(f===g)b.each(a.monthsArr,function(h,i){h>=c&&b("#regmonth",a.wrapper).append("<option value="+i+">"+i+"</option>")});else e===g?b.each(a.monthsArr,
function(h,i){h<=d&&b("#regmonth",a.wrapper).append("<option value="+i+">"+i+"</option>")}):b.each(a.monthsArr,function(h,i){b("#regmonth",a.wrapper).append("<option value="+i+">"+i+"</option>")});for(f=g-1;f<e;f++)b("#regyear",a.wrapper).append("<option value="+(f+1)+">"+(f+1)+"</option>");this.initialEstimateKM();this.yearChangeEvent();this.monthsChangeEvent()},scrollToElem:function(a){b("html, body").animate({scrollTop:a.offset().top-(guxApp.viewport.view==="mobile"?65:75)},350)},numbersOnly:function(){var a=
this;b("input#estimatedkm",a.wrapper).on({keypress:function(c){if(c.which!==8&&c.which!==0&&(c.which<48||c.which>57))return false;b(this).parent().removeClass("error-wrap")},focus:function(){b("button.calculate",a.wrapper).hasClass("ready")||a.showCalcBtn()},blur:function(){this.value=guxApp.tools.numberCommas(this.value)}})},addZero:function(a){if(a%1!==0)a=parseFloat(a).toFixed(2);return a},getVehicleAge:function(){var a=this,c=b("select#regyear option:selected",a.wrapper).val(),d=b("select#regmonth option:selected",
a.wrapper).val();a=12-a.monthsArr.indexOf(d);d=guxApp.tools.getMonth()-1;c=guxApp.tools.getYear()-c-1;return a+d+c*12},initialEstimateKM:function(){var a=this,c=guxApp.sc.cache.services.interval===1E4?1666.67:1250;c=Math.round(a.getVehicleAge()*c);b("input#estimatedkm",a.wrapper).val(guxApp.tools.numberCommas(c));a.calcRecService()},yearChangeEvent:function(){var a=this,c=b("select#regyear option:first-child",a.wrapper).val(),d=guxApp.tools.getMonth()-1,e=guxApp.tools.getYear();b("select#regyear",
a.wrapper).on("change",function(){var f=b("select#regyear option:selected",a.wrapper).val(),g=b("select#regmonth option:selected",a.wrapper).val(),h=guxApp.sc.cache.services.startdatebreak-1;if(f===c&&h>=1){b("select#regmonth option",a.wrapper).remove();b.each(a.monthsArr,function(i,j){i>=h&&b("#regmonth",a.wrapper).append("<option value="+j+">"+j+"</option>")})}else{b("select#regmonth option",a.wrapper).remove();b.each(a.monthsArr,function(i,j){b("#regmonth",a.wrapper).append("<option value="+j+
">"+j+"</option>")});b("#regmonth option[value="+g+"]",a.wrapper).attr("selected","selected")}if(e===parseInt(f,10)){b("select#regmonth option",a.wrapper).remove();b.each(a.monthsArr,function(i,j){i<=d&&b("#regmonth",a.wrapper).append("<option value="+j+">"+j+"</option>")});b("#regmonth option[value="+g+"]",a.wrapper).attr("selected","selected")}b("button.calculate",a.wrapper).hasClass("ready")||a.showCalcBtn();b(".vehicle-registration select",a.wrapper).uniform()})},monthsChangeEvent:function(){var a=
this;b("select#regmonth",a.wrapper).on("change",function(){b("button.calculate",a.wrapper).hasClass("ready")||a.showCalcBtn()})},inputError:function(){var a=this;a.scrollToElem(b(".estimated-km"));b("input#estimatedkm",a.wrapper).parent().addClass("error-wrap")},calcRecService:function(){var a=this,c=guxApp.tools.removeCommas(b("input#estimatedkm",a.wrapper).val());if(b("input#estimatedkm",a.wrapper).val()==="")a.inputError();else{b("input#estimatedkm",a.wrapper).parent().removeClass("error-wrap");
a.scrollToElem(b(".vehicle-services"));var d=a.stepOneKM(),e=a.stepTwoMonths();guxApp.sc.cache.recommended=d.km>=e.km?d:e;b("select",a.wrapper).uniform();b(".service-links .prev a",a.wrapper).off("click");b(".service-links .next a",a.wrapper).off("click");guxApp.sc.cache.services.activeService=guxApp.sc.cache.recommended;a.appendOptions();if(c>51E4)guxApp.sc.cache.recommended=guxApp.sc.cache.services.serviceinterval[guxApp.sc.cache.services.serviceinterval.length-1];a.populateActiveService(guxApp.sc.cache.recommended);
a.bindServiceLinks();b(".valid-date",a.wrapper).html(Date.today().addDays(30).toString("dd MMMM yyyy"))}},stepOneKM:function(){var a=guxApp.tools.removeCommas(b("input#estimatedkm",this.wrapper).val()),c=guxApp.sc.cache.services.serviceinterval,d=Math.floor(a/guxApp.sc.cache.services.interval)-1,e=d+1,f,g;if(d<0)d=0;else if(d>33)d=33;if(e>c.length-1)e=c.length-1;if(a>=c[d].km-5E3&&a<=c[d].km+5E3)f=true;if(a>=c[e].km-5E3&&a<=c[e].km+5E3)g=true;return f&&g?c[d]:f?c[d]:c[e]},stepTwoMonths:function(){var a=
this.getVehicleAge(),c=guxApp.sc.cache.services.serviceinterval,d=Math.floor(a/(guxApp.sc.cache.services.interval===1E4?6:12))-1,e=d+1,f,g;if(d<0)d=0;else if(d>33)d=33;if(e>c.length-1)e=c.length-1;if(a>=c[d].months-6&&a<=c[d].months+6)f=true;if(a>=c[e].months-6&&a<=c[e].months+6)g=true;return f&&g?c[d]:f?c[d]:c[e]},bindServiceLinks:function(){var a=this,c=b(".service-links .prev",a.wrapper),d=b(".service-links .active",a.wrapper),e=b(".service-links .next",a.wrapper);guxApp.sc.firstlink=false;b("a",
c).on("click",function(f){f.preventDefault();if(guxApp.sc.firstlink)return false;guxApp.sc.lastlink=false;guxApp.sc.cache.services.activeService=guxApp.sc.cache.services.prevService;a.populateActiveService(guxApp.sc.cache.services.prevService)});b("a",d).on("click",function(f){f.preventDefault()});b("a",e).on("click",function(f){f.preventDefault();if(guxApp.sc.lastlink)return false;guxApp.sc.cache.services.activeService=guxApp.sc.cache.services.nextService;a.populateActiveService(guxApp.sc.cache.services.nextService)})},
populateActiveService:function(a){var c=this,d=guxApp.sc.cache.services.serviceinterval,e=a.number-2>=0?d[a.number-2]:d[0],f=d[a.number],g=b(".service-links .active",c.wrapper),h=b(".service-links .prev",c.wrapper),i=b(".service-links .next",c.wrapper),j=b(".active-service",c.wrapper);guxApp.sc.cache.services.prevService=e;guxApp.sc.cache.services.nextService=f;guxApp.sc.finalservice=a.number==d.length?true:false;if(guxApp.sc.finalservice){var k=false;b(".service-links a .wrap",c.wrapper).fadeOut(250,
function(){if(!k){guxApp.sc.lastlink=true;b(".service-links > div",c.wrapper).removeClass("recommended");i.addClass("no-service");b(".js-kms",h).text(guxApp.tools.numberCommas(e.km));b(".js-years",h).text(e.agetext);b(".js-kms",g).text(guxApp.tools.numberCommas(a.km));b(".js-years",g).text(a.agetext);guxApp.sc.cache.services.prevService.km===guxApp.sc.cache.recommended.km&&h.addClass("recommended");a.km===guxApp.sc.cache.recommended.km&&g.addClass("recommended");k=true}});b(".active-service",c.wrapper).fadeOut(250,
function(){b(".roadside-assistance",c.wrapper).hide();b(".last-service",c.wrapper).fadeIn(350);b(".service-links a .wrap",c.wrapper).fadeIn(350)})}else{var l=false;b(".service-links a .wrap",c.wrapper).fadeOut(250,function(){if(!l){b(".service-links > div",c.wrapper).removeClass("recommended");guxApp.sc.lastlink=false;i.removeClass("no-service");if(a.number<2){h.addClass("no-service");guxApp.sc.firstlink=true}else{h.removeClass("no-service");guxApp.sc.firstlink=false;b(".js-kms",h).text(guxApp.tools.numberCommas(e.km));
b(".js-years",h).text(e.agetext)}b(".js-kms",g).text(guxApp.tools.numberCommas(a.km));b(".js-years",g).text(a.agetext);b(".js-kms",i).text(guxApp.tools.numberCommas(f.km));b(".js-years",i).text(f.agetext);guxApp.sc.cache.services.prevService.km===guxApp.sc.cache.recommended.km&&h.addClass("recommended");a.km===guxApp.sc.cache.recommended.km&&g.addClass("recommended");typeof guxApp.sc.cache.services.nextService!="undefined"&&guxApp.sc.cache.services.nextService.km===guxApp.sc.cache.recommended.km&&
i.addClass("recommended");l=true}}).fadeIn(350);b(".last-service",c.wrapper).fadeOut(250);b(".active-service",c.wrapper).fadeOut(250,function(){b(".js-kms",j).text(guxApp.tools.numberCommas(a.km));b(".js-years",j).text(a.agetext);b(".js-baseprice",j).text(guxApp.tools.numberCommas(c.addZero(a.price)));c.roadsideAssistToggle(a);c.optionsCheckboxEvent();c.calcTotalPrice();c.buildURLforPDF();b(".active-service",c.wrapper).fadeIn(350)}).fadeIn(350)}},appendOptions:function(){var a=this,c=guxApp.sc.cache.services.additionaloptions,
d=b("#options-template",a.wrapper).html();b.each(c,function(e){var f=guxApp.tools.numberCommas(c[e].price);c[e].price=f});if(typeof c!=="object"||c.length===0)b(".options-wrap",a.wrapper).hide();else{b(".options-wrap",a.wrapper).show();b(".options-list",a.wrapper).html(_.template(d,{options:c}))}b("input",a.wrapper).uniform()},roadsideAssistToggle:function(a){var c=this,d=b(".roadside-assistance",c.wrapper),e=d.data("services-shown");a.number>e?b(".view-roadside-assist",c.wrapper).add(d).hide():b(".view-roadside-assist",
c.wrapper).add(d).show()},optionsCheckboxEvent:function(){var a=this;b(".js-totalprice",a.wrapper).text(guxApp.tools.numberCommas(guxApp.sc.cache.services.activeService.price));b(".options-list input",a.wrapper).on("click",function(){a.calcTotalPrice();a.buildURLforPDF();b(this).parent().hasClass("checked")?b(this).parents("li").addClass("option-checked"):b(this).parents("li").removeClass("option-checked")})},calcTotalPrice:function(){var a=this,c=[],d=0,e;b(".options-list li .checked").each(function(){var f=
b(this).parents("li").find(".js-price").text();f=guxApp.tools.removeCommas(f);c.push(parseFloat(f))});b.each(c,function(){d+=this});e=d+guxApp.sc.cache.services.activeService.price;b(".js-totalprice",a.wrapper).text(guxApp.tools.numberCommas(a.addZero(e)))},buildURLforPDF:function(){var a=this,c=guxApp.sc.cache.services.id,d=guxApp.sc.cache.services.activeService.id,e,f,g=b(".options-list",a.wrapper).find("li"),h=guxApp.sc.urlPdf,i=Date.today().addDays(30).toString("ddMMyyyy");b.each(g,function(j){if(g[j].firstChild.firstChild.className===
"checked")e=typeof e!=="undefined"?e+"!"+g[j].firstChild.id.replace("uniform-option",""):g[j].firstChild.id.replace("uniform-option","");else f=typeof f!=="undefined"?f+"!"+g[j].firstChild.id.replace("uniform-option",""):g[j].firstChild.id.replace("uniform-option","")});if(typeof e=="undefined")e="";if(typeof f=="undefined")f="";h=h.replace("{vehicleid}",c).replace("{intervalid}",d).replace("{selectedoptions}",e).replace("{otheroptions}",f).replace("{currentdate}",i);c=encodeURI(h);b("form[name=pdfForm]",
a.wrapper)[0]?b("form[name=pdfForm]",a.wrapper).attr("action",c):b(".button.print-pdf",a.wrapper).wrap('<form action="'+c+'" method="post" name="pdfForm"></form>');b(".button.print-pdf",a.wrapper).off("click").on("click",function(j){j.preventDefault();guxApp.viewport.view==="tablet"&&b("form[name=pdfForm]",a.wrapper).attr("target","_blank");document.forms.pdfForm.submit()})}};b(function(){b(".service-calc")[0]&&guxApp.sc.vehicles.init()})})(jQuery);

(function(){var d=navigator.userAgent;window.HTMLPictureElement&&/ecko/.test(d)&&d.match(/rv\:(\d+)/)&&RegExp.$1<41&&addEventListener("resize",function(){var e,f=document.createElement("source"),i=function(a){var b,g,c=a.parentNode;if(c.nodeName.toUpperCase()==="PICTURE"){b=f.cloneNode();c.insertBefore(b,c.firstElementChild);setTimeout(function(){c.removeChild(b)})}else if(!a._pfLastSize||a.offsetWidth>a._pfLastSize){a._pfLastSize=a.offsetWidth;g=a.sizes;a.sizes+=",100vw";setTimeout(function(){a.sizes=
g})}},j=function(){var a,b=document.querySelectorAll("picture > img, img[srcset][sizes]");for(a=0;a<b.length;a++){if(b[a].currentSrc&&!b[a].complete){removeEventListener("resize",h);break}i(b[a])}},h=function(){clearTimeout(e);e=setTimeout(j,99)};f.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";return h}())})();

(function(a){var q={init:function(){function g(){n.removeAttr("style");var b=q.getWrapperHeight();n.height(b)}function h(b){var c=a(window).width();c>=768&&c<=980&&l(b,3)}function l(b,c){for(var d=0;d<b.length;d+=c)b.slice(d,d+c).wrapAll("<div class='row added-row'></div>")}function o(){var b=a(".open-panel",".primary-navigation-large"),c=a(".open-panel.opened.withTabs",j),d=a(".open-panel.opened",j);if(c.length>0)d.children(".nav-panel").find(".nameplate").slideUp(300,function(){c.children(".nav-panel").find(".wrapper").slideUp("fast",
function(){b.removeClass("opened")})});else d.length>0&&d.children(".nav-panel").find(".links-list").slideUp("fast",function(){b.removeClass("opened")})}if(a("#gux-header").length){var e=a("#gux-header"),k=a(".header-wrapper",e),n=a(".primary-navigation",e),j=a(".primary-navigation-large",k),r=a(".primary-navigation > ul",e),m=a(".primary-navigation > .tabs-content",e);k=a(".user-action-links .bilingual-menu .option > a",k);var t=a(".user-action-links .account-link",e),u=guxApp.tools.isMobile(),i=
a(".header-pop-up"),s=a("body");a(".burger-icon > div",e).on("click",function(){var b=a("#gux-header > .wrapper > .header-wrapper");a("> .content.active",m).removeClass("active");b.length>1&&b.first().remove();a("> li",r).removeClass("active");n.removeAttr("style");e.removeClass("show-panel");e.toggleClass("show");a(this).parent().toggleClass("open");s.toggleClass("no-scroll")});a("li > a",r).on("click",function(b){var c=a(this),d=c.attr("href"),f=c.parent(),p=c.parents(".tabs-mob").next(".tabs-content");
if(guxApp.viewport.view=="mobile")if(c.parent().hasClass("open-panel")){b.preventDefault();e.addClass("show-panel");f.siblings().removeClass("active");f.addClass("active");p.children(".content").removeClass("active");p.children(d).addClass("active");setTimeout(g,31)}else return true});a(m).bind("oanimationend transitionend animationend webkitAnimationEnd",function(){e.hasClass("show-panel")&&g()});a(".hide-panel",r).on("click",function(){e.removeClass("show-panel");n.removeAttr("style");return false});
a(".tab-nav",e).on("click",function(){var b=a(".accordion-block .tab-item .tab-nav.open",m),c=a(".tab-data > ul > li");b.length>0?b.next().find(c).each(function(d,f){setTimeout(function(){a(f).animate({"margin-top":0,opacity:1},300)},100+d*100)}).promise().done(function(){b.parent().siblings(".tab-item").find(c).each(function(){a(this).css({"margin-top":"30%",opacity:"0"})})}):a(this).next().find(c).each(function(){a(this).animate({"margin-top":"30%",opacity:1},300)})});a.subscribe("accordion-tab-nav-open",
function(b,c){b=a(".accordion-block .tab-item .tab-nav.open",m);var d=a(".accordion-block .tab-item .tab-nav",m),f=a(".tab-data > ul > li");if(a(c).parents(".primary-navigation").length){b.length===0&&d.next().find(f).each(function(){a(this).css({"margin-top":"30%",opacity:"0"})});setTimeout(function(){g()},850);a(c).hasClass("open")&&e.animate({scrollTop:0},{duration:100,complete:function(){var p=a(c).offset().top;e.animate({scrollTop:p},600)}})}});var v=_.debounce(function(){if(guxApp.viewport.view==
"mobile"){i.css("display","none");a(e).hasClass("show-panel")&&g()}else{if(a(".open-panel",j).hasClass("opened")){var b=a(window).width();i.css("display","block");if(b>=768&&b<=980)h(a(".open-panel.opened",j).children(".nav-panel").find(".links-list > .columns"),3);else{b=a(".primary-navigation-large .added-row");a(b).length&&b.contents().unwrap()}}a(".burger-icon").removeClass("open");a(e).hasClass("global-nav-large-show")||s.removeClass("no-scroll")}},100);a(window).on("resize",v);a("html").on("click",
function(b){var c=b.target;a(b.target).hasClass("search-input")||a(b.target).parents().hasClass("search-input")||a(".search-input",e).hide();a(b.target).parents().hasClass("primary-navigation-large")||o();if(!a(c).parents().hasClass("exempt"))if(i.css("display")!="none"){a("body").removeClass("no-scroll");i.fadeOut()}});a(".search-box > a").on("click",function(b){b.preventDefault();var c=a(".search-input");if(a(this).next(c).css("display")=="none"){a(this).next(c).show().find("input[name=searchKeyword]").focus();
i.fadeIn()}else{a(this).next(c).hide();i.fadeOut()}o();b.stopPropagation()});if(u===null){a(k).hover(function(b){b.preventDefault();a(this).next().toggle()});a(k).next().hover(function(){a(this).toggle()})}else a(k).on("click",function(b){b.preventDefault();a(this).next().toggle();return true});a(".nav-panel .nameplate",j).hide();a(".nav-panel .wrapper",j).hide();a(".open-panel > a",j).on("click",function(b){var c=a(this),d=c.parent().siblings(),f=c.siblings(".nav-panel");f.css("top","49px");if(c.siblings(".nav-panel").length){b.preventDefault();
d.removeClass("opened");d.find(".nav-panel .nameplate").css("display","none");d.find(".nav-panel .wrapper").css("display","none");d.find(".nav-panel .links-list").css("display","none");c.parent().toggleClass("opened");if(c.parent().hasClass("opened")){i.one().fadeIn();c.parent().hasClass("withTabs")?f.find(".wrapper").slideDown(150,function(){f.find(".nameplate").slideDown(100)}):f.find(".links-list").slideDown("fast")}else{i.one().fadeOut();c.parent().hasClass("withTabs")?f.find(".nameplate").slideUp(150,
function(){f.find(".wrapper").slideUp(100)}):f.find(".links-list").slideUp("fast")}}if(c.parent().hasClass("opened"))h(a(c.next(".nav-panel").find(".links-list > .columns")));else{b=a(".primary-navigation-large .added-row");a(b)&&b.contents().unwrap()}});q.guxNavTab(a(".nav-tab > a",".nav-panel"));a.subscribe("profile-done",function(){typeof guxPersonalisation.components!=="undefined"&&guxPersonalisation.psn.profile.authState==="OW"&&a("a span:last-child",t).attr("style","display: none !important")})}},
getWrapperHeight:function(){var g=a("#gux-header > .wrapper"),h=a(".header-wrapper",g);return g.outerHeight(true)-h.outerHeight(true)},guxNavTab:function(g){a(g).on("click",function(h){h.preventDefault();var l=a(this);h=a(this).parent();l=l.parent().index();var o=h.parent().next(".wrapper").find(".inner-panels").children(".sub-panel");h.siblings().removeClass("active");h.addClass("active");o.removeClass("active").eq(l).addClass("active")})},getBottom:function(g){return a(g).outerHeight(true)}};a(function(){q.init()})})(jQuery);

(function(a){var e={init:function(){if(a(".faq-search").length){this.initConfig();this.initTypeAhead();this.listenDropdownEvent();this.addMoreResultsEvent();_.templateSettings.variable="search"}},addMoreResultsEvent:function(){var c=a(".list-content ul li"),b=c.length,d=a(".list-content .button");if(b>15){a(c).filter(":gt(15)").hide();a(d).show()}else a(d).hide();a(d).click(function(f){f.preventDefault();a(d).hide();a(c).filter(":gt(15)").slideDown()})},listenDropdownEvent:function(){if(a(".dropdown-topics").length){a("#category").change(function(){if(isNaN(a("#category option:selected").val())){a("#subcategory").attr("disabled",
"disabled");a("#subcategory").prev().attr("disabled","disabled")}else{e.initDropdown(a("#category option:selected").val());a("#subcategory option").not(":eq(0)").remove()}});a("#subcategory").change(function(){a("#topic-dropdowns .button").attr("href",a("#subcategory option:selected").data().value);if(a("#category option:selected").text()&&a("#subcategory option:selected").text()){var b=a("#category option:selected").text().toLowerCase(),d=a("#subcategory option:selected").text().toLowerCase();a("#topic-dropdowns .button").attr("data-cat",
b).attr("data-subcat",d)}});a("#subcategory").attr("disabled","disabled");a("#subcategory").prev().attr("disabled","disabled");var c=a("#topic-dropdowns button");c.click(function(b){c.attr("href")==""&&b.preventDefault()})}},initConfig:function(){var c=a("#faq-services").embeddedData(),b=guxApp.tools.commonConfigData(),d=c["faq.topicitems"];b=b.site;e.urlQuery=c["faq.queryservices"].replace("{site}",b);e.urlTopic=d.replace("{site}",b);this.initBloodHound();if(a(".dropdown-topics").length)this.config=
{selectedIndex:"",selectedId:"",dropdown:{},templateDropdown:_.template(a("#subdropdown").html())}},initBloodHound:function(){this.topics=new Bloodhound({datumTokenizer:function(c){return Bloodhound.tokenizers.whitespace(c.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:e.urlQuery,filter:function(c){return a.map(c.topics,function(b){return{value:b.title,url:b.url}})}},limit:5});this.topics.initialize()},initTypeAhead:function(){var c=this;a("#faq .typeahead").typeahead({minLength:3},
{name:"value",displayKey:"value",source:c.topics.ttAdapter(),templates:{empty:function(){},suggestion:function(b){return'<div class="tt-suggest-topic"><a href="'+b.url+'">'+b.value+"</a></div>"}}})},initDropdown:function(c){var b=this;this.getData(e.urlTopic.replace("{topicId}",c),function(d){a("#subcategory").attr("disabled",false);a("#subcategory").prev().attr("disabled",false);b.config.dropdown=d.items;a("#subcategory").append(b.config.templateDropdown(b.config));a.uniform.update()},function(){})},
getData:function(c,b,d){a.ajax({url:c,async:true,cache:false,dataType:"json",headers:{"Cache-Control":"no-cache"},success:function(f){b(f)},error:function(f,g){d(c,f,g)}})}};a(function(){e.init()})})(jQuery);

(function(a){var e={init:function(){this.ppBlock=a(".payment-presenter");if(this.ppBlock.length){_.templateSettings.variable="pp";var b=this;a.urlParam=function(c){c=(new RegExp("[?&]"+c+"=([^&#]*)")).exec(window.location.href);return c==null?null:c[1]||0};b.nameplateId="";b.initRevealModel();b.registerCloseShowroom();b.initMiniShowroom();b.initConfig();b.initDropdown();b.updateBox(".change-model li","value");b.updateBox("#terms-dropdown .dropdown-list li","terms");b.initRestService();b.initPriceFormatter();
guxApp.innerPopup.init();a.subscribe("template-compiled",function(){if(b.config.derivativeData.terms[b.config.termIndex])_.has(b.config.derivativeData.terms[b.config.termIndex],"standard")?a(".payment-carousel .slides .item.standard",b.ppBlock).parent().css({display:"inline-block"}):a(".payment-carousel .slides .item.standard",b.ppBlock).parent().css({display:"none"});if(b.config.derivativeData.terms[b.config.termIndex])_.has(b.config.derivativeData.terms[b.config.termIndex],"subvented")?a(".payment-carousel .slides .item.subvented",
b.ppBlock).parent().css({display:"inline-block"}):a(".payment-carousel .slides .item.subvented",b.ppBlock).parent().css({display:"none"});a(".loading-icon",b.ppBlock).hide();a(".payment-carousel").slideDown();a(".flexslider").trigger("resize")})}},initConfig:function(){if(a("#payment-block").length)this.config={modelData:{},derivativeData:{},modelId:"",derivativeId:"",derivativeIndex:0,termIndex:0,site:"",emailBody:"",emailSender:"",groupingSep:"",currencySymbol:"",templateModel:_.template(a("#payment-block").html()),
templateTerms:_.template(a("#terms-block").html()),templateCarousel:_.template(a("#carousel-block").html()),templateSubvented:_.template(a("#subvented-block").html()),templateAccordion:_.template(a("#accordion-temp").html()),templateActionBar:_.template(a("#action-bar").html())}},initRestService:function(){var b=a("#payment-services").embeddedData(),c=guxApp.tools.commonConfigData(),d=a("#payment-text").embeddedData(),f=a("#mpz-config").embeddedData(),g=b["pp.model"];b=b["pp.derivative"];c=c.site;
this.config.site=c;var h=a.urlParam("ctx");this.config.emailBody=d["email.body"];this.config.emailSender=d["email.sender"];this.config.groupingSep=f.groupingSeparator;this.config.currencySymbol=f.currencySymbol;e.urlModel=g.replace("{site}",c);e.urlDerivatives=b.replace("{site}",c);if(h){this.populateModelSelect(e.urlModel.replace("{modelid}",h.substring(4)));this.config.modelId=h.substring(4)}else a("#mini-showroom").foundation("reveal","open")},initRevealModel:function(){a(document).on("opened.fndtn.reveal",
"[data-reveal]",function(){guxApp.innerPopup.init({container:".vehicle-list",popup:".inner-popup"})});a(document).on("closed.fndtn.reveal","[data-reveal]",function(){guxApp.innerPopup.init({container:"#page-wrapper",popup:".inner-popup"});guxApp.innerPopup.init()});a(document).on("close.fndtn.reveal","[data-reveal]",function(){a(".inner-popup.active .close-popup").trigger("click")});a(document).on("open.fndtn.reveal","[data-reveal]",function(){a(".inner-popup.active .close-popup").trigger("click")});
a(".mini-showroom").length&&a(".vehicle-footer").contents().remove()},populateModelSelect:function(b){var c=this;e.getData(b,function(d){c.config.modelData=d.nameplate;c.populateTermsSelect(c.config.modelData.derivatives[c.config.derivativeIndex].id);if(window._da&&window._da.om&&ND&&ND.omniture)_da.nameplate={year:c.config.modelData.year,name:c.config.modelData.analyticsName,cat:c.config.modelData.analyticsCategory,id:c.config.modelId}},function(){})},populateTermsSelect:function(b){if(b){var c=
this;c.config.derivativeId=b;e.getData(e.urlDerivatives.replace("{derivativeid}",b),function(d){c.config.derivativeData=d.derivative;c.config.derivativeData.latestOfferUrl=guxApp.viewport.view==="mobile"&&c.config.derivativeData.hotDealSmobUrl!=null?c.config.derivativeData.hotDealSmobUrl:c.config.derivativeData.hotDealUrl;a(".model-container",c.ppBlock).html(c.config.templateModel(c.config));a("#terms-dropdown .group .terms-container",c.ppBlock).html(c.config.templateTerms(c.config));a(".payment-carousel .slides .item.standard",
c.ppBlock).html(c.config.templateCarousel(c.config));a(".payment-carousel .slides .item.subvented",c.ppBlock).html(c.config.templateSubvented(c.config));a(".accordion-block .payment-details",c.ppBlock).html(c.config.templateAccordion(c.config));a(".action-holder",c.ppBlock).html(c.config.templateActionBar(c.config));a.publish("template-compiled")},function(){})}},getData:function(b,c,d){a.ajax({url:b,dataType:"json",success:function(f){c(f)},error:function(f,g){d(b,f,g)}})},initMiniShowroom:function(){var b=
a(".mini-showroom"),c=this;a(".section-cars",b).on("click","a",function(d){if(!a(d.target).data("disclosure")){d.preventDefault();c.nameplateId=a(this).closest(".vehicle").find(".vehicle-content").data().nameplateid;c.config.modelId=c.nameplateId;a("#mini-showroom .showroom-error").fadeOut();a("#mini-showroom").foundation("reveal","close");c.populateModelSelect(e.urlModel.replace("{modelid}",c.config.modelId));c.resetIndexes()}});a.subscribe("popup-opened",function(){if(guxApp.innerPopup.setting.container==
".vehicle-list"){var d=a(".inner-popup.active").css("top");d=d.substr(0,d.length-2)-a(window).height()/4+"px";console.log(d);a(".inner-popup.active").css({top:d})}})},initDropdown:function(){a(".payment-presenter").on("click",".sort-dropdown",function(b){b.preventDefault();a(this).toggleClass("active")})},resetIndexes:function(){this.config.termIndex=0;this.config.derivativeIndex=0},updateBox:function(b,c){var d=this;a(".payment-presenter").on("click",b,function(f){f.preventDefault();a(".sort-dropdown li",
d.container).removeClass("active");a(this).addClass("active");a(this).parent().prev().html('<span></span><a href="#">'+a("> a",this).text()+"</a>");if(c==="value"){d.config.termIndex=0;d.config.derivativeIndex=a(".change-model .sort-dropdown li",d.container).index(this);a(".model-container",d.ppBlock).html(d.config.templateModel(d.config));a("#terms-dropdown .group .terms-container",d.ppBlock).html(d.config.templateTerms(d.config));d.populateModelSelect(e.urlModel.replace("{modelid}",d.config.modelId))}else d.config.termIndex=
a("#terms-dropdown .sort-dropdown li",d.container).index(this);d.renderPartials();a.publish("template-compiled")})},renderPartials:function(){var b=this;a(".payment-carousel .slides .item.standard",b.ppBlock).html(b.config.templateCarousel(b.config));a(".payment-carousel .slides .item.subvented",b.ppBlock).html(b.config.templateSubvented(b.config));a(".accordion-block .payment-details",b.ppBlock).html(b.config.templateAccordion(b.config));a(".action-holder",b.ppBlock).html(b.config.templateActionBar(b.config))},
registerCloseShowroom:function(){var b=a("#mini-showroom"),c=this;a(".heading .icon-close",b).click(function(){typeof c.config.derivativeId==="string"?c.showroomError():a(b).foundation("reveal","close")});a("body").on("click",".reveal-modal-bg",function(){if(typeof c.config.derivativeId==="string"){c.showroomError();return false}})},showroomError:function(){a("#mini-showroom .showroom-error").fadeIn()},initPriceFormatter:function(){var b=this;guxApp.priceFormatter.initialise({formatString:b.config.currencySymbol,
thousandsSeparator:b.config.groupingSep})}};a(function(){e.init()});a(document).on("pageinit",function(){a(".showroom-container .ui-link").removeClass("ui-link")})})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.footer={init:function(){var b=this;b.wrapper=a("#gux-footer");b.windowWidth=a(window).width();if(b.wrapper.length){b.disableTabs();b.disableTelDesktop();setTimeout(function(){b.centerCols()},500);a(window).on("resize",_.debounce(b.resizeFuncs,250));guxApp.shareWidget.init("#gux-footer .social-icons")}},resizeFuncs:function(){if(a(window).width()!==guxApp.footer.windowWidth){guxApp.footer.disableTabs();guxApp.footer.disableTelDesktop();guxApp.footer.centerCols()}guxApp.footer.windowWidth=a(window).width()},
disableTabs:function(){var b=this;if(a(window).width()>767&&a(window).width()<990){a(".site-links .tab-1 .tab-nav, .site-links .tab-2 .tab-nav",b.wrapper).addClass("disable");a(".site-links .tab-3 .tab-nav, .site-links .tab-4 .tab-nav, .site-links .tab-5 .tab-nav, .site-links .tab-6 .tab-nav",b.wrapper).removeClass("disable");a(".site-links .tab-1 .tab-nav",b.wrapper).removeClass("open")}else a(window).width()>989?a(".site-links .tab-item .tab-nav",b.wrapper).addClass("disable"):a(".site-links .tab-item .tab-nav",
b.wrapper).removeClass("disable")},disableTelDesktop:function(){a('a[href^="tel"]',this.wrapper).on("click",function(b){if(a(window).width()>989){b.preventDefault();return false}else return true})},centerCols:function(){a(window).width()>991?a(".site-links > .row",this.wrapper).each(function(){var b=0,d=a(".columns",this).find(".columns"),c=a(this).parent().width();d.each(function(){b+=a(this).outerWidth(true)});b-=25;if(c>=b)a("body").hasClass("rtl")?a(this).css("margin-right",parseInt((c-b)/2)):
a(this).css("margin-left",parseInt((c-b)/2))}):a(".site-links > .row").css({marginLeft:"",marginRight:""})}};a(function(){guxApp.footer.init()})})(jQuery);

(function(a){var d={init:function(){if(a(".model-display.index-bar").length){this.registerControlEvents();this.highlightSelectedItem()}},highlightSelectedItem:function(){a.subscribe("flex-complete",function(){a(".flexslider.carousel-limit .slides li a").each(function(){var b=a(this),c=b.attr("href");window.location.href===c&&b.addClass("active")})})},registerControlEvents:function(){a(".next-smob").click(function(b){b.preventDefault();b=a(".smob-controls .prev-smob");a(".flexslider.carousel-limit").flexslider("next");
b.show();return false});a(".prev-smob").click(function(b){b.preventDefault();b=a(".smob-controls .next-smob");a(".smob-controls .prev-smob");a(".flexslider.carousel-limit").flexslider("prev");b.is(":hidden")&&b.show();return false})}};a(function(){d.init()})})(jQuery);

(function(d){var f={init:function(){if(d(".visual-indicator").length){var a=this;this.$window=d(window);this.$visualIndicator=d(".visual-indicator");this.$visualIndicator.append('<div class="indicator"><span></span></div>');this.$indicator=this.$visualIndicator.find(".indicator");this.indicatorHeight=this.$indicator.height();this.indicatorBottom=parseInt(this.$indicator.css("bottom"));this.hasFlexSlider=false;this.additionalHeight=90;this.paginationDefaultBottom=0;this.indicatorOffset=this.indicatorHeight+
(this.paginationDefaultBottom-(this.indicatorHeight+this.indicatorBottom));this.$window.on("resize",_.debounce(a.reposition.bind(a),100));this.$window.on("scroll",a.reposition.bind(a))}},checkFlexControlNav:function(){if(this.$visualIndicator.find(".flex-control-nav").length){this.$pagination=this.$visualIndicator.find(".flex-control-nav");this.paginationDefaultBottom=parseInt(this.$pagination.css("bottom"));this.indicatorOffset=this.indicatorHeight+(this.paginationDefaultBottom-(this.indicatorHeight+
this.indicatorBottom));this.hasFlexSlider=true}},reposition:function(){this.$visualIndicator.find(".flexslider").length&&this.hasFlexSlider==false&&this.checkFlexControlNav();var a=this.$window.height(),c=this.$visualIndicator.position(),e=this.$visualIndicator.outerHeight(),b=c.top+e;a=this.$window.scrollTop()+a;c=c.top+e*3/4+this.paginationDefaultBottom;if(a<c){b=b-(c-this.paginationDefaultBottom);this.hasFlexSlider&&this.$pagination.removeClass("indicator-fixed").css("bottom",b);this.$indicator.removeClass("indicator-fixed").css("bottom",
b-this.indicatorOffset).addClass("indicator-visible").addClass("ie8repaint").removeClass("ie8repaint")}else{if(a<b){this.hasFlexSlider&&this.$pagination.css("bottom","").addClass("indicator-fixed");this.$indicator.css("bottom","").addClass("indicator-fixed indicator-visible").addClass("ie8repaint").removeClass("ie8repaint")}else{this.hasFlexSlider&&this.$pagination.css("bottom","").removeClass("indicator-fixed");this.$indicator.css("bottom","").removeClass("indicator-fixed indicator-visible").addClass("ie8repaint").removeClass("ie8repaint")}b+=
this.additionalHeight;a<b&&this.$indicator.addClass("indicator-visible")}}};d(function(){f.init()})})(jQuery);

var guxPersonalisation=guxPersonalisation||{};(function(){guxPersonalisation.billboard={init:function(a){this.ruleEngine(a)},ruleEngine:function(a){var c=guxPersonalisation.rest.getURL("psn",a);guxPersonalisation.rest.getData(c).done(function(b){if(b&&b!=null&&!_.isEmpty(b)){b=guxApp.tools.cleanData(b);guxPersonalisation.rest.renderTemplate(a,b);typeof picturefill!=="undefined"&&picturefill();guxPersonalisation.rest.imageLoader(a,function(){guxPersonalisation.rest.loader(a);guxApp.billboardCarousel.init(a)})}else a.hide()}).fail(function(){a.hide()})}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};(function(){guxPersonalisation.showroom={init:function(a){this.ruleEngine(a)},ruleEngine:function(a){if(guxPersonalisation.psn.profile.authState==="OW")a.hide();else{a.show();typeof picturefill!=="undefined"&&picturefill();guxPersonalisation.rest.imageLoader(a,function(){guxPersonalisation.rest.loader(a)})}}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};(function(){guxPersonalisation.promotions={init:function(a){this.ruleEngine(a)},ruleEngine:function(a){if(guxPersonalisation.psn.profile.authState==="OW")a.hide();else{a.show();guxApp.billboardCarousel.init(a);typeof picturefill!=="undefined"&&picturefill();guxPersonalisation.rest.imageLoader(a,function(){guxPersonalisation.rest.loader(a)})}}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(a){guxPersonalisation.locatedealer={init:function(d){a(d).hide();var c=this,b=guxApp.tools.isAutoNaviMap()?guxApp.autonaviMapController:guxApp.googleMapController,f=a(".input-panel input[type=text]",d);d.hide();c.container=d;c.config=b.config;c.mapContainer=a("#map-container")[0];c.mapController=b;c.day=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()];this.ruleEngine(d);c.is_mobile=guxApp.viewport.view=="mobile";a(".search-panel .btn-current",
d).on("click",function(e){e.preventDefault();c.searchByPosition(f)});a(".search-panel",d).on("submit",function(e){e.preventDefault();c.searchDealersByKeyword(a(".keyword-field",d).val(),false);return false});a(".btn-search",d).on("click",function(e){if(a(this).is(".trackable")&&!e.originalEvent)return false});f.on("focus",function(){var e=this,h=a(e).attr("placeholder");a(e).val();if(a(e).attr("placeholder")){a(e).data("placeholder",h);a(e).removeAttr("placeholder")}});f.on("blur",function(){var e=
this;a(e).attr("placeholder");a(e).val()||a(e).attr("placeholder",a(e).data("placeholder"))});a(".input-panel input[type=text]",d).on("keyup",c.autoCompleteTrigger);guxPersonalisation.locatedealeralt&&guxPersonalisation.locatedealeralt.init(c)},ruleEngine:function(d){var c=this,b=c.mapController;guxPersonalisation.rest.loader(d);guxPersonalisation.psn.profile.authState==="AN"&&guxApp.locationAware.locationDetection(function(f,e){!guxApp.tools.isAutoNaviMap()&&f?b.searchDealersByLocation(f,a(".input-panel input[type=text]",
c.container),{},{},function(h,m){if(!h){c.showError(m?m:c.config.error_message.location_not_found);return false}c.is_autoDetection=e;c.processResults(h)},null,true):d.show()})},selectMarker:function(d,c){var b=this,f=b.mapController.map;f.deselectMarkers();guxApp.tools.isAutoNaviMap()||d.select();f.panTo(d.getPosition());b.is_mobile||d.showInfoWindow();a(".listing-number.active",b.container).removeClass("active");c.addClass("active")},initMarkerIcon:function(d,c,b){var f=this;a(f.container);var e;
e=f.mapController.map.addGuxMarker(d.location,c,_.template(a("#infobox-template").html(),d),function(){return function(){f.selectMarker(e,b)}}(d));b.on("click",function(){f.selectMarker(e,b)});return e},processResults:function(d,c){var b=guxPersonalisation.locatedealer,f=a(b.container),e=b.mapController,h=e.map,m=false,l=a(".slides",f);if(d.length){c=d.slice(0,5);a.each(c,function(i,g){g.hours=e.getDeptSchedule(g);var o=i;a.extend(g,{address:e.makeDealerAddress(g,b.config.addressFormat),dealershipURL:e.makeDealerURL(g),
index:o,is_mobile:b.is_mobile,is_open:e.is_dealerOpen(g,b.day),closeTime:e.getCloseTime(g,b.day),mapURL:e.makeMapURL(g.location,e.currentLocationCoords)});g.day_str=[];g.day_str_translated=[];for(i in b.config.translation.day_str){g.day_str.push(i);g.day_str_translated.push(b.config.translation.day_str[i])}if(g.PrimaryURL!=""&&g.PrimaryURL.indexOf("http://")!=0)g.PrimaryURL="http://"+g.PrimaryURL;g.distance||(g.distance="");g.nextOpenTime=e.getNextOpenTime(g);i=e.scheduleString(g,g.hours,b.day);g.schedule=
i.description;g.scheduleType=i.type;g.phoneNumbers=g.PrimaryPhone&&g.PrimaryPhone.length?g.PrimaryPhone.split(";"):[];g.dealerNewVehicle=g.DealerNewVehicle&&g.DealerNewVehicle.length?g.DealerNewVehicle.replace(/\s/g,"").split(/[;,]/g):[]});var j=c[0];c=_.rest(c);var k=_.template(a("#preferred-dealer-template").html(),j);k=a(".preferred-dealer",f).html(k);k=a(".listing-number",k);a(".slides .preferred .item",f).html(_.template(a("#preferred-dealer-mobile-template").html(),j));k.addClass("active");
var n=b.initMarkerIcon(j,1,k,true);_.each(c,function(i,g){g=g+2;i.index=g;var o=a(_.template(a("#other-dealers-template").html(),i)),p=a(".listing-number",o);l.append(o);b.initMarkerIcon(i,g,p)});_da&&_da.module&&_da.module.template&&a("section.personalisation a[href*='intcmp='],section.smartnextsteps a[href*='intcmp=']").each(function(){var i=a(this).attr("href");i.indexOf("STATUS")!=-1&&a(this).attr("href",i.replace("STATUS",_da.module.template))});b.container.show();b.showLocationAwarePanel();
a(".revealer-open",f).on("click",function(i){e.displayMap();h.setCenter({lat:j.location.lat,lng:j.location.lng});if(!m){n.select();b.is_mobile||n.showInfoWindow();m=true;h.setZoom(10)}i.preventDefault();return false});a(".link-search",f).on("click",function(){sessionStorage.dealers=JSON.stringify(d);sessionStorage.search_keyword=a(".input-panel").find(".keyword-field").val()});a(".input-panel",b.container).removeClass("active");guxApp.billboardCarousel.init()}else{b.showError(c);a(".input-panel",
b.container).removeClass("active")}},searchByPosition:function(d,c){var b=this,f=b.mapController,e=null;a(".error",b.container).hide();if(a(".input-panel",b.container).is(".active"))return false;a(".input-panel",b.container).addClass("active");if(navigator.geolocation)navigator.geolocation.getCurrentPosition(function(h){var m=h.coords.latitude;h=h.coords.longitude;clearTimeout(e);e=null;f.getAddressStringFromCoord({lat:m,lng:h},function(l){d.val(l);c&&a.isFunction(c)?f.searchDealersByLocation(l,d,
{},{},function(j,k){c(j,k)}):f.searchDealersByLocation(l,d,{},{},b.processResults,b.config.error_message.location_not_found)})},function(h){clearTimeout(e);e=null;c&&a.isFunction(c)&&c(false,h);switch(h.code){case h.PERMISSION_DENIED:b.showError(b.config.error_message.geolocation_error_denied);break;case h.POSITION_UNAVAILABLE:b.showError(b.config.error_message.geolocation_error);break;case h.TIMEOUT:b.showError(b.config.error_message.geolocation_error_timeout);break}a(".input-panel",b.container).removeClass("active")},
{timeout:7E3});else{clearTimeout(e);e=null;b.showError(b.config.error_message.geolocation_error_denied);a(".input-panel",b.container).removeClass("active")}e=setTimeout(function(){b.showError(b.config.error_message.geolocation_error_timeout);a(".input-panel",b.container).removeClass("active")},7E3)},searchDealersByKeyword:function(d,c){var b=this,f=b.mapController;/^\d/.test(d);var e=b.config.error_message.dealer_not_found;c=c||{};b.is_autoDetection=false;b.filters=[];a(".error",b.container).hide();
if(a(".input-panel",b.container).is(".active"))return false;a(".input-panel",b.container).addClass("active");if(d==""||!d){b.showError(b.config.error_message.blank_field);a(".input-panel",b.container).removeClass("active")}else{setTimeout(function(){f.searchDealersByKeyword(d,a(".input-panel input[type=text]",b.container),b.processResults,e)},3E3);b.loadedDealers=[]}},autoCompleteTrigger:function(d){var c=guxPersonalisation.locatedealer,b=c.mapController,f=a(this).val(),e=f.length,h=a(".search-panel"),
m=c.config.auto_suggest_limit,l=null,j=!d.charCode?d.which:d.charCode;String.fromCharCode(j).valueOf();if(d.altKey||d.ctrlKey||j==17||j==18)return false;if(l){clearTimeout(l);l=null}if(j==38||j==40){switch(j){case 38:var k=true;break;case 40:k=false;break}a(".dealer-disambiguation",c.container).is(":visible")&&c.selectSuggestion(this,k)}else if(f&&(/[A-Z]{2,}/.test(f)||e>=c.config.autocomplete_char_count))l=setTimeout(function(){if(a(".input-panel",c.container).is(".active"))return false;b.map.autocomplete(f,
m,function(n){var i=n.locations;n=_.pluck(n.dealers,"DealerName");if(i.length||n.length)c.showSuggestions(_.union(n,i),h)})},300)},selectSuggestion:function(d,c){var b=a(".search-panel .dealer-disambiguation"),f=a("li.active",b),e=f.next().length?f.next():a("li",b).eq(0);b=f.prev().length?f.prev():a("li",b).eq(a("li",b).length-1);f=e;if(c)f=b;f.addClass("active").siblings().removeClass("active");a(d).val(a("a",f).text())},showSuggestions:function(d,c){a(".search-panel .error").hide();if(d.length){a(".dealer-disambiguation",
c).show();a(".dealer-disambiguation ul",c).html(_.template(a("#dealer-disambiguation").html(),{suggestions:d}));a(".dealer-disambiguation a",a(c)).on("click",function(b){b.preventDefault();a(".input-panel input[type=text]",c).val(a(this).text());a(".dealer-disambiguation",c).hide();a(c).trigger("submit")})}else a(".dealer-disambiguation",c).hide()},showLocationAwarePanel:function(){var d=a(this.container);a(".dealer-unaware",d).hide();a(".location-aware",d).show()},showError:function(d){a(".error",
this.container).show().find(".text").text(d);a(".dealer-disambiguation",self.container).hide()}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(b){guxPersonalisation.locatedealeralt={init:function(k){var a=this;a.locatedealer=k;a.altThemeContainer=a.locatedealer.container.hasClass("alt-theme")?a.locatedealer.container:[];a.searchbtn=b(".actions-bar .button",a.altThemeContainer);a.searchContainer=b(".search-panel",a.altThemeContainer);a.vehicle=b("select[name='vehicle']",a.searchContainer);a.location=b("input[name='location']",a.searchContainer);if(a.altThemeContainer.length){a.vehicle&&a.vehicle.length&&a.vehicle.val("")&&a.vehicle.uniform.update();
a.location&&a.location.length&&a.location.val("");a.getOptData();a.searchbtn.on("click",function(f){f.preventDefault();f=b("select, input",a.searchContainer).serializeArray();var d=b("select[name='province']",a.searchContainer),c=b("select[name='city']",a.searchContainer),g=b("select[name='vehicle']",a.searchContainer),e=b("input[name='location']",a.searchContainer),l="",j={},m={};a.searchbtn.siblings(".error").removeClass("active");if(d.val().length&&c.val().length){b.each(f,function(i,h){if(h.value!=
"")l+=h.value});a.locatedealer.loadedDealers=[];if(guxApp.tools.isAutoNaviMap()){j={AdministrativeArea:d.val()||"",Locality:c.val()||""};m={_name:e.val()||"",DealerNewVehicle:g.val()||""};a.locatedealer.mapController.searchDealersByLocation(l,false,j,m,function(i,h){h=h||(guxPersonalisation.locatedealer.config.error_message?guxPersonalisation.locatedealer.config.error_message.dealer_not_found:"No results were Found. Please try a different search.");sessionStorage.dealers=JSON.stringify(i);sessionStorage.search_province=
d.val();sessionStorage.search_city=c.val();sessionStorage.error_message=h;e.length&&e.val().length&&(sessionStorage.search_location=e.val());g.length&&g.val().length&&(sessionStorage.search_vehicle=g.val());window.history.pushState&&window.history.pushState("","",window.location.href);window.location.href=a.searchContainer.attr("action")})}else a.locatedealer.mapController.searchDealersByProperties({AdministrativeArea:d.val(),Locality:c.val()},{},function(i,h){h=h||(guxPersonalisation.locatedealer.config.error_message?
guxPersonalisation.locatedealer.config.error_message.dealer_not_found:"No results were Found. Please try a different search.");sessionStorage.dealers=JSON.stringify(i);sessionStorage.search_province=d.val();sessionStorage.search_city=c.val();sessionStorage.error_message=h;e.length&&e.val().length&&(sessionStorage.search_location=e.val());g.length&&g.val().length&&(sessionStorage.search_vehicle=g.val());window.history.pushState&&window.history.pushState("","",window.location.href);window.location.href=
a.searchContainer.attr("action")})}else a.searchbtn.siblings(".error").addClass("active").find(".text").text(a.locatedealer.mapController.config.error_message.isMandatory);return false});b(".btn-current",a.searchContainer).off("click").on("click",function(f){f.preventDefault();a.locatedealer.searchByPosition(b("input[name='location']",a.searchContainer),function(d){if(d){sessionStorage.dealers=JSON.stringify(d);window.location.href=a.searchContainer.attr("action")}})})}},getOptData:function(){var k=
this,a=b("#cityDropdownData"),f=[],d=b("select[name='province']",k.altThemeContainer),c=b("select[name='city']",k.altThemeContainer);c.prop("disabled","disabled").closest(".dropdown").addClass("disabled");d.uniform.update();c.uniform.update();if(a.length>0&&a.embeddedData().list&&a.embeddedData().list.length)f=a.embeddedData().list[0].states;f.length>0&&b.each(f,function(g,e){b("<option value='"+e[1].name+"'>"+e[1].name+"</option>").appendTo(d)});d.on("change",function(){var g=b(this).val(),e=false;
c.val("");c.uniform.update();b.each(f,function(l,j){if(g==j[1].name){c.children("option:gt(0)").remove();b.each(j[1].cities,function(m,i){b("<option value='"+i[1].name+"'>"+i[1].name+"</option>").appendTo(c)});e=true}if(e)return false});d.val()==""?c.prop("disabled","disabled").closest(".dropdown").addClass("disabled"):c.prop("disabled",false).closest(".dropdown").removeClass("disabled")})}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(){guxPersonalisation.recentlyviewed={init:function(f){this.ruleEngine(f)},ruleEngine:function(f){if(guxPersonalisation.psn.profile.authState==="OW")f.hide();else guxPersonalisation.psn.profile.authState==="AN"?guxPersonalisation.fps.get([{RecentlyViewedVehicles:{}}],function(j){var g=j[0].RecentlyViewedVehicles,d={};if(g&&g!=null&&!_.isEmpty(g)){j=guxPersonalisation.rest.getURL("rvv");for(var n=guxApp.tools.getObjectLength(g),l=[],m={},c=0;c<=n-1;c++)d[c]=g[c];for(c=guxApp.tools.getObjectLength(d)-
1;c>=0;c--)if(typeof d[c]!="undefined"&&d[c]._nameplate!=":"&&d[c]._on!=""){g=d[c]._nameplate.split(":")[0];l.push({rid:g,on:d[c].on})}d=_.uniq(l,function(b){return JSON.stringify(b.rid)});var k=_.sortBy(d,function(b){return JSON.stringify(b.on)}).reverse();guxPersonalisation.rest.getData(j).done(function(b){if(b&&b!=null&&!_.isEmpty(b)){for(var h=guxPersonalisation.components.componentItems.recentlyviewed,e=0,i=k.length-1;i>=0;i--)for(var a=b.length-1;a>=0;a--)if(k[i].rid===b[a].id){var o={id:b[a].id,
on:k[i].on,modelPageUrl:b[a].modelPageUrl,modelSmobPageUrl:b[a].modelSmobPageUrl,imageMidResURL:b[a].imageMidResURL,modelYear:b[a].modelYear,vehicleName:b[a].name,price:guxApp.priceFormatter.format(b[a].price)};m[e]=o;e++}b=_.sortBy(m,function(p){return JSON.stringify(p.on)}).reverse();a=guxApp.tools.getObjectLength(b);e=0;i={};if(a>1){if(a>=2&&a<=3){if(a===2)e=2;if(a===3)e=3}else if(a>=4)e=4;for(a=1;a<=e;a++)if(a!=e)i[a]=b[a];h.show();guxPersonalisation.rest.renderTemplate(h,i);guxApp.billboardCarousel.init(h);
guxPersonalisation.rest.imageLoader(h,function(){guxPersonalisation.rest.loader(h)})}else h.hide()}else h.hide()}).fail(function(){f.hide()})}else f.hide()},function(){f.hide()}):f.hide()}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(c){guxPersonalisation.knowvehicle={init:function(a){this.ruleEngine(a)},ruleEngine:function(a){if(guxPersonalisation.psn.profile.authState==="OW"){var d=guxPersonalisation.rest.getURL("nameplates",a);guxPersonalisation.rest.getData(d).done(function(b){if(b&&b!=null&&!_.isEmpty(b)&&!_.isEmpty(b.data.tiles)){guxPersonalisation.rest.renderTemplate(a,b.data);c.parseJSON(c.cookie("dfy.u"));var e=c(a).find(".heading h1").text(),f=c(a).find(".heading h2").text();c(a).find(".heading h1").text(e.replace("%1",
b.data.modelShortName));c(a).find(".heading h2").text(f.replace("%1",b.data.modelShortName));guxApp.billboardCarousel.init(a);guxApp.mediaOverlay.init();guxPersonalisation.rest.imageLoader(a,function(){guxPersonalisation.rest.loader(a)})}else a.hide()}).fail(function(){a.hide()})}else a.hide()}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(c){guxPersonalisation.dealermessage={init:function(a){this.ruleEngine(a)},ruleEngine:function(a){if(guxPersonalisation.psn.profile.authState==="OW"&&guxPersonalisation.psn.profile.dc!==""){a.show();var f=guxPersonalisation.rest.getURL("dealers",a);guxPersonalisation.rest.getData(f).done(function(b){if(b&&b!=null&&!_.isEmpty(b)){var d=c.parseJSON(c.cookie("dfy.u"));guxApp.googleMapController.getCoordsFromAddressString(d.pc,function(e){b.destinationURL=guxApp.googleMapController.makeMapURL({lat:b.latitudeLongitude.latitude,
lng:b.latitudeLongitude.longitude},{lat:e[0].lat,lng:e[0].lng});guxPersonalisation.rest.renderTemplate(a,b);c(a).find(".message p").text(c(a).find(".message p").text().replace("[Name]",d.fn));c(a).find(".message p").text(c(a).find(".message p").text().replace("[Nameplate]",d.now));guxPersonalisation.rest.loader(a)})}else a.hide()}).fail(function(){a.hide()})}else a.hide()}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(c){guxPersonalisation.accessories={init:function(a){this.ruleEngine(a)},ruleEngine:function(a){if(guxPersonalisation.psn.profile.authState==="OW"){var d=guxPersonalisation.rest.getURL("nameplates",a);guxPersonalisation.rest.getData(d).done(function(b){if(b&&b!=null&&!_.isEmpty(b)&&!_.isEmpty(b.data.tiles)){guxPersonalisation.rest.renderTemplate(a,b.data);c.parseJSON(c.cookie("dfy.u"));var e=c(a).find(".heading h1").text();c(a).find(".heading h1").text(e.replace("%1",b.data.modelShortName));
guxApp.billboardCarousel.init(a);guxPersonalisation.rest.imageLoader(a,function(){guxPersonalisation.rest.loader(a)})}else a.hide()}).fail(function(){a.hide()})}else a.hide()}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};(function(){guxPersonalisation.brandgallery={init:function(a){this.ruleEngine(a)},ruleEngine:function(a){guxPersonalisation.rest.loader(a);guxPersonalisation.psn.profile.authState==="OW"?a.hide():a.show()}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(c){guxPersonalisation.smartnextsteps={init:function(){this.ruleEngine()},ruleEngine:function(){var a=guxApp.tools.commonConfigData(),e=a!=null&&a.fsTools?c.map(a.fsTools.split("#"),function(b){return b===""?null:b}):null,f=a!=null&&a.anTools?c.map(a.anTools.split("#"),function(b){return b===""?null:b}):null,g=a!=null&&a.owTools?c.map(a.owTools.split("#"),function(b){return b===""?null:b}):null,h=a!=null&&a.smobFsTools?c.map(a.smobFsTools.split("#"),function(b){return b===""?null:b}):null,
i=a!=null&&a.smobAnTools?c.map(a.smobAnTools.split("#"),function(b){return b===""?null:b}):null;a=a!=null&&a.smobOwTools?c.map(a.smobOwTools.split("#"),function(b){return b===""?null:b}):null;var j=c.map(guxPersonalisation.psn.profile.kba.split("#"),function(b){return b===""?null:b}),d;if(guxApp.viewport.view==="mobile")if(guxPersonalisation.psn.profile.authState==="OW")d=a;else if(guxPersonalisation.psn.profile.authState==="FS")d=h;else{if(guxPersonalisation.psn.profile.authState==="AN")d=i}else if(guxPersonalisation.psn.profile.authState===
"OW")d=g;else if(guxPersonalisation.psn.profile.authState==="FS")d=e;else if(guxPersonalisation.psn.profile.authState==="AN")d=f;this.snsArbiter(d,j)},snsArbiter:function(a,e){for(var f in e){var g=e[f],h=c.inArray(g.toString().slice(0,-1),a);h!=-1&&g!=null&&a.splice(h,1)}if(a!=undefined||a!=null)if(a[0]!=""&&a[0]!=undefined&&a[0]!=null)this.showNextStep(c("."+a[0].toLowerCase()),true,true);else c(".smartnextsteps.owner-reg").length&&this.showNextStep(c(".smartnextsteps.owner-reg"),true,true)},showNextStep:function(a,
e,f){c(".smartnextsteps").hide();a.show();typeof picturefill!=="undefined"&&e===true&&picturefill();if(f===true){guxApp.billboardCarousel.init(a);guxApp.viewport.view!=="mobile"&&c(".flex-direction-nav",a).length>0&&c(".flex-direction-nav",a).show()}guxPersonalisation.rest.imageLoader(a,function(){guxPersonalisation.rest.loader(a)})}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(a){guxPersonalisation.components={componentItems:{},init:function(){a(".personalisation").length&&a(".personalisation").each(function(){var b=a(this);guxPersonalisation.components.componentItems[b.data("psn-module")]=b})},execute:function(){var b=guxPersonalisation.components.componentItems.billboard,d=guxPersonalisation.components.componentItems.brandgallery,e=guxPersonalisation.components.componentItems.knowvehicle,f=guxPersonalisation.components.componentItems.dealermessage,c=guxPersonalisation.components.componentItems.locatedealer,
g=guxPersonalisation.components.componentItems.accessories,h=guxPersonalisation.components.componentItems.promotions,i=guxPersonalisation.components.componentItems.recentlyviewed,j=guxPersonalisation.components.componentItems.showroom;a(b).length>0&&guxPersonalisation.billboard.init(b);a(d).length>0&&guxPersonalisation.brandgallery.init(d);a(e).length>0&&guxPersonalisation.knowvehicle.init(e);a(f).length>0&&guxPersonalisation.dealermessage.init(f);if(a(c).length>0)guxApp.tools.isAutoNaviMap()&&!guxApp.autonaviMapController?
a.subscribe("amap-api-done",function(){guxPersonalisation.locatedealer.init(c)}):guxPersonalisation.locatedealer.init(c);a(g).length>0&&guxPersonalisation.accessories.init(g);a(h).length>0&&guxPersonalisation.promotions.init(h);a(i).length>0&&guxPersonalisation.recentlyviewed.init(i);a(j).length>0&&guxPersonalisation.showroom.init(j);guxPersonalisation.smartnextsteps.init()}};a(function(){guxPersonalisation.components.init()})})(jQuery);

var guxPersonalisation=guxPersonalisation||{};(function(){guxPersonalisation.fps={done:false,get:function(c,d,e,a){var b;if(typeof a==="function")b=a();if(typeof FPS!="undefined")FPS.get(c,{success:d,error:e,complete:b});else return false}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(e){guxPersonalisation.rest={getURL:function(b,c){var i=guxPersonalisation.psn.profile,g=e.cookie("dfy.u")?e.parseJSON(e.cookie("dfy.u")):null,j=e(c).data("psn-type"),k=e(c).data("psn-id"),d=guxApp.tools.commonConfigData(),f=guxApp.tools.restServicesData();g=g!=null?g.now:null;var h=d!=null&&d.site?d.site:null,l=d!=null&&d.priceZone?d.priceZone:null,m=d!=null&&d.brand?d.brand:null;d=d!=null&&d.countryCode?d.countryCode:null;var a;if(b==="psn"){a=f?f.psn:null;if(a!==null&&h!==null&&j&&k){a=
a.replace("{site}",guxApp.tools.encode(h));a=a.replace("{assettype}",guxApp.tools.encode(j));a=a.replace("{contentid}",guxApp.tools.encode(k))+"?profile="+this.urlPersonalisation(i)}}else if(b==="rvv"){a=f?f.rvv:null;if(a!==null&&h!==null&&l){a=a.replace("{site}",guxApp.tools.encode(h));a=a.replace("{priceZone}",guxApp.tools.encode(l))}}else if(b==="nameplates"){a=f?f.nameplates:null;if(a!==null&&g!==null&&g!==""&&e(c).data("psn-module")&&h!==null){a=a.replace("{nameplate}",guxApp.tools.encode(g));
a=a.replace("{type}",e(c).data("psn-module")==="accessories"?guxApp.tools.encode("accessories"):guxApp.tools.encode("know-your-vehicle"));a=a.replace("{site}",guxApp.tools.encode(h))}}else if(b==="dealers"){a=f?f["dealer.code"]:null;if(a!==null&&i.dc!==""){a=a.replace("{site}",guxApp.tools.encode(h));a=a.replace("{code}",guxApp.tools.encode(i.dc))}}else if(b==="fps"){a=f?f.fps:null;if(a!==null&&m!==null&&d!==null){a=a.replace("{brand}",guxApp.tools.encode(m));a=a.replace("{countryCode}",guxApp.tools.encode(d))}}return a},
getData:function(b){return e.ajax({url:b,type:"GET",dataType:"json"})},urlPersonalisation:function(b){var c={};_.each(b,function(){b.authState&&b.authState!=""&&(c.authState=guxApp.tools.encode(b.authState));b.now&&b.now!=""?(c.now=guxApp.tools.encode(b.now)):(c.now="");b.noi&&b.noi!=""&&(c.noi=guxApp.tools.encode(b.noi))});return JSON.stringify(c).replace(/\s/g,"%20")},renderTemplate:function(b,c){var i=b.data("psn-module"),g=e("#"+i+"-template",b).html();b.find("."+i+"-template").html(_.template(g,
{data:c}))},loader:function(b){b.children(".loading").remove();b.children(".psn-loader").removeClass("psn-loader")},imageLoader:function(b,c){imagesLoaded(b).on("always",function(){guxApp.viewport.view!=="mobile"&&e(".flex-direction-nav",b).length>0&&e(".flex-direction-nav",b).show();typeof c==="function"&&c()})}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(b){guxPersonalisation.psn={uuid:{},profile:{},init:function(){var a,c;b.subscribe("profile-done",function(){typeof guxPersonalisation.components!=="undefined"&&guxPersonalisation.components.execute()});a=function(i){guxPersonalisation.psn.setProfile(i)};c=function(){};typeof FPS!=="undefined"&&FPS.get([{KBA:{}},{LastViewedVehicle:{}},{RecentlyViewedVehicles:{}},{PreferredDealer:{}}],{success:a,error:c})},setUUID:function(){if(b.cookie("dfy.uuid"))guxPersonalisation.psn.uuid=b.parseJSON(JSON.stringify(b.cookie("dfy.uuid")));
else if(typeof uuid!=="undefined"){var a=guxPersonalisation.psn.commonConfig(),c=window.location.host;if(a!==null&&a.cookieDomain)c=a.cookieDomain;guxPersonalisation.psn.uuid={id:uuid.v1()};b.cookie("dfy.uuid",JSON.stringify(guxPersonalisation.psn.uuid),{expires:1825,path:"/",domain:c})}},setProfile:function(a){if(typeof sessionStorage!=="undefined")if(sessionStorage.getItem("dfy.p")===null){sessionStorage.setItem("dfy.p",JSON.stringify(this.fillProfile(a)));guxPersonalisation.psn.setUUID()}else{guxPersonalisation.psn.setUUID();
sessionStorage.setItem("dfy.p",JSON.stringify(this.fillProfile(a)))}else if(b.cookie("dfy.p")){guxPersonalisation.psn.setUUID();b.cookie("dfy.p",JSON.stringify(this.fillProfile(a)),{path:"/",domain:i})}else{var c=guxPersonalisation.psn.commonConfig(),i=window.location.host;if(c!==null&&c.cookieDomain)i=c.cookieDomain;b.cookie("dfy.p",JSON.stringify(this.fillProfile(a)),{path:"/",domain:i});guxPersonalisation.psn.setUUID()}},fillProfile:function(a){function c(l){for(var o in l)if(l.hasOwnProperty(o))return false;
return true}function i(l){return l.sort(function(o,s){var t=o.on,u=s.on;return t<=u?-1:1}).reverse()}var e=guxPersonalisation.psn.commonConfig(),j=null,d=null,k=null;if(b.cookie("dfy.uuid"))j=b.parseJSON(b.cookie("dfy.uuid"));if(b.cookie("dfy.u"))d=b.parseJSON(b.cookie("dfy.u"));if(b.cookie("dfy.dl"))k=b.cookie("dfy.dl");var r="NoVehicle",p="",m=[];k=k!=null?k:"";if(typeof a!=="undefined"&&a!==null&&!c(a)){var h=a[0].KBA,n=a[1].LastViewedVehicle,g=a[2].RecentlyViewedVehicles;a=a[3].PreferredDealer;
if(typeof h!=="undefined"&&!c(h)){p="#";for(var f in h)if(h.hasOwnProperty(f))p+=h[f]._KBA+"#"}if(typeof g!=="undefined"&&!c(g)){n=i(g);r=n[0]._nameplate.split(":")[1];for(f in g)g.hasOwnProperty(f)&&m.push({_nameplate:g[f]._nameplate});m=JSON.stringify(m)}if(typeof a!=="undefined"&&!c(a)){a=i(a);k=a[0]._paCode}}h=a=f="";n=j?j.id:"";var q=g="";if(this.viewport()==="mobile")if(d!==null){a=d.s;h=d.now;g=d.authid;q=d.fn}else if(j===null){a="FS";if(e!=null&&e.smobFsTools)f=e.smobFsTools}else{if(j!=null&&
d===null){a="AN";if(e!=null&&e.smobAnTools)f=e.smobAnTools}}else if(d!==null){a=d.s;h=d.now;g=d.authid;q=d.fn}else if(j===null){a="FS";if(e!=null&&e.fsTools)f=e.fsTools}else if(j!=null&&d===null){a="AN";if(e!=null&&e.anTools)f=e.anTools}guxPersonalisation.psn.profile={authState:a,now:h,noi:r,id:n,authid:g,tools:f,kba:p,fn:q,f:"",rvv:m,dc:k};b.publish("profile-done");return guxPersonalisation.psn.profile},commonConfig:function(){return b("#common-config").length?b("#common-config").embeddedData():
null},viewport:function(){this.view=b(window).width()<768?"mobile":"tablet";return""}};b(function(){guxPersonalisation.psn.init()})})(jQuery);

ND.shoppingPreferenceManager=function(c){var h={prefix:"shopping.pref.",list:{postcode:"pc",usage:"us",usageLabel:"us.l",region:"rg",regionLabel:"rg.l",pricezone:"pz",pricezoneLabel:"pz.l",priceformatData:"pf"},init:function(){this.cache={};this.store={};this.listen();this.upgradeCookie()},prepare:function(){var a=this,b=null,e=typeof c("#common-config")!="undefined"&&c("#common-config").length>0?JSON.parse(c("#common-config").html()):null;if(e!=null&&e.cookieDomain)b=e.cookieDomain;c.each(a.list,
function(d,g){var f;f=Object.create(ND.cacheStore);f.key="sp."+g;f.expires=365;if(b)f.domain=b;if(g=f.get())a.cache[d]=g;a.store[d]=f});a.prepare=c.noop},listen:function(){var a=this;this.pubsub={save:function(e,d){d&&a.setStoreData(d);c.publish(a.prefix+"change",a.getStoreData())},clear:function(){a.clearStoreData();c.publish(a.prefix+"change",a.getStoreData())},retrieve:function(e,d){c.isFunction(d)&&d.apply(null,[e,a.getStoreData()])},destroy:function(){a.destroy()}};for(var b in this.pubsub)c.subscribe(this.prefix+
b,this.pubsub[b])},getStoreData:function(){this.prepare();return c.extend({},this.cache)},setStoreData:function(a){var b=this;b.prepare();(a=this.checkDefaults(a))&&c.each(a,function(e,d){if(e in b.list){b.store[e].set(d);if(typeof d!=="undefined"&&String(d).length)b.cache[e]=d;else delete b.cache[e]}})},clearStoreData:function(){this.cache={};c.each(this.store,function(a,b){b.set()})},checkDefaults:function(a){if(a&&a.postcode&&!this.cache.usage&&!a.usage){a.usage="p";a.usageLabel="Personal"}return a},
upgradeCookie:function(){var a,b;b=Object.create(ND.cacheStore);b.key="price.usage";a=typeof c("#common-config")!="undefined"&&c("#common-config").length>0?JSON.parse(c("#common-config").html()):null;if(a!=null&&a.cookieDomain)b.domain=a.cookieDomain;if(a=b.get()){c.publish(this.prefix+"save",a);b.set()}},destroy:function(){for(channel in this.pubsub)c.unsubscribe(this.prefix+channel,this.pubsub[channel]);this.cache=this.store=this.pubsub=this.prefix=this.list=null}};return function(a){var b=Object.create(h);
b.init.call(b,a);return b}}(jQuery);

(function(){var k=(window.ND=window.ND||{}).fps={_init:function(a){this._fpstag=a},pageClicks:{},trackPageView:function(a){k.trackFps(a)},trackLink:function(a){k.trackFps(a)},trackFps:function(a){var e="",j={},l={},m={},n={},o={},p={},q={},c="",f="",g="",h="",d="",i="",b=false;if(typeof a!=="undefined"&&typeof a.nameplate!=="undefined"){if(typeof _da!=="undefined"&&typeof _da.nameplate!=="undefined")if(a.nameplate==_da.nameplate.name){if(typeof _da.om.site!=="undefined")g=_da.om.site;if(typeof _da.nameplate!==
"undefined"){if(typeof _da.nameplate.name!=="undefined")d=_da.nameplate.name;if(typeof _da.nameplate.id!=="undefined")i=_da.nameplate.id;if(typeof _da.nameplate.year!=="undefined")h=_da.nameplate.year}if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")c=_da.der.name;if(typeof _da.der.id!=="undefined")f=_da.der.id}if(d!=""){j={ViewedVehicle:{_year:h,_brand:g,_nameplate:i+":"+d,_trim:f+":"+c,_interior:"",_exterior:""},metadata:{active:"true"}};b=true}}}else if(typeof _da!=="undefined"){if(typeof _da.om.site!==
"undefined")g=_da.om.site;if(typeof _da.nameplate!=="undefined"){if(typeof _da.nameplate.name!=="undefined")d=_da.nameplate.name;if(typeof _da.nameplate.id!=="undefined")i=_da.nameplate.id;if(typeof _da.nameplate.year!=="undefined")h=_da.nameplate.year}if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")c=_da.der.name;if(typeof _da.der.id!=="undefined")f=_da.der.id}if(d!=""){j={ViewedVehicle:{_year:h,_brand:g,_nameplate:i+":"+d,_trim:f+":"+c,_interior:"",_exterior:""},metadata:{active:"true"}};
b=true}}if(typeof _da.events!=="undefined"){if(typeof guxPersonalisation!=="undefined")if(typeof guxPersonalisation.psn.profile.kba!=="undefined")e=guxPersonalisation.psn.profile.kba;for(c=0;c<_da.events.length;c++){a=_da.events[c];if(a=="event2")if(e.search("BAPC")==-1){p={KBAEvent:{_KBA:"BAPC"},metadata:{active:"true"}};b=true}if(a=="event3")if(e.search("RAQC")==-1){q={KBAEvent:{_KBA:"RAQC"},metadata:{active:"true"}};b=true}if(a=="event15")if(e.search("BRQC")==-1){o={KBAEvent:{_KBA:"BRQC"},metadata:{active:"true"}};
b=true}if(a=="event20")if(e.search("RTDC")==-1){n={KBAEvent:{_KBA:"RTDC"},metadata:{active:"true"}};b=true}}}if(typeof guxPersonalisation!=="undefined"){if(typeof guxPersonalisation.psn.profile.authid!=="undefined"){m={ExternalRef:{_type:"DFL",_id:guxPersonalisation.psn.profile.authid},metadata:{active:"true"}};b=true}if(typeof guxPersonalisation.psn.profile.id!=="undefined"){l={ExternalRef:{_type:"DFLA",_id:guxPersonalisation.psn.profile.id},metadata:{active:"true"}};b=true}}typeof FPS!=="undefined"&&
b&&FPS.set([j,p,o,n,q,m,l])},trackEvent:function(a){a.type=="fav-dealer"&&typeof FPS!=="undefined"&&FPS.set([{PreferredDealer:{_paCode:a.code},metadata:{active:"true"}}])},trackSocial:function(){},trackField:function(){},preCollection:function(){}}})();

(function(){var c=(window.ND=window.ND||{}).omniture={_init:function(a){this._omtag=a},pageClicks:{},moduleTypes:{},trackPageView:function(a){if(typeof a.login!=="undefined")s.eVar42="x"},createHier1:function(a){s.hier1=typeof a!=="undefined"?a:_da.hier},createPageName:function(a){s.pageName=typeof a!=="undefined"&&a!==""&&typeof a.pname!=="undefined"&&a.pname!==""?(s.eVar11=s.prop11=a.pname):(s.eVar11=s.prop11=_da.pname);if(_da.funnel.stepname){s.pageName=s.pageName+":"+_da.funnel.stepname;s.eVar11=
s.eVar11+":"+_da.funnel.stepname;s.prop11=s.prop11+":"+_da.funnel.stepname}if(_da.pagenumber){s.pageName+=_da.pagenumber;s.eVar11+=_da.pagenumber;s.prop11+=_da.pagenumber}if(typeof _da.sync!=="undefined")if(typeof _da.sync.version!=="undefined"){s.pageName=s.pageName+":"+_da.sync.version;s.eVar11=s.eVar11+":"+_da.sync.version;s.prop11=s.prop11+":"+_da.sync.version}if(typeof _da.prefix!=="undefined"){s.pageName=_da.prefix+":"+s.pageName;s.eVar11=_da.prefix+":"+s.eVar11;s.prop11=_da.prefix+":"+s.prop11}if(typeof a!==
"undefined"&&typeof a.nameplate!=="undefined"&&a.nameplate!=="none")s.pageName=s.pageName+":"+a.nameplate;else if(typeof _da.nameplate!=="undefined")s.pageName=s.pageName+":"+_da.nameplate.name;if(typeof _da.radui!=="undefined"){a=_da.radui;var b=$(window).width();a=a.split("|");if(b>976)s.prop54=s.eVar54=a[0]+a[1];else if(b<977&&b>767)s.prop54=s.eVar54=a[0]+a[2];else if(b<768)s.prop54=s.eVar54=a[0]+a[3]}},setRegion:function(){s.prop2=typeof _da.region!=="undefined"?(s.eVar2=_da.region):(s.eVar2=
undefined)},trackDerivativeDetails:function(){s.eVar18=s.eVar19=s.eVar20=s.eVar21=s.eVar23=s.eVar24=s.eVar25=undefined;if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")s.eVar18=_da.der.name;if(typeof _da.der.colour!=="undefined"&&typeof _da.der.trim!=="undefined")s.eVar19=_da.der.colour+":"+_da.der.trim;if(typeof _da.der.features!=="undefined")s.eVar20=_da.der.features;if(typeof _da.der.options!=="undefined")s.eVar21=_da.der.options;if(typeof _da.der.optionpacks!=="undefined")s.eVar23=
_da.der.optionpacks;if(typeof _da.der.engine!=="undefined")s.eVar24=_da.der.engine;if(typeof _da.der.price!=="undefined")s.eVar25=_da.der.price}},trackLink:function(a){if(a!==undefined){s.channel=_da.funnel.name;s.eVar4=s.prop4=_da.om.lang;s.eVar14=s.prop14=_da.om.client;s.eVar15=s.prop15=_da.om.site;s.prop57=s.eVar57=undefined;s.prop55=s.eVar55=undefined;s.linkTrackVars=_da.om.linkTrackVars;s.linkTrackEvents=_da.om.linkTrackEvents;if(_da.nameplate&&_da.nameplate.name&&a.nameplate===undefined)a.nameplate=
_da.nameplate.name;c.createPageName(a);typeof a.hier1!=="undefined"&&a.hier1!==""?c.createHier1(a.hier1):c.createHier1(_da.hier);if(a.intcmp)s.eVar13=s.prop13=a.intcmp;s.eVar6=a.referred?(s.prop6=a.referred):(s.prop6=undefined);s.prop5=a.onclicks;s.prop18=a.leadtype;s.prop48=s.eVar48=a.tool;s.prop49=s.eVar49=a.tooldesc;if(typeof _da.deviceType!=="undefined")s.eVar54=_da.deviceType;s.events=a.events;if(a.year||typeof _da.nameplate!=="undefined"){if(a.year)s.prop12=s.eVar12=a.year;if(typeof _da.nameplate!==
"undefined"&&!a.year)s.prop12=s.eVar12=_da.nameplate.year}else s.prop12=s.eVar12=undefined;if(a.nameplate&&a.nameplate!=="none"){s.prop16=s.eVar16=a.nameplate;a.title=a.titleNameplate=="none"?a.title:a.title+":"+a.nameplate;c.trackDerivativeDetails()}else s.prop16=s.eVar16=undefined;if(a.content){s.prop56=s.eVar56=a.content;s.prop5=s.prop5=="video start"||s.prop5=="video finish"?s.prop5:s.prop5+":"+a.content}else s.prop56=s.eVar56=undefined;c.setRegion();s.prop24=typeof a.moduletype!=="undefined"?
a.moduletype:undefined;s.prop25=typeof a.modulename!=="undefined"?a.modulename:undefined;c.setModulePage(a.moduleaction);c.createSearchTag(a);var b=a.title;if(typeof _da.prefix!=="undefined"&&a.type!=="e")b=_da.prefix+":"+b;if(typeof a.freq==="undefined")s.tl(a.link,a.type,b);else if(a.freq=="page"&&!c.pageClicks[b]){s.tl(a.link,a.type,b);c.pageClicks[b]=b}else if(a.freq=="category"&&(!c.pageClicks[a.onclicks]||a.moduletype&&!c.moduleTypes[a.moduletype])){s.tl(a.link,a.type,b);c.pageClicks[a.onclicks]=
a.onclicks;if(a.moduletype)c.moduleTypes[a.moduletype]=a.moduletype}}},trackMedia:function(a){s.prop56=a.content?(s.eVar56=a.content):(s.eVar56=undefined);s.prop57=a.progress&&a.content?(s.eVar57=a.content+":"+a.progress):(s.eVar57=undefined);s.eVar55=a.segment?a.segment:undefined;s.prop55=a.content&&s.pageName?a.content+":"+s.pageName:undefined;s.pev3=a.mediaType?a.mediaType:undefined;s.pe=a.linkType?a.linkType:undefined;s.events=a.events?a.events:undefined;s.prop5=a.onclicks?a.onclicks:undefined;
s.prop24=typeof a.moduletype!=="undefined"?a.moduletype:undefined;s.prop25=typeof a.modulename!=="undefined"?a.modulename:undefined;c.setModulePage(a.moduleaction);s.t()},trackEvent:function(){},trackSocial:function(){},trackField:function(){},createSearchTag:function(a){s.eVar22=typeof _da.searchKeyword!=="undefined"?(s.prop22=_da.searchKeyword):(s.prop22=undefined);s.eVar35=typeof a!=="undefined"&&typeof a.totalresult!=="undefined"&&typeof a.resultnumber!=="undefined"?(s.prop21=a.resultnumber+":"+
a.totalresult):typeof _da.totalresult!=="undefined"?typeof _da.resultnumber!=="undefined"?(s.prop21=_da.resultnumber+":"+_da.totalresult):(s.prop21=_da.totalresult):(s.prop21=undefined);s.eVar43=typeof a!=="undefined"&&typeof a.cat!=="undefined"&&typeof a.subcat!=="undefined"?(s.prop43=a.cat+":"+a.subcat):(s.prop43=undefined)},setModulePage:function(a){if(typeof a!=="undefined"&&typeof _da.module!=="undefined"&&typeof _da.module.page!=="undefined"&&typeof _da.module.template!=="undefined"){moduleAction=
a;s.prop23=_da.module.page+":"+_da.module.template+":"+moduleAction}else s.prop23=undefined},preCollection:function(a,b){s.eVar4=s.prop4=_da.om.lang;s.eVar14=s.prop14=_da.om.client;s.eVar15=s.prop15=_da.om.site;s.prop56=s.eVar56=undefined;if(typeof b!=="undefined"){c.createPageName(b);c.createHier1(b.hier)}else{c.createPageName(undefined);c.createHier1(undefined)}s.channel=_da.funnel.name;s.prop39=s.prop5=undefined;if(typeof _da.nameplate!=="undefined"){s.prop16=s.eVar16=_da.nameplate.name;s.prop12=
s.eVar12=_da.nameplate.year}else{s.prop12=s.eVar12=s.prop16=s.eVar16=undefined;s.prop36=s.eVar34=undefined}c.trackDerivativeDetails();if(typeof b!=="undefined"&&b.tool!=="undefined"){s.prop48=s.eVar48=b.tool;if(b.tooldesc!=="undefined")s.prop49=s.eVar49=b.tooldesc}else if(typeof _da.tool!=="undefined"){s.prop48=s.eVar48=_da.tool.name;s.prop49=_da.tool.descriptor?(s.eVar49=_da.tool.descriptor):(s.eVar49=undefined)}else s.prop49=s.eVar49=s.prop48=s.eVar48=undefined;if(typeof _da.lead!=="undefined"){s.prop18=
s.eVar28=_da.lead.type;s.prop20=_da.lead.optins?_da.lead.optins:undefined}else s.prop18=s.eVar28=s.prop20=undefined;c.setRegion();if(typeof _da.events!=="undefined"){s.events="";for(a=0;a<_da.events.length;a++)s.events+=s.events.length===0?_da.events[a]:","+_da.events[a]}else s.events="";s.prop1=typeof _da.dealer!=="undefined"&&typeof _da.dealer.code!=="undefined"?(s.eVar1=_da.dealer.code):(s.eVar1=undefined);s.prop3=typeof _da.user!=="undefined"&&typeof _da.user.loggedin!=="undefined"?(s.eVar3=_da.user.loggedin):
(s.eVar3=undefined);s.prop45=typeof _da.user!=="undefined"&&typeof _da.user.registered!=="undefined"?(s.eVar45=_da.user.registered):(s.eVar45=undefined);s.prop5=typeof _da.onclicks!=="undefined"?_da.onclicks:undefined;c.createSearchTag();c.setModulePage("impress")}}})();

var ND=function(l,e){var h={},j=[];h.omniture=ND.omniture;h.fps=ND.fps;h.webtrends=function(){function d(a,b){b=b||[];a.dcsMultiTrack.apply(a,b)}var c={each:function(a,b,f){e.each(a.split(","),function(g,k){c[k].apply(this,[b,f])})},title:function(a,b){b&&"title"in b&&e.merge(a,["WT.ti",b.title])},funnel:function(a,b){b&&"funnel"in b&&e.merge(a,["WT.si_n",b.funnel])},step:function(a,b){b&&"step"in b&&e.merge(a,["WT.si_p",b.step])},event:function(a){e.merge(a,["WT.dl","99"])},link:function(a){e.merge(a,
["WT.dl","0"])},share:function(a,b){b&&"socialId"in b&&e.merge(a,["WT.z_share",b.socialId])},uri:function(a,b){b&&"uri"in b&&e.merge(a,["DCS.dcsuri",b.uri])},field:function(a,b){if(b&&"field"in b){var f=b.field;if(f.name)e.merge(a,["DCSext."+b.field.name,b.field.value||""]);else if(f.constructor==Array){b=[];for(var g=f.length;--g>-1;)f[g].name&&b.push("DCSext."+f[g].name,f[g].value||"");e.merge(a,b)}}},meta:function(a,b){return e(['<meta name="',a,'" content="',b,'"/>'].join(""))}};return{_init:function(a){this._tag=
a},trackPageView:function(a){var b=[];c.each("title,uri",b,a);d(this._tag,b)},trackLink:function(a){var b=[];c.each("title,uri,link",b,a);d(this._tag,b)},trackEvent:function(a){var b=[];c.each("event,title,uri",b,a);d(this._tag,b)},trackSocial:function(a){var b=[];c.each("event,title,uri,share",b,a);d(this._tag,b)},trackField:function(a){var b=[];c.each("event,field,funnel,step",b,a);d(this._tag,b)},preCollection:function(a){a=a.funnel||false;var b=e("meta:last");a&&a.name&&b.after(c.meta("WT.si_n",
a.name));a&&a.stepname&&b.after(c.meta("WT.si_p",a.stepname))}}}();l.analytics={create:function(d,c){function a(){}a.prototype=h[d];var b=new a;b._init(c);delete b._init;b.name=d;return b},register:function(d){if(d){for(i=0;i<j.length;i++)if(d.name===j[i].name)return;e.each({pageview:"trackPageView",link:"trackLink",social:"trackSocial",event:"trackEvent",field:"trackField",media:"trackMedia"},function(c,a){a in d&&e.subscribe("/analytics/"+c+"/",function(b,f){return function(g,k){f.apply(b,[k])}}(d,
d[a]))});j.push(d)}},grabber:function(){function d(c){return c=(c||"").toLowerCase().replace(/[\s'"!@#$%\^\&\*\(\),\.<>;:\[\]{}?+/\\-_=]/g,"-").replace(/(-){2,}/g,"-").replace(/^-|-$/g,"")}return function(c){var a,b;if(c.link){a=e(c.link);a=a.attr("data-tracking-value")||a.attr("title")||a.text()||"";b=d(a)}if(c.meta){a=e(c.meta);a=a.attr("content")||"";b=d(a)}if(c.inner){a=e(c.inner);a=a.text()||"";b=d(a)}if(c.name){a=c.name;b=d(c.name)}return{value:a,url:b}}}};return l}(window.ND||{},jQuery);

ND.Context=function(h){var j={excludedModels:""},f={restServices:{fetchVOIData:function(a){f.restServices.ajaxCall(a,function(c){f.displayVehicleBanner(c);f.displayDisclaimer(c);f.populateModelDropdown(c);f.populateVehicleDropdown(c)})},fetchColorData:function(a,c){f.restServices.ajaxCall(a,function(b){var d=0,e=[];for(d=0;d<b.length;d++)e.push({name:b[d].name,order:b[d].order,code:b[d].code});c(e)})},ajaxCall:function(a,c){h.ajax({url:a,dataType:"json",success:function(b){typeof b!=="undefined"&&
b!=null&&c(b)},error:function(){}})}},extractContext:function(a,c){a+=4;var b=c.indexOf("&",a);return c.substring(a,b>a?b:c.length)},addContextToHref:function(a,c){var b=a.attr("href"),d;if(typeof b!=="undefined")if((d=b.indexOf("ctx="))>0){var e=b.lastIndexOf("&");if(e<d)e=b.length;d=b.substring(d,e);if(d!==c){b=b.replace(d,c);a.attr("href",b).attr("data-ajax","false")}}else if(b.length>1){b+=b.indexOf("?")>0?"&":"?";a.attr("href",b+c).attr("data-ajax","false")}},addDropdownChangeListeners:function(a,
c){var b=h("#voi-series-name"),d=h("#voi-colour-dd");if(b.length>0){var e;if(f.firstTime){e=b.html();f.firstTime=false}a.on("change",function(g){g.stopImmediatePropagation();g=f.findIdForName(a.val(),null,c);if(g.m!=null){f.setModelDropDownValue(g);f.populateSeriesDropdown(b,c[g.mIdx].derivatives,e,d)}else f.populateSeriesDropdown(b,[],e,d)});b.on("change",function(){var g=f.findIdForName(a.val(),b.val(),c);g.d!=null&&f.setDerivativeDropDownValue(g);d.length>0&&f.populateColorDropdown(b,h("#voi-colour-dd"))});
d.length>0&&d.on("change",function(){f.setColorDropDownValue(d)})}},addDealerDropDownListeners:function(a,c){var b=h("#FormSales_Derivative"),d=h("#FormSales_Color"),e=b.html();a.on("change",function(){if(a.get(0).selectedIndex!==0)b.parent().css("display","block");else{b.parent().css("display","none");d.parent().css("display","none")}var g=f.findIdForName(a.val(),null,c);g.m!=null?f.populateSeriesDropdown(b,c[g.mIdx].derivatives,e,d):f.populateSeriesDropdown(b,[],e,d)});b.on("change",function(){b.get(0).selectedIndex!==
0?d.parent().css("display","block"):d.parent().css("display","none");f.findIdForName(a.val(),b.val(),c);d.length>0&&f.populateColorDropdown(b,d)});d.length>0&&d.on("change",function(){f.setColorDropDownValue(d)})},findIdForName:function(a,c,b){var d,e,g={m:null,d:null,mIdx:-1,dIdx:-1,dy:null,dcks:null,mcks:null,dqcode:null,dtdcode:null,dbcode:null};for(d=0;d<b.length;d++)if(a===b[d].name){g.m=b[d].id;g.mcks=b[d].modelCode;g.mIdx=d;if(c!=null)for(a=0;a<b[d].derivatives.length;a++){e=b[d].derivatives[a];
if(c===e.name){g.dcks=e.derivativeCode;g.dy=e.year;g.d=e.id;g.dIdx=a;g.dqcode=e.quoteFulfilmentCode;g.dtdcode=e.testdriveFulfilmentCode;g.dbcode=e.brochureFulfilmentCode;break}}break}return g},firstTime:true,displayVehicleBanner:function(a){var c=k.toJSONFromUrl();if(c!=null&&typeof c.m!=="undefined"&&c.m!=null){var b=h("#voi-banner"),d=h(".voi-banner"),e;if(b.length>0&&d.length>0)for(i=0;i<a.length;i++)if(c.m===a[i].id){e=a[i][j.formRequestType+"Banner"];if(typeof e!=="undefined"&&e!=null&&e!==""){d.each(function(){h(this).removeAttr("style")});
a=new Image;a.onload=function(){d.each(function(){h(this).find("img").attr("src",e)})};a.src=e}break}}},displayDisclaimer:function(a){var c=k.toJSONFromUrl();if(c!=null&&typeof c.m!=="undefined"&&c.m!=null){var b=h("#voi-disclaimer"),d=null,e=false,g;if(b.length>0)for(g=0;g<a.length;g++)if(c.m===a[g].id){if(typeof c.d!=="undefined"&&c.d!=null)for(d=0;d<a[g].derivatives.length;d++)if(c.d===a[g].derivatives[d].id){d=a[g].derivatives[d]["derivative"+j.formRequestTypeUppercase+"Disclaimer"];if(typeof d!==
"undefined"&&d!=null){b.hide().html(d).fadeIn("fast");e=true}break}if(!e){d=a[g][j.formRequestType+"Disclaimer"];typeof d!=="undefined"&&d!=null&&b.hide().html(d).fadeIn("fast")}}}},populateModelDropdown:function(a){var c=h("#voi-model-name");if(c.length>0){var b=[],d=h("#modelseries"),e=[],g=a.slice(0);if(d.length>0)if((d=h.parseJSON(d.html()).excludedModels)&&d.length>0){d=d.split(",");for(var l=0;l<a.length;l++){var n=0;if(d&&d instanceof Array&&d.length>0){for(var m=0;m<d.length;m++)h.trim(a[l].name)==
h.trim(d[m])&&n++;n==0&&e.push(a[l])}}}if(e.length>0)g=e.slice(0);for(e=0;e<g.length;e++)b.push('<option value="'+g[e].name+'">'+g[e].name+"</options>");c.append(b.join(""));ND.FormBuilder&&ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(c);f.addDropdownChangeListeners(c,a);b=k.toJSONFromUrl();if(b!=null&&typeof b.m!=="undefined"&&b.m!=null)for(e=0;e<a.length;e++)if(b.m===a[e].id){c.val(a[e].name);f.setModelDropDownValue(b);c.trigger("change");break}f.refreshMobileDropdown(c)}},
populateVehicleDropdown:function(a){for(var c=h("#FormSales_Model"),b=[],d=a.slice(0),e=0;e<d.length;e++)b.push('<option value="'+d[e].name+'">'+d[e].name+"</option>");c.append(b.join(""));f.addDealerDropDownListeners(c,a)},setHiddenInputValue:function(a,c){if(c!=undefined){a=h(a);a.length>0&&a.val(c)}},setModelDropDownValue:function(a){f.setHiddenInputValue("#voi-model-id",a.m);f.setHiddenInputValue("#voi-model-cks-code",a.mcks)},populateSeriesDropdown:function(a,c,b,d){if(typeof c!=="undefined"&&
c!=null&&c.length>0){var e=[],g;for(g=0;g<c.length;g++)e.push('<option value="'+c[g].name+'" data-derivativeid="'+c[g].id+'">'+c[g].name+"</options>");a.empty().html(b).append(e.join(""));ND.FormBuilder&&ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(a);b=k.toJSONFromUrl();if(b!=null&&typeof b.d!=="undefined"&&b.d!=null)for(g=0;g<c.length;g++){d=c[g];if(b.d===d.id){a.val(d.name);f.setDerivativeDropDownValue(b);a.trigger("change");break}}else f.populateColorDropdown(a,d)}else{a.html(b);
f.populateColorDropdown(a,d)}f.refreshMobileDropdown(a)},setDerivativeDropDownValue:function(a){f.setHiddenInputValue("#voi-series-id",a.d);f.setHiddenInputValue("#voi-series-cks-code",a.dcks);f.setHiddenInputValue("#voi-series-year",a.dy);f.setHiddenInputValue("#voi-series-quote-code",a.dqcode);f.setHiddenInputValue("#voi-series-brochure-code",a.dbcode);f.setHiddenInputValue("#voi-series-testdrive-code",a.dtdcode)},colorDropdownFirstOption:null,populateColorDropdown:function(a,c){if(c.length>0){if(f.colorDropdownFirstOption==
null)f.colorDropdownFirstOption=c.html();a=a.find(":selected").data("derivativeid");if(typeof a!=="undefined"&&a!=null){a=j.colorUrl.replace("{site}",j.site).replace("{priceZone}",j.priceZone).replace("{derivative}",a);c.empty().html('<option value="">'+j.pleaseWaitMsg+"</options>");f.restServices.fetchColorData(a,function(b){var d=[],e;for(e=0;e<b.length;e++)d.push('<option value="'+b[e].code+'">'+b[e].name+"</options>");c.empty().html(f.colorDropdownFirstOption).append(d.join(""));ND.FormBuilder&&
ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(c);f.refreshMobileDropdown(c)})}else c.empty().html(f.colorDropdownFirstOption);f.refreshMobileDropdown(c)}},refreshMobileDropdown:function(a){h.mobile&&a.selectmenu("refresh",true)},setColorDropDownValue:function(a){f.setHiddenInputValue("#voi-colour-code",a.find(":selected").val());f.setHiddenInputValue("#voi-colour-name",a.find(":selected").text())},init:function(){var a=h("#rest-services"),c=h("#modelseries"),b=h("#common-config");
h("#FormSales_Derivative").parent().css("display","none");h("#FormSales_Color").parent().css("display","none");k.legacyDisplayVehicleBanner();k.legacyDisplayVehicleDisclaimer();if(a.length>0&&c.length>0){h.extend(j,JSON.parse(c.html()),JSON.parse(a.html()),JSON.parse(b.html()));if(j.formRequestType){a=j.formRequestType.charAt(0);j.formRequestTypeUppercase=j.formRequestType;j.formRequestType=j.formRequestType.replace(a,a.toLowerCase())}j.voiUrl=j.voiUrl.replace("{site}",j.site).replace("{makeName}",
j.make);j.voiUrl+=j.excludedModels;f.restServices.fetchVOIData(j.voiUrl)}}},k={isContextInitialised:false,startUp:function(){if(!k.isContextInitialised){k.addContextToLinks();k.addPostcodeContextToLinks();f.init();k.isContextInitialised=true}},toJSON:function(a){var c={};if(typeof a!=="undefined"){params=a.split(";");for(a=0;a<params.length;a++){var b=params[a].split(":");if(b.length==2)c[b[0]]=b[1]}}return c},buildContext:function(a){var c=[];typeof _da!=="undefined"&&typeof _da.nameplate!=="undefined"&&
typeof _da.nameplate.id!=="undefined"&&_da.nameplate.id!=""&&c.push("m:"+_da.nameplate.id);typeof _da!=="undefined"&&typeof _da.der!=="undefined"&&typeof _da.der.id!=="undefined"&&_da.der.id!=""&&c.push("d:"+_da.der.id);if(typeof a!=="undefined"&&a!=null)for(key in a)c.push(key+":"+a[key]);return c.length>0?"ctx="+c.join(";"):""},toJSONFromUrl:function(a){a=decodeURIComponent(a||window.location.href);var c=a.indexOf("ctx="),b=null;if(c>0)b=f.extractContext(c,a);else{var d=c=null;if((d=h('div[data-role="page"]').filter(":visible"))!=
null&&(c=d.attr("data-url"))!=null)if((c=c.indexOf("ctx="))>0)b=f.extractContext(c,a)}if(b!=null)b=k.toJSON(b);return b},addContextToLinks:function(){var a=k.buildContext();h("a.ctx-voi").each(function(){f.addContextToHref(h(this),a)})},addPostcodeContextToLinks:function(){h.publish("shopping.pref.retrieve",function(a,c){if(typeof c!=="undefined"&&c!=null&&typeof c.postcode!=="undefined"&&c.postcode!=null){var b=k.buildContext({pc:c.postcode});h("a.ctx-pc").each(function(){var d=h(this);if(!d.hasClass("ctx-pc-added")){f.addContextToHref(d,
b);d.attr("data-ajax","false")}})}})},legacyDisplayVehicleBanner:function(){var a=k.toJSONFromUrl();if(a!=null&&typeof a.m!=="undefined"&&a.m!=null){var c=h("#voi-banner"),b=h("#model-context-banner");if(c.size()&&b.size()){b=JSON.parse(b.html());typeof b[a.m]!=="undefined"&&c.html('<img src="'+b[a.m]+'" />')}}},legacyDisplayVehicleDisclaimer:function(){var a=k.toJSONFromUrl(),c=h("#voi-disclaimer");if(a!=null&&c.size()){var b=h("#derivative-context-disclaimer");if(typeof a.d!=="undefined"&&a.d!=
null&&b.size()){b=b.embeddedData();if(b[a.d]!=null){a=b[a.d];c.hide().html(a).fadeIn("fast")}else k.legacyDisplayNameplateDisclaimer(a,c)}else k.legacyDisplayNameplateDisclaimer(a,c)}},legacyDisplayNameplateDisclaimer:function(a,c){var b=h("#model-context-disclaimer");if(typeof a.m!=="undefined"&&a.m!=null&&b.size()){b=b.embeddedData();if(b[a.m]!=null){a=b[a.m];c.hide().html(a).fadeIn("fast")}}},legacyPopulateModelDropdown:function(a,c,b){var d=k.toJSONFromUrl();a=h("#"+a);if(d!=null&&typeof d.m!==
"undefined"&&d.m!=null&&a.length>0)if((b=b[d.m])&&b!=null){a.val(b);a.trigger("change");c=h("#"+c);c.size()&&c.val(d.m)}},legacyPopulateSeriesDropdown:function(a,c,b){var d=k.toJSONFromUrl();a=h("#"+a);if(d!=null&&typeof d.d!=="undefined"&&d.d!=null&&a.length>0)if((b=b[d.d])&&b!=null){a.val(b);a.trigger("change");c=h("#"+c);c.size()&&c.val(d.d)}}};h(document).ready(k.startUp);return k}(jQuery);

var ND=function(J,b,j,o){trackWebtrendFields=function(){var e=j._da;if(e!==undefined){var g=e.trackFields;if(g!==undefined){var p=[],k;for(k in g)p.push({name:k,value:g[k]});b.publish("/analytics/field/",{field:p})}}};J.analyticsBinder={bind:function(){b(o).ready(function(){var e=ND.analytics.grabber();master=e({meta:"meta[name='dfy.title']"});b(".socialmedia-wrapper").delegate(".socialmedia a","click",function(){var a=e({link:this});b.publish("/analytics/social/",{title:"Follow "+master.value+" on "+
a.value,uri:"/follow/"+a.url})});b.subscribe("overlay.done",function(a,c){var d,f,h;d={};a=true;if(c&&c.contents&&b(".country-overlay",c.contents).size()<1){d=c.contents?e({link:c.contents.find(".head h1")}):{};f=e({link:c.anchor});h=e({name:c.name});a=!d.value&&!f.value&&!h.value&&!c.assetid;d={title:master.value+" | "+(h.value||d.value||f.value||c.assetid),uri:"/"+master.url+"/overlay/"+(h.url||d.url||f.url||c.assetid)};if(a)d={title:master.value+" | Overlay",uri:"/"+master.url+"/overlay"};b.publish("/analytics/event/",
d)}});b(".rss").delegate("a","click",function(){var a={title:"RSS",uri:e({link:this}).url};b.publish("/analytics/event/",a)});b(o).delegate(".at_item","click",function(){var a=e({link:this});b.publish("/analytics/social/",{title:" Send to "+a.value,uri:"/share/"+a.url,socialId:a.value})});b(o).delegate(".addlist a","click",function(){var a=e({link:this});b.publish("/analytics/social/",{title:" Send to "+a.value,uri:"/share/"+a.url,socialId:a.value})});b("#dragonflyform").delegate(".ff-track-drop-off",
"focusout",function(){var a=b(this);a={field:{name:a.attr("name")||this.id,value:a.val()}};b.publish("/analytics/field/",a)});b("#dragonflyform").submit(function(){var a=b("#VOI_ModelSeries_Model",d),c=b("#VOI_ModelSeries_Series",d);if(a.size()||c.size()){var d=b(this);a={field:[{name:"model",value:a.val()},{name:"series",value:c.val()}]};b.publish("/analytics/field/",a)}});b(".view360-button a").click(function(){var a=e({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,
uri:"/"+master.url+"/360-view"})});b("#car-swapper a").click(function(){var a=e({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,uri:"/"+master.url+"/switch-to-super-cab"})});b(".slider .next, .slider .prev").click(function(){var a=e({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,uri:"/"+master.url+"/switch-to-banner"})});b(".download").click(function(){data={title:"this is my link",link:this,type:"d"};b.publish("/analytics/link/",data)});
var g=function(a){if(!(b(a).hasClass("mobile")&&guxApp.viewport.view!=="mobile")){var c=b(a),d,f,h,l,q,r,t,u,m,v,w,x,y,z,A,B,n,i,C,D,E,F,G,H,I;if((f=c.attr("data-name"))&&(h=c.attr("data-type"))){l=c.attr("data-onclicks");q=c.attr("data-nameplate");m=c.attr("data-nameplate-year");r=c.attr("data-leadtype");t=c.attr("data-tool");y=c.attr("data-tooldesc");u=c.attr("data-events");v=c.attr("data-pname");w=c.attr("data-intcmp");x=c.attr("data-hier");z=c.attr("data-content");A=c.attr("data-freq");B=c.attr("data-moduletype");
n=c.attr("data-modulename");i=c.attr("data-moduleaction");C=c.attr("data-totalresult");D=c.attr("data-resultnumber");E=c.attr("data-titlenameplate");F=c.attr("data-cat");G=c.attr("data-subcat");H=c.attr("data-referred");I=c.attr("data-search")}else if((d=c.find("img").first())&&(f=d.attr("data-name"))&&(h=d.attr("data-type"))){l=d.attr("data-onclicks");q=d.attr("data-nameplate");m=d.attr("data-nameplate-year");r=d.attr("data-leadtype");t=d.attr("data-tool");y=d.attr("data-tooldesc");u=d.attr("data-events");
v=d.attr("data-pname");w=d.attr("data-intcmp");x=d.attr("data-hier");z=d.attr("data-content");A=d.attr("data-freq");B=d.attr("data-moduletype");n=d.attr("data-modulename");i=d.attr("data-moduleaction");C=d.attr("data-totalresult");D=d.attr("data-resultnumber");E=d.attr("data-titlenameplate");F=d.attr("data-cat");G=d.attr("data-subcat");H=d.attr("data-referred");I=d.attr("data-search")}if(c.hasClass("external-disclaimer"))h="e";if(!f)f=e({link:a}).value;if(typeof i=="undefined"&&!b(a).hasClass("open-video-flip")&&
(c.closest("section").hasClass("personalisation")||c.closest("section").hasClass("smartnextsteps"))||c.hasClass("open-media-overlay"))i="click";else if(typeof i!=="undefined"&&i=="none")i=undefined;if(c.closest("section").data("psn-module")=="knowvehicle"||c.closest("section").data("psn-module")=="accessories"){if(typeof b.cookie("dfy.u")!=="undefined"&&typeof b.cookie("dfy.u")!=="function")cookieUser=JSON.parse(b.cookie("dfy.u"));if(cookieUser!=null)n=cookieUser.now}a=c.closest("section");if(_da.nameplate){if(a.hasClass("video-carousel")||
a.hasClass("reveal-slider"))n=_da.nameplate.name;if(!m)m=_da.nameplate.year}b.publish("/analytics/link/",{title:f,link:this,type:h,onclicks:l,leadtype:r,tool:t,tooldesc:y,events:u,year:m,nameplate:q,pname:v,intcmp:w,hier1:x,content:z,freq:A,moduletype:B,modulename:n,moduleaction:i,totalresult:C,resultnumber:D,titleNameplate:E,cat:F,subcat:G,referred:H,search:I})}};b(".trackable,.external-disclaimer").live("click",function(a){b(".staging-wrap .trackable").size()>0||g(b(this),a)});b("#content-tooltip").on("click",
".trackable",function(a){g(b(this),a)});b(".mini-dealer .revealer-vertical .revealer-open.trackable").on("click",function(a){g(b(this),a)});b(".flex-direction-nav .flex-next, .flex-direction-nav .flex-prev, .flex-control-nav.flex-control-paging a,.alt-controls span.alt-prev,.alt-controls span.alt-next").live("click",function(a){var c=b(this).closest("section");guxApp.viewport.view==="mobile"&&(b(this).hasClass("flex-prev")||b(this).hasClass("flex-next"))||guxApp.viewport.view!=="mobile"&&c.hasClass("hotspots")||
c&&g(c,a)});b(".color-palette li a").on("click",function(a){var c=b("#colorizer_data_analytics");g(c,a)});b(".imageReveal").on("mouseover",function(){b(".reveal-slider .imageReveal-drag").on("mousedown",function(a){var c=b(this).closest("section");c&&g(c,a)});b(".imageReveal").off("mouseover")});b(".view-all-dealers",b("section.dealer-locator")).live("mouseup",function(a){a.preventDefault();b(this).trigger("click");if(j._da&&j._da.om&&ND&&ND.omniture){_da.funnel.stepname="results";_da.events="event1,event43".split(",");
_da.dealer={}}});b.subscribe("dealers-done",function(){if(j._da&&j._da.om&&ND&&ND.omniture){b.each(ND.omniture.pageClicks,function(f){if(f.match("^dealer"))ND.omniture.pageClicks[f]=undefined});_da.funnel.stepname="results";_da.events=typeof _da.events=="undefined"?"event1,event43".split(","):"";_da.dealer={};var a=b(".dealer-result-container .count .num").text(),c,d=b("#vehilcesdata");if(b(".vehicle-search .nested-options select[name='vehicle']").length>0&&d&&d.length>0){nameplateIndex=b(".vehicle-search .nested-options select[name='vehicle']").get(0).selectedIndex;
d=JSON.parse(d.html());if(nameplateIndex&&d&&d.vehiclesdata)c=d.vehiclesdata[nameplateIndex-1]}if(a){a=Number(a);Math.floor((a+5-1)/5);a=b(".dealer-result-container .result-list .dealer-result:first-child").data("postcode");_da.region=a;_da.nameplate=c?{name:c.name,year:c.year,id:c.id}:undefined;ND.analyticsTag.trackOmniturePage({tool:"event:find dealer"})}}});b("section.dealer-locator .dealer-result .dealer-heading a,section.dealer-locator .dealer-result .details").live("click",function(){var a=
b(this).closest(".dealer-result").data("dealerid"),c=b(this).closest(".dealer-result").data("postcode");if(j._da&&j._da.om&&ND&&ND.omniture){_da.funnel.stepname="dealer:info";_da.events="";_da.dealer={code:a};_da.region=c;_da.tool={};ND.analyticsTag.trackOmniturePage()}});b("#overlay .vr-container .360trackable").live("slide",function(a){if(!(b(".staging-wrap .trackable").size()>0)){a.preventDefault();b(this).trigger("click");g(b(this),a);b("#overlay .vr-container .360trackable").die("slide")}});
b(".staging-wrap .trackable").live("click",function(a){var c=b(this);g(c,a)});b(".service-calc #service-dropdowns").on("change","select",function(a){var c=b(this).closest("section"),d=b("#year option:selected").text(),f=b("#model option:selected").text(),h=b("#style option:selected").text(),l=b("#engine option:selected").text();d!==guxApp.sc.selectTexts["select.year.text"]&&f!==guxApp.sc.selectTexts["select.model.text"]&&h!==guxApp.sc.selectTexts["select.style.text"]&&l!==guxApp.sc.selectTexts["select.engine.text"]&&
g(c,a)});var p=function(a){a=a.target.href||"";anchorFormat=a.toLowerCase();if(a&&anchorFormat.indexOf("mailto:")>-1){anchorFormat=anchorFormat.replace(/[^\w]+/g,"-");b.publish("/analytics/event/",{title:a+" | Email",uri:"/"+master.url+"/email/"+anchorFormat})}},k=function(a){a=a.target;var c=a.className;if(c&&typeof c==="string"&&(c.indexOf("external")>-1||c.indexOf("external-disclaimer ")>-1)){a=b(a).attr("href");c="";if(typeof a!="undefined")c=a.replace(/[^\w]+/g,"-");b.publish("/analytics/event/",
{title:"Offsite:"+a,uri:"/"+master.url+"/external/"+c})}},K=function(a){(a=a.target.className)&&typeof a==="string"&&a.indexOf("btn-fullscreen")>-1&&b.publish("/analytics/link/",{title:s.eVar11+":full screen",link:this,type:"o",onclicks:"view full screen"})};if(_da.nameplate!==undefined&&_da.nameplate.id!==undefined||_da.derivative!==undefined&&_da.derivative.id!==undefined)ND.Context.addContextToLinks();b(o).bind("click","a",function(a){if(a&&a.target){k(a);p(a);K(a)}});trackWebtrendFields()})}};
return J}(window.ND||{},jQuery,window,document);

(function(a,b){var j=function(){if(!a._da||!a.ND||!a.ND.analytics)return false;return true},r=function(){if(a._tag&&a._da.wt&&a._tag===a._da.wt&&a.WebTrends)return true;return false},p=function(){if(a._da.om&&(typeof a._da.om.singlePageApp==="undefined"||a._da.om.singlePageApp===false)&&(a._da.om.mobileApp===undefined||a._da.om.mobileApp===false))return true;return false},q=function(){if(!j())return false;if(a._da.om&&a._da.om.singlePageApp===true)return true;return false},t=function(){if(!j())return false;
if(a._da.om&&a._da.om.mobileApp===true)return true;return false},g=function(c){if(_da.skipTracking==undefined||a._da.skipTracking===false){var d=ND.analytics.create("fps",s);ND.analytics.register(d);d.preCollection(_da,c);d.trackPageView(c)}},u=function(c,d,e){c=new WebTrends;b.extend(c,d);c.dcsGetId();e=ND.analytics.create("webtrends",c);ND.analytics.register(e);d=b.extend({},_da);delete d.wt;e.preCollection(d);c.dcsCollect();ND.analytics._tag=c},i=function(c){if(_da.skipTracking==undefined||a._da.skipTracking===
false){var d=ND.analytics.create("omniture",s);ND.analytics.register(d);var e=b(".searchresults-list .no-of-results");if(e.length>0)_da.pname=_da.pname+":"+b.trim(e.html());if(typeof _da.module!=="undefined"&&typeof _da.module.page!=="undefined"&&typeof _da.module.template=="undefined"){var k=null,l=null,f=null;if(b.cookie("dfy.u"))k=b.parseJSON(b.cookie("dfy.u"));if(b.cookie("dfy.uuid"))l=b.parseJSON(b.cookie("dfy.uuid"));if(k!==null)f="owner";else if(l===null)f="new";else if(l!=null&&k===null)f=
"return";if(f!=null){_da.module.template=f;b("section.personalisation a[href*='intcmp='],section.smartnextsteps a[href*='intcmp='],section.personalisation form[action*='intcmp=']").each(function(){var m="",h="",n=b(this).attr("href"),o=b(this).attr("action");if(n!=null&&typeof n!=="undefined"){m="href";h=n}else if(o!=null&&typeof o!=="undefined"){m="action";h=o}h.indexOf("STATUS")!=-1&&b(this).attr(m,h.replace("STATUS",f))})}}d.preCollection(_da,c);s.t()}},v=function(){if(j()){if(r()){var c,d=a._tag,
e;b(document).ready(function(){u(c,d,e);ND.analyticsBinder.bind()});a._tag=a._da.wt=c}if(p()){b(document).ready(function(){if(p()){i();g();ND.analyticsBinder.bind()}});a._tag_om=a._da.om}t()&&b(document).bind("mobileinit",function(){b(document).bind("pagechange",function(){i();g();ND.analyticsBinder.bind()});a._tag_om=a._da.om})}};v();ND.analyticsTag=ND.analyticsTag||{trackOmnitureSinglePageApp:function(){if(q()){i();g();if(ND.analyticsTag._setOnce!==undefined){ND.analyticsTag._setOnce();delete ND.analyticsTag._setOnce}}},
trackOmniturePage:function(c){i(c);g(c)},_setOnce:function(){a._tag_om=a._da.om;ND.analyticsBinder.bind()},isSinglePageAppOmnitureConfigured:q}})(window,jQuery);

var ND=window.ND=window.ND||{};
(function(n){var o,i,j,k,l,p,q=window.innerWidth,h={"0":1,"0.25":1,"0.5":1,"0.75":1,"1":1},f={track:"11111"};ND.Brightcove={onTemplateLoad:function(b){ND.Brightcove.player=brightcove.api.getExperience(b);ND.Brightcove.APIModules=brightcove.api.modules.APIModules;h={"0":1,"0.25":1,"0.5":1,"0.75":1,"1":1}},onTemplateReady:function(b){ND.Brightcove.videoPlayer=ND.Brightcove.player.getModule(ND.Brightcove.APIModules.VIDEO_PLAYER);ND.Brightcove.experienceModule=ND.Brightcove.player.getModule(ND.Brightcove.APIModules.EXPERIENCE);ND.Brightcove.cuePointsModule=
ND.Brightcove.player.getModule(ND.Brightcove.APIModules.CUE_POINTS);ND.Brightcove.videoPlayer.getCurrentVideo(function(a){ND.Brightcove.cuePointsModule.addCuePoints(a.id,[a.length/1E3*0.8])});ND.Brightcove.resizeVideo();ND.Brightcove.videoPlayer.addEventListener(brightcove.api.events.MediaEvent.PROGRESS,function(a){var c,d,g,e,m=Math.round(a.position/a.duration*100)/100;if(h[m]){switch(m){case 0:if(f.track.charAt(0)=="1"){c="event56";i=a.media.displayName;d="m_s";g="0%";e="1:M:0-25"}break;case 0.25:if(f.track.charAt(1)==
"1"){j=Math.round(a.position);c="event58,event61="+j+",event62";d="m_i";g="25%";e="1:M:0-25"}break;case 0.5:if(f.track.charAt(2)=="1"){k=Math.round(a.position);c="event59,event61="+(k-j)+",event62";d="m_i";g="50%";e="2:M:25-50"}break;case 0.75:if(f.track.charAt(3)=="1"){l=Math.round(a.position);c="event57,event61="+(l-k)+",event62";d="m_i";g="75%";e="3:M:50-75"}break;case 1:if(f.track.charAt(4)=="1"){p=Math.round(a.position);c="event60,event61="+(p-l)+",event62";d="m_i";e="4:M:75-100"}break}h[m]=
0;d&&ND.Brightcove.trackEvent(c,d,g,e)}});ND.Brightcove.videoPlayer.addEventListener(brightcove.api.events.MediaEvent.COMPLETE,function(){h={"0":1,"0.25":1,"0.5":1,"0.75":1,"1":1}});ND.Brightcove.videoPlayer.getCurrentRendition(function(a){a?ND.Brightcove.calulateNewPercentage(a.frameWidth,a.frameHeight):ND.Brightcove.videoPlayer.addEventListener(brightcove.api.events.MediaEvent.PLAY,function(c){ND.Brightcove.calulateNewPercentage(c.media.renditions[0].frameWidth,c.media.renditions[0].frameHeight)})});
b=document.createEvent("UIEvents");b.initUIEvent("resize",true,false,0);window.dispatchEvent(b)},trackEvent:function(b,a,c,d){i&&a&&window._da&&window._da.om&&ND&&ND.omniture&&ND.omniture.trackMedia({events:b,linkType:a,content:i,progress:c,segment:d,mediaType:"video"})},calulateNewPercentage:function(b,a){b=a/b*100+"%";document.getElementById("videocontainer").style.paddingBottom=b},resizeVideo:function(){window.onresize=function(){o=window.innerWidth;if(q!==o){var b=n(".BrightcoveExperience").width(),
a=n(".BrightcoveExperience").height();ND.Brightcove.experienceModule.experience.type=="html"&&ND.Brightcove.experienceModule.setSize(b,a);q=window.innerWidth}}}}})(jQuery);

var guxApp=guxApp||{};
(function(c){guxApp.video={settings:{},defaults:{width:593,height:348,modes:[{type:"html5",config:{skin:"/themes/ftd/skin/glow/glow.xml"}},{type:"flash",src:"/themes/ftd/swf/player.swf",config:{skin:"/themes/ftd/skin/glow.zip"}}],track:"00000",play:false},init:function(){if(c("#video-inner").length){guxApp.video.dataSetup();guxApp.video.load("jwplayer-js","/themes/ftd/js/lib/jwplayer.js");$ready("jwplayer",guxApp.video.videoSetup)}},load:function(a,e){if(!document.getElementById(a)){var b,d=document.getElementsByTagName("script")[0];
b=document.createElement("script");b.id=a;b.src=e;d.parentNode.insertBefore(b,d)}},dataSetup:function(){if(c("#video-config").length>0)var a=c("#video-config").embeddedData();if(a!==undefined&&!guxApp.tools.isEmpty(a)){guxApp.video.settings=c.extend({},guxApp.video.defaults,a);if(a.skin)guxApp.video.settings.modes[0].config.skin="/themes/ftd/skin/"+guxApp.video.settings.skin+"/"+guxApp.video.settings.skin+".xml"}},videoSetup:function(){var a={image:guxApp.video.settings.image,modes:guxApp.video.settings.modes,
levels:[{type:"video/mp4",file:guxApp.video.settings.file}],width:guxApp.video.settings.width,autostart:guxApp.video.settings.play,plugins:{}};if(guxApp.video.settings.controlbar)a.controlbar="none";if(guxApp.video.settings.caption)a.plugins["captions-2"]={file:guxApp.video.settings.caption};jwplayer("video-inner").setup(a);jwplayer().onReady(function(){var e=c("#modalWrap .modal-body"),b=e.width(),d,g;guxApp.video.settings.hideControls&&jwplayer().getPlugin("controlbar").hide();console.log(guxApp.tools.isMobile());
guxApp.tools.isMobile()!="Android"&&jwplayer().getPlugin("controlbar").hide();if(guxApp.video.settings.ratio){var f=guxApp.video.settings.ratio.split(":");g=f[1]/f[0];d=b*g;jwplayer().resize(b,d)}c(window).resize(function(){b=e.width();d=b*g;jwplayer().resize(b,d)});c("#video-inner").on("click","#video-inner_jwplayer_controlbar_fullscreenButton",function(){c(".modal .icon-close").hide()});c("#video-inner").on("click","#video-inner_jwplayer_controlbar_normalscreenButton",function(){c(".modal .icon-close").show()});
jwplayer().play(guxApp.video.settings.play);c(".modal-body").removeClass("loading-video")});jwplayer().onPlay(function(){jwplayer().getPlugin("controlbar").show();jwplayer().resize(jwplayer().getWidth(),jwplayer().getHeight())});guxApp.video.settings.track!="00000"&&guxApp.video.track(guxApp.video.settings)},track:function(a){var e={"0":1,"0.2":1,"0.5":1,"0.7":1,"0.8":1},b=a.title||"",d=a.pname||"",g=a.hier||"";jwplayer().onTime(function(f){var h=Math.round(f.position/f.duration*10)/10,i,j,k;f="none";
if(e[h]){switch(h){case 0:if(a.track.charAt(0)=="1"){i="video start";j="event56"}break;case 0.2:a.track.charAt(1);break;case 0.5:a.track.charAt(2);break;case 0.7:a.track.charAt(3);break;case 0.8:if(a.track.charAt(4)=="1"){i="video finish";j="event57"}break}e[h]=0;if(i&&j)if(window._da&&window._da.om&&ND&&ND.omniture){h=a.clip_n||b;if(_da.nameplate&&_da.nameplate.year)k=_da.nameplate.year;if(_da.nameplate&&_da.nameplate.name)f=_da.nameplate.name;ND.omniture.trackLink({link:true,onclicks:i,events:j,
type:"o",content:h,title:i,nameplate:f,titleNameplate:"none",pname:d,hier1:g,year:k})}}});jwplayer().onComplete(function(){e={"0":1,"0.2":1,"0.5":1,"0.7":1,"0.8":1}})}}})(jQuery);


(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);


(function(a){var d=function(c){var b=this;b.container=c;b.timeout=100;b.interval=100;b.sensitivity=2;a("#nav>li").attr("title","");this.showMenu=function(){a(b.container).addClass("active");a("DIV.mega-menu",b.container).show()};this.hideMenu=function(){a(b.container).removeClass("active");a("DIV.mega-menu",b.container).hide()};a("#nav>li").attr("title","");this.init=function(){a(this.container).hoverIntent({over:this.showMenu,out:this.hideMenu,interval:this.interval,sensitivity:this.sensitivity,
timeout:this.timeout});a("DIV.close-button A").bind("click",function(){b.hideMenu();return false})}};a(function(){a("#nav > LI").each(function(){if(a(this).children("DIV.mega-menu").size()>0)(new d(this)).init();else a(this).children("DIV.menu").size()>0&&a(this).hover(function(){a(this).addClass("active")},function(){a(this).removeClass("active")})})})})(jQuery);

(function(a){var e={init:function(){a(".search-pannel").length&&a(".search-pannel").each(function(){var b=a(this).find(".keyw"),d=b.val();b.focus(function(){a(this).val("")});b.blur(function(){var c=b.val();c==""?a(this).val(d):a(this).val(c)})})}};a(function(){e.init()})})(jQuery);

(function(b){b.fn.historyBack=function(){return this.each(function(){this.onclick=function(a){a.stopPropagation();a.preventDefault();window.history.back(-1)}})}})(jQuery);

(function(a){a(function(){a(".back").historyBack()})})(jQuery);

(function(a){imageLazyLoading={init:function(){if(a(".lazy-loading").length){var b=a(".lazy-loading");imageLazyLoading.loading(b)}},loading:function(b){b.each(function(){var c=a(this),d=c.data("imageSrc");c.prop("src",d)})}};a(function(){imageLazyLoading.init()})})(jQuery);

ND.shoppingPreferenceManager=function(c){var h={prefix:"shopping.pref.",list:{postcode:"pc",usage:"us",usageLabel:"us.l",region:"rg",regionLabel:"rg.l",pricezone:"pz",pricezoneLabel:"pz.l",priceformatData:"pf"},init:function(){this.cache={};this.store={};this.listen();this.upgradeCookie()},prepare:function(){var a=this,b=null,e=typeof c("#common-config")!="undefined"&&c("#common-config").length>0?JSON.parse(c("#common-config").html()):null;if(e!=null&&e.cookieDomain)b=e.cookieDomain;c.each(a.list,
function(d,g){var f;f=Object.create(ND.cacheStore);f.key="sp."+g;f.expires=365;if(b)f.domain=b;if(g=f.get())a.cache[d]=g;a.store[d]=f});a.prepare=c.noop},listen:function(){var a=this;this.pubsub={save:function(e,d){d&&a.setStoreData(d);c.publish(a.prefix+"change",a.getStoreData())},clear:function(){a.clearStoreData();c.publish(a.prefix+"change",a.getStoreData())},retrieve:function(e,d){c.isFunction(d)&&d.apply(null,[e,a.getStoreData()])},destroy:function(){a.destroy()}};for(var b in this.pubsub)c.subscribe(this.prefix+
b,this.pubsub[b])},getStoreData:function(){this.prepare();return c.extend({},this.cache)},setStoreData:function(a){var b=this;b.prepare();(a=this.checkDefaults(a))&&c.each(a,function(e,d){if(e in b.list){b.store[e].set(d);if(typeof d!=="undefined"&&String(d).length)b.cache[e]=d;else delete b.cache[e]}})},clearStoreData:function(){this.cache={};c.each(this.store,function(a,b){b.set()})},checkDefaults:function(a){if(a&&a.postcode&&!this.cache.usage&&!a.usage){a.usage="p";a.usageLabel="Personal"}return a},
upgradeCookie:function(){var a,b;b=Object.create(ND.cacheStore);b.key="price.usage";a=typeof c("#common-config")!="undefined"&&c("#common-config").length>0?JSON.parse(c("#common-config").html()):null;if(a!=null&&a.cookieDomain)b.domain=a.cookieDomain;if(a=b.get()){c.publish(this.prefix+"save",a);b.set()}},destroy:function(){for(channel in this.pubsub)c.unsubscribe(this.prefix+channel,this.pubsub[channel]);this.cache=this.store=this.pubsub=this.prefix=this.list=null}};return function(a){var b=Object.create(h);
b.init.call(b,a);return b}}(jQuery);

ND.geoLocator=function(c){var g=$("#bing-config"),h=$("#current-position-config"),i="AneS6_OFtD0WZ43Xzp3kTumQpZGNxlycZiFErrnU6cmNmwqKFU3wRBZ7f80Q7MT6";if(g.length)i=g.embeddedData()["bing-maps-key"];var d={"geo-trans-denied-access-error":"User denied the request for Geolocation","geo-trans-loc-unavail-error":"Location information is unavailable","geo-trans-req-timeout-error":"The request to get user location timed out","geo-trans-unknown-error":"Unknown error"};if(h.length)d=$.extend(d,h.embeddedData());
var e=d["geo-trans-unknown-error"],k=function(b){$.ajax({url:"http://dev.virtualearth.net/REST/v1/Locations/"+b.coords.latitude+", "+b.coords.longitude,dataType:"jsonp",jsonp:"jsonp",data:{key:i},success:function(a){if(a&&a.resourceSets&&a.resourceSets.length>0)if((a=a.resourceSets[0])&&a.estimatedTotal>0&&a.resources.length>0)c.success&&c.success(a.resources[0].address.postalCode,a.resources);else f(e);else f(e)},error:function(){f(e)}})},f=function(b){c.error&&c.error(b)},j=function(b){var a=e;
switch(b.code){case b.PERMISSION_DENIED:a=d["geo-trans-denied-access-error"];break;case b.POSITION_UNAVAILABLE:a=d["geo-trans-loc-unavail-error"];break;case b.TIMEOUT:a=d["geo-trans-req-timeout-error"];break}f(a)};return{findLocation:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(k,j,{enableHighAccuracy:c.highAccuracy||false,maximumAge:c.maxAge||12E4,timeout:c.timeout||6E4}):f(e)},locationNotFound:j}};

ND.platformDependentHotDeal={regionObtainer:{view:function(a){if($.mobile){var b=this._panel.find(".hotdeals-postcode");a=$.tmpl(this.tmpl,a);b.length>0?b.replaceWith(a):this._panel.append(a);this._panel.trigger("create")}else{b=this._panel.find(".hotdeals-postcode");a=$.tmpl(this.tmpl,a);b.length?b.replaceWith(a):this._panel.append(a)}},bindAdditionalListeners:function(){if($.mobile){var a=this,b,e=$("input.hotDeals-form-currentLocation").length>0;e&&$(document).on("click","input.hotDeals-form-currentLocation",
function(c){c.preventDefault();a.loadingStatus(true);b=setTimeout(function(){a.loadingStatus(false);f.locationNotFound(1)},2E4);var f=ND.geoLocator({success:function(d){clearTimeout(b);a.loadingStatus(false);var g=$(a.formSelector);g.find("#postcode").val(d);g.submit()},error:function(d){a.loadingStatus(false);a.formError(d)},maximumAge:15E3,timeout:15E3});f.findLocation()});$(document).on("submit","#hotDeals-form",function(){e&&clearTimeout(b);return false});$.subscribe("overlay.usercancel",function(){$(a.formSelector).find("#postcode").val("");
a._errorMsg.slideUp("fast")});$(document).on("click",".cancel",function(c){c.preventDefault();$(".close-button a").click()});$(window).unbind("scroll")}},loadingStatus:function(a){if($.mobile){$.mobile.loading(a?"show":"hide");$("#overlay .fbform .group > span.ui-icon").length==0&&$("#overlay .fbform .group > input[type=button],#overlay .fbform .group > input[type=submit]").parent().append("<span class='ui-icon ui-icon-arrow-r ui-icon-shadow'></span>")}else{var b=this;b._loaderTimeout&&clearTimeout(b._loaderTimeout);
b._loaderTimeout=setTimeout(function(){if(b._form){b.loader||(b.loader=$('<span class="loader"/>').appendTo(b._form.find(".final")));b._form.toggleClass("loading",a);b._loaderTimeout=null}},100)}}},hotDeal:{needPostcodeTemplate:function(a){if($.mobile){a=$.mobile.activePage.find(a);return a.length>0?a:null}else{a=$(a);return a.length?a:null}}}};

ND.hotDeals=function(c,g){var h={MISSING_POSTCODE:"MISSING_POSTCODE",INVALID_POSTCODE:"INVALID_POSTCODE",INCORRECT_POSTCODE:"INCORRECT_POSTCODE",SUCCESS:"SUCCESS"},l={init:function(a){a||(a={});var b=this;b.enabledRedirect=true;b.elementsSelector=a.links||".overlay-hotdeals, .force-overlay-hotdeals";b.elementPanelSelector=a.panel||"#hotdeals-panel";b.bindLinks();b.initPubsub();b.render()},initPubsub:function(){var a=this;this.pubsub={change:function(b,d){d=d||{};a.postcode=d.postcode;a.region=d.region}};
c.publish("shopping.pref.retrieve",this.pubsub.change);c.subscribe("shopping.pref.change",this.pubsub.change);c.subscribe("shopping.pref.destroy",this.destroy)},render:function(){var a=i(this.elementPanelSelector);if(a!=null){this._template=Object.create(j);this._template.conf=self.conf;this._template.init(a,this.getPostcode(),this.getRegion())}return this._template},getPostcode:function(){return this.postcode},getRegion:function(){return this.region},getObtainer:function(){return this._obtainer},
bindLinks:function(){var a=this;c(document).on("click",a.elementsSelector,function(b){var d;if(c(this).hasClass("force-overlay-hotdeals")){b.preventDefault();a.obtainRegion(this)}else{b.preventDefault();b=a.getRegion();d=a.getPostcode();b||d?a.handleRegion(this,b,d):a.obtainRegion(this)}})},handleRegion:function(a,b,d){var f=this;b=this.ajaxRegionURL(c(a).attr("href")||location.href,b,d);c.when(b).done(function(e){if(e){e.errorCode||(e.errorCode=h.SUCCESS);if(e.errorCode===h.SUCCESS&&e.region&&e.url){c.publish("shopping.pref.save",
{postcode:d,region:e.region,regionLabel:e.regionName});f.doneRedirect(e.url||a.href)}else if(e.errorCode===h.INVALID_POSTCODE){typeof f._template==="undefined"?f.doneNational(a):f.doneCasualError(e.error);c.publish("shopping.pref.save",{postcode:g,region:g,regionLabel:g})}else f.doneObtainerError(e.error||"Oops! There was an internal problem")}else f.doneObtainerError("Oops! There was an internal problem")}).fail(function(){f._obtainer.loadingStatus(false);f.doneNational(a)});return b},ajaxRegionURL:function(a,
b,d){this.conf||(this.conf=c("#hotdeals-data").embeddedData());a={url:a};if(d)a.postcode=d;if(b)a.region=b;return c.ajax({url:this.conf["xhr-hotdeals-data"],dataType:"json",cache:true,data:a})},doneRedirect:function(a){if(window.location.href.indexOf(a)<0){c.publish("hotdeals.redirect",{url:a});if(this.enabledRedirect)window.location.href=a}else this.doneNoRedirect()},doneObtainerError:function(a){c.publish("hotdeals.noredirect");if(this._obtainer){this._obtainer.loadingStatus(false);this._obtainer.formError(a)}},
doneNational:function(a){window.location.href=c(a).attr("href")},doneCasualError:function(a){this.doneNoRedirect();this._template.setError(a)},doneNoRedirect:function(){c.publish("hotdeals.noredirect");if(this._obtainer){this._obtainer.destroy();delete this._obtainer}},obtainRegion:function(a){var b,d=this;b=Object.create(k);b.conf=d.conf;b.init({formSubmit:function(f){d.handleRegion(a,false,f)},cancel:function(){c(a).hasClass("force-overlay-hotdeals")?d.doneNoRedirect():d.doneRedirect(a.href)}});
d._obtainer=b},destroy:function(){if(this._obtainer){this._obtainer.destroy();delete this._obtainer}if(this._template){this._template.destroy();delete this._template}c(document).off("click",this.elementsSelector);for(channel in this.pubsub)c.unsubscribe("shopping.pref."+channel,this.pubsub[channel]);this.pubsub=this.conf=this._template=this._obtainer=null}},k={init:function(a){var b=this;this._guid=+new Date;this.options=a;this.formSelector=a.formSelector||"#hotDeals-form";this.conf||(this.conf=c("#hotdeals-data").embeddedData());
this.conf["xhr-hotdeals-form"]&&c.publish("overlay.launch",{url:this.conf["xhr-hotdeals-form"],positionType:"window",name:"Hot Deals Select Region",success:function(){b._form=c(b.formSelector);b._form.size()?b.ready():b.error()}})},ready:function(){this.bindError();this.bindSubmit();this.bindAdditionalListeners.call(this);this.bindCancel();this.loadingStatus(false);this.setFocus();c.publish("hotdeals.obtainerReady")},done:function(){c(this.formSelector).length&&c.publish("overlay.hide")},setFocus:function(){this._form.find('input[type="text"]').first().select()},
bindSubmit:function(){var a=this;c(document).off("submit","#hotDeals-form").on("submit","#hotDeals-form",function(b){b.preventDefault();b=a._form.find("[name=postcode]");var d=b.val();if(c.trim(d).length===4&&!isNaN(d)){a.loadingStatus(true);a.formSuccess(d);b.val("")}else a.formError();return false});c(document).on("keydown","#hotDeals-form #postcode",function(){a._errorMsg.slideUp("fast")})},bindAdditionalListeners:ND.platformDependentHotDeal.regionObtainer.bindAdditionalListeners,bindCancel:function(){this.loadingStatus(false);
this.options.cancel&&c.subscribeOnce("overlay.usercancel",this.options.cancel)},bindError:function(){var a=this;a.loadingStatus(false);this._errorMsg=this._form.find(".error");this.standardError=this._form.find("#standard-error").text();c(document).on("keydown","#hotDeals-form #postcode",function(){a._errorMsg.slideUp("fast")})},loadingStatus:ND.platformDependentHotDeal.regionObtainer.loadingStatus,formSuccess:function(a){this.loadingStatus(false);this.options.formSubmit.call(null,a)},formError:function(a){this.loadingStatus(false);
this._errorMsg.text(a||this.standardError).slideDown("fast")},error:function(){},destroy:function(){this.done();c(document).off("submit","#hotDeals-form").off("click","#hotDeals-form .hotDeals-form-currentLocation").off("keydown","#hotDeals-form #postcode");c.unsubscribe("overlay.usercancel",this.options.cancel);this._form=this.conf=null}},i=ND.platformDependentHotDeal.hotDeal.needPostcodeTemplate,j={init:function(a,b,d){this._panel=a;this._postcode=b;this._region=d;this.conf||(this.conf=c("#hotdeals-data").embeddedData());
this.tmpl=c("#tmpl-hotdeals-links").template();this.updatePostCode();this.subscribing();this.controller()},subscribing:function(){var a=this;this.pubsub={change:function(b,d){d=d||{};a._postcode=d.postcode;a._region=d.region;a.controller()}};c.subscribe("shopping.pref.change",this.pubsub.change)},updatePostCode:function(){this._postcode?c(".user-selected-postcode").text(" "+this._postcode):c(".user-selected-postcode-msg").hide()},controller:function(){this.view(this.model(this.useError()))},model:function(a){var b=
{};b.postcode=this._postcode;b.wrongPostcode=this._postcode&&this.getPageRegion()&&this._region!==this.getPageRegion();b.error=a;return b},view:ND.platformDependentHotDeal.regionObtainer.view,getPageRegion:function(){return this.conf["page-region"]},setError:function(a){this._error=a},useError:function(){var a=c.type(this._error)==="string"?this._error:false;delete this._error;return a},destroy:function(){c.unsubscribe("shopping.pref.change",this.pubsub.change)}};return function(a){var b=Object.create(l);
b.init.call(b,a);return b}}(jQuery);

(function(c,d,g){var e=d.ND=d.ND||{};e.API=e.api||{};e.cacheStore={get:function(){var a=c.trim(c.cookie(this.key));try{return a?JSON.parse(a):""}catch(b){return a||""}},set:function(a){a=c.isPlainObject(a)?JSON.stringify(a):a;if(this.get()!==a){var b={path:"/"};if(this.expires)b.expires=this.expires;if(this.domain)b.domain=this.domain;c.cookie(this.key,a||null,b)}},is:function(){return this.get()!=null?this.get().toString().length>0:false},contains:function(a){return this.get().indexOf(a)>-1}};e.deferred=
function(){var a,b,f=function(){a&&a.call()};return{resolve:function(){b=true;f()},done:function(h){a=h;b&&f()}}};if(d.$wait===g)d.$wait=function(a){a()}})(jQuery,window);

(function(c,h,g){c.fn.killFlash=function(){this.length&&this.each(function(){var a=c(this).flash();a.remove&&a.remove()});return this};c.fn.doOnce=function(a){this.length&&a.apply(this);return this};c.fn.metaBasedFlash=function(){var a={},d=function(b){return(b=b.length>0?b.metadata({type:"class"}):0)&&"swf"in b?b:0};return function(b){this.length&&this.each(function(){var f=c(this),e=d(f);b=c.extend(a,b);if(e){e=c.extend(true,e,b.swfobject);f.flash(e);f.addClass("flash-loaded");b.success&&b.success.apply(this)}});
return this}}();if(!Object.create)Object.create=function(a,d){if(a===null)a={__proto__:null};else{if(typeof a!="object")throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var b=function(){};b.prototype=a;a=new b}typeof d!=="undefined"&&Object.defineProperties(a,d);return a};window.QUnit||c(g).ready(function(){ND.shoppingPreferenceManager();ND.hotDeals()})})(jQuery,window,document);

(function(b,w){function x(e,f){e=e||"";return escape(e.split("#")[0]+"#overlay="+f).replace("/","%2F","g")}var z=function(e,f,g){var a=this,m=g?"left":"right",k={};a.text=f||{close:"Close",of:"of",prev:"Previous",next:"Next",loading:"Loading Content...",error:"There seems to be a problem."};a.list=e;a.fadeSpeed=200;a.timeout=8E3;a.view360Class="view-360";a.lightClass="overlay-light";a.disclaimerClass="external-disclaimer";a.init=function(c){a.prepareBannerModes(c);a.injectContainer();a.injectControls();
a.registerLiveEvents()};a.registerLiveEvents=function(){b(".close-button A, .close-overlay",a.container).live("click",function(){a.hide();b(".overlayblackbg").remove();addedBlackbg=false;a.asset!=null&&b.bbq.removeState("overlay");b("#overlay").hasClass("syncsltoverlay")==true&&b("#overlay").removeClass("syncsltoverlay");b.publish("overlay.usercancel");return false});b(".controls .previous:not(.disabled)",a.container).live("click",function(){a.moveTo(a.currentPage*1-1);b.publish("overlay.userprevious");
return false});b(".controls .next:not(.disabled)",a.container).live("click",function(){a.moveTo(a.currentPage*1+1);b.publish("overlay.usernext");return false});b(".click-out A",a.container).live("click",function(){a.hide()});b(".controls .disabled",a.container).live("click",function(){return false})};a.injectContainer=function(){var c,d;d={container:function(){return'<div id="overlay" class="overlay-box"></div>'},emptyDIV:function(){return'<div class="overlay-box-inner"></div>'},loading:function(){return'<div class="loading"><div class="image"></div><p>'+
a.text.loading+"</p></div>"}};a.jcontainer=b(d.container());a.container=a.jcontainer.get(0);c=b(d.emptyDIV());d=b(d.loading());a.innerWrapper=c;a.jcontainer.append(c).append(d);b("body").append(a.container)};a.setPositionMode=function(c){a.modePosition=c&&a.positions[c]?a.positions[c]:a.defaultPosition};a.prepareBannerModes=function(c){var d=b("#banner"),i=b(".principal-hero"),h="",j=false,n=a.positions={};if(j=i.size())h="0 30";else if(j=d.size())h="0 -5";if(c){if(c.srcElement)var r=c.srcElement.className;
else if(c.target)r=c.target.className;if(r.toLowerCase().indexOf("centeroverlay")>=0)j=false}if(b(".featuregeneric .principal-hero").size()>0)j=false;n.banner={of:b("#body"),my:"center bottom",at:"center top",offset:h,collision:"none",scrollTop:true};n.window={of:window,my:"center",at:"center",collision:"none",using:function(p){p[m]=p[m]>=0?p[m]:0;b(this).css(p)}};a.modePosition=a.defaultPosition=j?n.banner:n.window};a.injectControls=function(){var c;c={closeButton:function(){return'<div class="close-button"><span><a href="#">'+
a.text.close+"</a></span></div>"},controls:function(){return'<div class="controls"><ul><li class="pagination"><p><span class="current">1</span> '+a.text.of+' <span class="total">1</span></p></li><li class="previous"><a href="#" title="'+a.text.prev+'">'+a.text.prev+'</a></li><li class="next"><a href="#" title="'+a.text.next+'">'+a.text.next+"</a></li></ul></div>"}};a.closeButton=b(c.closeButton());c=b(c.controls()).hide();a.jcontainer.append(a.closeButton).append(c);if(b(".view-gallery").length>0){c=
b(".view-gallery").clone(false);a.jcontainer.append(c);c.hide()}b("#overlay").parent().hasClass("lincoln")==true&&ND.lincolnResetOl()};a.pushState=function(){var c={},d;if(b(a.anchor).attr("class"))d=b(a.anchor).attr("class").match(/asset-\d+/);if(d!=null){a.asset=d;a.assetid=d[0].substr(6);c.overlay=a.assetid;b.bbq.pushState(c)}};var o={};a.injectSocial=function(){function c(){if(!j){d.fadeIn(200);window.addthis&&window.addthis.button(".addthis-overlay");j=true}}var d=b("#overlay .share"),i=d.parent(),
h,j;if(d.size()>0&&a.assetid){if(o[a.assetid])d=o[a.assetid];else{d.remove();h=a.socialTemplate||(a.socialTemplate=b("#tmpl-overlay-share").template());h=b.tmpl(h,{replaceURL:x(window.location.href,a.assetid)});d.html(h.html())}i.prepend(d.hide());d.find("iframe").bind("load",c);setTimeout(c,500);o[a.assetid]=d}};var y={};a.enableVR=function(){var c=a.jcontainer.find(".vr-container"),d=0,i=1,h=[],j=[];b("#overlay").css("position","absolute");var n=function(l,s){for(l=l+"";l.length<s;)l="0"+l;return l};
c.each(function(l){var s=b(this),v=s.find(".vr"),u,q;q=(u=v.length>0?v.parent().find(".vr-data").embeddedData():0)&&"vrImages"in u?u.vrImages:{};j.push(u);a.jcontainer.data("cache",j);l===0&&v.attr("src",q.location+q.filenamePrefix+n(0,q.counterFormat.length)+"."+q.extension);h.push(u.name);v.parent().data("name",u.name);b("<span class='car-info'>"+u.name+"</span>").appendTo(s);l=[];for(s=q.start;s<=q.end;s++)l.push(q.location+q.filenamePrefix+n(s,q.counterFormat.length)+"."+q.extension);l.length&&
v.reel({revolution:500,frames:l.length,images:l})});b(".jquery-reel-interface").on("mousedown",function(){b.support.optSelected?b(this).addClass("grab-cursor"):b(this).removeClass("reel-cursor").addClass("grab-cursor-ie")});b(".jquery-reel-interface").on("mouseup",function(){b.support.optSelected?b(this).removeClass("grab-cursor"):b(this).removeClass("grab-cursor-ie").addClass("reel-cursor")});b(".reeldirections").fadeTo(1500,0.7);if(c.length>1)var r=c.eq(d),p=b("<button class='vr-toggle'>"+a.jcontainer.data("cache")[i].name+
"</button>").on("click",function(){var l=p;d++;i++;if(d>=c.length)d=0;if(i>=c.length)i=0;l.html(c.eq(i).find("span.car-info").html());r.css("display","none");r=c.eq(d);r.css("display","block")}).appendTo(c);a.moveToPosition()};a.storeVR=function(){var c=a.jcontainer.find(".vr");y[c.attr("src")]=c;c.detach()};a.moveToPosition=function(){if(a.shown){a.jcontainer.position(a.modePosition);b("#overlay").position().top<0&&b("#overlay").css("top","0");/iPhone|iPad|iPod/.test(navigator.platform)&&a.jcontainer.css("left",
"10px")}};a.load=function(c,d,i,h){h=h||{};a.namedTitle=h.name||"";if(a.shown){if(c!==null&&typeof c!=="undefined"&&a.anchor===c)return;if((c===null||typeof c==="undefined")&&a.contentUrl===i)return}a.flashLoadTimer&&clearTimeout(a.flashLoadTimer);a.closeButtonEnabled=typeof h.disableClose==="undefined"||!h.disableClose;a.setPositionMode(h.positionType);a.modePosition.scrollTop&&b("html, body").animate({scrollTop:0},"fast");a.anchor=c;a.contentUrl=b(c).attr("href");a.asset=(b(c).attr("class")||"").match(/asset-\d+/);
a.asset!=null&&a.pushState(a.asset[0]);a.resetType();if(d==="urlOnly"){a.contentUrl=i;a.loadContent(h.success)}else if(d==="disclaimer"){a.loadDisclaimerContent();a.updateClassDisclaimer()}else if(d==="overlay-sync"){a.contentUrl=i;b("#overlay").addClass("overlay-sync");a.loadContent(h.success)}else if(d==="syncoverlay5"){b("#overlay").addClass("syncsltoverlay");if(addedBlackbg==false){c=b(document).height();d=b(document).width();b("#overlay").before("<div class='overlayblackbg' style='height:"+c+
"px;width:"+d+"px;' ></div>");b("#overlay").addClass("syncsltoverlay");addedBlackbg=true}a.contentUrl=i;a.loadContent()}else{a.loadContent();a.updateClassOnOverlay()}a.show();a.moveToPosition()};a.checkSize=function(){var c=parseInt(a.innerWrapper.css("padding-left"))*2,d=a.innerWrapper.children().first(),i=d.outerWidth();d=d.outerHeight();if(b(".view-gallery").length>0){d+=30;a.jcontainer.find(".secondary").css("min-height","385px")}a.previousWidth=a.jcontainer.css("width");a.previousHeight=a.jcontainer.css("height");
a.jcontainer.css({width:i+c,height:d+c});a.moveToPosition()};a.resetCSS=function(){a.jcontainer.css({display:"block",top:"",left:"",width:a.previousWidth,height:a.previousHeight})};a.show=function(c){a.shown=a.shown||false;if(!a.shown){a.shown=true;a.jcontainer.fadeIn(a.fadeSpeed,c)}a.moveToPosition()};a.hide=function(){a.shown=false;a.updateClassnames("removeActive");a.storeVR();a.empty();a.jcontainer.find(".controls").hide();a.jcontainer.find(".view-gallery").hide();a.jcontainer.fadeOut(a.fadeSpeed,
function(){a.resetCSS()})};a.empty=function(){a.jcontainer&&a.jcontainer.find(".flash").killFlash();a.innerWrapper.empty()};a.done=function(){b.publish("overlay.done",{contents:a.innerWrapper,assetid:a.assetid,name:a.namedTitle});setTimeout(a.moveToPosition,1E3)};a.loadDisclaimerContent=function(){var c=a.text.disclaimer;c='<div class="ext-disc">'+c+{link:function(d){return'<p class="click-out"><a href="'+d.href+'" title="'+d.text+" "+d.href+'" target="_blank">'+d.text+" "+d.href+"</a></p>"}}.link({text:a.text.externalLink,
href:a.contentUrl})+"</div>";a.innerWrapper.html(c);a.checkSize()};a.loadContent=function(c){var d=a.jcontainer,i=a.innerWrapper,h=b(".loading",d),j,n;a.closeButtonEnabled?a.closeButton.show():a.closeButton.hide();d.addClass("loading");h.children("P").text(a.text.loading);h.children("DIV.image").show();n=function(p){a.empty();arguments.length>0&&p.apply(a);a.updateClassnames();if(a.list.totalCount>0){d.addClass("pagination-enabled");a.pagination()}else d.removeClass("pagination-enabled");a.customScrollBar()};
var r=+new Date;a.activeRequest=r;j=function(p){if(r===a.activeRequest){n(function(){d.removeClass("loading");i.html(p);a.flashLoadTimer=setTimeout(function(){r===a.activeRequest&&d.find(".flash").metaBasedFlash()},300);a.checkSize();a.injectSocial();a.enableVR();a.done()});k[a.contentUrl]=p;b.publish("overlay.success");c?c.call():a.moveToPosition()}};a.pushState();if(k[a.contentUrl])j(k[a.contentUrl]);else{n();b.ajax({url:a.contentUrl,timeout:a.timeout,success:j,dataType:"html",error:function(){n();
h.children("DIV.image").hide();h.children("P").text(a.text.error);delete k[a.contentUrl]}})}};a.prefetch=function(c){k[c]||b.ajax({url:c,timeout:a.timeout,success:function(d){k[c]=d}})};a.customScrollBar=function(){a.jcontainer.find(".secondary .body, .custom-scroll").doOnce(function(){b(this).jScrollPane({showArrows:false,scrollbarWidth:13,scrollbarOnLeft:g})})};a.reinitalise=function(){a.customScrollBar()};b.subscribe("overlay.reinitalise",a.reinitalise);a.updateClassOnOverlay=function(){var c=
b(a.anchor);a.jcontainer.toggleClass(a.view360Class,c.hasClass(a.view360Class));a.jcontainer.toggleClass(a.lightClass,c.hasClass(a.lightClass))};a.updateClassDisclaimer=function(){b(a.anchor).hasClass(a.disclaimerClass)?a.jcontainer.addClass(a.disclaimerClass):a.jcontainer.removeClass(a.disclaimerClass)};a.resetType=function(){a.jcontainer.removeClass(a.lightClass);a.jcontainer.removeClass(a.view360Class);a.jcontainer.removeClass(a.disclaimerClass)};a.updateClassnames=function(c){if(a.anchor!==w){var d=
".overlay"+(a.listType()?"-"+a.listType():"");b(d).closest(".item.active").removeClass("active");c!=="removeActive"&&b(a.anchor).closest(".item").addClass("active")}};a.listType=function(){var c;c=b(a.anchor).attr("class")||"";if(c!==w)return c=c.match(/overlay-group/)!==null?c.match(/group[0-9]*/)[0]:"";return""};a.pagination=function(){var c=a.listType(),d=a.innerWrapper.children("div"),i=d.outerHeight();if(c!==""){a.updateCurrentPage=a.setPagination(a.list[c].count);a.updateCurrentPage(a.list[c].items[a.contentUrl].order);
if(d.length>0&&i>100){a.jcontainer.find(".controls").show();a.jcontainer.find(".view-gallery").show()}}};a.setPagination=function(c){b(".pagination .total",a.container).text(c);return function(d){a.currentPage=d;b(".pagination .current",a.container).text(d);a.disablePaginationButtons(d,c)}};a.disablePaginationButtons=function(c,d){c===1?b(".controls .previous",a.container).addClass("disabled"):b(".controls .previous",a.container).removeClass("disabled");c===d?b(".controls .next",a.container).addClass("disabled"):
b(".controls .next",a.container).removeClass("disabled")};a.moveTo=function(c){var d=a.listType();d=a.list[d].items;var i,h;for(var j in d)if(d[j].order===c){h=d[j].node;i=d[j].href}a.anchor=h;a.contentUrl=i;a.asset=(b(a.anchor).attr("class")||"").match(/asset-\d+/);a.asset!=null&&a.pushState(a.asset[0]);a.loadContent()}},A=function(){var e={},f=0,g,a;for(a=1;a<50;a+=1)if(b("A.overlay-group"+a).size()>0){g=0;e["group"+a]={};b("A.overlay-group"+a).each(function(m){var k=this,o=b(k).attr("href");if(o.indexOf("#")==
0)o=o.substr(1);e["group"+a].items=m===0?{}:e["group"+a].items;if(!e["group"+a].items[o]){e["group"+a].items[o]={href:o,node:k,order:g+1};f+=1;g+=1}});e["group"+a].count=g}else break;e.totalCount=f;return e},t=function(e){if(b("#overlay").size()===0){var f=b("#javascript-text"),g=b(f.html()),a=function(k){return g.find("."+k).html()};f=f.size()?{close:a("close"),of:a("of"),prev:a("prev"),next:a("next"),loading:a("loading"),error:a("error"),disclaimer:a("disclaimer-text"),externalLink:a("disclaimer-link")}:
null;var m=new z(A(),f,window.ND&&ND.rtl);m.init(e);b(window).bind("resize",function(){m.moveToPosition()}).bind("scroll",function(){m.moveToPosition()});return m}};getCurrentItem=function(){return b("#overlay .controls .current").text()};addedBlackbg=false;b(function(){var e;b(window).bind("pageLoadedWithOverlay",function(){if(e!==w){var f;if(window.location.toString().indexOf("#")>0)(f=b.bbq.getState("overlay")||"")&&b("a[class*="+f+"]").filter(".overlay").eq(0).trigger("click");!f&&e.shown&&e.hide()}});
$wait(function(){if(b("A.overlay, A.external-disclaimer,A.overlay-sync,A.overlay-light").size()>0){if(window.location.toString().indexOf("#overlay")!=-1)e=b("#overlay").size()===0?t():e;b("A.overlay").bind("click",function(f){e=b("#overlay").size()===0?t(f):e;var g=/overlay-[^\s$]+/,a=b(this);$overlay=b("#overlay");if(newClass=a.attr("class").match(g)){(oldClass=$overlay.attr("class").match(g))&&$overlay.removeClass(oldClass.join(" "));$overlay.addClass(newClass[0]+" overlay-box")}if(a.hasClass("blackbackground"))if(addedBlackbg==
false){g=b(document).height();var m=b(document).width();b("#overlay").before("<div class='overlayblackbg' style='height:"+g+"px;width:"+m+"px;' ></div>");b("#overlay").addClass("syncsltoverlay");addedBlackbg=true}var k=a.attr("data");k&&k.indexOf("tmpl-")==0?e.load(null,"urlOnly",a.attr("href"),{success:function(){var o=b("#"+k).template();b("#"+k.substr(5)).append(b.tmpl(o));e.reinitalise()}}):e.load(this);f.preventDefault();f.stopPropagation();flag=true;return false});b("A.overlay-light").bind("click",
function(f){e=b("#overlay").size()===0?t(f):e;e.load(this);b("#overlay").addClass();f.preventDefault();f.stopPropagation();flag=true;return false});b("A.external-disclaimer").live("click",function(f){e=b("#overlay").size()===0?t(f):e;b(this).attr("href");e.load(this,"disclaimer");f.preventDefault();f.stopPropagation();return false});b(".overlay-parent").bind("click",function(f){e=b("#overlay").size()===0?t(f):e;var g=b(this).find("A:eq(0)");g.size()>0&&e.load(g);f.preventDefault();f.stopPropagation();
return false});if(!ND.API||!ND.API.isBuildAndPrice)b(window).trigger("pageLoadedWithOverlay")}});ND.API.launchOverlay=ND.launchOverlay=function(f,g){e=e||t();g||(g={});var a=g.type||"urlOnly";f!==w&&e.load(null,a,f,g);if(g.customClass){f=b("#overlay");(a=f.attr("class").match(/overlay-[^\s$]+/))&&f.removeClass(a.join(" "));f.addClass(g.customClass+" overlay-box")}};b.subscribe("overlay.launch",function(f,g){g&&ND.launchOverlay(g.url,g)});b.subscribe("overlay.hide",function(){e&&e.hide()});b.subscribe("overlay.prefetch",
function(f,g){e=e||t();e.prefetch(g.url)});ND.API.getOverlay=function(){return e=e||t()};ND.API&&ND.API.isBuildAndPrice&&b(window).trigger("pageLoadedWithOverlay")})})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.mediaOverlay={overlayHTML:"<section class='image-carousel'><div class='row fullwidth'><div class='large-12 columns'><div class='carousel carousel-main flexslider'><ul class='slides'></ul></div><div class='carousel carousel-fader flexslider'><ul class='slides'></ul></div></div></div></section>",init:function(){function b(){if(window.location.toString().indexOf("#overlay")!=-1){var d="asset-"+guxApp.mediaOverlay.getOverlayID();a("a[data-overlay-id="+d+"]").eq(0).trigger("click")}}var c=
this;c.slideText=guxApp.tools.getEmbeddedData("#media-overlay-services");if(a(".open-media-overlay").length){guxApp.mediaOverlay.hideDetailsClick=false;guxApp.mediaOverlay.overlayOpen=false;a(".buzz a.external-disclaimer").on("click",function(){setTimeout(function(){a(".overlay-box.external-disclaimer .close-button").clone().prependTo(a(".ext-disc")).show()},200)});a("#modalWrap .modal-body").append(this.overlayHTML);a(".open-media-overlay").on("click",function(d){d.preventDefault();d=a(this);var e=
d.data("media-type"),g=d.attr("class").match(/overlay-[^\s$]+/),f=d.data("video-type");a(this).addClass("active-overlay");c.updateMobileCarousel(a(this));e==="video"&&a(".modal-body").addClass("loading-video");guxApp.mediaOverlay.appendAssetID(d);guxApp.mediaOverlay.overlayOpen===false&&guxApp.mediaOverlay.openOverlay(d,g,e,f)});a(".open-media-overlay").on("touchstart",function(){a(this).parent().addClass("hover")}).on("touchend",function(){a(this).parent().removeClass("hover")});window.onhashchange=
b;b()}},updateMobileCarousel:function(b){var c=b.parent().index()-1;b.parents(".hs-triggers").next(".flexslider").find(".flex-control-nav li").eq(c).find("a").click()},getOverlayID:function(){var b=window.location.hash;if(b.indexOf("?")!=-1)b=b.substring(0,b.indexOf("?"));return b.substring(9)},appendAssetID:function(b){if(b.data("overlay-id")){b=b.data("overlay-id");var c=b.indexOf("-");b=b.substring(c+1);a(".modal").addClass(b);if(Modernizr.history)window.history.pushState(null,null,"#overlay="+
b);else window.location.hash="#overlay="+b}},openOverlay:function(b,c,d,e){a("#modalWrap").addClass("media-overlay").prepend("<div class='loading-overlay' />").modal({backdrop:false,keyboard:false});if(d==="video"){a(".modal").attr("itemtype","http://schema.org/VideoGallery");a(".modal .modal-content").addClass("video")}guxApp.mediaOverlay.overlayOpen=true;this.populateSlides(b,c,d,e)},applyVideosStrategy:function(b){if(b==="jwplayer"){a(".BrightcoveExperience").length&&a(".BrightcoveExperience").remove();
guxApp.video.init()}else if(b==="brightcove")if(brightcove){a(".modal-body").removeClass("loading-video");brightcove.createExperiences()}},populateSlides:function(b,c,d,e){if(d==="video"){b=b.attr("href");a(".media-overlay .carousel-main .slides").load(b,function(){a(".modal .content").parent().prependTo(".modal .carousel-fader .slides");a(".modal .modal-body").addClass("single-slide").find(".carousel-main .slides > li").css("display","list-item");guxApp.mediaOverlay.applyVideosStrategy(e);guxApp.mediaOverlay.videoInit();
guxApp.mediaOverlay.hideDetails();guxApp.mediaOverlay.sharePanelInit();guxApp.mediaOverlay.closeOverlay()})}else{var g=[],f=[];d=b.attr("href");var k;if(c!==null){k=a("."+c.toString()).index(b);b.parents(".gallery-category").find("."+c.toString()).each(function(h,i){g.push(a(i).attr("href"))})}else{k=0;g.push(d)}for(b=0;b<g.length;b++){c=g[b].toString();f.push(a.ajax({url:c}))}a.when.apply(undefined,f).then(function(){var h,i,j;if(f.length>1)for(j=0;j<arguments.length;j++){h=a(".carousel-slide",arguments[j][0]).parent();
i=a(".content",arguments[j][0]).parent();a(".media-overlay .carousel-main .slides").append(h);a(".media-overlay .carousel-fader .slides").append(i)}else{h=a(".carousel-slide",arguments[0]).parent();i=a(".content",arguments[0]).parent();a(".media-overlay .carousel-main .slides").append(h);a(".media-overlay .carousel-fader .slides").append(i)}a(".media-overlay .flexslider").length&&guxApp.billboardCarousel.init();a(".media-overlay .carousel-main li").length===1&&a(".modal .modal-body").addClass("single-slide");
a(".modal .modal-content").hasClass("video")?guxApp.mediaOverlay.videoInit():guxApp.mediaOverlay.imagesInit(k);guxApp.mediaOverlay.hideDetailsClick===false&&guxApp.mediaOverlay.hideDetails();guxApp.mediaOverlay.sharePanelInit();guxApp.mediaOverlay.closeOverlay()})}},centerOverlay:function(){if(guxApp.viewport.view==="tablet"){var b=a(window).height();a(".modal-dialog").css({top:(b-760)/2})}else a(".modal-dialog").css({top:""})},videoInit:function(){a(".containing-block").attr("tabindex",1).css("outline",
"none");a(".modal-body").click(function(){a(".containing-block").focus()})},imagesInit:function(b){if(a(".media-overlay .flexslider").data("flexslider")!==undefined){var c=a(".media-overlay .carousel-main.flexslider").data("flexslider"),d=a(".media-overlay .carousel-fader.flexslider").data("flexslider"),e=c.vars.animationSpeed=guxApp.viewport.view==="mobile"?300:600;c.vars.animationSpeed=0;d.vars.animationSpeed=0;c.flexAnimate(b);d.flexAnimate(b);c.vars.animationSpeed=e;d.vars.animationSpeed=0;a(".media-overlay .mobile-buttons").prepend("<span class='slide-count'></span>");
a(".media-overlay .title .large-9").append("<span class='slide-count'></span>");guxApp.mediaOverlay.updateSlideCount();c.vars.after=function(){guxApp.mediaOverlay.updateSlideCount();guxApp.mediaOverlay.sharePanelInit();guxApp.mediaOverlay.currentElem();guxApp.mediaOverlay.appendAssetID(a(".open-media-overlay.active-overlay"));a(".share-panel.cloned input").val(location.href)}}guxApp.mediaOverlay.expandedView()},currentElem:function(){var b=a(".media-overlay .carousel-main.flexslider li:has(.flex-active)").index(".media-overlay .flex-control-nav li"),
c=a(".active-overlay").attr("class").match(/overlay-[^\s$]+/);a(".active-overlay").parent().parent().find(a("."+c.toString())).removeClass("active-overlay").eq(b).addClass("active-overlay")},updateSlideCount:function(){var b=a(".media-overlay .carousel-main.flexslider li:has(.flex-active)").index(".media-overlay .flex-control-nav li")+1,c=a(".media-overlay .carousel-main.flexslider .flex-control-nav li").length,d=guxApp.mediaOverlay.slideText;a("body").hasClass("rtl")?a(".media-overlay .slide-count").html(c-
b+1+" "+d.slider_count+" "+c):a(".media-overlay .slide-count").html(b+" "+d.slider_count+" "+c)},checkVisible:function(b,c){c=c||"visible";var d=a(window).height(),e=a(window).scrollTop(),g=a(b).offset().top;b=a(b).height();if(c==="visible")return g<d+e&&g>e-b;if(c==="above")return g<d+e},closeOverlay:function(){a(".modal").on("click",".icon-close",function(b){b.preventDefault();a(".modal .loading-overlay").remove();a(".modal-body").removeClass("loading-video");a(".modal .icon-close").prependTo(".modal-content");
a("#modalWrap.media-overlay").modal("hide").removeClass("expanded media-overlay").find(".modal-dialog").css("max-width","");a(".modal .modal-body").html("").append(guxApp.mediaOverlay.overlayHTML).removeClass("single-slide");a(".modal .modal-content").removeClass("video");a("#modalWrap").removeClass().addClass("modal");a(".open-media-overlay").removeClass("active-overlay");a(".modal").attr("itemtype","http://schema.org/ImageGallery");if(Modernizr.history)window.history.pushState(null,null,"#");else window.location.hash=
"#";guxApp.mediaOverlay.hideDetailsClick=false;guxApp.mediaOverlay.overlayOpen=false;a(".modal").off("click",".icon-close")});a(".modal .modal-content").mouseup(function(b){if(b.which!=1)return false;a(this).focus()});a(document).keydown(function(b){if(b.keyCode==27&&a("#video-inner").css("position")!=="fixed")guxApp.mediaOverlay.checkVisible(a(".modal"))&&a(".modal .icon-close").trigger("click");else a(".modal .icon-close").show()})},hideDetails:function(){guxApp.mediaOverlay.hideDetailsClick=true;
var b=a(".hide-details-btn"),c=b.data("hidedetailstext"),d=b.data("showdetailstext");b.html(d).append("<span class='icon arrow'></span>");a(".hide-details-btn").on("click",function(e){e.preventDefault();if(a(this).parent().hasClass("active")){a(this).html(d).append("<span class='icon arrow'></span>").parent().removeClass("active");a(this).parents(".content").find(".details").removeClass("show").addClass("hide")}else{a(this).html(c).append("<span class='icon arrow'></span>").parent().addClass("active");
a(this).parents(".content").find(".details").removeClass("hide").addClass("show");guxApp.mediaOverlay.scrollToTop()}})},sharePanelInit:function(){var b=a(".image-carousel").width();this.cloneSharePanel();guxApp.viewport.view==="mobile"?guxApp.mediaOverlay.mobileShareEvents():guxApp.mediaOverlay.desktopShareEvents();guxApp.mediaOverlay.initShareBtn();a(window).on("resize",function(){if(a(window).width()!==b)if(a(".media-overlay")[0]){guxApp.viewport.view!=="mobile"&&a(".modal .icon-close").prependTo(".modal-content");
guxApp.mediaOverlay.initShareBtn()}b=a(window).width()})},cloneSharePanel:function(){var b;b=a(".media-overlay .flexslider").data("flexslider")!==undefined?a(".media-overlay .flex-active-slide .share-panel"):a(".media-overlay .carousel-fader .share-panel");a(".media-overlay .share-panel.cloned").remove();b.clone().prependTo(".media-overlay .image-carousel").addClass("cloned")},mobileSharePosition:function(){var b=a(window).height()/2-100;a(".share-bg").length||a("<div class='share-bg' />").insertBefore(".media-overlay .share-panel.cloned");
a(".media-overlay .share-panel.cloned").css({top:b})},mobileShareEvents:function(){a(".media-overlay .mobile-buttons").on("click",".share-btn",function(b){b.stopPropagation();b.preventDefault();guxApp.mediaOverlay.mobileSharePosition();a(".media-overlay .share-panel.cloned").show();a(".share-bg").show();a(".modal .icon-close").prependTo(".image-carousel > .row")});a(".media-overlay .share-panel.cloned").on("click",".close",function(b){b.stopPropagation();b.preventDefault();a(this).parents(".share-panel.cloned").hide();
a(".share-bg").hide();a(".modal .icon-close").prependTo(".modal-content")});a(".media-overlay .share-panel.cloned").on("click",function(b){b.stopPropagation()});a(".media-overlay .share-panel.cloned").on("click",".trackable",function(b){b.stopPropagation();a(document).triggerHandler({type:"click",target:a(this)[0]})});a(".media-overlay .mobile-buttons").on("click",".download-btn",function(b){b.stopPropagation();a(document).triggerHandler({type:"click",target:a(this)[0]})})},desktopShareEvents:function(){a(".media-overlay .desktop-buttons .share-btn").on("click",
function(b){b.preventDefault();b.stopPropagation();guxApp.mediaOverlay.desktopSharePosition();a(".media-overlay .share-panel.cloned").show()});a(".media-overlay .share-panel.cloned").on("click",".close",function(b){b.preventDefault();b.stopPropagation();a(this).parents(".share-panel.cloned").hide()})},desktopSharePosition:function(){var b=a(".modal .carousel-fader").position().top,c=a(".modal .modal-body").offset().left,d=a(".modal .flex-active-slide").length>0?a(".modal .flex-active-slide .desktop-buttons .share-btn").offset().left:
a(".modal .desktop-buttons .share-btn").offset().left,e=a(".media-overlay .share-panel.cloned").width()-(a(".modal .flex-active-slide").length>0?a(".modal .flex-active-slide .desktop-buttons .share-btn").width():a(".modal .desktop-buttons .share-btn").width())/2;a(".modal").hasClass("expanded")?a(".media-overlay .share-panel.cloned").css({top:b-202,left:d-c-e}):a(".media-overlay .share-panel.cloned").css({top:b-90,left:d-c-e})},initShareBtn:function(){guxApp.shareWidget.init(".media-overlay .share-panel.cloned")},
checkOrientation:function(){var b=a(".modal").width(),c=a(".modal").height();return b>c?"landscape":"portrait"},expandedView:function(){function b(){a(".image-carousel").resize();var d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e=a(".modal-dialog").width(),g=a(".modal-dialog").height();e=e/g;var f=a(".media-overlay .carousel-main.flexslider").data("flexslider");a(".expanded .modal-dialog").css("max-width",e*d);if(a(".media-overlay .flexslider").data("flexslider")!==undefined){f.resize();
f.vars.after=function(){f.resize();guxApp.mediaOverlay.updateSlideCount();guxApp.mediaOverlay.currentElem();guxApp.mediaOverlay.appendAssetID(a(".open-media-overlay.active-overlay"));a(".share-panel.cloned input").val(location.href)}}guxApp.viewport.view==="mobile"?a(".expanded .carousel-main").css({"margin-top":-(a(".carousel-slide").height()/2)}).parent().css({height:a(window).height()}):a(".expanded .carousel-main").css({"margin-top":""}).parent().css({height:""})}function c(d){guxApp.viewport.view===
"mobile"?a(".modal .image-carousel").on("click",function(){if(d)d=false;else{var e=a(".modal .image-carousel");e.hasClass("hide-ui")?e.removeClass("hide-ui"):e.addClass("hide-ui")}}):a(".modal .image-carousel").off("click")}a(".modal .icon-expand").on("click",function(){a(".modal").addClass("expanded");a(".modal .image-carousel").removeClass("hide-ui");a(".media-overlay .share-panel.cloned").hide();guxApp.mediaOverlay.zoomImage();b();c(true);a(".modal").off("click",".icon-close");a(document).off("keydown");
a(window).on("resize",function(){guxApp.viewport.view==="mobile"?a(".expanded .carousel-main").css({"margin-top":-(a(".carousel-slide").height()/2)}).parent().css({height:a(window).height()}):a(".expanded .carousel-main").css({"margin-top":""}).parent().css({height:""})});guxApp.mediaOverlay.closeExpandedView()})},closeExpandedView:function(){a(".modal.expanded").on("click",".icon-close",function(b){b.preventDefault();a(".modal .modal-dialog").css("max-width","");a(".expanded .carousel-main").css({"margin-top":""}).parent().css({height:""});
a(".media-overlay .share-panel.cloned").hide();a(".modal .carousel-main article").removeClass("zoomedin").css({height:"",width:""});a(".image-carousel").find(".loading, img.large-image").remove().end().find(".carousel-slide img").show();a(".modal").removeClass("expanded");a(".modal .title, .modal .mobile-buttons").css({height:""});a(".modal .icon-zoom").off("click");a(".modal .image-carousel").off("click").resize();guxApp.mediaOverlay.closeOverlay()});a(document).keydown(function(b){if(b.keyCode==
27){a(".media-overlay .share-panel.cloned").hide();a(".modal.expanded .icon-close").trigger("click")}})},zoomImage:function(){guxApp.viewport.view==="tablet"&&a(".modal .icon-zoom").on("click",function(){var b=a(this).parent(),c=b.find("img").data("zoom-src"),d=b.parent().height(),e=b.parent().width(),g=a(".media-overlay .carousel-main.flexslider").data("flexslider"),f=a(".image-carousel");if(a(".media-overlay .flexslider").data("flexslider")!==undefined)g.vars.after=function(){a(".modal .carousel-main article").removeClass("zoomedin").css({height:"",
width:""});f.find(".loading").remove();f.find("img.large-image").remove();b.find("img").show();guxApp.mediaOverlay.updateSlideCount()};if(b.hasClass("zoomedin")){b.removeClass("zoomedin").css({height:"",width:""});f.find(".loading").remove();f.find("img.large-image").remove();b.find("img").css("display","block");a(".modal .carousel-slide").unbind("mousedown mousemove mouseleave")}else{b.addClass("zoomedin").css({height:d,width:e});a(this).after("<span class='loading'></span><img src='' alt='' class='large-image' />");
f.find(".large-image").attr("src",c);a(".large-image").imagesLoaded(function(){setTimeout(function(){var k=f.find(".large-image").height(),h=f.find(".large-image").width(),i=(k-d)/2,j=(h-e)/2;f.find(".large-image").css({height:k,width:h}).siblings("img").hide();b.find(".loading").hide();a(".modal .zoomedin").scrollLeft(j);a(".modal .zoomedin").scrollTop(i);guxApp.mediaOverlay.dragImage()},200)})}})},dragImage:function(){var b=false,c,d;a(".modal .zoomedin").mousedown(function(e){e.preventDefault();
c=e.clientX;d=e.clientY;b=true});a(document).mouseup(function(){b=false});a(".modal .zoomedin").mousemove(function(e){if(b){e.preventDefault();a(".modal .zoomedin").scrollLeft(a(".modal .zoomedin").scrollLeft()+(c-e.clientX));a(".modal .zoomedin").scrollTop(a(".modal .zoomedin").scrollTop()+(d-e.clientY));c=e.clientX;d=e.clientY}});a(".modal .zoomedin").mouseleave(function(){b=false})},scrollToTop:function(){var b=a(".hide-details").length?a(".hide-details").offset().top:0;setTimeout(function(){a(".modal").animate({scrollTop:b},
800)},150)}};a(function(){a.cookie("dfy.u")&&a(".showroom.personalisation").length||guxApp.mediaOverlay.init()})})(jQuery);

Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,
feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,
today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},
{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};
(function(){var h=Date,i=h.prototype,o=h.CultureInfo,e=function(a,c){c||(c=2);return("000"+a).slice(c*-1)};i.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};i.setTimeToNow=function(){var a=new Date;this.setHours(a.getHours());this.setMinutes(a.getMinutes());this.setSeconds(a.getSeconds());this.setMilliseconds(a.getMilliseconds());return this};h.today=function(){return(new Date).clearTime()};h.compare=function(a,c){if(isNaN(a)||isNaN(c))throw new Error(a+
" - "+c);else if(a instanceof Date&&c instanceof Date)return a<c?-1:a>c?1:0;else throw new TypeError(a+" - "+c);};h.equals=function(a,c){return a.compareTo(c)===0};h.getDayNumberFromName=function(a){var c=o.dayNames,g=o.abbreviatedDayNames,b=o.shortestDayNames;a=a.toLowerCase();for(var f=0;f<c.length;f++)if(c[f].toLowerCase()==a||g[f].toLowerCase()==a||b[f].toLowerCase()==a)return f;return-1};h.getMonthNumberFromName=function(a){var c=o.monthNames,g=o.abbreviatedMonthNames;a=a.toLowerCase();for(var b=
0;b<c.length;b++)if(c[b].toLowerCase()==a||g[b].toLowerCase()==a)return b;return-1};h.isLeapYear=function(a){return a%4===0&&a%100!==0||a%400===0};h.getDaysInMonth=function(a,c){return[31,h.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][c]};h.getTimezoneAbbreviation=function(a){for(var c=o.timezones,g=0;g<c.length;g++)if(c[g].offset===a)return c[g].name;return null};h.getTimezoneOffset=function(a){for(var c=o.timezones,g=0;g<c.length;g++)if(c[g].name===a.toUpperCase())return c[g].offset;return null};
i.clone=function(){return new Date(this.getTime())};i.compareTo=function(a){return Date.compare(this,a)};i.equals=function(a){return Date.equals(this,a||new Date)};i.between=function(a,c){return this.getTime()>=a.getTime()&&this.getTime()<=c.getTime()};i.isAfter=function(a){return this.compareTo(a||new Date)===1};i.isBefore=function(a){return this.compareTo(a||new Date)===-1};i.isToday=function(){return this.isSameDay(new Date)};i.isSameDay=function(a){return this.clone().clearTime().equals(a.clone().clearTime())};
i.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};i.addSeconds=function(a){return this.addMilliseconds(a*1E3)};i.addMinutes=function(a){return this.addMilliseconds(a*6E4)};i.addHours=function(a){return this.addMilliseconds(a*36E5)};i.addDays=function(a){this.setDate(this.getDate()+a);return this};i.addWeeks=function(a){return this.addDays(a*7)};i.addMonths=function(a){var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(c,
h.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};i.addYears=function(a){return this.addMonths(a*12)};i.add=function(a){if(typeof a=="number"){this._orient=a;return this}a.milliseconds&&this.addMilliseconds(a.milliseconds);a.seconds&&this.addSeconds(a.seconds);a.minutes&&this.addMinutes(a.minutes);a.hours&&this.addHours(a.hours);a.weeks&&this.addWeeks(a.weeks);a.months&&this.addMonths(a.months);a.years&&this.addYears(a.years);a.days&&this.addDays(a.days);return this};var d,m,j;i.getWeek=
function(){var a,c,g,b,f;d=!d?this.getFullYear():d;m=!m?this.getMonth()+1:m;j=!j?this.getDate():j;if(m<=2){a=d-1;c=(a/4|0)-(a/100|0)+(a/400|0);g=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0);g=c-g;b=0;f=j-1+31*(m-1)}else{a=d;c=(a/4|0)-(a/100|0)+(a/400|0);g=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0);g=c-g;b=g+1;f=j+(153*(m-3)+2)/5+58+g}a=(a+c)%7;c=f+3-(f+a-b)%7|0;g=c<0?53-((a-g)/5|0):c>364+g?1:(c/7|0)+1;d=m=j=null;return g};i.getISOWeek=function(){d=this.getUTCFullYear();m=this.getUTCMonth()+1;j=this.getUTCDate();
return e(this.getWeek())};i.setWeek=function(a){return this.moveToDayOfWeek(1).addWeeks(a-this.getWeek())};h._validate=function(a,c,g,b){if(typeof a=="undefined")return false;else if(typeof a!="number")throw new TypeError(a+" is not a Number.");else if(a<c||a>g)throw new RangeError(a+" is not a valid value for "+b+".");return true};h.validateMillisecond=function(a){return h._validate(a,0,999,"millisecond")};h.validateSecond=function(a){return h._validate(a,0,59,"second")};h.validateMinute=function(a){return h._validate(a,
0,59,"minute")};h.validateHour=function(a){return h._validate(a,0,23,"hour")};h.validateDay=function(a,c,g){return h._validate(a,1,h.getDaysInMonth(c,g),"day")};h.validateMonth=function(a){return h._validate(a,0,11,"month")};h.validateYear=function(a){return h._validate(a,0,9999,"year")};i.set=function(a){h.validateMillisecond(a.millisecond)&&this.addMilliseconds(a.millisecond-this.getMilliseconds());h.validateSecond(a.second)&&this.addSeconds(a.second-this.getSeconds());h.validateMinute(a.minute)&&
this.addMinutes(a.minute-this.getMinutes());h.validateHour(a.hour)&&this.addHours(a.hour-this.getHours());h.validateMonth(a.month)&&this.addMonths(a.month-this.getMonth());h.validateYear(a.year)&&this.addYears(a.year-this.getFullYear());h.validateDay(a.day,this.getFullYear(),this.getMonth())&&this.addDays(a.day-this.getDate());a.timezone&&this.setTimezone(a.timezone);a.timezoneOffset&&this.setTimezoneOffset(a.timezoneOffset);a.week&&h._validate(a.week,0,53,"week")&&this.setWeek(a.week);return this};
i.moveToFirstDayOfMonth=function(){return this.set({day:1})};i.moveToLastDayOfMonth=function(){return this.set({day:h.getDaysInMonth(this.getFullYear(),this.getMonth())})};i.moveToNthOccurrence=function(a,c){var g=0;if(c>0)g=c-1;else if(c===-1){this.moveToLastDayOfMonth();this.getDay()!==a&&this.moveToDayOfWeek(a,-1);return this}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(a,+1).addWeeks(g)};i.moveToDayOfWeek=function(a,c){a=(a-this.getDay()+7*(c||+1))%7;return this.addDays(a===
0?(a+=7*(c||+1)):a)};i.moveToMonth=function(a,c){a=(a-this.getMonth()+12*(c||+1))%12;return this.addMonths(a===0?(a+=12*(c||+1)):a)};i.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864E5)+1};i.getTimezone=function(){return h.getTimezoneAbbreviation(this.getUTCOffset())};i.setTimezoneOffset=function(a){var c=this.getTimezoneOffset();return this.addMinutes(Number(a)*-6/10-c)};i.setTimezone=function(a){return this.setTimezoneOffset(h.getTimezoneOffset(a))};
i.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};i.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};i.getUTCOffset=function(){var a=this.getTimezoneOffset()*-10/6;if(a<0){a=(a-1E4).toString();return a.charAt(0)+a.substr(2)}else{a=(a+1E4).toString();return"+"+a.substr(1)}};i.getElapsed=function(a){return(a||
new Date)-this};if(!i.toISOString)i.toISOString=function(){function a(c){return c<10?"0"+c:c}return'"'+this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+'Z"'};i._toString=i.toString;i.toString=function(a){var c=this;if(a&&a.length==1){var g=o.formatPatterns;c.t=c.toString;switch(a){case "d":return c.t(g.shortDate);case "D":return c.t(g.longDate);case "F":return c.t(g.fullDateTime);case "m":return c.t(g.monthDay);
case "r":return c.t(g.rfc1123);case "s":return c.t(g.sortableDateTime);case "t":return c.t(g.shortTime);case "T":return c.t(g.longTime);case "u":return c.t(g.universalSortableDateTime);case "y":return c.t(g.yearMonth)}}var b=function(f){switch(f*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return a?a.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(f){if(f.charAt(0)==="\\")return f.replace("\\","");c.h=c.getHours;
switch(f){case "hh":return e(c.h()<13?c.h()===0?12:c.h():c.h()-12);case "h":return c.h()<13?c.h()===0?12:c.h():c.h()-12;case "HH":return e(c.h());case "H":return c.h();case "mm":return e(c.getMinutes());case "m":return c.getMinutes();case "ss":return e(c.getSeconds());case "s":return c.getSeconds();case "yyyy":return e(c.getFullYear(),4);case "yy":return e(c.getFullYear());case "dddd":return o.dayNames[c.getDay()];case "ddd":return o.abbreviatedDayNames[c.getDay()];case "dd":return e(c.getDate());
case "d":return c.getDate();case "MMMM":return o.monthNames[c.getMonth()];case "MMM":return o.abbreviatedMonthNames[c.getMonth()];case "MM":return e(c.getMonth()+1);case "M":return c.getMonth()+1;case "t":return c.h()<12?o.amDesignator.substring(0,1):o.pmDesignator.substring(0,1);case "tt":return c.h()<12?o.amDesignator:o.pmDesignator;case "S":return b(c.getDate());default:return f}}):this._toString()}})();
(function(){var h=Date,i=h.prototype,o=h.CultureInfo,e=Number.prototype;i._orient=+1;i._nth=null;i._is=false;i._same=false;i._isSecond=false;e._dateElement="day";i.next=function(){this._orient=+1;return this};h.next=function(){return h.today().next()};i.last=i.prev=i.previous=function(){this._orient=-1;return this};h.last=h.prev=h.previous=function(){return h.today().last()};i.is=function(){this._is=true;return this};i.same=function(){this._same=true;this._isSecond=false;return this};i.today=function(){return this.same().day()};
i.weekday=function(){if(this._is){this._is=false;return!this.is().sat()&&!this.is().sun()}return false};i.at=function(k){return typeof k==="string"?h.parse(this.toString("d")+" "+k):this.set(k)};e.fromNow=e.after=function(k){var l={};l[this._dateElement]=this;return(!k?new Date:k.clone()).add(l)};e.ago=e.before=function(k){var l={};l[this._dateElement]=this*-1;return(!k?new Date:k.clone()).add(l)};var d="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),m="january february march april may june july august september october november december".split(/\s/),
j="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),a="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),c="final first second third fourth fifth".split(/\s/);i.toObject=function(){for(var k={},l=0;l<j.length;l++)k[j[l].toLowerCase()]=this["get"+a[l]]();return k};h.fromObject=function(k){k.week=null;return Date.today().set(k)};for(var g=function(k){return function(){if(this._is){this._is=false;return this.getDay()==k}if(this._nth!==null){this._isSecond&&this.addSeconds(this._orient*
-1);this._isSecond=false;var l=this._nth;this._nth=null;var n=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(k,l);if(this>n)throw new RangeError(h.getDayName(k)+" does not occur "+l+" times in the month of "+h.getMonthName(n.getMonth())+" "+n.getFullYear()+".");return this}return this.moveToDayOfWeek(k,this._orient)}},b=function(k){return function(){var l=h.today(),n=k-l.getDay();if(k===0&&o.firstDayOfWeek===1&&l.getDay()!==0)n+=7;return l.addDays(n)}},f=0;f<d.length;f++){h[d[f].toUpperCase()]=
h[d[f].toUpperCase().substring(0,3)]=f;h[d[f]]=h[d[f].substring(0,3)]=b(f);i[d[f]]=i[d[f].substring(0,3)]=g(f)}d=function(k){return function(){if(this._is){this._is=false;return this.getMonth()===k}return this.moveToMonth(k,this._orient)}};g=function(k){return function(){return h.today().set({month:k,day:1})}};for(b=0;b<m.length;b++){h[m[b].toUpperCase()]=h[m[b].toUpperCase().substring(0,3)]=b;h[m[b]]=h[m[b].substring(0,3)]=g(b);i[m[b]]=i[m[b].substring(0,3)]=d(b)}d=function(k){return function(l){if(this._isSecond){this._isSecond=
false;return this}if(this._same){this._same=this._is=false;var n=this.toObject();l=(l||new Date).toObject();for(var p="",s=k.toLowerCase(),q=j.length-1;q>-1;q--){p=j[q].toLowerCase();if(n[p]!=l[p])return false;if(s==p)break}return true}if(k.substring(k.length-1)!="s")k+="s";return this["add"+k](this._orient)}};g=function(k){return function(){this._dateElement=k;return this}};for(b=0;b<j.length;b++){m=j[b].toLowerCase();i[m]=i[m+"s"]=d(j[b]);e[m]=e[m+"s"]=g(m)}i._ss=d("Second");e=function(k){return function(l){if(this._same)return this._ss(l);
if(l||l===0)return this.moveToNthOccurrence(l,k);this._nth=k;if(k===2&&(l===undefined||l===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(m=0;m<c.length;m++)i[c[m]]=m===0?e(-1):e(m)})();
(function(){Date.Parsing={Exception:function(j){this.message="Parse error at '"+j.substring(0,10)+" ...'"}};for(var h=Date.Parsing,i=h.Operators={rtoken:function(j){return function(a){var c=a.match(j);if(c)return[c[0],a.substring(c[0].length)];else throw new h.Exception(a);}},token:function(){return function(j){return i.rtoken(new RegExp("^s*"+j+"s*"))(j)}},stoken:function(j){return i.rtoken(new RegExp("^"+j))},until:function(j){return function(a){for(var c=[],g=null;a.length;){try{g=j.call(this,
a)}catch(b){c.push(g[0]);a=g[1];continue}break}return[c,a]}},many:function(j){return function(a){for(var c=[],g=null;a.length;){try{g=j.call(this,a)}catch(b){return[c,a]}c.push(g[0]);a=g[1]}return[c,a]}},optional:function(j){return function(a){var c=null;try{c=j.call(this,a)}catch(g){return[null,a]}return[c[0],c[1]]}},not:function(j){return function(a){try{j.call(this,a)}catch(c){return[null,a]}throw new h.Exception(a);}},ignore:function(j){return j?function(a){var c=null;c=j.call(this,a);return[null,
c[1]]}:null},product:function(){for(var j=arguments[0],a=Array.prototype.slice.call(arguments,1),c=[],g=0;g<j.length;g++)c.push(i.each(j[g],a));return c},cache:function(j){var a={},c=null;return function(g){try{c=a[g]=a[g]||j.call(this,g)}catch(b){c=a[g]=b}if(c instanceof h.Exception)throw c;else return c}},any:function(){var j=arguments;return function(a){for(var c=null,g=0;g<j.length;g++)if(j[g]!=null){try{c=j[g].call(this,a)}catch(b){c=null}if(c)return c}throw new h.Exception(a);}},each:function(){var j=
arguments;return function(a){for(var c=[],g=null,b=0;b<j.length;b++)if(j[b]!=null){try{g=j[b].call(this,a)}catch(f){throw new h.Exception(a);}c.push(g[0]);a=g[1]}return[c,a]}},all:function(){var j=j;return j.each(j.optional(arguments))},sequence:function(j,a,c){a=a||i.rtoken(/^\s*/);c=c||null;if(j.length==1)return j[0];return function(g){for(var b=null,f=null,k=[],l=0;l<j.length;l++){try{b=j[l].call(this,g)}catch(n){break}k.push(b[0]);try{f=a.call(this,b[1])}catch(p){f=null;break}g=f[1]}if(!b)throw new h.Exception(g);
if(f)throw new h.Exception(f[1]);if(c)try{b=c.call(this,b[1])}catch(s){throw new h.Exception(b[1]);}return[k,b?b[1]:g]}},between:function(j,a,c){c=c||j;var g=i.each(i.ignore(j),a,i.ignore(c));return function(b){b=g.call(this,b);return[[b[0][0],r[0][2]],b[1]]}},list:function(j,a,c){a=a||i.rtoken(/^\s*/);c=c||null;return j instanceof Array?i.each(i.product(j.slice(0,-1),i.ignore(a)),j.slice(-1),i.ignore(c)):i.each(i.many(i.each(j,i.ignore(a))),px,i.ignore(c))},set:function(j,a,c){a=a||i.rtoken(/^\s*/);
c=c||null;return function(g){var b=null;for(var f=b=null,k=null,l=[[],g],n=false,p=0;p<j.length;p++){b=f=null;n=j.length==1;try{b=j[p].call(this,g)}catch(s){continue}k=[[b[0]],b[1]];if(b[1].length>0&&!n)try{f=a.call(this,b[1])}catch(q){n=true}else n=true;if(!n&&f[1].length===0)n=true;if(!n){b=[];for(n=0;n<j.length;n++)p!=n&&b.push(j[n]);b=i.set(b,a).call(this,f[1]);if(b[0].length>0){k[0]=k[0].concat(b[0]);k[1]=b[1]}}if(k[1].length<l[1].length)l=k;if(l[1].length===0)break}if(l[0].length===0)return l;
if(c){try{f=c.call(this,l[1])}catch(t){throw new h.Exception(l[1]);}l[1]=f[1]}return l}},forward:function(j,a){return function(c){return j[a].call(this,c)}},replace:function(j,a){return function(c){c=j.call(this,c);return[a,c[1]]}},process:function(j,a){return function(c){c=j.call(this,c);return[a.call(this,c[0]),c[1]]}},min:function(j,a){return function(c){var g=a.call(this,c);if(g[0].length<j)throw new h.Exception(c);return g}}},o=function(j){return function(){var a=null,c=[];if(arguments.length>
1)a=Array.prototype.slice.call(arguments);else if(arguments[0]instanceof Array)a=arguments[0];if(a)for(var g=a.shift();0<g.length;){a.unshift(g[0]);c.push(j.apply(null,a));a.shift();return c}else return j.apply(null,arguments)}},e="optional not ignore cache".split(/\s/),d=0;d<e.length;d++)i[e[d]]=o(i[e[d]]);var m=function(j){return function(){return arguments[0]instanceof Array?j.apply(null,arguments[0]):j.apply(null,arguments)}};e="each any all".split(/\s/);for(d=0;d<e.length;d++)i[e[d]]=m(i[e[d]])})();
(function(){var h=Date,i=h.CultureInfo,o=function(b){for(var f=[],k=0;k<b.length;k++)if(b[k]instanceof Array)f=f.concat(o(b[k]));else b[k]&&f.push(b[k]);return f};h.Grammar={};h.Translator={hour:function(b){return function(){this.hour=Number(b)}},minute:function(b){return function(){this.minute=Number(b)}},second:function(b){return function(){this.second=Number(b)}},meridian:function(b){return function(){this.meridian=b.slice(0,1).toLowerCase()}},timezone:function(b){return function(){var f=b.replace(/[^\d\+\-]/g,
"");if(f.length)this.timezoneOffset=Number(f);else this.timezone=b.toLowerCase()}},day:function(b){var f=b[0];return function(){this.day=Number(f.match(/\d+/)[0])}},month:function(b){return function(){this.month=b.length==3?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(b)/4:Number(b)-1}},year:function(b){return function(){var f=Number(b);this.year=b.length>2?f:f+(f+2E3<i.twoDigitYearMax?2E3:1900)}},rday:function(b){return function(){switch(b){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0;this.now=true;break}}},finishExact:function(b){b=b instanceof Array?b:[b];for(var f=0;f<b.length;f++)b[f]&&b[f].call(this);b=new Date;if((this.hour||this.minute)&&!this.month&&!this.year&&!this.day)this.day=b.getDate();if(!this.year)this.year=b.getFullYear();if(!this.month&&this.month!==0)this.month=b.getMonth();if(!this.day)this.day=1;if(!this.hour)this.hour=0;if(!this.minute)this.minute=0;if(!this.second)this.second=0;if(this.meridian&&
this.hour)if(this.meridian=="p"&&this.hour<12)this.hour+=12;else if(this.meridian=="a"&&this.hour==12)this.hour=0;if(this.day>h.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");b=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone)b.set({timezone:this.timezone});else this.timezoneOffset&&b.set({timezoneOffset:this.timezoneOffset});return b},finish:function(b){b=b instanceof Array?o(b):[b];if(b.length===0)return null;
for(var f=0;f<b.length;f++)typeof b[f]=="function"&&b[f].call(this);b=h.today();if(this.now&&!this.unit&&!this.operator)return new Date;else if(this.now)b=new Date;f=!!(this.days&&this.days!==null||this.orient||this.operator);var k,l,n;n=this.orient=="past"||this.operator=="subtract"?-1:1;!this.now&&"hour minute second".indexOf(this.unit)!=-1&&b.setTimeToNow();if(this.month||this.month===0)if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;f=true}if(!f&&
this.weekday&&!this.day&&!this.days){k=Date[this.weekday]();this.day=k.getDate();if(!this.month)this.month=k.getMonth();this.year=k.getFullYear()}if(f&&this.weekday&&this.unit!="month"){this.unit="day";k=h.getDayNumberFromName(this.weekday)-b.getDay();l=7;this.days=k?(k+n*l)%l:n*l}if(this.month&&this.unit=="day"&&this.operator){this.value=this.month+1;this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null)this.day=this.value*1;if(this.month&&!this.day&&this.value){b.set({day:this.value*
1});if(!f)this.day=this.value*1}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;f=true}if(f&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";k=this.month-b.getMonth();l=12;this.months=k?(k+n*l)%l:n*l;this.month=null}if(!this.unit)this.unit="day";if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null)this[this.unit+"s"]=this[this.unit+"s"]+(this.operator=="add"?1:-1)+(this.value||0)*n;else if(this[this.unit+
"s"]==null||this.operator!=null){if(!this.value)this.value=1;this[this.unit+"s"]=this.value*n}if(this.meridian&&this.hour)if(this.meridian=="p"&&this.hour<12)this.hour+=12;else if(this.meridian=="a"&&this.hour==12)this.hour=0;if(this.weekday&&!this.day&&!this.days){k=Date[this.weekday]();this.day=k.getDate();if(k.getMonth()!==b.getMonth())this.month=k.getMonth()}if((this.month||this.month===0)&&!this.day)this.day=1;if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);
if(f&&this.timezone&&this.day&&this.days)this.day=this.days;return f?b.add(this):b.set(this)}};var e=h.Parsing.Operators,d=h.Grammar,m=h.Translator,j;d.datePartDelimiter=e.rtoken(/^([\s\-\.\,\/\x27]+)/);d.timePartDelimiter=e.stoken(":");d.whiteSpace=e.rtoken(/^\s*/);d.generalDelimiter=e.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};d.ctoken=function(b){var f=a[b];if(!f){f=i.regexPatterns;for(var k=b.split(/\s+/),l=[],n=0;n<k.length;n++)l.push(e.replace(e.rtoken(f[k[n]]),k[n]));f=a[b]=e.any.apply(null,l)}return f};
d.ctoken2=function(b){return e.rtoken(i.regexPatterns[b])};d.h=e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),m.hour));d.hh=e.cache(e.process(e.rtoken(/^(0[0-9]|1[0-2])/),m.hour));d.H=e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),m.hour));d.HH=e.cache(e.process(e.rtoken(/^([0-1][0-9]|2[0-3])/),m.hour));d.m=e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/),m.minute));d.mm=e.cache(e.process(e.rtoken(/^[0-5][0-9]/),m.minute));d.s=e.cache(e.process(e.rtoken(/^([0-5][0-9]|[0-9])/),m.second));
d.ss=e.cache(e.process(e.rtoken(/^[0-5][0-9]/),m.second));d.hms=e.cache(e.sequence([d.H,d.m,d.s],d.timePartDelimiter));d.t=e.cache(e.process(d.ctoken2("shortMeridian"),m.meridian));d.tt=e.cache(e.process(d.ctoken2("longMeridian"),m.meridian));d.z=e.cache(e.process(e.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),m.timezone));d.zz=e.cache(e.process(e.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),m.timezone));d.zzz=e.cache(e.process(d.ctoken2("timezone"),m.timezone));d.timeSuffix=e.each(e.ignore(d.whiteSpace),
e.set([d.tt,d.zzz]));d.time=e.each(e.optional(e.ignore(e.stoken("T"))),d.hms,d.timeSuffix);d.d=e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1]|\d)/),e.optional(d.ctoken2("ordinalSuffix"))),m.day));d.dd=e.cache(e.process(e.each(e.rtoken(/^([0-2]\d|3[0-1])/),e.optional(d.ctoken2("ordinalSuffix"))),m.day));d.ddd=d.dddd=e.cache(e.process(d.ctoken("sun mon tue wed thu fri sat"),function(b){return function(){this.weekday=b}}));d.M=e.cache(e.process(e.rtoken(/^(1[0-2]|0\d|\d)/),m.month));d.MM=e.cache(e.process(e.rtoken(/^(1[0-2]|0\d)/),
m.month));d.MMM=d.MMMM=e.cache(e.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),m.month));d.y=e.cache(e.process(e.rtoken(/^(\d\d?)/),m.year));d.yy=e.cache(e.process(e.rtoken(/^(\d\d)/),m.year));d.yyy=e.cache(e.process(e.rtoken(/^(\d\d?\d?\d?)/),m.year));d.yyyy=e.cache(e.process(e.rtoken(/^(\d\d\d\d)/),m.year));j=function(){return e.each(e.any.apply(null,arguments),e.not(d.ctoken2("timeContext")))};d.day=j(d.d,d.dd);d.month=j(d.M,d.MMM);d.year=j(d.yyyy,d.yy);d.orientation=e.process(d.ctoken("past future"),
function(b){return function(){this.orient=b}});d.operator=e.process(d.ctoken("add subtract"),function(b){return function(){this.operator=b}});d.rday=e.process(d.ctoken("yesterday tomorrow today now"),m.rday);d.unit=e.process(d.ctoken("second minute hour day week month year"),function(b){return function(){this.unit=b}});d.value=e.process(e.rtoken(/^\d\d?(st|nd|rd|th)?/),function(b){return function(){this.value=b.replace(/\D/g,"")}});d.expression=e.set([d.rday,d.operator,d.value,d.unit,d.orientation,
d.ddd,d.MMM]);j=function(){return e.set(arguments,d.datePartDelimiter)};d.mdy=j(d.ddd,d.month,d.day,d.year);d.ymd=j(d.ddd,d.year,d.month,d.day);d.dmy=j(d.ddd,d.day,d.month,d.year);d.date=function(b){return(d[i.dateElementOrder]||d.mdy).call(this,b)};d.format=e.process(e.many(e.any(e.process(e.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(b){if(d[b])return d[b];else throw h.Parsing.Exception(b);}),e.process(e.rtoken(/^[^dMyhHmstz]+/),function(b){return e.ignore(e.stoken(b))}))),
function(b){return e.process(e.each.apply(null,b),m.finishExact)});var c={},g=function(b){return c[b]=c[b]||d.format(b)[0]};d.formats=function(b){if(b instanceof Array){for(var f=[],k=0;k<b.length;k++)f.push(g(b[k]));return e.any.apply(null,f)}else return g(b)};d._formats=d.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy",
"ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);d._start=e.process(e.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),m.finish);d.start=function(b){try{var f=d._formats.call({},b);if(f[1].length===0)return f}catch(k){}return d._start.call({},b)};h._parse=h.parse;h.parse=function(b){var f=null;if(!b)return null;if(b instanceof Date)return b;try{f=h.Grammar.start.call({},b.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(k){return null}return f[1].length===
0?f[0]:null};h.getParseFunction=function(b){var f=h.Grammar.formats(b);return function(k){var l=null;try{l=f.call({},k)}catch(n){return null}return l[1].length===0?l[0]:null}};h.parseExact=function(b,f){return h.getParseFunction(f)(b)}})();

var guxApp=guxApp||{};(function(a){guxApp.radioButtons={init:function(){setTimeout(function(){a(".replace-radio-btn").each(function(){a(this).is(":checked")&&a(this).next().find(".button").addClass("active")})},100);a(".replace-radio-btn").next().on("click",function(){a(".replace-radio-btn").next().find(".button").removeClass("active");a(".replace-radio-btn").attr("checked",false);a(this).prev().attr("checked",true);a(this).find(".button").addClass("active")})}}})(jQuery);

//Ford chooses to use jQuery tmpl and its associated components under the MIT License.
(function(a){var r=a.fn.domManip,d="_tmplitem",q=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,b={},f={},e,p={key:0,data:{}},h=0,c=0,l=[];function g(e,d,g,i){var c={data:i||(d?d.data:{}),_wrap:d?d._wrap:null,tmpl:null,parent:d||null,nodes:[],calls:u,nest:w,wrap:x,html:v,update:t};e&&a.extend(c,e,{nodes:[],parent:d});if(g){c.tmpl=g;c._ctnt=c._ctnt||c.tmpl(a,c);c.key=++h;(l.length?f:b)[h]=c}return c}a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,d){a.fn[f]=function(n){var g=[],i=a(n),k,h,m,l,j=this.length===1&&this[0].parentNode;e=b||{};if(j&&j.nodeType===11&&j.childNodes.length===1&&i.length===1){i[d](this[0]);g=this}else{for(h=0,m=i.length;h<m;h++){c=h;k=(h>0?this.clone(true):this).get();a.fn[d].apply(a(i[h]),k);g=g.concat(k)}c=0;g=this.pushStack(g,f,i.selector)}l=e;e=null;a.tmpl.complete(l);return g}});a.fn.extend({tmpl:function(d,c,b){return a.tmpl(this[0],d,c,b)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(d,l,j){if(d[0]&&d[0].nodeType){var f=a.makeArray(arguments),g=d.length,i=0,h;while(i<g&&!(h=a.data(d[i++],"tmplItem")));if(g>1)f[0]=[a.makeArray(d)];if(h&&c)f[2]=function(b){a.tmpl.afterManip(this,b,j)};r.apply(this,f)}else r.apply(this,arguments);c=0;!e&&a.tmpl.complete(b);return this}});a.extend({tmpl:function(d,h,e,c){var j,k=!c;if(k){c=p;d=a.template[d]||a.template(null,d);f={}}else if(!d){d=c.tmpl;b[c.key]=c;c.nodes=[];c.wrapped&&n(c,c.wrapped);return a(i(c,null,c.tmpl(a,c)))}if(!d)return[];if(typeof h==="function")h=h.call(c||{});e&&e.wrapped&&n(e,e.wrapped);j=a.isArray(h)?a.map(h,function(a){return a?g(e,c,d,a):null}):[g(e,c,d,h)];return k?a(i(c,null,j)):j},tmplItem:function(b){var c;if(b instanceof a)b=b[0];while(b&&b.nodeType===1&&!(c=a.data(b,"tmplItem"))&&(b=b.parentNode));return c||p},template:function(c,b){if(b){if(typeof b==="string")b=o(b);else if(b instanceof a)b=b[0]||{};if(b.nodeType)b=a.data(b,"tmpl")||a.data(b,"tmpl",o(b.innerHTML));return typeof c==="string"?(a.template[c]=b):b}return c?typeof c!=="string"?a.template(null,c):a.template[c]||a.template(null,q.test(c)?c:a(c)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){b={}},afterManip:function(f,b,d){var e=b.nodeType===11?a.makeArray(b.childNodes):b.nodeType===1?[b]:[];d.call(f,b);m(e);c++}});function i(e,g,f){var b,c=f?a.map(f,function(a){return typeof a==="string"?e.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+d+'="'+e.key+'" $2'):a:i(a,e,a._ctnt)}):e;if(g)return c;c=c.join("");c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(f,c,e,d){b=a(e).get();m(b);if(c)b=j(c).concat(b);if(d)b=b.concat(j(d))});return b?b:j(c)}function j(c){var b=document.createElement("div");b.innerHTML=c;return a.makeArray(b.childNodes)}function o(b){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(m,l,j,d,b,c,e){var i=a.tmpl.tag[j],h,f,g;h=i._default||[];if(c&&!/\w$/.test(b)){b+=c;c=""}if(b){b=k(b);e=e?","+k(e)+")":c?")":"";f=c?b.indexOf(".")>-1?b+c:"("+b+").call($item"+e:b;g=c?f:"(typeof("+b+")==='function'?("+b+").call($item):("+b+"))"}else g=f=h.$1||"null";d=k(d);return"');"+i[l?"close":"open"].split("$notnull_1").join(b?"typeof("+b+")!=='undefined' && ("+b+")!=null":"true").split("$1a").join(g).split("$1").join(f).split("$2").join(d?d.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(d,c,b,a){a=a?","+a+")":b?")":"";return a?"("+c+").call($item"+a:d}):h.$2||"")+"_.push('"})+"');}return _;")}function n(c,b){c._wrap=i(c,true,a.isArray(b)?b:[q.test(b)?b:a(b).html()]).join("")}function k(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function s(b){var a=document.createElement("div");a.appendChild(b.cloneNode(true));return a.innerHTML}function m(o){var n="_"+c,k,j,l={},e,p,i;for(e=0,p=o.length;e<p;e++){if((k=o[e]).nodeType!==1)continue;j=k.getElementsByTagName("*");for(i=j.length-1;i>=0;i--)m(j[i]);m(k)}function m(j){var p,i=j,k,e,m;if(m=j.getAttribute(d)){while(i.parentNode&&(i=i.parentNode).nodeType===1&&!(p=i.getAttribute(d)));if(p!==m){i=i.parentNode?i.nodeType===11?0:i.getAttribute(d)||0:0;if(!(e=b[m])){e=f[m];e=g(e,b[i]||f[i],null,true);e.key=++h;b[h]=e}c&&o(m)}j.removeAttribute(d)}else if(c&&(e=a.data(j,"tmplItem"))){o(e.key);b[e.key]=e;i=a.data(j.parentNode,"tmplItem");i=i?i.key:0}if(e){k=e;while(k&&k.key!=i){k.nodes.push(j);k=k.parent}delete e._ctnt;delete e._wrap;a.data(j,"tmplItem",e)}function o(a){a=a+n;e=l[a]=l[a]||g(e,b[e.parent.key+n]||e.parent,null,true)}}}function u(a,d,c,b){if(!a)return l.pop();l.push({_:a,tmpl:d,item:this,data:c,options:b})}function w(d,c,b){return a.tmpl(a.template(d),c,b,this)}function x(b,d){var c=b.options||{};c.wrapped=d;return a.tmpl(a.template(b.tmpl),b.data,c,b.item)}function v(d,c){var b=this._wrap;return a.map(a(a.isArray(b)?b.join(""):b).filter(d||"*"),function(a){return c?a.innerText||a.textContent:a.outerHTML||s(a)})}function t(){var b=this.nodes;a.tmpl(null,null,null,this).insertBefore(b[0]);a(b).remove()}})(jQuery);


ND.polk={showChangeVisually:function(b){var a=["#cbe6f2","transparent"];b.css("backgroundColor",a[0]).delay(1250).animate({backgroundColor:a[1]},1250,function(){$(this).css("backgroundColor","transparent")})},bindAdditionalListeners:function(){},templateUpdated:function(){}};

(function(a,G){var d={},p=".calculateprice.dfy",C={},A={},D={overlayLaunched:false};priceUpdater=C.PriceUpdater=function(){function m(h){q={};a(h).each(function(n,i){n=a(i);if(i=n.data("derivativeid"))q[i]=n;if(!j&&n.data("modelid"))j=n.data("modelid")});return q}function o(h){if(d.priceformatter!==null)typeof h!=="undefined"&&a.isFunction(h)&&h();else{priceUserDataManager.initPriceFormatter();a.isFunction(h)&&h()}}var q,l={priceClass:".price",hotDealClass:".latest-offer",loanCalcClass:".loan-calc",
priceContainer:".derivative-price",tmpl:"#tmpl-price-main",hotDealTmpl:"#tmpl-price-hotdeal-main",noPriceTmpl:"#tmpl-noprice-main"},j=null;return{init:function(h,n){var i=this;this.options=n=a.extend({},l,n);m(this.options.priceContainer);this.tmpl=a(this.options.tmpl).template();if(a(this.options.hotDealTmpl).length>0)this.hotDealTmpl=a(this.options.hotDealTmpl).template();a.subscribe("userchange"+p,function(){i.notifyChange()})},list:function(){var h=[];a.each(q,function(n){h.push(n)});return h},
update:function(h,n){var i=this;n=n===G||n;if(q){i.notifyChange();o(function(){a.each(h,function(g,s){g=q[g];var t,w,y;if(g&&s.displayPrice){t=g.find(i.options.priceClass);if(typeof guxApp!=="undefined")s.price=guxApp.priceFormatter.format(s.price);y=a.tmpl(i.tmpl,s);if(typeof ND.polk.renderDerivative!=="undefined"){w=g.parents("li").filter(":visible");w=w!=null&&w.length>0?a(w[0]):g.parent().parent();renderHotdeals=a.tmpl(i.hotDealTmpl,s);ND.polk.renderDerivative(g,t,w,y,renderHotdeals,i.options.hotDealClass);
typeof ND.polk.registerLoanBtn!=="undefined"&&ND.polk.registerLoanBtn(w,s.price,d.priceformatter,priceUserDataManager.locationValue())}else{if(t.size())t.replaceWith(y);else{g.find("style").length>0&&g.find("style").remove();g.find(i.options.loanCalcClass).length>0&&g.find(i.options.loanCalcClass).parent().remove();g.prepend(y)}a(i.options.loanCalcClass,g).off("click").on("click",function(b){b.preventDefault();a(this).loanCalculatorOverlay({price:s.price,priceformatter:d.priceformatter,location:priceUserDataManager.locationValue()})})}n&&
ND.polk.showChangeVisually(g.find(i.options.priceClass))}});if(a(i.options.noPriceTmpl).length){var e=a(i.options.noPriceTmpl).html();a(".body.derivative-price").each(function(g,s){a(s).find(".price").length===0&&a(s).prepend(e)})}var z=a(".model-enhance .attribute-bar"),B=a("#price-urls").embeddedData();z.length&&a("a.offers",z).length&&B&&B["latest-offer-backimg"]&&a("a.offers",z).attr("style","background-image:url("+B["latest-offer-backimg"]+")");a(".model-content.body.derivative-price").length&&
a(".model-content.body.derivative-price a.offers").length&&a(".model-content.body.derivative-price").addClass("extend")})}else a.publish("error"+p,"ND.PriceUpdater: Could not update Dom")},notifyChange:function(){var h=this;q&&a.each(q,function(n,i){if(typeof ND.polk.notifyChange!=="undefined")ND.polk.notifyChange(i);else{i.find(h.options.priceClass).remove();i.find(h.options.loanCalcClass).parent().remove()}})},modelId:function(){return j}}}();priceUserDataManager=C.userDataManager=function(){function m(){var b=
a.extend(e,{derivatives:B});a.publish("userchange"+p,{payload:b})}function o(){if((e=l())&&(e.postcode||e.pricezone)&&e.usage){y=true;m()}else e=null;return e}function q(){a.publish("shopping.pref.save",e)}function l(){function b(f,c){e=c}a.publish("shopping.pref.retrieve",b);return e}function j(b,f,c,k,r,u){if(arguments.length>=2)e={postcode:b,usage:f,usageLabel:c,pricezone:k,pricezoneLabel:r,priceformatData:u};return e}function h(b){var f=a(b.formid);if(d.isPricezone){if(!g){b=a("#regional-price-json");
if(b.length>0)g=b.embeddedData()}if(f.size()&&typeof e!=="undefined"&&e!=null&&e.pricezone!=null&&e.pricezone!==""&&e.usage!=null&&e.usage!==""){for(var c in g)if(c&&g[c]){var k=false;a.each(g[c],function(r,u){if(u.id===e.pricezone){f.find("select[name=pricezone]").val(c).select();k=true;return false}});if(k)break}b=f.find("input[name=usage]");if(b.length)b.filter("[value="+e.usage+"]")[0].checked=true;if(a.mobile){f.find("select[name=pricezone]").selectmenu("refresh");b.checkboxradio("refresh")}}}else if(f.size()&&
typeof e!=="undefined"&&e!=null&&e.postcode!=null&&e.postcode!==""&&e.usage!=null&&e.usage!==""){f.find("input[name=postcode]").val(e.postcode).select();b=f.find("input[name=usage]");if(b.length)b.filter("[value="+e.usage+"]")[0].checked=true}}function n(b,f){var c="userchangesuccess"+p,k=[],r;y=false;if(a.isPlainObject(b)){a.isFunction(b.complete)&&k.push(b.complete);b.flashid&&k.push(function(){var u,v=a("#"+b.flashid).find("object").andSelf().filter("object").get(0);try{u=a.extend({},e);u.derivatives&&
delete u.derivatives;v.message("postcode",JSON.stringify(u))}catch(E){}})}if((d.formURL||d.regionformURL)&&(f||!e)){r=function(){a.unsubscribe(c,r);a.unsubscribe("overlay.usercancel",r);a.each(k,function(u,v){v.apply(v,[l()])})};a.subscribe(c,r);a.subscribe("overlay.usercancel",r);typeof guxApp!=="undefined"?a.publish("overlay.launchgux",{url:d.isPricezone?d.regionformURL:d.formURL,positionType:"window",name:"POLK Select Postcode",success:function(){D.overlayLaunched=true}}):a.publish("overlay.launch",
{url:d.isPricezone?d.regionformURL:d.formURL,positionType:"window",name:"POLK Select Postcode",success:function(){D.overlayLaunched=true}})}else a.each(k,function(u,v){v.apply(v,[l()])})}function i(b){ND.polk.bindAdditionalListeners(b);a(document).off("submit",b).on("submit",b,function(f){var c=a(this),k,r,u,v;working=false;f.preventDefault();f=c.find("[name=postcode]").val();r=c.find("[name=usage]:checked");k=r.val();v=c.find("[name=pricezone]").val();c=c.find("[name=pricezone]").find("option:selected").text();
if(d.isPricezone)if(a.trim(v).length>0&&k&&g&&g[v]){var E;a.each(g[v],function(H,x){if(x.type===k){u=x.id;d.priceformatter=ND.PriceFormatter;d.priceformatter.initialise({data:x.priceFormat,formatString:x.currencySymbol,centsSeparator:x.monetaryDecimalSeparator,thousandsSeparator:x.groupingSeparator});E=x.priceFormat+"|"+x.currencySymbol+"|"+x.monetaryDecimalSeparator+"|"+x.groupingSeparator;return false}});r=a("[for="+r.attr("id")+"]").attr("title");j(f,k,r,u,c,E);m()}else a.publish("usererror"+p);
else if(a.trim(f).length===4&&!isNaN(f)&&k){r=a("[for="+r.attr("id")+"]").attr("title");j(f,k,r);m()}else a.publish("usererror"+p);return false})}var e,z,B,g,s,t=null,w=null,y;z={formid:"#calc-price-user",regionformid:"#regional-price-user",needprice:".need-price",getpostcodeusage:".get-postcode-usage",tmpl:"#tmpl-price-links"};A.requestPriceUserData=function(b,f,c,k){if(f&&typeof b=="string"){b={flashid:b};b.complete=c}n(b,k)};A.requestChangePriceUserData=function(b,f,c){A.requestPriceUserData(b,
f,c,true)};A.requestChangePriceBuildAndPrice=function(b,f){A.isBuildAndPrice=ND.API.isBuildAndPrice=true;d.isPricezone=false;n(b,f)};A.requestCookieValuesBuildAndPrice=function(b){b.complete&&a.publish("shopping.pref.retrieve",function(f,c){b.complete.apply(b.complete,[c])})};return{init:function(b,f){var c=this;e=null;c.options=f=a.extend({},z,f,{formid:d.isPricezone?z.regionformid:z.formid});c.needprice=a(f.needprice);c.needprice.on("click",f.getpostcodeusage,function(k){k.preventDefault();n(null,
true)});B=b;i(f.formid);c.tmpl=a(f.tmpl).template();a.subscribe("userchange"+p,function(){});a.subscribe("overlay.success",function(){h(f);ND.polk.bindAdditionalListeners(f.formid)});a.subscribe("destroy"+p,function(){for(var k in c.pubsub)a.unsubscribe(k+p,c.pubsub[k]);a(document).off("submit",a(c.options.formid));c.needprice.off("click",c.options.getpostcodeusage);c.needprice.empty()});if(B.length!==0)o()||c.update()},initPriceFormatter:function(){if(e&&e.priceformatData&&d&&!d.priceformatter&&
ND.PriceFormatter){var b=e.priceformatData.split("|");if(b.length===4){d.priceformatter=ND.PriceFormatter;d.priceformatter.initialise({data:b[0],formatString:b[1],centsSeparator:b[2],thousandsSeparator:b[3]})}}},update:function(b,f){var c=this;b=b||e;if(c.needprice){b=a.tmpl(c.tmpl,b);if(c.previousLinks&&c.previousLinks.length){c.previousLinks.remove();c.needprice.append(b)}else typeof guxApp!=="undefined"?c.needprice.html(b):c.needprice.append(b);c.previousLinks=b;f&&!y&&ND.polk.showChangeVisually(a(c.previousLinks.get(0)));
ND.polk.templateUpdated(c.needprice)}},visualUpdate:function(b){this.update(b,true)},fromCookie:function(){return!!y},displayMsg:function(b){t=a(priceUserDataManager.options.formid);s=t.find(".error");if(w==null)w=t.find("#standard-error").text();s.text(b?b:w);s.filter(":hidden").slideDown("fast")},loading:function(b){t=a(priceUserDataManager.options.formid);if(b){t.find(".error").hide();t.find(".loading").filter(":hidden").slideDown("fast");t.find("button[type=submit]").attr("disabled",true)}else{t.find(".loading").hide();
t.find("button[type=submit]").removeAttr("disabled")}},locationValue:function(){if(e)return d.isPricezone?e.pricezoneLabel+" "+e.usageLabel:e.postcode+" "+e.usageLabel;return""},getData:l,setData:q}}();pubsub={userchange:function(m,o){function q(l){a.publish("change"+p,{error:true,errorMessage:"System error."});a.publish("error"+p,l)}if(!d.dataURL&&!d.isPricezone)a.publish("error"+p,"There was a problem.");else if(o&&o.payload){priceUserDataManager.loading(true);if(d.isPricezone){if(a("#rest-services").length>
0)(m=a("#rest-services").embeddedData()["pricezone.derivatives"])&&a.ajax({type:"GET",url:m.replace("{site}",d.site).replace("{pricezoneId}",o.payload.pricezone).replace("{modelId}",priceUpdater.modelId()),dataType:"json",complete:function(l,j){a.publish("get"+p,j)},success:function(l){var j={};if(l&&l.length>0){d.priceformatter||priceUserDataManager.initPriceFormatter();l=a.map(l,function(h){if(!h.displayPrice)if(d.priceformatter)h.displayPrice=d.priceformatter.format(h.price);return h});j.error=
false;j.derivatives=l}else{j.error=true;j.errorMessage=a("form.calc-price-user p.error").html()}a.publish("change"+p,j)},error:function(l,j){q(j)}})}else a.ajax({type:"POST",url:d.dataURL,cache:false,headers:{"Cache-Control":"no-cache"},data:{data:JSON.stringify(o.payload)},complete:function(l,j){a.publish("get"+p,j)},success:function(l){a.publish("change"+p,l)},error:function(l,j){q(j)},dataType:"json"})}else q("no payload")},change:function(m,o){o=o||{};priceUserDataManager.loading(false);if(o.error)a.publish("usererror"+
p,o.errorMessage||"Error");else{a.publish("userchangesuccess"+p,o);if(D.overlayLaunched)typeof guxApp!=="undefined"?a.publish("overlay.hidegux"):a.publish("overlay.hide")}},userchangesuccess:function(m,o){var q={};a.each(o.derivatives||[],function(l,j){q[j.id]=j});priceUserDataManager.visualUpdate();priceUpdater.update(q,!priceUserDataManager.fromCookie());priceUserDataManager.setData()},usererror:function(m,o){priceUserDataManager.displayMsg(o)},loading:function(m,o){priceUserDataManager.loading(o)}};
for(var F in pubsub)a.subscribe(F+p,pubsub[F]);C.conf=function(m){m=m||a("#price-urls").embeddedData();d.dataURL=m["xhr-calcprice-data"]||d.dataURL;d.formURL=m["xhr-calcprice-form"]||d.formURL;d.regionformURL=m["xhr-regionalprice-form"]||d.regionformURL;d.isPricezone=d.regionformURL&&d.regionformURL.length>0;d.site=a("#common-config").embeddedData().site;d.priceformatter=null};C.init=function(){this.conf();if(!(!d.isPricezone&&!d.dataURL&&!d.formURL||d.isPricezone&&!d.regionformURL)){priceUpdater.init();
var m=priceUpdater.list();priceUserDataManager.init(m)}};ND.CalcPrice=C;ND.API=a.extend(ND.API,A)})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.polk={init:function(){a.subscribe("overlay.launchgux",function(b,c){guxApp.polk.launched||guxApp.polk.launchOverlay(c)});a.subscribe("overlay.hidegux",guxApp.polk.hideOverlay);guxApp.polk.closeOverlay();guxApp.polk.inputLength();a.subscribe("userchangesuccess.calculateprice.dfy",function(b,c){a("#compareContainer .body.derivative-price").css("width","");if(a(".model-walk")[0]){guxApp.ModelWalk.fetchDate();guxApp.polk.startingPrice(b,c)}if(a(".model-compare")[0]){guxApp.polk.appendZero(true);guxApp.polk.modelCompareOffers()}else guxApp.polk.appendZero();
a(".model-display")[0]&&guxApp.polk.compareVehicleOffers();a(".section-cars")[0]&&guxApp.polk.showroomPrices(b,c)});a.subscribe("shopping.pref.retrieve",function(){a("#compareContainer .body.derivative-price:empty")?a("#compareContainer .body.derivative-price").attr("style","width:0 !important"):a("#compareContainer .body.derivative-price").css("width","")});guxApp.innerPopup.init()},appendZero:function(b){if((b?a(".calc-price-overlay")[0]?a(".calc-price-overlay .pc-input").val().length:a(".model-compare .need-price .prices-shown .postcode").html().length:
a(".calc-price-overlay")[0]?a(".calc-price-overlay .pc-input").val().length:a(".need-price .prices-shown .postcode").html().length)===3)if(a(".calc-price-overlay")[0]){b=0+a(".calc-price-overlay .pc-input").val();a(".calc-price-overlay .pc-input").val(b)}else a(".need-price .prices-shown .postcode").prepend("0")},showroomPrices:function(b,c){var f,g;a.each(c.derivatives,function(i,d){f=d.price;g=parseInt(f.replace(/[^0-9.]/g,""));a('.derivative-price[data-derivativeid="'+d.id+'"]').parents(".vehicle-data").attr("data-price",
g)})},startingPrice:function(b,c){function f(h,e){return h-e}function g(h){return h.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var i=[],d,j;a.each(c.derivatives,function(h,e){d=e.price;i.push(parseInt(d.replace(/[^0-9.]/g,"")));j=j!==undefined?j+"\nPrice: "+d+"  ID: "+e.id:"Price: "+d+"  ID: "+e.id});b=i.sort(f)[0];g(b)},modelCompareOffers:function(){a(".model-compare .model-hero .derivative-price").each(function(){var b=a(this);b.parent().append("<li />");b.find(".offers").appendTo(b.parent().find("li:last-child"));
b.parent().find(".offers").parent().css("marginRight",0);b.parent().find("li:empty").remove();b.parent().find(".offers").length>1&&b.parent().find(".offers").eq(0).parent().remove()});a(".model-compare .mw-content .model-hero .model-container .model-data .model-content ul").removeAttr("style");a(".model-compare section.model-hero .model-container h2").removeAttr("style");guxApp.ModelCompare._equalizeElemHeight(a(".model-compare .mw-content .model-hero .model-container .model-data .model-content ul"));
guxApp.ModelCompare._equalizeElemHeight(a(".model-compare section.model-hero .model-container h2"))},compareVehicleOffers:function(){a(".model-display .derivative-price").each(function(){a(this).find(".price").siblings(".offers").remove();a(this).find(".offers").appendTo(a(this))})},hideOverlay:function(){a("#modalWrap").modal("hide").removeClass("polk-modal").find(".modal-body").html("");guxApp.polk.launched=false},launchOverlay:function(b){guxApp.polk.launched=true;a("#modalWrap").addClass("polk-modal").modal({backdrop:false,
keyboard:false});a(".polk-modal .modal-body").load(b.url,function(){b.success.call();guxApp.radioButtons.init();setTimeout(function(){guxApp.polk.appendZero()},250);a.publish("overlay.success")})},closeOverlay:function(){a("#modalWrap").on("click",".icon-close, .close-overlay",function(b){b.preventDefault();a.publish("overlay.usercancel");guxApp.polk.hideOverlay()});a(document).keydown(function(b){if(b.keyCode==27){a.publish("overlay.usercancel");guxApp.polk.hideOverlay()}})},inputLength:function(){a(".modal").on("input keyup",
".pc-input",function(){a(this).val().length>4&&a(this).val(a(this).val().slice(0,4))})}};a(function(){if(a(".need-price")[0]){ND.CalcPrice.init();guxApp.polk.init()}})})(jQuery);

var guxApp=guxApp||{};
(function(b){b(function(){var l=guxApp.tools.commonConfigData(),f=guxApp.tools.getEmbeddedData("#modelwalk-config"),m=l!=null&&l.site?l.site:null,g=f!=null&&f.formattedDate?f.formattedDate:null,n=f!=null&&f.modelData?f.modelData:null,o=f!=null&&f.imageUrl?f.imageUrl:null,i=f!=null&&f.selectMsg?f.selectMsg:null,p=f!=null&&f.derivativeUrl?f.derivativeUrl:null,q=f!=null&&f.overlayUrl?f.overlayUrl:null,r=function(){var a=new Date,c=a.getFullYear(),d=("0"+(a.getMonth()+1)).slice(-2);a=("0"+a.getDate()).slice(-2);
return c+d+a};guxApp.ModelWalk={init:function(){var a=b(".model-walk");if(a.length){this.equalizeModelHeight();this.initConfig();this.initDetails(a);this.modifySize();this.fetchDate();this.preSelectModel();this.resizeModelHandler();this.showCheckbox();this.initState();this.setAllowModelMsg();this.initPriceFormat()}},initState:function(){if(b("section.model-walk").length>0&&b("section.model-walk.model-enhance").length===0){window.onpopstate=undefined;b.bbq.pushState({step:1})}},initPriceFormat:function(){if(b("#mpz-config").length&&
f){var a=b("#mpz-config").embeddedData();guxApp.priceFormatter.initialise({data:a.priceFormat,formatString:f.formattedPrice,centsSeparator:a.monetaryDecimalSeparator,thousandsSeparator:a.groupingSeparator})}},preSelectModel:function(){var a=window.location.search.substr(1).match(/(^|&)itemid=([^&]*)(&|$)/i);b('.model-walk .model-select input[data-modelnum="'+(a&&a.length>2?a[2]:"")+'"]').click()},modifySize:function(){this.config.allowedModels=b(window).width()>=768?3:2},fetchDate:function(){if(g!=
null){g=g.replace("{site}",guxApp.tools.encode(m));g=g.replace("{yyyyMMdd}",r());var a=this;b.ajax({url:g,type:"GET",dataType:"json"}).done(function(c){a.config.formattedDate=c["formatted-date"];b(".priceDate").html(a.config.formattedDate)}).fail(function(c,d){if(d=="timeout")throw new Error(d,"Fetch Date timeout");else if(c.status==500)throw new Error(c.status,"Server error when fetching Date");})}},initConfig:function(){var a=b(".model-walk .uniform .model-container").length;this.config={site:m,
formattedDate:g,derivativeUrl:p,modelData:n,imageUrl:o,selectedModels:[],allowedModels:3,selectMsg:i,totalModelNum:a,overlayUrl:q}},registerListeners:function(){var a=this,c=guxApp.tools.isIOS()?"click tap":"click";b(window).resize(function(){a.modifySize.call(a)});b(window).unbind("hashchange").bind("hashchange",function(){var d=b.bbq.getState("step");if(d==="1"){guxApp.ModelCompare.clearModel();guxApp.ModelWalk.resetVehicleSelection();a.registerListeners()}else if(d==="2"){b(".model-walk").hide();
guxApp.ModelCompare.init(a.config)}});b("#modalModel .model-data,.model-walk .model-data").on(c,function(d){if(b(this).hasClass("selected")&&b(this).closest("#modalModel").length>0)return false;else!b(d.target).data("disclosure")&&b(d.target).closest(".inner-popup.active").length===0&&b(this).find('input[type="checkbox"]').click()});b(".select-models button").click(function(){b(".model-walk").hide();b.bbq.pushState({step:2})});b(".model-select input").on("click.modelwalk",function(d){d.stopPropagation();
d=b(this).closest("#modalModel");var e=b(this).closest(".model-container .model-data");b(this).prop("checked")===true?e.addClass("selected"):e.removeClass("selected");e=b(this).data("modelnum");if(d.length>0&&d.hasClass("change")){d=d.data("originid");a.changeModel(d,e)}else if(a.config.selectedModels.indexOf(e)!=-1)a.removeModel(b(this),e);else if(a.config.selectedModels.indexOf(e)!=-1&&a.config.selectedModels.length>a.config.allowedModels)a.removeModel(b(this),e);else a.config.selectedModels.length<
a.config.allowedModels&&a.addModel(e);a.config.selectedModels.length==0?b(".allowed-models").addClass("ready"):b(".allowed-models").removeClass("ready")})},resetVehicleSelection:function(){var a=this;guxApp.ModelCompare.clearModel();b(".model-walk").show();b(".compareContent").children().remove();b(window).unbind("scroll",guxApp.ModelCompare.compareStickyHeader);b(window).unbind("scroll",guxApp.ModelCompare.stickyHeaderListener);b(window).unbind("resize",guxApp.ModelCompare.resizeModelHandler);var c=
a.config.selectedModels.slice(0);a.config.selectedModels=[];a=b(".model-walk form.uniform .model-select input");a.prop("checked",false);a.removeAttr("disabled");a.closest(".model-select").removeClass("disabled");b(".model-walk .model-container .model-data").removeClass("selected");b(".model-walk .model-container .model-data span[class='checked']").removeClass("checked");b(".model-walk form.uniform .model-container").show();for(a=0;a<c.length;a++)b('.model-walk .model-container .model-select input[data-modelnum="'+
c[a]+'"]').click();guxApp.tools.isIOS()&&b('.model-walk .model-container .model-select input[data-modelnum="'+c[0]+'"]').click();b("#modalModel .model-data,.model-walk .model-data").off("click tap");b(".select-models button").off("click");b(".model-select input").off("click.modelwalk")},changeModel:function(a,c){this.config.selectedModels.splice(this.config.selectedModels.indexOf(a),1,c);guxApp.ModelCompare.updateCompareModels(this.config.selectedModels)},removeModel:function(a,c){this.config.selectedModels.splice(this.config.selectedModels.indexOf(c),
1);this.setAllowModelMsg();guxApp.ModelCompare.updateCompareModels(this.config.selectedModels);a=a.closest(".model-data");for(c=0;c<a.length;c++){var d=b(a[c]);d.removeClass("selected");d.find("span[class='checked']").removeClass("checked")}if(this.config.selectedModels.length<2){b(".select-models button").removeClass("ready").attr("disabled","disabled");b(".select-models .mobile-button .ui-btn").addClass("ui-disabled")}if(this.config.selectedModels.length===this.config.allowedModels-1){a=b("form.uniform .model-select input:not(:checked)");
a.removeAttr("disabled");a.removeData("disabled");a.closest(".model-select").removeClass("disabled")}},addModel:function(a){this.config.selectedModels.push(a);guxApp.ModelCompare.updateCompareModels(this.config.selectedModels);this.setAllowModelMsg();if(this.config.selectedModels.length>=2){b(".select-models button").addClass("ready").removeAttr("disabled").removeData("disabled");b(".select-models .mobile-button .ui-btn").removeClass("ui-disabled")}if(this.config.selectedModels.length===this.config.allowedModels){a=
b("form.uniform .model-select input:not(:checked)");a.attr("disabled","disabled");a.closest(".model-select").addClass("disabled")}},setAllowModelMsg:function(){var a=b(".allowed-models"),c=b(".pluralize-models"),d=b(".select-models .mw-compare-sticky h3"),e="";if(this.config.selectedModels.length===0){e=this.config.allowedModels;if(this.config.totalModelNum<this.config.allowedModels)e=this.config.totalModelNum;c.hide();a.show().find("span").html(e);e=i.other.replace(/{}/,e);d.html(a.html())}else{var h=
this.config.allowedModels-this.config.selectedModels.length;if(this.config.totalModelNum<this.config.allowedModels)h=this.config.totalModelNum-this.config.selectedModels.length;switch(h){case 0:e=i.zero;break;case 1:e=i.one;break;default:e=i.other;e=e.replace(/{}/,h);break}a.hide();c.html(e).show();d.html(e)}if(guxApp.viewport.view==="mobile")b(".mw-compare-sticky .hide-for-large-up .ui-btn-text").length>0?b(".mw-compare-sticky .hide-for-large-up .ui-btn-text").html(e):b(".mw-compare-sticky .hide-for-large-up button").html(e)},
showCheckbox:function(){b('input[type="checkbox"]').css("visibility","visible")},equalizeModelHeight:function(){var a=b(".model-walk .added-row");b(a)&&a.contents().unwrap();a=b(window).width();var c=b(".model-walk .mw-content .select-models .model-container");if(a>=980)guxApp.ModelWalk.addRowPerGroup(c,4);else a>=750&&guxApp.ModelWalk.addRowPerGroup(c,3)},addRowPerGroup:function(a,c){for(var d=0;d<a.length;d+=c)a.slice(d,d+c).wrapAll("<div class='row added-row'></div>")},resizeModelHandler:function(){b(window).on("resize",
this.equalizeModelHeight)},initDetails:function(a){var c=this,d=true,e=b(".mw-wrapper .smob-compare-init",a),h=b(".mw-wrapper .smob-compare-cancel",a),j=b(".mw-wrapper .compare-init",a),s=b(".mw-wrapper .allowed-models",a);if(a.hasClass("alt")){a.find(".model-data").addClass("ready");b(".mw-wrapper .compare-init,.mw-wrapper .smob-compare-init",a).click(function(){var k=this;s.toggleClass("ready");if(d){c.toggleModelDetails(a,k);c.registerListeners();h.show();e.hide()}else{c.resetVehicleSelection();
c.resetVehicleSelection();c.resetVehicleSelection();c.toggleModelDetails(a,k);b(".select-models button").removeClass("ready").attr("disabled","disabled");b(".select-models .mobile-button .ui-btn").addClass("ui-disabled");e.show();h.hide();b(".allowed-models").hide().removeClass("ready");b(".pluralize-models").hide()}d=!d});b(".select-models .model-select a, .select-models .model-placeholder a",a).click(function(k){d||k.preventDefault()});e.click(function(){b(this).hide();b(".mw-wrapper .smob-compare-cancel",
a).show();j.toggleClass("alt");b("span",j).toggle()});h.click(function(){b(this).hide();b(".smob-compare-init",a).show();c.resetVehicleSelection();c.resetVehicleSelection();c.resetVehicleSelection();c.toggleModelDetails(a);b(".select-models button").removeClass("ready").attr("disabled","disabled");b(".select-models .mobile-button .ui-btn").addClass("ui-disabled");j.toggleClass("alt");b("span",j).toggle();b(".allowed-models").hide().removeClass("ready");b(".pluralize-models").hide();d=!d})}else{b(".smob-compare-init, .smob-compare-cancel, .compare-init").attr("style",
"display: none !important");this.registerListeners()}},toggleModelDetails:function(a,c){var d=a.find(".model-data");d.toggleClass("ready");d.find('.model-content p:not(".price"),.standard-features').slideToggle();if(guxApp.viewport.view=="tablet"){b(c).toggleClass("alt");b("span",c).toggle()}b(".mw-wrapper .mw-compare-sticky",a).toggle()}};guxApp.ModelWalk.init()})})(jQuery);

var guxApp=guxApp||{};
(function(a){guxApp.ModelCompare={init:function(b){this._initial=true;this._isDifferencesChecked=false;this.initModel(b);this.fetchModel();this.registerListeners();this.recalcSticky();this.equalizeModelHeight();this.resizeModelHandler()},registerListeners:function(){this.compareByDiffListener();this.popupDlgListener();this.closeOverlayListener();this.stickyHeaderListener();this.accordionTabListener();this.removeModelListener();this.addBackBtnListener()},addBackBtnListener:function(){a(".model-back").live("click",function(){a(".need-price").html("");
guxApp.polk.launched=false;a.bbq.pushState({step:1});guxApp.ModelWalk.fetchDate()})},clearModel:function(){this.config=undefined},removeModelListener:function(){var b=this;a(".model-hero .icon-remove").live("click",function(){b._initial=false;var c=a(this).data("derivativeid");c=b.config.selectedModels.indexOf(c);c>-1&&b.config.selectedModels.splice(c,1);b.fetchModel()})},updateCompareModels:function(b){a("#modalModel .cancelDlg").click();if(this.config){this.config.selectedModels=b;this.fetchModel()}},
renderHtml:function(){var b=a(".compareContent"),c=a("#compareTmpl");c=_.template(c.html())({site:this.config.site,selectedModels:this.config.selectedModels,formattedDate:this.config.formattedDate,compareModels:this.config.compareModels,imageUrl:this.config.imageUrl,derivativeUrl:this.config.derivativeUrl,groups:this.config.groups,allowedModels:this.config.allowedModels,totalModelNum:this.config.totalModelNum,displayFeature:this.displayFeature,overlayUrl:this.config.overlayUrl});b.html(c);Foundation.libs.equalizer.init();
ND.CalcPrice.init();guxApp.mediaOverlay.init();this._equalizeElemHeight(a(".model-compare .mw-content .model-hero .model-container .model-data .model-content ul li"));this._equalizeElemHeight(a(".model-compare .mw-content .model-hero .model-container .model-data .model-content ul"));this._equalizeElemHeight(a(".model-compare section.model-hero .model-container h2"));this._equalizeElemHeight(a(".model-compare section.model-hero .model-container .kba-buttons"));this._equalizeElemHeight(a(".model-hero .model-container h2"),
a(".selected-sticky .model-hero .model-container h2"));if(guxApp.viewport.view==="mobile"){this._equalizeElemWidth(a(".model-compare .selected-sticky h2"));this._alignMiddle(a(".model-compare .smob-back"),a(".model-compare .mw-header"))}guxApp.viewport.view!=="mobile"&&guxApp.accordion.stickyTitle();this.zebraStyling();guxApp.ModelWalk.fetchDate()},_alignMiddle:function(b,c){c=c.height();var d=b.height();b.css("top",(c-d)/2+"px")},_equalizeElemHeight:function(b,c){var d=0;c=typeof c!=="undefined"?
c:b;a(b).each(function(){d=a(this).height()>d?a(this).height():d});a(c).height(d)},_equalizeElemWidth:function(b){var c=b.width();a(b).each(function(){c=a(this).width()<c?a(this).width():c});a(b).width(c)},initModel:function(b){this.config={groups:{},compareModels:undefined,selectedModels:b.selectedModels,formattedDate:b.formattedDate,imageUrl:b.imageUrl,modelData:b.modelData,site:b.site,allowedModels:b.allowedModels,selectMsg:b.selectMsg,totalModelNum:b.totalModelNum,overlayUrl:b.overlayUrl}},setDifferencesRecord:function(){var b=
a(".uniform .tab-item input:first");this._isDifferencesChecked=b.length>0?b.prop("checked"):false},restoreDifferencesSetting:function(){this._isDifferencesChecked&&a(".uniform .tab-item input:first").click()},fetchModel:function(){if(this.config.modelData!=null){var b=[],c=this.config.modelData;c=c.replace("{site}",guxApp.tools.encode(this.config.site));c=c.replace("{modelIds}",this.config.selectedModels.toString());var d=this;a("html,body").animate({scrollTop:0},200);a(".loading").show();a(".model-compare").hide();
this.setDifferencesRecord();a.ajax({url:c,type:"GET",dataType:"json"}).done(function(e){_.forEach(d.config.selectedModels,function(h){_.forEach(e.derivatives,function(g){g.derivativeId==h&&b.push(g)});d.config.groups=b[0].groups;b.slice().reverse();d.config.compareModels=b});d.renderHtml();a(".loading").hide();a(".errorPadding").hide();a(".model-compare").show();if(d._initial)if(window._da&&window._da.om&&ND&&ND.omniture){_da.pname="vehicle:models:compare";ND.analyticsTag.trackOmniturePage()}d.restoreDifferencesSetting()}).fail(function(){a(".loading").hide();
a(".errorPadding").show()})}},populateDlgHeader:function(b,c){var d="";if(c){c=this.config.allowedModels-this.config.selectedModels.length;switch(c){case 0:d=this.config.selectMsg.zero;break;case 1:d=this.config.selectMsg.one;break;default:d=this.config.selectMsg.other;d=d.replace(/{}/,c);break}}else d=this.config.selectMsg.one;b.find("span").html(d)},popupDlgListener:function(){var b=this,c=a("#modalModel");a(".model-hero a.button, .selected-sticky .model-hero a").live("click",function(d){a(".model-hero").hide();
a(".title-holder").trigger("sticky_kit:detach");b._initial=false;var e=a(this).hasClass("addmodel"),h=a(this).hasClass("changemodel");if(e){a("#modalModel .model-container").removeAttr("style").addClass("block").removeClass("none end");c.removeClass("change").addClass("add");c.removeData("originid")}else if(h){var g="";a("#modalModel .model-container").removeAttr("style").addClass("block").removeClass("none end");g=guxApp.viewport.view!=="mobile"?a(this).closest(".model-data").find(".icon-remove").data("derivativeid"):
a(this).data("derivativeid");c.removeClass("add").addClass("change");c.data("originid",g)}a(".model-data",c).removeClass("selected");a(this).data("revealfix");var f=undefined;if(b.config.allowedModels===3){a("#select-two-models").hide();f=a("#select-three-models");f.show()}else if(b.config.allowedModels===2){a("#select-three-models").hide();f=a("#select-two-models");f.show()}b.populateDlgHeader(f,e);a(".model-data").find('input[type="checkbox"]:not(:checked)').removeAttr("disabled").closest(".model-select").removeClass("disabled");
for(e=b.config.selectedModels.length-1;e>=0;e--){f=a('[data-modelnum="'+b.config.selectedModels[e]+'"]').closest(".model-data");f.addClass("selected");h&&f.closest(".model-container").css("display","none")}h&&a('[data-modelnum="'+g+'"]').closest(".model-container").removeAttr("style").addClass("block").removeClass("none");a(".title-holder").trigger("sticky_kit:detach");if(c){d.preventDefault&&d.preventDefault();c.foundation("reveal","open");a(".vehicle-modal").find(".model-content").addClass("body derivative-price");
ND.CalcPrice.init()}b.equalizeModelHeight()})},closeOverlayListener:function(){var b=a("#modalModel"),c=a(".vehicle-modal .added-row");b.find(".cancelDlg").live("click",function(){b.find(".checked").removeClass();b.foundation("reveal","close");a(".vehicle-modal").find(".model-content").removeClass("body derivative-price");guxApp.viewport.view!=="mobile"&&guxApp.accordion.stickyTitle();a(".model-hero").show();ND.CalcPrice.init();c.contents().unwrap()});a(document).on("click",".reveal-modal-bg",function(){ND.CalcPrice.init();
c.contents().unwrap()});a(document).on("close.fndtn.reveal","[data-reveal]",function(){a(this);a(".model-hero").show();c.contents().unwrap()})},compareByDiffListener:function(){a('form.uniform .tab-data input[type="checkbox"]').live("click",function(){var b=a("form.uniform .tab-item"),c=b.find('.tab-data input[type="checkbox"]'),d=a(this).prop("checked");c.prop("checked",d);if(d){c.parent().addClass("custom-checked");c.closest(".checker").addClass("checker-selected")}else{c.parent().removeClass("custom-checked");
c.closest(".checker").removeClass("checker-selected")}a(document.body).trigger("sticky_kit:recalc");for(c=0;c<b.length;c++)for(var e=a(b[c]).find(".tab-contents .title-waypoint"),h=0;h<e.length;h++)for(var g=a(e[h]).find("tr"),f=0;f<g.length;f++)if(d){for(var i=[],k=a(g[f]).find("td"),j=0;j<k.length;j++){var l=a(k[j]).find("p").html();a.inArray(l,i)===-1&&i.push(l)}i.length===1&&a(g[f]).hide()}else a(g[f]).show()})},compareStickyHeader:function(){var b=guxApp.viewport.view!=="mobile"?140:290,c=a(".selected-sticky");
c=c?c:a(".selected-sticky");var d=a(".secondarynav"),e=a(window).scrollTop();guxApp.tools.isIE(8)&&a(window).width()<1440&&d.removeClass("aligned");e<70?d.removeClass("fullwidth"):d.addClass("fullwidth");if(e<=b)c.removeClass("fixed");else e>=b&&c.addClass("fixed")},stickyHeaderListener:function(){var b=this;a(window).on("scroll",b.compareStickyHeader);var c=_.debounce(function(){var d=a(".selected-sticky.fixed .model-hero .model-container h2");d.height("auto");b._equalizeElemHeight(d)},500);a(window).on("scroll",
c);a(window).on("resize",c)},accordionTabListener:function(){a(".accordion-block .tab-nav").die().live("click",function(){a(".title-holder").trigger("sticky_kit:detach");var b=a(this);a(".title-text").removeClass("fixed-title absolute-title").css({top:"auto",width:"auto"});if(b.hasClass("open"))guxApp.accordion.toggleAnimate(b.removeClass("open"));else{guxApp.accordion.toggleAnimate(a(".tab-nav.open").removeClass("open"));b.toggleClass("open");guxApp.accordion.toggleAnimate(b);a(":animated").promise().done(function(){a(".selected-sticky").addClass("fixed");
var c=a(".tab-nav.open").offset().top-a(".selected-sticky").outerHeight()-50;a("html,body").animate({scrollTop:c},200);if(guxApp.viewport.view!=="mobile"){guxApp.accordion.stickyTitle();a(document).foundation("equalizer","reflow")}})}})},displayFeature:function(b,c){var d="";if(b===""||!b)return c;switch(b){case "S":case "X":d=c;break;case "-":d="-";break;default:d=c+" <b>"+b+"</b>";break}return d},recalcSticky:function(){var b=_.debounce(function(){a(".title-holder").trigger("sticky_kit:detach");
guxApp.viewport.view!=="mobile"&&guxApp.accordion.stickyTitle()},300);a(window).on("resize",b)},zebraStyling:function(){var b=a(".accordion-block");a(b).length&&guxApp.tools.isIE(8)&&a(".accordion-block .table-holder > table tr:odd").addClass("odd")},equalizeModelHeight:function(b){var c=a(".vehicle-modal .added-row");a(c).length&&c.contents().unwrap();c=a(window).width();b=typeof b!=="undefined"?b:a(".modal-content .select-models .model-container").filter(function(){return a(this).css("display")==
"block"});if(c>=980)guxApp.ModelWalk.addRowPerGroup(b,4);else c>=750&&guxApp.ModelWalk.addRowPerGroup(b,3);a(".added-row .model-container:last-child").addClass("end")},addRowPerGroup:function(b,c){for(var d=0;d<b.length;d+=c)b.slice(d,d+c).wrapAll("<div class='row added-row'></div>")},resizeModelHandler:function(){a(window).on("resize",this.equalizeModelHeight)}}})(jQuery);

var guxApp=guxApp||{};
(function(b){guxApp.locale={init:function(){if(b("#locale-data").length){var a=this,c=b("#locale-data").embeddedData(),f=b("#common-config").embeddedData();guxApp.locale.url=c["locale-overlay"];guxApp.locale.domain=c.domain;guxApp.locale.fromLink=false;guxApp.locale.isGUX=b("#gux-footer").length;guxApp.locale.cookieDomain=f.cookieDomain;guxApp.locale.locale=f.locale;ND.rtl=b("body").hasClass("rtl");a.launchOverlayEvent();a.checkLocale();if(!guxApp.locale.isGUX){a.checkCookie();a.initMenu()}}},checkLocale:function(){var a=
this,c=window.location.href,f=[];if(b.cookie(a.COOKIEKEY)){f=b.cookie(a.COOKIEKEY).split("-");if(c.indexOf(f[1])<0){a.clearFPSinfo();a.setGTUID()}c.indexOf(f[2])==="1"?a.updateCookie(c,true):a.updateCookie(c,false)}else a.updateCookie(c,false)},launchOverlayEvent:function(){var a=this;b(".locale-select").on("click",function(c){c.preventDefault();b("body").addClass("modal-open");guxApp.locale.fromLink=true;a.commonLocaleOverlay();a.removeBodyClass();a.launchOverlay()})},removeBodyClass:function(){b(".close-reveal-modal",
".reveal-modal").on("click",function(a){a.preventDefault();b("body").removeClass("modal-open")})},launchOverlay:function(){var a=this;if(a.cache){b(".locale-modal .modal-body").html(a.cache);a.commonLocaleOverlay()}else b.get(a.url,function(c){b(".locale-modal .modal-body").html(c);a.cache=c;a.closeOverlayEvent();a.commonLocaleOverlay()})},commonLocaleOverlay:function(){var a=this;b.subscribe("foundation-reveal-modal-open",function(){b(".reveal-modal .uniform")&&b(".uniform select",".reveal-modal").uniform({selectClass:"dropdown",
selectAutoWidth:false});a.reinitInnerPopup()});guxApp.locale.fromLink&&a.checkCookie();a.bindOverlay()},localeArr:[],COUNTRY:1,CONFIRMED:2,COOKIEKEY:"dfy.fme.locale",checkCookie:function(){var a=this,c=b.cookie(a.COOKIEKEY);if(c)a.localeArr=c.split("-");if(a.localeArr[a.CONFIRMED]!="1")if(guxApp.locale.url&&!guxApp.locale.fromLink)guxApp.locale.isGUX?a.launchOverlay():window.setTimeout(function(){b.publish("overlay.launch",{url:guxApp.locale.url,success:function(){a.bindOverlay()}})},1E3)},bindOverlay:function(){var a=
this;b("#overlay .controls").length&&b("#overlay .controls").hide();b(".country-overlay select").on("change",function(){b(this).parents("form").attr({action:b(this).val()})}).trigger("change");b(".country-overlay form").submit(function(f){var e=b(this),d=b("select",e).val();e.attr("action")&&e.attr({action:d});d.indexOf(guxApp.locale.locale)<0&&a.clearFPSinfo();if(!a.updateCookie(d,true)){f.preventDefault();guxApp.locale.isGUX?a.closeOverlay():b.publish("overlay.hide");return false}});var c=a.localeArr[a.COUNTRY];
c&&b(".country-overlay select option").each(function(){var f=b(this),e=f.attr("value");e&&e.indexOf(c)>0&&f.attr({selected:"selected"})});guxApp.locale.isGUX&&b(".locale-modal select").uniform()},initMenu:function(){var a=b(".countrytab .current"),c=b(".country li a"),f=this;if(f.localeArr[f.CONFIRMED]=="1"){var e=f.localeArr.slice(0,2).join("/");c.each(function(){var d=b(this);d.attr("href").indexOf(e)>-1&&a.text(d.text())})}c.click(function(d){var g=b(this).attr("href");g.indexOf(guxApp.locale.locale)<
0&&f.clearFPSinfo();f.updateCookie(g,true)||d.preventDefault()})},updateCookie:function(a,c){var f=this;if(a){var e=location.host,d=a.indexOf(e);a=d>0?a.substr(d+e.length):a;a=a.charAt(0)=="/"?a.substr(1):a;a=a.split("/").slice(0,2);a[f.CONFIRMED]=c?"1":"0";b.cookie(f.COOKIEKEY,a.join("-"),{expires:365,path:"/"});if(location.href.indexOf("/"+a.slice(0,2).join("/"))>0)return 0}return 1},reinitInnerPopup:function(){guxApp.innerPopup.init({container:".reveal-modal"})},realignInnerPopup:function(){b(".reveal-modal a.citation").on("click",
function(){b(".reveal-modal > .inner-popup").removeClass("right-popup")});b(".reveal-modal .right a.citation").on("click",function(){b(".reveal-modal > .inner-popup").addClass("right-popup")})},closeOverlayEvent:function(){var a=this;b("#modalWrap.locale-modal").off("click").on("click",".icon-close",function(c){c.preventDefault();a.closeOverlay()});b(document).keydown(function(c){c.keyCode==27&&a.closeOverlay()})},closeOverlay:function(){b("#modalWrap").modal("hide").removeClass("polk-modal").find(".modal-body").html("");
guxApp.innerPopup.init()},clearFPSinfo:function(){b.cookie("dfy.uuid")&&b.removeCookie("dfy.uuid",{path:"/",domain:guxApp.locale.cookieDomain});if(b.cookie("gt_uid")){var a=[];a=guxApp.locale.cookieDomain.split(".");b.removeCookie("gt_uid",{path:"/",domain:"."+a[a.length-2]+"."+a[a.length-1]})}b.cookie("dfy.p")&&b.removeCookie("dfy.p",{path:"/",domain:guxApp.locale.cookieDomain});sessionStorage.getItem("dfy.p")!==null&&sessionStorage.removeItem("dfy.p")},setGTUID:function(){var a=function e(d){return d?
(d^Math.random()*16>>d/4).toString(16):([1E7]+-1000+-4000+-8000+-100000000000).replace(/[018]/g,e)};a=function(e){e=e+"=";for(var d=document.cookie.split(";"),g=0;g<d.length;g++){for(var h=d[g];h.charAt(0)==" ";)h=h.substring(1,h.length);if(h.indexOf(e)==0)return h.substring(e.length,h.length)}return null}("gt_uid")||a();var c=new Date,f=function(){for(var e=0,d=document.domain,g=d.split("."),h="_gd"+c.getTime();e<g.length-1&&document.cookie.indexOf(h+"="+h)==-1;){d=g.slice(-1-++e).join(".");document.cookie=
h+"="+h+";domain="+d+";"}document.cookie=h+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+d+";";return d}();(function(e,d,g,h,j,k){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return false;var i="";if(g)switch(g.constructor){case Number:i=g===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+g;break;case String:i="; expires="+g;break;case Date:i="; expires="+g.toUTCString();break}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(d)+i+(j?"; domain="+j:"")+
(h?"; path="+h:"")+(k?"; secure":"");return true})("gt_uid",a,new Date(c.getTime()+31536E6),"/",f)}};b(function(){guxApp.locale.init()})})(jQuery);
