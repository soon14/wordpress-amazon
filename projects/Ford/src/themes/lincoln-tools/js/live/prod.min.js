
(function(){var f=Function.prototype.call,k=Object.prototype,j=Array.prototype.slice,l,h;if(!Function.prototype.bind)Function.prototype.bind=function(b){var d=this;if(typeof d!="function")throw new TypeError;var a=j.call(arguments,1),c=function(){if(this instanceof c){var e=function(){};e.prototype=d.prototype;e=new e;var g=d.apply(e,a.concat(j.call(arguments)));if(g!==null&&Object(g)===g)return g;return e}else return d.apply(b,a.concat(j.call(arguments)))};return c};h=f.bind(k.toString);l=f.bind(k.hasOwnProperty);
if(!Array.isArray)Array.isArray=function(b){return h(b)=="[object Array]"};if(!Array.prototype.forEach)Array.prototype.forEach=function(b,d){var a=i(this),c=0,e=a.length>>>0;if(h(b)!="[object Function]")throw new TypeError;for(;c<e;){c in a&&b.call(d,a[c],c,a);c++}};if(!Array.prototype.map)Array.prototype.map=function(b,d){var a=i(this),c=a.length>>>0,e=Array(c);if(h(b)!="[object Function]")throw new TypeError;for(var g=0;g<c;g++)if(g in a)e[g]=b.call(d,a[g],g,a);return e};if(!Array.prototype.filter)Array.prototype.filter=
function(b,d){var a=i(this),c=a.length>>>0,e=[];if(h(b)!="[object Function]")throw new TypeError;for(var g=0;g<c;g++)g in a&&b.call(d,a[g],g,a)&&e.push(a[g]);return e};if(!Array.prototype.every)Array.prototype.every=function(b,d){var a=i(this),c=a.length>>>0;if(h(b)!="[object Function]")throw new TypeError;for(var e=0;e<c;e++)if(e in a&&!b.call(d,a[e],e,a))return false;return true};if(!Array.prototype.some)Array.prototype.some=function(b,d){var a=i(this),c=a.length>>>0;if(h(b)!="[object Function]")throw new TypeError;
for(var e=0;e<c;e++)if(e in a&&b.call(d,a[e],e,a))return true;return false};if(!Array.prototype.reduce)Array.prototype.reduce=function(b){var d=i(this),a=d.length>>>0;if(h(b)!="[object Function]")throw new TypeError;if(!a&&arguments.length==1)throw new TypeError;var c=0,e;if(arguments.length>=2)e=arguments[1];else{do{if(c in d){e=d[c++];break}if(++c>=a)throw new TypeError;}while(1)}for(;c<a;c++)if(c in d)e=b.call(void 0,e,d[c],c,d);return e};if(!Array.prototype.reduceRight)Array.prototype.reduceRight=
function(b){var d=i(this),a=d.length>>>0;if(h(b)!="[object Function]")throw new TypeError;if(!a&&arguments.length==1)throw new TypeError;var c;a=a-1;if(arguments.length>=2)c=arguments[1];else{do{if(a in d){c=d[a--];break}if(--a<0)throw new TypeError;}while(1)}do if(a in this)c=b.call(void 0,c,d[a],a,d);while(a--);return c};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(b){var d=i(this),a=d.length>>>0;if(!a)return-1;var c=0;if(arguments.length>1)c=parseInt(arguments[1]);for(c=c>=0?c:
a-Math.abs(c);c<a;c++)if(c in d&&d[c]===b)return c;return-1};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(b){var d=i(this),a=d.length>>>0;if(!a)return-1;var c=a-1;if(arguments.length>1)c=parseInt(arguments[1]);for(c=c>=0?c:a-Math.abs(c);c>=0;c--)if(c in d&&b===d[c])return c;return-1};if([1,2].splice(0).length!=2){var o=Array.prototype.splice;Array.prototype.splice=function(b,d){if(!arguments.length)return[];return o.apply(this,[b===void 0?0:b,d===void 0?this.length-b:d].concat(j.call(arguments,
2)))}}if(!Object.keys){var m=true,n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=n.length;for(var v in{toString:null})m=false;Object.keys=function b(d){if(typeof d!="object"&&typeof d!="function"||d===null)throw new TypeError("Object.keys called on a non-object");b=[];for(var a in d)l(d,a)&&b.push(a);if(m)for(a=0;a<p;a++){var c=n[a];l(d,c)&&b.push(c)}return b}}if(!Date.prototype.toISOString)Date.prototype.toISOString=function(){var b,
d,a;if(!isFinite(this))throw new RangeError;b=[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];for(d=b.length;d--;){a=b[d];if(a<10)b[d]="0"+a}return b.slice(0,3).join("-")+"T"+b.slice(3).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};if(!Date.now)Date.now=function(){return(new Date).getTime()};if(!Date.prototype.toJSON)Date.prototype.toJSON=function(){if(typeof this.toISOString!="function")throw new TypeError;
return this.toISOString()};f="\t\n\u000b\u000c\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||f.trim()){f="["+f+"]";var q=new RegExp("^"+f+f+"*"),r=new RegExp(f+f+"*$");String.prototype.trim=function(){return String(this).replace(q,"").replace(r,"")}}if("0".split(void 0,0).length){var s=String.prototype.split;String.prototype.split=function(b,d){if(b===void 0&&d===0)return[];return s.apply(this,
arguments)}}if("".substr&&"0b".substr(-1)!=="b"){var t=String.prototype.substr;String.prototype.substr=function(b,d){return t.call(this,b<0?(b=this.length+b)<0?0:b:b,d)}}var u="a"[0]!="a",i=function(b){if(b==null)throw new TypeError;if(u&&typeof b=="string"&&b)return b.split("");return Object(b)}})();
if(!Object.create)Object.create=function(f,k){if(f===null)f={__proto__:null};else{if(typeof f!="object")throw new TypeError("typeof prototype["+typeof f+"] != 'object'");var j=function(){};j.prototype=f;f=new j}typeof k!=="undefined"&&Object.defineProperties(f,k);return f};

(function(a){a.$ready=function(g,h){var c,i=200,d=g.split("."),j=d.length,f=function(){var e=0,b=a;do{b=b[d[e]];if(!b)return false}while(++e<j);h();return true};!f()&&(c=a.setInterval(function(){if(f()||!i--)a.clearInterval(c)},150))}})(window);

(function(B,u){function cc(a){var b=Za[a]={};d.each(a.split(ea),function(c,e){b[e]=true});return b}function $a(a,b,c){if(c===u&&a.nodeType===1){c="data-"+b.replace(dc,"-$1").toLowerCase();c=a.getAttribute(c);if(typeof c==="string"){try{c=c==="true"?true:c==="false"?false:c==="null"?null:+c+""===c?+c:ec.test(c)?d.parseJSON(c):c}catch(e){}d.data(a,b,c)}else c=u}return c}function Ka(a){var b;for(b in a)if(!(b==="data"&&d.isEmptyObject(a[b])))if(b!=="toJSON")return false;return true}function ka(){return false}
function va(){return true}function sa(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function ab(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bb(a,b,c){b=b||0;if(d.isFunction(b))return d.grep(a,function(f,g){return!!b.call(f,g,f)===c});else if(b.nodeType)return d.grep(a,function(f){return f===b===c});else if(typeof b==="string"){var e=d.grep(a,function(f){return f.nodeType===1});if(fc.test(b))return d.filter(b,e,!c);else b=d.filter(b,e)}return d.grep(a,function(f){return d.inArray(f,
b)>=0===c})}function cb(a){var b=db.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function gc(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function eb(a,b){if(!(b.nodeType!==1||!d.hasData(a))){var c,e,f;e=d._data(a);a=d._data(b,e);var g=e.events;if(g){delete a.handle;a.events={};for(c in g){e=0;for(f=g[c].length;e<f;e++)d.event.add(b,c,g[c][e])}}if(a.data)a.data=d.extend({},a.data)}}function fb(a,
b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);c=b.nodeName.toLowerCase();if(c==="object"){if(b.parentNode)b.outerHTML=a.outerHTML;if(d.support.html5Clone&&a.innerHTML&&!d.trim(b.innerHTML))b.innerHTML=a.innerHTML}else if(c==="input"&&gb.test(a.type)){b.defaultChecked=b.checked=a.checked;if(b.value!==a.value)b.value=a.value}else if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue;
else if(c==="script"&&b.text!==a.text)b.text=a.text;b.removeAttribute(d.expando)}}function wa(a){return typeof a.getElementsByTagName!=="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!=="undefined"?a.querySelectorAll("*"):[]}function hb(a){if(gb.test(a.type))a.defaultChecked=a.checked}function ib(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),e=b,f=jb.length;f--;){b=jb[f]+c;if(b in a)return b}return e}function xa(a,b){a=b||a;return d.css(a,"display")==="none"||
!d.contains(a.ownerDocument,a)}function kb(a,b){for(var c,e,f=[],g=0,h=a.length;g<h;g++){c=a[g];if(c.style){f[g]=d._data(c,"olddisplay");if(b){if(!f[g]&&c.style.display==="none")c.style.display="";if(c.style.display===""&&xa(c))f[g]=d._data(c,"olddisplay",lb(c.nodeName))}else{e=Q(c,"display");!f[g]&&e!=="none"&&d._data(c,"olddisplay",e)}}}for(g=0;g<h;g++){c=a[g];if(c.style)if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?f[g]||"":"none"}return a}function mb(a,b,c){return(a=
hc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function nb(a,b,c,e){b=c===(e?"border":"content")?4:b==="width"?1:0;for(var f=0;b<4;b+=2){if(c==="margin")f+=d.css(a,c+fa[b],true);if(e){if(c==="content")f-=parseFloat(Q(a,"padding"+fa[b]))||0;if(c!=="margin")f-=parseFloat(Q(a,"border"+fa[b]+"Width"))||0}else{f+=parseFloat(Q(a,"padding"+fa[b]))||0;if(c!=="padding")f+=parseFloat(Q(a,"border"+fa[b]+"Width"))||0}}return f}function ob(a,b,c){var e=b==="width"?a.offsetWidth:a.offsetHeight,f=true,g=d.support.boxSizing&&
d.css(a,"boxSizing")==="border-box";if(e<=0||e==null){e=Q(a,b);if(e<0||e==null)e=a.style[b];if(ya.test(e))return e;f=g&&(d.support.boxSizingReliable||e===a.style[b]);e=parseFloat(e)||0}return e+nb(a,b,c||(g?"border":"content"),f)+"px"}function lb(a){if(La[a])return La[a];var b=d("<"+a+">").appendTo(y.body),c=b.css("display");b.remove();if(c==="none"||c===""){la=y.body.appendChild(la||d.extend(y.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!ma||!la.createElement){ma=(la.contentWindow||
la.contentDocument).document;ma.write("<!doctype html><html><body>");ma.close()}b=ma.body.appendChild(ma.createElement(a));c=Q(b,"display");y.body.removeChild(la)}return La[a]=c}function Ma(a,b,c,e){var f;if(d.isArray(b))d.each(b,function(g,h){c||ic.test(a)?e(a,h):Ma(a+"["+(typeof h==="object"?g:"")+"]",h,c,e)});else if(!c&&d.type(b)==="object")for(f in b)Ma(a+"["+f+"]",b[f],c,e);else e(a,b)}function pb(a){return function(b,c){if(typeof b!=="string"){c=b;b="*"}var e,f=b.toLowerCase().split(ea),g=
0,h=f.length;if(d.isFunction(c))for(;g<h;g++){e=f[g];if(b=/^\+/.test(e))e=e.substr(1)||"*";e=a[e]=a[e]||[];e[b?"unshift":"push"](c)}}}function za(a,b,c,e,f,g){f=f||b.dataTypes[0];g=g||{};g[f]=true;var h;f=a[f];for(var j=0,m=f?f.length:0,o=a===Na;j<m&&(o||!h);j++){h=f[j](b,c,e);if(typeof h==="string")if(!o||g[h])h=u;else{b.dataTypes.unshift(h);h=za(a,b,c,e,h,g)}}if((o||!h)&&!g["*"])h=za(a,b,c,e,"*",g);return h}function qb(a,b){var c,e,f=d.ajaxSettings.flatOptions||{};for(c in b)if(b[c]!==u)(f[c]?a:
e||(e={}))[c]=b[c];e&&d.extend(true,a,e)}function jc(a,b,c){var e,f,g,h,j=a.contents,m=a.dataTypes,o=a.responseFields;for(f in o)if(f in c)b[o[f]]=c[f];for(;m[0]==="*";){m.shift();if(e===u)e=a.mimeType||b.getResponseHeader("content-type")}if(e)for(f in j)if(j[f]&&j[f].test(e)){m.unshift(f);break}if(m[0]in c)g=m[0];else{for(f in c){if(!m[0]||a.converters[f+" "+m[0]]){g=f;break}h||(h=f)}g=g||h}if(g){g!==m[0]&&m.unshift(g);return c[g]}}function kc(a,b){var c,e,f,g,h=a.dataTypes.slice(),j=h[0],m={},o=
0;if(a.dataFilter)b=a.dataFilter(b,a.dataType);if(h[1])for(c in a.converters)m[c.toLowerCase()]=a.converters[c];for(;f=h[++o];)if(f!=="*"){if(j!=="*"&&j!==f){c=m[j+" "+f]||m["* "+f];if(!c)for(e in m){g=e.split(" ");if(g[1]===f)if(c=m[j+" "+g[0]]||m["* "+g[0]]){if(c===true)c=m[e];else if(m[e]!==true){f=g[0];h.splice(o--,0,f)}break}}if(c!==true)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(l){return{state:"parsererror",error:c?l:"No conversion from "+j+" to "+f}}}j=f}return{state:"success",data:b}}
function rb(){try{return new B.XMLHttpRequest}catch(a){}}function lc(){try{return new B.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function sb(){setTimeout(function(){na=u},0);return na=d.now()}function mc(a,b){d.each(b,function(c,e){for(var f=(ta[c]||[]).concat(ta["*"]),g=0,h=f.length;g<h;g++)if(f[g].call(a,c,e))return})}function tb(a,b,c){var e=0,f=Aa.length,g=d.Deferred().always(function(){delete h.elem}),h=function(){var m=na||sb();m=Math.max(0,j.startTime+j.duration-m);for(var o=1-(m/j.duration||
0),l=0,r=j.tweens.length;l<r;l++)j.tweens[l].run(o);g.notifyWith(a,[j,o,m]);if(o<1&&r)return m;else{g.resolveWith(a,[j]);return false}},j=g.promise({elem:a,props:d.extend({},b),opts:d.extend(true,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:na||sb(),duration:c.duration,tweens:[],createTween:function(m,o){m=d.Tween(a,j.opts,m,o,j.opts.specialEasing[m]||j.opts.easing);j.tweens.push(m);return m},stop:function(m){for(var o=0,l=m?j.tweens.length:0;o<l;o++)j.tweens[o].run(1);m?
g.resolveWith(a,[j,m]):g.rejectWith(a,[j,m]);return this}});c=j.props;for(nc(c,j.opts.specialEasing);e<f;e++)if(b=Aa[e].call(j,a,c,j.opts))return b;mc(j,c);d.isFunction(j.opts.start)&&j.opts.start.call(a,j);d.fx.timer(d.extend(h,{anim:j,queue:j.opts.queue,elem:a}));return j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function nc(a,b){var c,e,f,g,h;for(c in a){e=d.camelCase(c);f=b[e];g=a[c];if(d.isArray(g)){f=g[1];g=a[c]=g[0]}if(c!==e){a[e]=g;
delete a[c]}if((h=d.cssHooks[e])&&"expand"in h){g=h.expand(g);delete a[e];for(c in g)if(!(c in a)){a[c]=g[c];b[c]=f}}else b[e]=f}}function oc(a,b,c){var e,f,g,h,j,m,o=this,l=a.style,r={},x=[],z=a.nodeType&&xa(a);if(!c.queue){j=d._queueHooks(a,"fx");if(j.unqueued==null){j.unqueued=0;m=j.empty.fire;j.empty.fire=function(){j.unqueued||m()}}j.unqueued++;o.always(function(){o.always(function(){j.unqueued--;d.queue(a,"fx").length||j.empty.fire()})})}if(a.nodeType===1&&("height"in b||"width"in b)){c.overflow=
[l.overflow,l.overflowX,l.overflowY];if(d.css(a,"display")==="inline"&&d.css(a,"float")==="none")if(!d.support.inlineBlockNeedsLayout||lb(a.nodeName)==="inline")l.display="inline-block";else l.zoom=1}if(c.overflow){l.overflow="hidden";d.support.shrinkWrapBlocks||o.done(function(){l.overflow=c.overflow[0];l.overflowX=c.overflow[1];l.overflowY=c.overflow[2]})}for(e in b){g=b[e];if(pc.exec(g)){delete b[e];f=f||g==="toggle";if(g!==(z?"hide":"show"))x.push(e)}}if(b=x.length){g=d._data(a,"fxshow")||d._data(a,
"fxshow",{});if("hidden"in g)z=g.hidden;if(f)g.hidden=!z;z?d(a).show():o.done(function(){d(a).hide()});o.done(function(){var G;d.removeData(a,"fxshow",true);for(G in r)d.style(a,G,r[G])});for(e=0;e<b;e++){f=x[e];h=o.createTween(f,z?g[f]:0);r[f]=g[f]||d.style(a,f);if(!(f in g)){g[f]=h.start;if(z){h.end=h.start;h.start=f==="width"||f==="height"?1:0}}}}}function U(a,b,c,e,f){return new U.prototype.init(a,b,c,e,f)}function Ba(a,b){var c,e={height:a},f=0;for(b=b?1:0;f<4;f+=2-b){c=fa[f];e["margin"+c]=e["padding"+
c]=a}if(b)e.opacity=e.width=a;return e}function ub(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var vb,Ca,y=B.document,qc=B.location,rc=B.navigator,sc=B.jQuery,tc=B.$,wb=Array.prototype.push,Z=Array.prototype.slice,xb=Array.prototype.indexOf,uc=Object.prototype.toString,Oa=Object.prototype.hasOwnProperty,Pa=String.prototype.trim,d=function(a,b){return new d.fn.init(a,b,vb)},Da=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,vc=/\S/,ea=/\s+/,wc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
xc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,yb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,yc=/^[\],:{}\s]*$/,zc=/(?:^|:|,)(?:\s*\[)+/g,Ac=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Bc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,Cc=/^-ms-/,Dc=/-([\da-z])/gi,Ec=function(a,b){return(b+"").toUpperCase()},Ea=function(){if(y.addEventListener){y.removeEventListener("DOMContentLoaded",Ea,false);d.ready()}else if(y.readyState==="complete"){y.detachEvent("onreadystatechange",Ea);d.ready()}},zb={};d.fn=
d.prototype={constructor:d,init:function(a,b,c){var e;if(!a)return this;if(a.nodeType){this.context=this[0]=a;this.length=1;return this}if(typeof a==="string")if((e=a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?[null,a,null]:xc.exec(a))&&(e[1]||!b))if(e[1]){a=(b=b instanceof d?b[0]:b)&&b.nodeType?b.ownerDocument||b:y;a=d.parseHTML(e[1],a,true);yb.test(e[1])&&d.isPlainObject(b)&&this.attr.call(a,b,true);return d.merge(this,a)}else{if((b=y.getElementById(e[2]))&&b.parentNode){if(b.id!==
e[2])return c.find(a);this.length=1;this[0]=b}this.context=y;this.selector=a;return this}else return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);else if(d.isFunction(a))return c.ready(a);if(a.selector!==u){this.selector=a.selector;this.context=a.context}return d.makeArray(a,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return Z.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,
b,c){a=d.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;if(b==="find")a.selector=this.selector+(this.selector?" ":"")+c;else if(b)a.selector=this.selector+"."+b+"("+c+")";return a},each:function(a,b){return d.each(this,a,b)},ready:function(a){d.ready.promise().done(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Z.apply(this,arguments),
"slice",Z.call(arguments).join(","))},map:function(a){return this.pushStack(d.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:wb,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var a,b,c,e,f,g=arguments[0]||{},h=1,j=arguments.length,m=false;if(typeof g==="boolean"){m=g;g=arguments[1]||{};h=2}if(typeof g!=="object"&&!d.isFunction(g))g={};if(j===h){g=this;--h}for(;h<j;h++)if((a=arguments[h])!=
null)for(b in a){c=g[b];e=a[b];if(g!==e)if(m&&e&&(d.isPlainObject(e)||(f=d.isArray(e)))){if(f){f=false;c=c&&d.isArray(c)?c:[]}else c=c&&d.isPlainObject(c)?c:{};g[b]=d.extend(m,c,e)}else if(e!==u)g[b]=e}return g};d.extend({noConflict:function(a){if(B.$===d)B.$=tc;if(a&&B.jQuery===d)B.jQuery=sc;return d},isReady:false,readyWait:1,holdReady:function(a){if(a)d.readyWait++;else d.ready(true)},ready:function(a){if(!(a===true?--d.readyWait:d.isReady)){if(!y.body)return setTimeout(d.ready,1);d.isReady=true;
if(!(a!==true&&--d.readyWait>0)){Ca.resolveWith(y,[d]);d.fn.trigger&&d(y).trigger("ready").off("ready")}}},isFunction:function(a){return d.type(a)==="function"},isArray:Array.isArray||function(a){return d.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):zb[uc.call(a)]||"object"},isPlainObject:function(a){if(!a||d.type(a)!=="object"||a.nodeType||d.isWindow(a))return false;try{if(a.constructor&&
!Oa.call(a,"constructor")&&!Oa.call(a.constructor.prototype,"isPrototypeOf"))return false}catch(b){return false}var c;for(c in a);return c===u||Oa.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return false;return true},error:function(a){throw new Error(a);},parseHTML:function(a,b,c){var e;if(!a||typeof a!=="string")return null;if(typeof b==="boolean"){c=b;b=0}b=b||y;if(e=yb.exec(a))return[b.createElement(e[1])];e=d.buildFragment([a],b,c?null:[]);return d.merge([],(e.cacheable?d.clone(e.fragment):
e.fragment).childNodes)},parseJSON:function(a){if(!a||typeof a!=="string")return null;a=d.trim(a);if(B.JSON&&B.JSON.parse)return B.JSON.parse(a);if(yc.test(a.replace(Ac,"@").replace(Bc,"]").replace(zc,"")))return(new Function("return "+a))();d.error("Invalid JSON: "+a)},parseXML:function(a){var b,c;if(!a||typeof a!=="string")return null;try{if(B.DOMParser){c=new DOMParser;b=c.parseFromString(a,"text/xml")}else{b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a)}}catch(e){b=u}if(!b||
!b.documentElement||b.getElementsByTagName("parsererror").length)d.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){if(a&&vc.test(a))(B.execScript||function(b){B.eval.call(B,b)})(a)},camelCase:function(a){return a.replace(Cc,"ms-").replace(Dc,Ec)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,f=0,g=a.length,h=g===u||d.isFunction(a);if(c)if(h)for(e in a){if(b.apply(a[e],c)===false)break}else for(;f<g;){if(b.apply(a[f++],
c)===false)break}else if(h)for(e in a){if(b.call(a[e],e,a[e])===false)break}else for(;f<g;)if(b.call(a[f],f,a[f++])===false)break;return a},trim:Pa&&!Pa.call("\ufeff\u00a0")?function(a){return a==null?"":Pa.call(a)}:function(a){return a==null?"":(a+"").replace(wc,"")},makeArray:function(a,b){var c=b||[];if(a!=null){b=d.type(a);a.length==null||b==="string"||b==="function"||b==="regexp"||d.isWindow(a)?wb.call(c,a):d.merge(c,a)}return c},inArray:function(a,b,c){var e;if(b){if(xb)return xb.call(b,a,c);
e=b.length;for(c=c?c<0?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,e=a.length,f=0;if(typeof c==="number")for(;f<c;f++)a[e++]=b[f];else for(;b[f]!==u;)a[e++]=b[f++];a.length=e;return a},grep:function(a,b,c){var e,f=[],g=0,h=a.length;for(c=!!c;g<h;g++){e=!!b(a[g],g);c!==e&&f.push(a[g])}return f},map:function(a,b,c){var e,f,g=[],h=0,j=a.length;if(a instanceof d||j!==u&&typeof j==="number"&&(j>0&&a[0]&&a[j-1]||j===0||d.isArray(a)))for(;h<j;h++){e=
b(a[h],h,c);if(e!=null)g[g.length]=e}else for(f in a){e=b(a[f],f,c);if(e!=null)g[g.length]=e}return g.concat.apply([],g)},guid:1,proxy:function(a,b){var c,e;if(typeof b==="string"){c=a[b];b=a;a=c}if(d.isFunction(a)){e=Z.call(arguments,2);c=function(){return a.apply(b,e.concat(Z.call(arguments)))};c.guid=a.guid=a.guid||d.guid++;return c}},access:function(a,b,c,e,f,g,h){var j,m=c==null,o=0,l=a.length;if(c&&typeof c==="object"){for(o in c)d.access(a,b,o,c[o],1,g,e);f=1}else if(e!==u){j=h===u&&d.isFunction(e);
if(m)if(j){j=b;b=function(r,x,z){return j.call(d(r),z)}}else{b.call(a,e);b=null}if(b)for(;o<l;o++)b(a[o],c,j?e.call(a[o],o,b(a[o],c)):e,h);f=1}return f?a:m?b.call(a):l?b(a[0],c):g},now:function(){return(new Date).getTime()}});d.ready.promise=function(a){if(!Ca){Ca=d.Deferred();if(y.readyState==="complete")setTimeout(d.ready,1);else if(y.addEventListener){y.addEventListener("DOMContentLoaded",Ea,false);B.addEventListener("load",d.ready,false)}else{y.attachEvent("onreadystatechange",Ea);B.attachEvent("onload",
d.ready);var b=false;try{b=B.frameElement==null&&y.documentElement}catch(c){}b&&b.doScroll&&function e(){if(!d.isReady){try{b.doScroll("left")}catch(f){return setTimeout(e,50)}d.ready()}}()}}return Ca.promise(a)};d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){zb["[object "+b+"]"]=b.toLowerCase()});vb=d(y);var Za={};d.Callbacks=function(a){a=typeof a==="string"?Za[a]||cc(a):d.extend({},a);var b,c,e,f,g,h,j=[],m=!a.once&&[],o=function(r){b=a.memory&&r;c=true;
h=f||0;f=0;g=j.length;for(e=true;j&&h<g;h++)if(j[h].apply(r[0],r[1])===false&&a.stopOnFalse){b=false;break}e=false;if(j)if(m)m.length&&o(m.shift());else if(b)j=[];else l.disable()},l={add:function(){if(j){var r=j.length;(function x(z){d.each(z,function(G,K){var $=d.type(K);if($==="function"){if(!a.unique||!l.has(K))j.push(K)}else K&&K.length&&$!=="string"&&x(K)})})(arguments);if(e)g=j.length;else if(b){f=r;o(b)}}return this},remove:function(){j&&d.each(arguments,function(r,x){for(var z;(z=d.inArray(x,
j,z))>-1;){j.splice(z,1);if(e){z<=g&&g--;z<=h&&h--}}});return this},has:function(r){return d.inArray(r,j)>-1},empty:function(){j=[];return this},disable:function(){j=m=b=u;return this},disabled:function(){return!j},lock:function(){m=u;b||l.disable();return this},locked:function(){return!m},fireWith:function(r,x){x=x||[];x=[r,x.slice?x.slice():x];if(j&&(!c||m))e?m.push(x):o(x);return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!c}};return l};d.extend({Deferred:function(a){var b=
[["resolve","done",d.Callbacks("once memory"),"resolved"],["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],c="pending",e={state:function(){return c},always:function(){f.done(arguments).fail(arguments);return this},then:function(){var g=arguments;return d.Deferred(function(h){d.each(b,function(j,m){var o=m[0],l=g[j];f[m[1]](d.isFunction(l)?function(){var r=l.apply(this,arguments);r&&d.isFunction(r.promise)?r.promise().done(h.resolve).fail(h.reject).progress(h.notify):
h[o+"With"](this===f?h:this,[r])}:h[o])});g=null}).promise()},promise:function(g){return g!=null?d.extend(g,e):e}},f={};e.pipe=e.then;d.each(b,function(g,h){var j=h[2],m=h[3];e[h[1]]=j.add;m&&j.add(function(){c=m},b[g^1][2].disable,b[2][2].lock);f[h[0]]=j.fire;f[h[0]+"With"]=j.fireWith});e.promise(f);a&&a.call(f,f);return f},when:function(a){var b=0,c=Z.call(arguments),e=c.length,f=e!==1||a&&d.isFunction(a.promise)?e:0,g=f===1?a:d.Deferred(),h=function(l,r,x){return function(z){r[l]=this;x[l]=arguments.length>
1?Z.call(arguments):z;if(x===j)g.notifyWith(r,x);else--f||g.resolveWith(r,x)}},j,m,o;if(e>1){j=new Array(e);m=new Array(e);for(o=new Array(e);b<e;b++)if(c[b]&&d.isFunction(c[b].promise))c[b].promise().done(h(b,o,c)).fail(g.reject).progress(h(b,m,j));else--f}f||g.resolveWith(o,c);return g.promise()}});d.support=function(){var a,b,c,e,f,g,h,j=y.createElement("div");j.setAttribute("className","t");j.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=j.getElementsByTagName("*");
c=j.getElementsByTagName("a")[0];if(!b||!c||!b.length)return{};e=y.createElement("select");f=e.appendChild(y.createElement("option"));b=j.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";a={leadingWhitespace:j.firstChild.nodeType===3,tbody:!j.getElementsByTagName("tbody").length,htmlSerialize:!!j.getElementsByTagName("link").length,style:/top/.test(c.getAttribute("style")),hrefNormalized:c.getAttribute("href")==="/a",opacity:/^0.5/.test(c.style.opacity),cssFloat:!!c.style.cssFloat,
checkOn:b.value==="on",optSelected:f.selected,getSetAttribute:j.className!=="t",enctype:!!y.createElement("form").enctype,html5Clone:y.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:y.compatMode==="CSS1Compat",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};b.checked=true;a.noCloneChecked=b.cloneNode(true).checked;
e.disabled=true;a.optDisabled=!f.disabled;try{delete j.test}catch(m){a.deleteExpando=false}if(!j.addEventListener&&j.attachEvent&&j.fireEvent){j.attachEvent("onclick",c=function(){a.noCloneEvent=false});j.cloneNode(true).fireEvent("onclick");j.detachEvent("onclick",c)}b=y.createElement("input");b.value="t";b.setAttribute("type","radio");a.radioValue=b.value==="t";b.setAttribute("checked","checked");b.setAttribute("name","t");j.appendChild(b);c=y.createDocumentFragment();c.appendChild(j.lastChild);
a.checkClone=c.cloneNode(true).cloneNode(true).lastChild.checked;a.appendChecked=b.checked;c.removeChild(b);c.appendChild(j);if(j.attachEvent)for(g in{submit:true,change:true,focusin:true}){b="on"+g;h=b in j;if(!h){j.setAttribute(b,"return;");h=typeof j[b]==="function"}a[g+"Bubbles"]=h}d(function(){var o,l,r,x=y.getElementsByTagName("body")[0];if(x){o=y.createElement("div");o.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";x.insertBefore(o,x.firstChild);
l=y.createElement("div");o.appendChild(l);l.innerHTML="<table><tr><td></td><td>t</td></tr></table>";r=l.getElementsByTagName("td");r[0].style.cssText="padding:0;margin:0;border:0;display:none";h=r[0].offsetHeight===0;r[0].style.display="";r[1].style.display="none";a.reliableHiddenOffsets=h&&r[0].offsetHeight===0;l.innerHTML="";l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";
a.boxSizing=l.offsetWidth===4;a.doesNotIncludeMarginInBodyOffset=x.offsetTop!==1;if(B.getComputedStyle){a.pixelPosition=(B.getComputedStyle(l,null)||{}).top!=="1%";a.boxSizingReliable=(B.getComputedStyle(l,null)||{width:"4px"}).width==="4px";r=y.createElement("div");r.style.cssText=l.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;";r.style.marginRight=r.style.width="0";l.style.width="1px";l.appendChild(r);a.reliableMarginRight=!parseFloat((B.getComputedStyle(r,null)||{}).marginRight)}if(typeof l.style.zoom!==
"undefined"){l.innerHTML="";l.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1";a.inlineBlockNeedsLayout=l.offsetWidth===3;l.style.display="block";l.style.overflow="visible";l.innerHTML="<div></div>";l.firstChild.style.width="5px";a.shrinkWrapBlocks=l.offsetWidth!==3;o.style.zoom=1}x.removeChild(o)}});c.removeChild(j);b=c=e=f=b=c=j=null;return a}();var ec=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,dc=/([A-Z])/g;d.extend({cache:{},deletedIds:[],
uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!Ka(a)},data:function(a,b,c,e){if(d.acceptData(a)){var f=d.expando,g=typeof b==="string",h=a.nodeType,j=h?d.cache:a,m=h?a[f]:a[f]&&f;if(!((!m||!j[m]||!e&&!j[m].data)&&g&&c===u)){if(!m)if(h)a[f]=m=d.deletedIds.pop()||d.guid++;else m=f;if(!j[m]){j[m]={};if(!h)j[m].toJSON=
d.noop}if(typeof b==="object"||typeof b==="function")if(e)j[m]=d.extend(j[m],b);else j[m].data=d.extend(j[m].data,b);a=j[m];if(!e){if(!a.data)a.data={};a=a.data}if(c!==u)a[d.camelCase(b)]=c;if(g){c=a[b];if(c==null)c=a[d.camelCase(b)]}else c=a;return c}}},removeData:function(a,b,c){if(d.acceptData(a)){var e,f,g,h=a.nodeType,j=h?d.cache:a,m=h?a[d.expando]:d.expando;if(j[m]){if(b)if(e=c?j[m]:j[m].data){if(!d.isArray(b))if(b in e)b=[b];else{b=d.camelCase(b);b=b in e?[b]:b.split(" ")}f=0;for(g=b.length;f<
g;f++)delete e[b[f]];if(!(c?Ka:d.isEmptyObject)(e))return}if(!c){delete j[m].data;if(!Ka(j[m]))return}if(h)d.cleanData([a],true);else if(d.support.deleteExpando||j!=j.window)delete j[m];else j[m]=null}}},_data:function(a,b,c){return d.data(a,b,c,true)},acceptData:function(a){var b=a.nodeName&&d.noData[a.nodeName.toLowerCase()];return!b||b!==true&&a.getAttribute("classid")===b}});d.fn.extend({data:function(a,b){var c,e,f,g,h,j=this[0],m=0,o=null;if(a===u){if(this.length){o=d.data(j);if(j.nodeType===
1&&!d._data(j,"parsedAttrs")){f=j.attributes;for(h=f.length;m<h;m++){g=f[m].name;if(!g.indexOf("data-")){g=d.camelCase(g.substring(5));$a(j,g,o[g])}}d._data(j,"parsedAttrs",true)}}return o}if(typeof a==="object")return this.each(function(){d.data(this,a)});c=a.split(".",2);c[1]=c[1]?"."+c[1]:"";e=c[1]+"!";return d.access(this,function(l){if(l===u){o=this.triggerHandler("getData"+e,[c[0]]);if(o===u&&j){o=d.data(j,a);o=$a(j,a,o)}return o===u&&c[1]?this.data(c[0]):o}c[1]=l;this.each(function(){var r=
d(this);r.triggerHandler("setData"+e,c);d.data(this,a,l);r.triggerHandler("changeData"+e,c)})},null,b,arguments.length>1,null,false)},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({queue:function(a,b,c){var e;if(a){b=(b||"fx")+"queue";e=d._data(a,b);if(c)if(!e||d.isArray(c))e=d._data(a,b,d.makeArray(c));else e.push(c);return e||[]}},dequeue:function(a,b){b=b||"fx";var c=d.queue(a,b),e=c.length,f=c.shift(),g=d._queueHooks(a,b),h=function(){d.dequeue(a,b)};if(f===
"inprogress"){f=c.shift();e--}if(f){b==="fx"&&c.unshift("inprogress");delete g.stop;f.call(a,h,g)}!e&&g&&g.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return d._data(a,c)||d._data(a,c,{empty:d.Callbacks("once memory").add(function(){d.removeData(a,b+"queue",true);d.removeData(a,c,true)})})}});d.fn.extend({queue:function(a,b){var c=2;if(typeof a!=="string"){b=a;a="fx";c--}if(arguments.length<c)return d.queue(this[0],a);return b===u?this:this.each(function(){var e=d.queue(this,a,b);
d._queueHooks(this,a);a==="fx"&&e[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,b){a=d.fx?d.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(c,e){var f=setTimeout(c,a);e.stop=function(){clearTimeout(f)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,f=d.Deferred(),g=this,h=this.length,j=function(){--e||f.resolveWith(g,[g])};if(typeof a!=="string"){b=a;a=u}for(a=a||"fx";h--;)if((c=
d._data(g[h],a+"queueHooks"))&&c.empty){e++;c.empty.add(j)}j();return f.promise(b)}});var aa,Ab,Bb,Cb=/[\t\r\n]/g,Fc=/\r/g,Gc=/^(?:button|input)$/i,Hc=/^(?:button|input|object|select|textarea)$/i,Ic=/^a(?:rea|)$/i,Db=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Eb=d.support.getSetAttribute;d.fn.extend({attr:function(a,b){return d.access(this,d.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,
a)})},prop:function(a,b){return d.access(this,d.prop,a,b,arguments.length>1)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=u;delete this[a]}catch(b){}})},addClass:function(a){var b,c,e,f,g,h,j;if(d.isFunction(a))return this.each(function(m){d(this).addClass(a.call(this,m,this.className))});if(a&&typeof a==="string"){b=a.split(ea);c=0;for(e=this.length;c<e;c++){f=this[c];if(f.nodeType===1)if(!f.className&&b.length===1)f.className=a;else{g=" "+f.className+" ";h=0;
for(j=b.length;h<j;h++)if(g.indexOf(" "+b[h]+" ")<0)g+=b[h]+" ";f.className=d.trim(g)}}}return this},removeClass:function(a){var b,c,e,f,g,h,j;if(d.isFunction(a))return this.each(function(m){d(this).removeClass(a.call(this,m,this.className))});if(a&&typeof a==="string"||a===u){b=(a||"").split(ea);h=0;for(j=this.length;h<j;h++){e=this[h];if(e.nodeType===1&&e.className){c=(" "+e.className+" ").replace(Cb," ");f=0;for(g=b.length;f<g;f++)for(;c.indexOf(" "+b[f]+" ")>=0;)c=c.replace(" "+b[f]+" "," ");
e.className=a?d.trim(c):""}}}return this},toggleClass:function(a,b){var c=typeof a,e=typeof b==="boolean";if(d.isFunction(a))return this.each(function(f){d(this).toggleClass(a.call(this,f,this.className,b),b)});return this.each(function(){if(c==="string")for(var f,g=0,h=d(this),j=b,m=a.split(ea);f=m[g++];){j=e?j:!h.hasClass(f);h[j?"addClass":"removeClass"](f)}else if(c==="undefined"||c==="boolean"){this.className&&d._data(this,"__className__",this.className);this.className=this.className||a===false?
"":d._data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(this[b].nodeType===1&&(" "+this[b].className+" ").replace(Cb," ").indexOf(a)>=0)return true;return false},val:function(a){var b,c,e,f=this[0];if(arguments.length){e=d.isFunction(a);return this.each(function(g){var h=d(this);if(this.nodeType===1){g=e?a.call(this,g,h.val()):a;if(g==null)g="";else if(typeof g==="number")g+="";else if(d.isArray(g))g=d.map(g,function(j){return j==null?"":j+""});
b=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||b.set(this,g,"value")===u)this.value=g}})}else if(f){if((b=d.valHooks[f.type]||d.valHooks[f.nodeName.toLowerCase()])&&"get"in b&&(c=b.get(f,"value"))!==u)return c;c=f.value;return typeof c==="string"?c.replace(Fc,""):c==null?"":c}}});d.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c=a.options,e=a.selectedIndex,f=(a=a.type===
"select-one"||e<0)?null:[],g=a?e+1:c.length,h=e<0?g:a?e:0;h<g;h++){b=c[h];if((b.selected||h===e)&&(d.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!d.nodeName(b.parentNode,"optgroup"))){b=d(b).val();if(a)return b;f.push(b)}}return f},set:function(a,b){var c=d.makeArray(b);d(a).find("option").each(function(){this.selected=d.inArray(d(this).val(),c)>=0});if(!c.length)a.selectedIndex=-1;return c}}},attrFn:{},attr:function(a,b,c,e){var f,g,h=a.nodeType;if(!(!a||
h===3||h===8||h===2)){if(e&&d.isFunction(d.fn[b]))return d(a)[b](c);if(typeof a.getAttribute==="undefined")return d.prop(a,b,c);if(e=h!==1||!d.isXMLDoc(a)){b=b.toLowerCase();g=d.attrHooks[b]||(Db.test(b)?Ab:aa)}if(c!==u)if(c===null)d.removeAttr(a,b);else if(g&&"set"in g&&e&&(f=g.set(a,c,b))!==u)return f;else{a.setAttribute(b,c+"");return c}else if(g&&"get"in g&&e&&(f=g.get(a,b))!==null)return f;else{f=a.getAttribute(b);return f===null?u:f}}},removeAttr:function(a,b){var c,e,f,g=0;if(b&&a.nodeType===
1)for(c=b.split(ea);g<c.length;g++)if(e=c[g]){b=d.propFix[e]||e;(f=Db.test(e))||d.attr(a,e,"");a.removeAttribute(Eb?e:b);if(f&&b in a)a[b]=false}},attrHooks:{type:{set:function(a,b){if(Gc.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&b==="radio"&&d.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);if(c)a.value=c;return b}}},value:{get:function(a,b){if(aa&&d.nodeName(a,"button"))return aa.get(a,b);return b in a?a.value:null},set:function(a,
b,c){if(aa&&d.nodeName(a,"button"))return aa.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,c){var e,f,g=a.nodeType;if(!(!a||g===3||g===8||g===2)){if(g!==1||!d.isXMLDoc(a)){b=d.propFix[b]||b;f=d.propHooks[b]}return c!==u?f&&"set"in f&&
(e=f.set(a,c,b))!==u?e:(a[b]=c):f&&"get"in f&&(e=f.get(a,b))!==null?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):Hc.test(a.nodeName)||Ic.test(a.nodeName)&&a.href?0:u}}}});Ab={get:function(a,b){var c,e=d.prop(a,b);return e===true||typeof e!=="boolean"&&(c=a.getAttributeNode(b))&&c.nodeValue!==false?b.toLowerCase():u},set:function(a,b,c){if(b===false)d.removeAttr(a,c);else{b=d.propFix[c]||c;if(b in a)a[b]=true;a.setAttribute(c,
c.toLowerCase())}return c}};if(!Eb){Bb={name:true,id:true,coords:true};aa=d.valHooks.button={get:function(a,b){return(a=a.getAttributeNode(b))&&(Bb[b]?a.value!=="":a.specified)?a.value:u},set:function(a,b,c){var e=a.getAttributeNode(c);if(!e){e=y.createAttribute(c);a.setAttributeNode(e)}return e.value=b+""}};d.each(["width","height"],function(a,b){d.attrHooks[b]=d.extend(d.attrHooks[b],{set:function(c,e){if(e===""){c.setAttribute(b,"auto");return e}}})});d.attrHooks.contenteditable={get:aa.get,set:function(a,
b,c){if(b==="")b="false";aa.set(a,b,c)}}}d.support.hrefNormalized||d.each(["href","src","width","height"],function(a,b){d.attrHooks[b]=d.extend(d.attrHooks[b],{get:function(c){c=c.getAttribute(b,2);return c===null?u:c}})});if(!d.support.style)d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||u},set:function(a,b){return a.style.cssText=b+""}};if(!d.support.optSelected)d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){return null}});if(!d.support.enctype)d.propFix.enctype=
"encoding";d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,b){if(d.isArray(b))return a.checked=d.inArray(d(a).val(),b)>=0}})});var Qa=/^(?:textarea|input|select)$/i,Fb=/^([^\.]*|)(?:\.(.+)|)$/,Jc=/(?:^|\s)hover(\.\S+|)\b/,Kc=/^key/,Lc=/^(?:mouse|contextmenu)|click/,Gb=/^(?:focusinfocus|focusoutblur)$/,Hb=
function(a){return d.event.special.hover?a:a.replace(Jc,"mouseenter$1 mouseleave$1")};d.event={add:function(a,b,c,e,f){var g,h,j,m,o,l,r,x,z;if(!(a.nodeType===3||a.nodeType===8||!b||!c||!(g=d._data(a)))){if(c.handler){r=c;c=r.handler;f=r.selector}if(!c.guid)c.guid=d.guid++;j=g.events;if(!j)g.events=j={};h=g.handle;if(!h){g.handle=h=function(G){return typeof d!=="undefined"&&(!G||d.event.triggered!==G.type)?d.event.dispatch.apply(h.elem,arguments):u};h.elem=a}b=d.trim(Hb(b)).split(" ");for(g=0;g<b.length;g++){m=
Fb.exec(b[g])||[];o=m[1];l=(m[2]||"").split(".").sort();z=d.event.special[o]||{};o=(f?z.delegateType:z.bindType)||o;z=d.event.special[o]||{};m=d.extend({type:o,origType:m[1],data:e,handler:c,guid:c.guid,selector:f,needsContext:f&&d.expr.match.needsContext.test(f),namespace:l.join(".")},r);x=j[o];if(!x){x=j[o]=[];x.delegateCount=0;if(!z.setup||z.setup.call(a,e,l,h)===false)if(a.addEventListener)a.addEventListener(o,h,false);else a.attachEvent&&a.attachEvent("on"+o,h)}if(z.add){z.add.call(a,m);if(!m.handler.guid)m.handler.guid=
c.guid}f?x.splice(x.delegateCount++,0,m):x.push(m);d.event.global[o]=true}a=null}},global:{},remove:function(a,b,c,e,f){var g,h,j,m,o,l,r,x,z,G,K=d.hasData(a)&&d._data(a);if(K&&(r=K.events)){b=d.trim(Hb(b||"")).split(" ");for(g=0;g<b.length;g++){h=Fb.exec(b[g])||[];j=m=h[1];h=h[2];if(j){x=d.event.special[j]||{};j=(e?x.delegateType:x.bindType)||j;z=r[j]||[];o=z.length;h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<z.length;l++){G=z[l];if((f||m===G.origType)&&
(!c||c.guid===G.guid)&&(!h||h.test(G.namespace))&&(!e||e===G.selector||e==="**"&&G.selector)){z.splice(l--,1);G.selector&&z.delegateCount--;x.remove&&x.remove.call(a,G)}}if(z.length===0&&o!==z.length){if(!x.teardown||x.teardown.call(a,h,K.handle)===false)d.removeEvent(a,j,K.handle);delete r[j]}}else for(j in r)d.event.remove(a,j+b[g],c,e,true)}if(d.isEmptyObject(r)){delete K.handle;d.removeData(a,"events",true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(a,b,c,e){if(!(c&&
(c.nodeType===3||c.nodeType===8))){var f,g,h,j,m,o,l=a.type||a;h=[];if(!Gb.test(l+d.event.triggered)){if(l.indexOf("!")>=0){l=l.slice(0,-1);f=true}if(l.indexOf(".")>=0){h=l.split(".");l=h.shift();h.sort()}if(!((!c||d.event.customEvent[l])&&!d.event.global[l])){a=typeof a==="object"?a[d.expando]?a:new d.Event(l,a):new d.Event(l);a.type=l;a.isTrigger=true;a.exclusive=f;a.namespace=h.join(".");a.namespace_re=a.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;h=l.indexOf(":")<0?
"on"+l:"";if(c){a.result=u;if(!a.target)a.target=c;b=b!=null?d.makeArray(b):[];b.unshift(a);j=d.event.special[l]||{};if(!(j.trigger&&j.trigger.apply(c,b)===false)){o=[[c,j.bindType||l]];if(!e&&!j.noBubble&&!d.isWindow(c)){m=j.delegateType||l;f=Gb.test(m+l)?c:c.parentNode;for(g=c;f;f=f.parentNode){o.push([f,m]);g=f}if(g===(c.ownerDocument||y))o.push([g.defaultView||g.parentWindow||B,m])}for(g=0;g<o.length&&!a.isPropagationStopped();g++){f=o[g][0];a.type=o[g][1];(m=(d._data(f,"events")||{})[a.type]&&
d._data(f,"handle"))&&m.apply(f,b);(m=h&&f[h])&&d.acceptData(f)&&m.apply&&m.apply(f,b)===false&&a.preventDefault()}a.type=l;if(!e&&!a.isDefaultPrevented())if((!j._default||j._default.apply(c.ownerDocument,b)===false)&&!(l==="click"&&d.nodeName(c,"a"))&&d.acceptData(c))if(h&&c[l]&&(l!=="focus"&&l!=="blur"||a.target.offsetWidth!==0)&&!d.isWindow(c)){if(g=c[h])c[h]=null;d.event.triggered=l;c[l]();d.event.triggered=u;if(g)c[h]=g}return a.result}}else{c=d.cache;for(g in c)c[g].events&&c[g].events[l]&&
d.event.trigger(a,b,c[g].handle.elem,true)}}}}},dispatch:function(a){a=d.event.fix(a||B.event);var b,c,e,f,g,h,j=(d._data(this,"events")||{})[a.type]||[],m=j.delegateCount,o=Z.call(arguments),l=!a.exclusive&&!a.namespace,r=d.event.special[a.type]||{},x=[];o[0]=a;a.delegateTarget=this;if(!(r.preDispatch&&r.preDispatch.call(this,a)===false)){if(m&&!(a.button&&a.type==="click"))for(c=a.target;c!=this;c=c.parentNode||this)if(c.disabled!==true||a.type!=="click"){f={};g=[];for(b=0;b<m;b++){e=j[b];h=e.selector;
if(f[h]===u)f[h]=e.needsContext?d(h,this).index(c)>=0:d.find(h,this,null,[c]).length;f[h]&&g.push(e)}g.length&&x.push({elem:c,matches:g})}j.length>m&&x.push({elem:this,matches:j.slice(m)});for(b=0;b<x.length&&!a.isPropagationStopped();b++){f=x[b];a.currentTarget=f.elem;for(c=0;c<f.matches.length&&!a.isImmediatePropagationStopped();c++){e=f.matches[c];if(l||!a.namespace&&!e.namespace||a.namespace_re&&a.namespace_re.test(e.namespace)){a.data=e.data;a.handleObj=e;e=((d.event.special[e.origType]||{}).handle||
e.handler).apply(f.elem,o);if(e!==u){a.result=e;if(e===false){a.preventDefault();a.stopPropagation()}}}}}r.postDispatch&&r.postDispatch.call(this,a);return a.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){if(a.which==null)a.which=b.charCode!=null?b.charCode:b.keyCode;return a}},
mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f=b.button,g=b.fromElement;if(a.pageX==null&&b.clientX!=null){c=a.target.ownerDocument||y;e=c.documentElement;c=c.body;a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0);a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)}if(!a.relatedTarget&&g)a.relatedTarget=g===
a.target?b.toElement:g;if(!a.which&&f!==u)a.which=f&1?1:f&2?3:f&4?2:0;return a}},fix:function(a){if(a[d.expando])return a;var b,c,e=a,f=d.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=d.Event(e);for(b=g.length;b;){c=g[--b];a[c]=e[c]}if(!a.target)a.target=e.srcElement||y;if(a.target.nodeType===3)a.target=a.target.parentNode;a.metaKey=!!a.metaKey;return f.filter?f.filter(a,e):a},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},
beforeunload:{setup:function(a,b,c){if(d.isWindow(this))this.onbeforeunload=c},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}},simulate:function(a,b,c,e){a=d.extend(new d.Event,c,{type:a,isSimulated:true,originalEvent:{}});e?d.event.trigger(a,null,b):d.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};d.event.handle=d.event.dispatch;d.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,false)}:function(a,
b,c){b="on"+b;if(a.detachEvent){if(typeof a[b]==="undefined")a[b]=null;a.detachEvent(b,c)}};d.Event=function(a,b){if(!(this instanceof d.Event))return new d.Event(a,b);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?va:ka}else this.type=a;b&&d.extend(this,b);this.timeStamp=a&&a.timeStamp||d.now();this[d.expando]=true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=
va;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=va;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=va;this.stopPropagation()},isDefaultPrevented:ka,isPropagationStopped:ka,isImmediatePropagationStopped:ka};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){d.event.special[a]=
{delegateType:b,bindType:b,handle:function(c){var e,f=this,g=c.relatedTarget,h=c.handleObj;if(!g||g!==f&&!d.contains(f,g)){c.type=h.origType;e=h.handler.apply(this,arguments);c.type=b}return e}}});if(!d.support.submitBubbles)d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;d.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=d.nodeName(a,"input")||d.nodeName(a,"button")?a.form:u)&&!d._data(a,"_submit_attached")){d.event.add(a,"submit._submit",
function(b){b._submit_bubble=true});d._data(a,"_submit_attached",true)}})},postDispatch:function(a){if(a._submit_bubble){delete a._submit_bubble;this.parentNode&&!a.isTrigger&&d.event.simulate("submit",this.parentNode,a,true)}},teardown:function(){if(d.nodeName(this,"form"))return false;d.event.remove(this,"._submit")}};if(!d.support.changeBubbles)d.event.special.change={setup:function(){if(Qa.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){d.event.add(this,"propertychange._change",
function(a){if(a.originalEvent.propertyName==="checked")this._just_changed=true});d.event.add(this,"click._change",function(a){if(this._just_changed&&!a.isTrigger)this._just_changed=false;d.event.simulate("change",this,a,true)})}return false}d.event.add(this,"beforeactivate._change",function(a){a=a.target;if(Qa.test(a.nodeName)&&!d._data(a,"_change_attached")){d.event.add(a,"change._change",function(b){this.parentNode&&!b.isSimulated&&!b.isTrigger&&d.event.simulate("change",this.parentNode,b,true)});
d._data(a,"_change_attached",true)}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return!Qa.test(this.nodeName)}};d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,e=function(f){d.event.simulate(b,f.target,d.event.fix(f),true)};d.event.special[b]={setup:function(){c++===0&&y.addEventListener(a,
e,true)},teardown:function(){--c===0&&y.removeEventListener(a,e,true)}}});d.fn.extend({on:function(a,b,c,e,f){var g,h;if(typeof a==="object"){if(typeof b!=="string"){c=c||b;b=u}for(h in a)this.on(h,b,c,a[h],f);return this}if(c==null&&e==null){e=b;c=b=u}else if(e==null)if(typeof b==="string"){e=c;c=u}else{e=c;c=b;b=u}if(e===false)e=ka;else if(!e)return this;if(f===1){g=e;e=function(j){d().off(j);return g.apply(this,arguments)};e.guid=g.guid||(g.guid=d.guid++)}return this.each(function(){d.event.add(this,
a,e,c,b)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,b,c){var e;if(a&&a.preventDefault&&a.handleObj){e=a.handleObj;d(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a==="object"){for(e in a)this.off(e,b,a[e]);return this}if(b===false||typeof b==="function"){c=b;b=u}if(c===false)c=ka;return this.each(function(){d.event.remove(this,a,c,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,
null,b)},live:function(a,b,c){d(this.context).on(a,this.selector,b,c);return this},die:function(a,b){d(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return d.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,
c=a.guid||d.guid++,e=0,f=function(g){var h=(d._data(this,"lastToggle"+a.guid)||0)%e;d._data(this,"lastToggle"+a.guid,h+1);g.preventDefault();return b[h].apply(this,arguments)||false};for(f.guid=c;e<b.length;)b[e++].guid=c;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){d.fn[b]=function(c,e){if(e==null){e=c;c=null}return arguments.length>0?this.on(b,null,c,e):this.trigger(b)};if(Kc.test(b))d.event.fixHooks[b]=d.event.keyHooks;if(Lc.test(b))d.event.fixHooks[b]=d.event.mouseHooks});(function(a,b){function c(i,k,n,q){n=n||[];k=k||V;var s,t,p,w,v=k.nodeType;if(!i||typeof i!=="string")return n;if(v!==1&&v!==9)return[];p=ga(k);if(!p&&!q)if(s=Mc.exec(i))if(w=s[1])if(v===9)if((t=k.getElementById(w))&&t.parentNode){if(t.id===w){n.push(t);return n}}else return n;
else{if(k.ownerDocument&&(t=k.ownerDocument.getElementById(w))&&ua(k,t)&&t.id===w){n.push(t);return n}}else if(s[2]){oa.apply(n,pa.call(k.getElementsByTagName(i),0));return n}else if((w=s[3])&&Ib&&k.getElementsByClassName){oa.apply(n,pa.call(k.getElementsByClassName(w),0));return n}return K(i.replace(Fa,"$1"),k,n,q,p)}function e(i){return function(k){return k.nodeName.toLowerCase()==="input"&&k.type===i}}function f(i){return function(k){var n=k.nodeName.toLowerCase();return(n==="input"||n==="button")&&
k.type===i}}function g(i){return Y(function(k){k=+k;return Y(function(n,q){for(var s,t=i([],n.length,k),p=t.length;p--;)if(n[s=t[p]])n[s]=!(q[s]=n[s])})})}function h(i,k,n){if(i===k)return n;for(i=i.nextSibling;i;){if(i===k)return-1;i=i.nextSibling}return 1}function j(i,k){var n,q,s,t,p,w,v;if(p=Jb[J][i+" "])return k?0:p.slice(0);p=i;w=[];for(v=F.preFilter;p;){if(!n||(q=Nc.exec(p))){if(q)p=p.slice(q[0].length)||p;w.push(s=[])}n=false;if(q=Oc.exec(p)){s.push(n=new ba(q.shift()));p=p.slice(n.length);
n.type=q[0].replace(Fa," ")}for(t in F.filter)if((q=Ga[t].exec(p))&&(!v[t]||(q=v[t](q)))){s.push(n=new ba(q.shift()));p=p.slice(n.length);n.type=t;n.matches=q}if(!n)break}return k?p.length:p?c.error(i):Jb(i,w).slice(0)}function m(i,k,n){var q=k.dir,s=n&&k.dir==="parentNode",t=Pc++;return k.first?function(p,w,v){for(;p=p[q];)if(s||p.nodeType===1)return i(p,w,v)}:function(p,w,v){if(v)for(;p=p[q];){if(s||p.nodeType===1)if(i(p,w,v))return p}else for(var C,E=Ha+" "+t+" ",H=E+ca;p=p[q];)if(s||p.nodeType===
1)if((C=p[J])===H)return p.sizset;else if(typeof C==="string"&&C.indexOf(E)===0){if(p.sizset)return p}else{p[J]=H;if(i(p,w,v)){p.sizset=true;return p}p.sizset=false}}}function o(i){return i.length>1?function(k,n,q){for(var s=i.length;s--;)if(!i[s](k,n,q))return false;return true}:i[0]}function l(i,k,n,q,s){for(var t,p=[],w=0,v=i.length,C=k!=null;w<v;w++)if(t=i[w])if(!n||n(t,q,s)){p.push(t);C&&k.push(w)}return p}function r(i,k,n,q,s,t){if(q&&!q[J])q=r(q);if(s&&!s[J])s=r(s,t);return Y(function(p,w,
v,C){var E,H,I=[],P=[],R=w.length,O=p||G(k||"*",v.nodeType?[v]:v,[]);O=i&&(p||!k)?l(O,I,i,v,C):O;var N=n?s||(p?i:R||q)?[]:w:O;n&&n(O,N,v,C);if(q){E=l(N,P);q(E,[],v,C);for(v=E.length;v--;)if(H=E[v])N[P[v]]=!(O[P[v]]=H)}if(p){if(s||i){if(s){E=[];for(v=N.length;v--;)if(H=N[v])E.push(O[v]=H);s(null,N=[],E,C)}for(v=N.length;v--;)if((H=N[v])&&(E=s?Ra.call(p,H):I[v])>-1)p[E]=!(w[E]=H)}}else{N=l(N===w?N.splice(R,N.length):N);s?s(null,w,N,C):oa.apply(w,N)}})}function x(i){var k,n,q,s=i.length,t=F.relative[i[0].type];
n=t||F.relative[" "];for(var p=t?1:0,w=m(function(E){return E===k},n,true),v=m(function(E){return Ra.call(k,E)>-1},n,true),C=[function(E,H,I){return!t&&(I||H!==qa)||((k=H).nodeType?w(E,H,I):v(E,H,I))}];p<s;p++)if(n=F.relative[i[p].type])C=[m(o(C),n)];else{n=F.filter[i[p].type].apply(null,i[p].matches);if(n[J]){for(q=++p;q<s;q++)if(F.relative[i[q].type])break;return r(p>1&&o(C),p>1&&i.slice(0,p-1).join("").replace(Fa,"$1"),n,p<q&&x(i.slice(p,q)),q<s&&x(i=i.slice(q)),q<s&&i.join(""))}C.push(n)}return o(C)}
function z(i,k){var n=k.length>0,q=i.length>0,s=function(t,p,w,v,C){var E,H,I=[],P=0,R="0",O=t&&[],N=C!=null,Kb=qa,Qc=t||q&&F.find.TAG("*",C&&p.parentNode||p),Lb=Ha+=Kb==null?1:Math.E;if(N){qa=p!==V&&p;ca=s.el}for(;(C=Qc[R])!=null;R++){if(q&&C){for(E=0;H=i[E];E++)if(H(C,p,w)){v.push(C);break}if(N){Ha=Lb;ca=++s.el}}if(n){if(C=!H&&C)P--;t&&O.push(C)}}P+=R;if(n&&R!==P){for(E=0;H=k[E];E++)H(O,I,p,w);if(t){if(P>0)for(;R--;)O[R]||I[R]||(I[R]=Rc.call(v));I=l(I)}oa.apply(v,I);N&&!t&&I.length>0&&P+k.length>
1&&c.uniqueSort(v)}if(N){Ha=Lb;qa=Kb}return O};s.el=0;return n?Y(s):s}function G(i,k,n){for(var q=0,s=k.length;q<s;q++)c(i,k[q],n);return n}function K(i,k,n,q,s){var t,p,w,v,C=j(i);if(!q)if(C.length===1){p=C[0]=C[0].slice(0);if(p.length>2&&(w=p[0]).type==="ID"&&k.nodeType===9&&!s&&F.relative[p[1].type]){k=F.find.ID(w.matches[0].replace(ha,""),k,s)[0];if(!k)return n;i=i.slice(p.shift().length)}for(t=Ga.POS.test(i)?-1:p.length-1;t>=0;t--){w=p[t];if(F.relative[v=w.type])break;if(v=F.find[v])if(q=v(w.matches[0].replace(ha,
""),Sa.test(p[0].type)&&k.parentNode||k,s)){p.splice(t,1);i=q.length&&p.join("");if(!i){oa.apply(n,pa.call(q,0));return n}break}}}D(i,C)(q,k,s,n,Sa.test(i));return n}function $(){}var ca,S,F,A,ga,ua,D,L,T,qa,X=true,J=("sizcache"+Math.random()).replace(".",""),ba=String,V=a.document,M=V.documentElement,Ha=0,Pc=0,Rc=[].pop,oa=[].push,pa=[].slice,Ra=[].indexOf||function(i){for(var k=0,n=this.length;k<n;k++)if(this[k]===i)return k;return-1},Y=function(i,k){i[J]=k==null||k;return i};a=function(){var i=
{},k=[];return Y(function(n,q){k.push(n)>F.cacheLength&&delete i[k.shift()];return i[n+" "]=q},i)};var Mb=a(),Jb=a(),Nb=a();a="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]";var Ta=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+a+")|[^:]|\\\\.)*|.*))\\)|)",Fa=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$",
"g"),Nc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Oc=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,Sc=new RegExp(Ta),Mc=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Sa=/[\x20\t\r\n\f]*[+~]/,Tc=/h\d/i,Uc=/input|select|textarea|button/i,ha=/\\(?!\\)/g,Ga={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:new RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+a),PSEUDO:new RegExp("^"+
Ta),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},da=function(i){var k=V.createElement("div");
try{return i(k)}catch(n){return false}finally{}};a=da(function(i){i.appendChild(V.createComment(""));return!i.getElementsByTagName("*").length});var Vc=da(function(i){i.innerHTML="<a href='#'></a>";return i.firstChild&&typeof i.firstChild.getAttribute!=="undefined"&&i.firstChild.getAttribute("href")==="#"}),Wc=da(function(i){i.innerHTML="<select></select>";i=typeof i.lastChild.getAttribute("multiple");return i!=="boolean"&&i!=="string"}),Ib=da(function(i){i.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";
if(!i.getElementsByClassName||!i.getElementsByClassName("e").length)return false;i.lastChild.className="e";return i.getElementsByClassName("e").length===2}),Xc=da(function(i){i.id=J+0;i.innerHTML="<a name='"+J+"'></a><div name='"+J+"'></div>";M.insertBefore(i,M.firstChild);var k=V.getElementsByName&&V.getElementsByName(J).length===2+V.getElementsByName(J+0).length;S=!V.getElementById(J);M.removeChild(i);return k});try{pa.call(M.childNodes,0)}catch(Bd){pa=function(i){for(var k,n=[];k=this[i];i++)n.push(k);
return n}}c.matches=function(i,k){return c(i,null,null,k)};c.matchesSelector=function(i,k){return c(k,null,null,[i]).length>0};A=c.getText=function(i){var k,n="",q=0;if(k=i.nodeType)if(k===1||k===9||k===11)if(typeof i.textContent==="string")return i.textContent;else for(i=i.firstChild;i;i=i.nextSibling)n+=A(i);else{if(k===3||k===4)return i.nodeValue}else for(;k=i[q];q++)n+=A(k);return n};ga=c.isXML=function(i){return(i=i&&(i.ownerDocument||i).documentElement)?i.nodeName!=="HTML":false};ua=c.contains=
M.contains?function(i,k){var n=i.nodeType===9?i.documentElement:i;k=k&&k.parentNode;return i===k||!!(k&&k.nodeType===1&&n.contains&&n.contains(k))}:M.compareDocumentPosition?function(i,k){return k&&!!(i.compareDocumentPosition(k)&16)}:function(i,k){for(;k=k.parentNode;)if(k===i)return true;return false};c.attr=function(i,k){var n,q=ga(i);q||(k=k.toLowerCase());if(n=F.attrHandle[k])return n(i);if(q||Wc)return i.getAttribute(k);return(n=i.getAttributeNode(k))?typeof i[k]==="boolean"?i[k]?k:null:n.specified?
n.value:null:null};F=c.selectors={cacheLength:50,createPseudo:Y,match:Ga,attrHandle:Vc?{}:{href:function(i){return i.getAttribute("href",2)},type:function(i){return i.getAttribute("type")}},find:{ID:S?function(i,k,n){if(typeof k.getElementById!=="undefined"&&!n)return(i=k.getElementById(i))&&i.parentNode?[i]:[]}:function(i,k,n){if(typeof k.getElementById!=="undefined"&&!n)return(k=k.getElementById(i))?k.id===i||typeof k.getAttributeNode!=="undefined"&&k.getAttributeNode("id").value===i?[k]:b:[]},
TAG:a?function(i,k){if(typeof k.getElementsByTagName!=="undefined")return k.getElementsByTagName(i)}:function(i,k){k=k.getElementsByTagName(i);if(i==="*"){for(var n=[],q=0;i=k[q];q++)i.nodeType===1&&n.push(i);return n}return k},NAME:Xc&&function(i,k){if(typeof k.getElementsByName!=="undefined")return k.getElementsByName(name)},CLASS:Ib&&function(i,k,n){if(typeof k.getElementsByClassName!=="undefined"&&!n)return k.getElementsByClassName(i)}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},
"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(i){i[1]=i[1].replace(ha,"");i[3]=(i[4]||i[5]||"").replace(ha,"");if(i[2]==="~=")i[3]=" "+i[3]+" ";return i.slice(0,4)},CHILD:function(i){i[1]=i[1].toLowerCase();if(i[1]==="nth"){i[2]||c.error(i[0]);i[3]=+(i[3]?i[4]+(i[5]||1):2*(i[2]==="even"||i[2]==="odd"));i[4]=+(i[6]+i[7]||i[2]==="odd")}else i[2]&&c.error(i[0]);return i},PSEUDO:function(i){var k,n;if(Ga.CHILD.test(i[0]))return null;if(i[3])i[2]=i[3];else if(k=
i[4]){if(Sc.test(k)&&(n=j(k,true))&&(n=k.indexOf(")",k.length-n)-k.length)){k=k.slice(0,n);i[0]=i[0].slice(0,n)}i[2]=k}return i.slice(0,3)}},filter:{ID:S?function(i){i=i.replace(ha,"");return function(k){return k.getAttribute("id")===i}}:function(i){i=i.replace(ha,"");return function(k){return(k=typeof k.getAttributeNode!=="undefined"&&k.getAttributeNode("id"))&&k.value===i}},TAG:function(i){if(i==="*")return function(){return true};i=i.replace(ha,"").toLowerCase();return function(k){return k.nodeName&&
k.nodeName.toLowerCase()===i}},CLASS:function(i){var k=Mb[J][i+" "];return k||(k=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+i+"([\\x20\\t\\r\\n\\f]|$)"))&&Mb(i,function(n){return k.test(n.className||typeof n.getAttribute!=="undefined"&&n.getAttribute("class")||"")})},ATTR:function(i,k,n){return function(q){q=c.attr(q,i);if(q==null)return k==="!=";if(!k)return true;q+="";return k==="="?q===n:k==="!="?q!==n:k==="^="?n&&q.indexOf(n)===0:k==="*="?n&&q.indexOf(n)>-1:k==="$="?n&&q.substr(q.length-n.length)===
n:k==="~="?(" "+q+" ").indexOf(n)>-1:k==="|="?q===n||q.substr(0,n.length+1)===n+"-":false}},CHILD:function(i,k,n,q){if(i==="nth")return function(s){var t,p;t=s.parentNode;if(n===1&&q===0)return true;if(t){p=0;for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType===1){p++;if(s===t)break}}p-=q;return p===n||p%n===0&&p/n>=0};return function(s){var t=s;switch(i){case "only":case "first":for(;t=t.previousSibling;)if(t.nodeType===1)return false;if(i==="first")return true;t=s;case "last":for(;t=t.nextSibling;)if(t.nodeType===
1)return false;return true}}},PSEUDO:function(i,k){var n,q=F.pseudos[i]||F.setFilters[i.toLowerCase()]||c.error("unsupported pseudo: "+i);if(q[J])return q(k);if(q.length>1){n=[i,i,"",k];return F.setFilters.hasOwnProperty(i.toLowerCase())?Y(function(s,t){for(var p,w=q(s,k),v=w.length;v--;){p=Ra.call(s,w[v]);s[p]=!(t[p]=w[v])}}):function(s){return q(s,0,n)}}return q}},pseudos:{not:Y(function(i){var k=[],n=[],q=D(i.replace(Fa,"$1"));return q[J]?Y(function(s,t,p,w){w=q(s,null,w,[]);for(var v=s.length;v--;)if(p=
w[v])s[v]=!(t[v]=p)}):function(s,t,p){k[0]=s;q(k,null,p,n);return!n.pop()}}),has:Y(function(i){return function(k){return c(i,k).length>0}}),contains:Y(function(i){return function(k){return(k.textContent||k.innerText||A(k)).indexOf(i)>-1}}),enabled:function(i){return i.disabled===false},disabled:function(i){return i.disabled===true},checked:function(i){var k=i.nodeName.toLowerCase();return k==="input"&&!!i.checked||k==="option"&&!!i.selected},selected:function(i){return i.selected===true},parent:function(i){return!F.pseudos.empty(i)},
empty:function(i){var k;for(i=i.firstChild;i;){if(i.nodeName>"@"||(k=i.nodeType)===3||k===4)return false;i=i.nextSibling}return true},header:function(i){return Tc.test(i.nodeName)},text:function(i){var k,n;return i.nodeName.toLowerCase()==="input"&&(k=i.type)==="text"&&((n=i.getAttribute("type"))==null||n.toLowerCase()===k)},radio:e("radio"),checkbox:e("checkbox"),file:e("file"),password:e("password"),image:e("image"),submit:f("submit"),reset:f("reset"),button:function(i){var k=i.nodeName.toLowerCase();
return k==="input"&&i.type==="button"||k==="button"},input:function(i){return Uc.test(i.nodeName)},focus:function(i){var k=i.ownerDocument;return i===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(i.type||i.href||~i.tabIndex)},active:function(i){return i===i.ownerDocument.activeElement},first:g(function(){return[0]}),last:g(function(i,k){return[k-1]}),eq:g(function(i,k,n){return[n<0?n+k:n]}),even:g(function(i,k){for(var n=0;n<k;n+=2)i.push(n);return i}),odd:g(function(i,k){for(var n=1;n<k;n+=2)i.push(n);
return i}),lt:g(function(i,k,n){for(k=n<0?n+k:n;--k>=0;)i.push(k);return i}),gt:g(function(i,k,n){for(n=n<0?n+k:n;++n<k;)i.push(n);return i})}};L=M.compareDocumentPosition?function(i,k){if(i===k){T=true;return 0}return(!i.compareDocumentPosition||!k.compareDocumentPosition?i.compareDocumentPosition:i.compareDocumentPosition(k)&4)?-1:1}:function(i,k){if(i===k){T=true;return 0}else if(i.sourceIndex&&k.sourceIndex)return i.sourceIndex-k.sourceIndex;var n,q,s=[],t=[];n=i.parentNode;q=k.parentNode;var p=
n;if(n===q)return h(i,k);else if(n){if(!q)return 1}else return-1;for(;p;){s.unshift(p);p=p.parentNode}for(p=q;p;){t.unshift(p);p=p.parentNode}n=s.length;q=t.length;for(p=0;p<n&&p<q;p++)if(s[p]!==t[p])return h(s[p],t[p]);return p===n?h(i,t[p],-1):h(s[p],k,1)};[0,0].sort(L);X=!T;c.uniqueSort=function(i){var k,n=[],q=1,s=0;T=X;i.sort(L);if(T){for(;k=i[q];q++)if(k===i[q-1])s=n.push(q);for(;s--;)i.splice(n[s],1)}return i};c.error=function(i){throw new Error("Syntax error, unrecognized expression: "+i);
};D=c.compile=function(i,k){var n,q=[],s=[],t=Nb[J][i+" "];if(!t){k||(k=j(i));for(n=k.length;n--;){t=x(k[n]);t[J]?q.push(t):s.push(t)}t=Nb(i,z(s,q))}return t};V.querySelectorAll&&function(){var i,k=K,n=/'|\\/g,q=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,s=[":focus"],t=[":active"],p=M.matchesSelector||M.mozMatchesSelector||M.webkitMatchesSelector||M.oMatchesSelector||M.msMatchesSelector;da(function(w){w.innerHTML="<select><option selected=''></option></select>";w.querySelectorAll("[selected]").length||
s.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");w.querySelectorAll(":checked").length||s.push(":checked")});da(function(w){w.innerHTML="<p test=''></p>";w.querySelectorAll("[test^='']").length&&s.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");w.innerHTML="<input type='hidden'/>";w.querySelectorAll(":enabled").length||s.push(":enabled",":disabled")});s=new RegExp(s.join("|"));K=function(w,v,C,E,H){if(!E&&!H&&!s.test(w)){var I,P,R=true,O=J;P=v;I=v.nodeType===
9&&w;if(v.nodeType===1&&v.nodeName.toLowerCase()!=="object"){I=j(w);if(R=v.getAttribute("id"))O=R.replace(n,"\\$&");else v.setAttribute("id",O);O="[id='"+O+"'] ";for(P=I.length;P--;)I[P]=O+I[P].join("");P=Sa.test(w)&&v.parentNode||v;I=I.join(",")}if(I)try{oa.apply(C,pa.call(P.querySelectorAll(I),0));return C}catch(N){}finally{R||v.removeAttribute("id")}}return k(w,v,C,E,H)};if(p){da(function(w){i=p.call(w,"div");try{p.call(w,"[test!='']:sizzle");t.push("!=",Ta)}catch(v){}});t=new RegExp(t.join("|"));
c.matchesSelector=function(w,v){v=v.replace(q,"='$1']");if(!ga(w)&&!t.test(v)&&!s.test(v))try{var C=p.call(w,v);if(C||i||w.document&&w.document.nodeType!==11)return C}catch(E){}return c(v,null,null,[w]).length>0}}}();F.pseudos.nth=F.pseudos.eq;F.filters=$.prototype=F.pseudos;F.setFilters=new $;c.attr=d.attr;d.find=c;d.expr=c.selectors;d.expr[":"]=d.expr.pseudos;d.unique=c.uniqueSort;d.text=c.getText;d.isXMLDoc=c.isXML;d.contains=c.contains})(B);var Yc=/Until$/,Zc=/^(?:parents|prev(?:Until|All))/,
fc=/^.[^:#\[\.,]*$/,Ob=d.expr.match.needsContext,$c={children:true,contents:true,next:true,prev:true};d.fn.extend({find:function(a){var b,c,e,f,g,h,j=this;if(typeof a!=="string")return d(a).filter(function(){b=0;for(c=j.length;b<c;b++)if(d.contains(j[b],this))return true});h=this.pushStack("","find",a);b=0;for(c=this.length;b<c;b++){e=h.length;d.find(a,this[b],h);if(b>0)for(f=e;f<h.length;f++)for(g=0;g<e;g++)if(h[g]===h[f]){h.splice(f--,1);break}}return h},has:function(a){var b,c=d(a,this),e=c.length;
return this.filter(function(){for(b=0;b<e;b++)if(d.contains(this,c[b]))return true})},not:function(a){return this.pushStack(bb(this,a,false),"not",a)},filter:function(a){return this.pushStack(bb(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?Ob.test(a)?d(a,this.context).index(this[0])>=0:d.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,e=0,f=this.length,g=[],h=Ob.test(a)||typeof a!=="string"?d(a,b||this.context):0;e<f;e++)for(c=this[e];c&&
c.ownerDocument&&c!==b&&c.nodeType!==11;){if(h?h.index(c)>-1:d.find.matchesSelector(c,a)){g.push(c);break}c=c.parentNode}g=g.length>1?d.unique(g):g;return this.pushStack(g,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a==="string")return d.inArray(this[0],d(a));return d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){a=typeof a==="string"?d(a,b):d.makeArray(a&&a.nodeType?[a]:a);b=d.merge(this.get(),a);return this.pushStack(sa(a[0])||sa(b[0])?
b:d.unique(b))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}});d.fn.andSelf=d.fn.addBack;d.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,c){return d.dir(a,"parentNode",c)},next:function(a){return ab(a,"nextSibling")},prev:function(a){return ab(a,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},
nextUntil:function(a,b,c){return d.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return d.dir(a,"previousSibling",c)},siblings:function(a){return d.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.merge([],a.childNodes)}},function(a,b){d.fn[a]=function(c,e){var f=d.map(this,b,c);Yc.test(a)||(e=c);if(e&&typeof e==="string")f=d.filter(e,f);f=this.length>
1&&!$c[a]?d.unique(f):f;if(this.length>1&&Zc.test(a))f=f.reverse();return this.pushStack(f,a,Z.call(arguments).join(","))}});d.extend({filter:function(a,b,c){if(c)a=":not("+a+")";return b.length===1?d.find.matchesSelector(b[0],a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,b,c){var e=[];for(a=a[b];a&&a.nodeType!==9&&(c===u||a.nodeType!==1||!d(a).is(c));){a.nodeType===1&&e.push(a);a=a[b]}return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var db=
"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ad=/ jQuery\d+="(?:null|\d+)"/g,Ua=/^\s+/,Pb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qb=/<([\w:]+)/,bd=/<tbody/i,cd=/<|&#?\w+;/,dd=/<(?:script|style|link)/i,ed=/<(?:script|object|embed|option|style)/i,Va=new RegExp("<(?:"+db+")[\\s/>]","i"),gb=/^(?:checkbox|radio)$/,Rb=/checked\s*(?:[^=]|=\s*.checked.)/i,fd=/\/(java|ecma)script/i,
gd=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,W={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Sb=cb(y),Wa=Sb.appendChild(y.createElement("div"));W.optgroup=W.option;W.tbody=W.tfoot=W.colgroup=W.caption=W.thead;W.th=W.td;
if(!d.support.htmlSerialize)W._default=[1,"X<div>","</div>"];d.fn.extend({text:function(a){return d.access(this,function(b){return b===u?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(b))},null,a,arguments.length)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(c){d(this).wrapAll(a.call(this,c))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var c=this;c.firstChild&&
c.firstChild.nodeType===1;)c=c.firstChild;return c}).append(this)}return this},wrapInner:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapInner(a.call(this,b))});return this.each(function(){var b=d(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=d.isFunction(a);return this.each(function(c){d(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},
append:function(){return this.domManip(arguments,true,function(a){if(this.nodeType===1||this.nodeType===11)this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){if(this.nodeType===1||this.nodeType===11)this.insertBefore(a,this.firstChild)})},before:function(){if(!sa(this[0]))return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});if(arguments.length){var a=d.clean(arguments);return this.pushStack(d.merge(a,this),"before",this.selector)}},
after:function(){if(!sa(this[0]))return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this.nextSibling)});if(arguments.length){var a=d.clean(arguments);return this.pushStack(d.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,e=0;(c=this[e])!=null;e++)if(!a||d.filter(a,[c]).length){if(!b&&c.nodeType===1){d.cleanData(c.getElementsByTagName("*"));d.cleanData([c])}c.parentNode&&c.parentNode.removeChild(c)}return this},empty:function(){for(var a,b=0;(a=this[b])!=
null;b++)for(a.nodeType===1&&d.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){return d.access(this,function(b){var c=this[0]||{},e=0,f=this.length;if(b===u)return c.nodeType===1?c.innerHTML.replace(ad,""):u;if(typeof b==="string"&&!dd.test(b)&&(d.support.htmlSerialize||!Va.test(b))&&(d.support.leadingWhitespace||!Ua.test(b))&&!W[(Qb.exec(b)||
["",""])[1].toLowerCase()]){b=b.replace(Pb,"<$1></$2>");try{for(;e<f;e++){c=this[e]||{};if(c.nodeType===1){d.cleanData(c.getElementsByTagName("*"));c.innerHTML=b}}c=0}catch(g){}}c&&this.empty().append(b)},null,a,arguments.length)},replaceWith:function(a){if(!sa(this[0])){if(d.isFunction(a))return this.each(function(b){var c=d(this),e=c.html();c.replaceWith(a.call(this,b,e))});if(typeof a!=="string")a=d(a).detach();return this.each(function(){var b=this.nextSibling,c=this.parentNode;d(this).remove();
b?d(b).before(a):d(c).append(a)})}return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,b,c){a=[].concat.apply([],a);var e,f,g,h=0,j=a[0],m=[],o=this.length;if(!d.support.checkClone&&o>1&&typeof j==="string"&&Rb.test(j))return this.each(function(){d(this).domManip(a,b,c)});if(d.isFunction(j))return this.each(function(l){var r=d(this);a[0]=j.call(this,l,b?r.html():u);r.domManip(a,b,c)});if(this[0]){e=d.buildFragment(a,
this,m);g=e.fragment;f=g.firstChild;if(g.childNodes.length===1)g=f;if(f){b=b&&d.nodeName(f,"tr");for(e=e.cacheable||o-1;h<o;h++)c.call(b&&d.nodeName(this[h],"table")?gc(this[h],"tbody"):this[h],h===e?g:d.clone(g,true,true))}g=f=null;m.length&&d.each(m,function(l,r){if(r.src)d.ajax?d.ajax({url:r.src,type:"GET",dataType:"script",async:false,global:false,"throws":true}):d.error("no ajax");else d.globalEval((r.text||r.textContent||r.innerHTML||"").replace(gd,""));r.parentNode&&r.parentNode.removeChild(r)})}return this}});
d.buildFragment=function(a,b,c){var e,f,g,h=a[0];b=b||y;b=!b.nodeType&&b[0]||b;b=b.ownerDocument||b;if(a.length===1&&typeof h==="string"&&h.length<512&&b===y&&h.charAt(0)==="<"&&!ed.test(h)&&(d.support.checkClone||!Rb.test(h))&&(d.support.html5Clone||!Va.test(h))){f=true;e=d.fragments[h];g=e!==u}if(!e){e=b.createDocumentFragment();d.clean(a,b,e,c);if(f)d.fragments[h]=g&&e}return{fragment:e,cacheable:f}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",
replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(c){var e,f=0,g=[];c=d(c);var h=c.length;e=this.length===1&&this[0].parentNode;if((e==null||e&&e.nodeType===11&&e.childNodes.length===1)&&h===1){c[b](this[0]);return this}else{for(;f<h;f++){e=(f>0?this.clone(true):this).get();d(c[f])[b](e);g=g.concat(e)}return this.pushStack(g,a,c.selector)}}});d.extend({clone:function(a,b,c){var e,f,g,h;if(d.support.html5Clone||d.isXMLDoc(a)||!Va.test("<"+a.nodeName+">"))h=a.cloneNode(true);else{Wa.innerHTML=
a.outerHTML;Wa.removeChild(h=Wa.firstChild)}if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){fb(a,h);e=wa(a);f=wa(h);for(g=0;e[g];++g)f[g]&&fb(e[g],f[g])}if(b){eb(a,h);if(c){e=wa(a);f=wa(h);for(g=0;e[g];++g)eb(e[g],f[g])}}return h},clean:function(a,b,c,e){var f,g,h,j,m,o,l=b===y&&Sb,r=[];if(!b||typeof b.createDocumentFragment==="undefined")b=y;for(f=0;(h=a[f])!=null;f++){if(typeof h==="number")h+="";if(h){if(typeof h==="string")if(cd.test(h)){l=
l||cb(b);o=b.createElement("div");l.appendChild(o);h=h.replace(Pb,"<$1></$2>");g=(Qb.exec(h)||["",""])[1].toLowerCase();j=W[g]||W._default;m=j[0];for(o.innerHTML=j[1]+h+j[2];m--;)o=o.lastChild;if(!d.support.tbody){m=bd.test(h);j=g==="table"&&!m?o.firstChild&&o.firstChild.childNodes:j[1]==="<table>"&&!m?o.childNodes:[];for(g=j.length-1;g>=0;--g)d.nodeName(j[g],"tbody")&&!j[g].childNodes.length&&j[g].parentNode.removeChild(j[g])}!d.support.leadingWhitespace&&Ua.test(h)&&o.insertBefore(b.createTextNode(Ua.exec(h)[0]),
o.firstChild);h=o.childNodes;o.parentNode.removeChild(o)}else h=b.createTextNode(h);h.nodeType?r.push(h):d.merge(r,h)}}if(o)h=o=l=null;if(!d.support.appendChecked)for(f=0;(h=r[f])!=null;f++)if(d.nodeName(h,"input"))hb(h);else typeof h.getElementsByTagName!=="undefined"&&d.grep(h.getElementsByTagName("input"),hb);if(c){a=function(x){if(!x.type||fd.test(x.type))return e?e.push(x.parentNode?x.parentNode.removeChild(x):x):c.appendChild(x)};for(f=0;(h=r[f])!=null;f++)if(!(d.nodeName(h,"script")&&a(h))){c.appendChild(h);
if(typeof h.getElementsByTagName!=="undefined"){h=d.grep(d.merge([],h.getElementsByTagName("script")),a);r.splice.apply(r,[f+1,0].concat(h));f+=h.length}}}return r},cleanData:function(a,b){for(var c,e,f,g,h=0,j=d.expando,m=d.cache,o=d.support.deleteExpando,l=d.event.special;(f=a[h])!=null;h++)if(b||d.acceptData(f))if(c=(e=f[j])&&m[e]){if(c.events)for(g in c.events)l[g]?d.event.remove(f,g):d.removeEvent(f,g,c.handle);if(m[e]){delete m[e];if(o)delete f[j];else if(f.removeAttribute)f.removeAttribute(j);
else f[j]=null;d.deletedIds.push(e)}}}});(function(){var a,b;d.uaMatch=function(c){c=c.toLowerCase();c=/(chrome)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[];return{browser:c[1]||"",version:c[2]||"0"}};a=d.uaMatch(rc.userAgent);b={};if(a.browser){b[a.browser]=true;b.version=a.version}if(b.chrome)b.webkit=true;else if(b.webkit)b.safari=true;d.browser=
b;d.sub=function(){function c(f,g){return new c.fn.init(f,g)}d.extend(true,c,this);c.superclass=this;c.fn=c.prototype=this();c.fn.constructor=c;c.sub=this.sub;c.fn.init=function(f,g){if(g&&g instanceof d&&!(g instanceof c))g=c(g);return d.fn.init.call(this,f,g,e)};c.fn.init.prototype=c.fn;var e=c(y);return c}})();var Q,la,ma,Xa=/alpha\([^)]*\)/i,hd=/opacity=([^)]*)/,id=/^(top|right|bottom|left)$/,jd=/^(none|table(?!-c[ea]).+)/,Tb=/^margin/,hc=new RegExp("^("+Da+")(.*)$","i"),ya=new RegExp("^("+Da+
")(?!px)[a-z%]+$","i"),kd=new RegExp("^([-+])=("+Da+")","i"),La={BODY:"block"},ld={position:"absolute",visibility:"hidden",display:"block"},Ub={letterSpacing:0,fontWeight:400},fa=["Top","Right","Bottom","Left"],jb=["Webkit","O","Moz","ms"],md=d.fn.toggle;d.fn.extend({css:function(a,b){return d.access(this,function(c,e,f){return f!==u?d.style(c,e,f):d.css(c,e)},a,b,arguments.length>1)},show:function(){return kb(this,true)},hide:function(){return kb(this)},toggle:function(a,b){var c=typeof a==="boolean";
if(d.isFunction(a)&&d.isFunction(b))return md.apply(this,arguments);return this.each(function(){(c?a:xa(this))?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(a,b){if(b){a=Q(a,"opacity");return a===""?"1":a}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,e){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var f,
g,h,j=d.camelCase(b),m=a.style;b=d.cssProps[j]||(d.cssProps[j]=ib(m,j));h=d.cssHooks[b]||d.cssHooks[j];if(c!==u){g=typeof c;if(g==="string"&&(f=kd.exec(c))){c=(f[1]+1)*f[2]+parseFloat(d.css(a,b));g="number"}if(!(c==null||g==="number"&&isNaN(c))){if(g==="number"&&!d.cssNumber[j])c+="px";if(!h||!("set"in h)||(c=h.set(a,c,e))!==u)try{m[b]=c}catch(o){}}}else{if(h&&"get"in h&&(f=h.get(a,false,e))!==u)return f;return m[b]}}},css:function(a,b,c,e){var f,g;g=d.camelCase(b);b=d.cssProps[g]||(d.cssProps[g]=
ib(a.style,g));if((g=d.cssHooks[b]||d.cssHooks[g])&&"get"in g)f=g.get(a,true,e);if(f===u)f=Q(a,b);if(f==="normal"&&b in Ub)f=Ub[b];if(c||e!==u){a=parseFloat(f);return c||d.isNumeric(a)?a||0:f}return f},swap:function(a,b,c){var e,f={};for(e in b){f[e]=a.style[e];a.style[e]=b[e]}c=c.call(a);for(e in b)a.style[e]=f[e];return c}});if(B.getComputedStyle)Q=function(a,b){var c,e,f=B.getComputedStyle(a,null),g=a.style;if(f){c=f.getPropertyValue(b)||f[b];if(c===""&&!d.contains(a.ownerDocument,a))c=d.style(a,
b);if(ya.test(c)&&Tb.test(b)){a=g.width;b=g.minWidth;e=g.maxWidth;g.minWidth=g.maxWidth=g.width=c;c=f.width;g.width=a;g.minWidth=b;g.maxWidth=e}}return c};else if(y.documentElement.currentStyle)Q=function(a,b){var c,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;if(f==null&&g&&g[b])f=g[b];if(ya.test(f)&&!id.test(b)){c=g.left;if(e=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left=b==="fontSize"?"1em":f;f=g.pixelLeft+"px";g.left=c;if(e)a.runtimeStyle.left=e}return f===
""?"auto":f};d.each(["height","width"],function(a,b){d.cssHooks[b]={get:function(c,e,f){if(e)return c.offsetWidth===0&&jd.test(Q(c,"display"))?d.swap(c,ld,function(){return ob(c,b,f)}):ob(c,b,f)},set:function(c,e,f){return mb(c,e,f?nb(c,b,f,d.support.boxSizing&&d.css(c,"boxSizing")==="border-box"):0)}}});if(!d.support.opacity)d.cssHooks.opacity={get:function(a,b){return hd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=
a.style;a=a.currentStyle;var e=d.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=a&&a.filter||c.filter||"";c.zoom=1;if(b>=1&&d.trim(f.replace(Xa,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(a&&!a.filter)return}c.filter=Xa.test(f)?f.replace(Xa,e):f+" "+e}};d(function(){if(!d.support.reliableMarginRight)d.cssHooks.marginRight={get:function(a,b){return d.swap(a,{display:"inline-block"},function(){if(b)return Q(a,"marginRight")})}};!d.support.pixelPosition&&d.fn.position&&d.each(["top","left"],
function(a,b){d.cssHooks[b]={get:function(c,e){if(e){e=Q(c,b);return ya.test(e)?d(c).position()[b]+"px":e}}}})});if(d.expr&&d.expr.filters){d.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!d.support.reliableHiddenOffsets&&(a.style&&a.style.display||Q(a,"display"))==="none"};d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)}}d.each({margin:"",padding:"",border:"Width"},function(a,b){d.cssHooks[a+b]={expand:function(c){var e=typeof c==="string"?c.split(" "):
[c],f={};for(c=0;c<4;c++)f[a+fa[c]+b]=e[c]||e[c-2]||e[0];return f}};if(!Tb.test(a))d.cssHooks[a+b].set=mb});var nd=/%20/g,ic=/\[\]$/,Vb=/\r?\n/g,od=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,pd=/^(?:select|textarea)/i;d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||pd.test(this.nodeName)||od.test(this.type))}).map(function(a,b){a=d(this).val();return a==null?null:d.isArray(a)?d.map(a,function(c){return{name:b.name,value:c.replace(Vb,"\r\n")}}):{name:b.name,value:a.replace(Vb,"\r\n")}}).get()}});d.param=function(a,b){var c,e=[],f=function(g,h){h=d.isFunction(h)?h():h==null?"":h;e[e.length]=encodeURIComponent(g)+"="+encodeURIComponent(h)};if(b===u)b=d.ajaxSettings&&d.ajaxSettings.traditional;if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,
function(){f(this.name,this.value)});else for(c in a)Ma(c,a[c],b,f);return e.join("&").replace(nd,"+")};var ia,ja,qd=/#.*$/,rd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,sd=/^(?:GET|HEAD)$/,td=/^\/\//,Wb=/\?/,ud=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,vd=/([?&])_=[^&]*/,Xb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Yb=d.fn.load,Na={},Zb={},$b=["*/"]+["*"];try{ja=qc.href}catch(Cd){ja=y.createElement("a");ja.href="";ja=ja.href}ia=Xb.exec(ja.toLowerCase())||[];d.fn.load=function(a,b,c){if(typeof a!==
"string"&&Yb)return Yb.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,j=a.indexOf(" ");if(j>=0){e=a.slice(j,a.length);a=a.slice(0,j)}if(d.isFunction(b)){c=b;b=u}else if(b&&typeof b==="object")f="POST";d.ajax({url:a,type:f,dataType:"html",data:b,complete:function(m,o){if(c)h.each(c,g||[m.responseText,o,m])}}).done(function(m){g=arguments;h.html(e?d("<div>").append(m.replace(ud,"")).find(e):m)});return this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){d.fn[b]=function(c){return this.on(b,c)}});d.each(["get","post"],function(a,b){d[b]=function(c,e,f,g){if(d.isFunction(e)){g=g||f;f=e;e=u}return d.ajax({type:b,url:c,data:e,success:f,dataType:g})}});d.extend({getScript:function(a,b){return d.get(a,u,b,"script")},getJSON:function(a,b,c){return d.get(a,b,c,"json")},ajaxSetup:function(a,b){if(b)qb(a,d.ajaxSettings);else{b=a;a=d.ajaxSettings}qb(a,b);return a},ajaxSettings:{url:ja,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ia[1]),
global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":$b},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":B.String,"text html":true,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:pb(Na),ajaxTransport:pb(Zb),
ajax:function(a,b){function c(D,L,T,qa){var X,J,ba,V,M=L;if(S!==2){S=2;j&&clearTimeout(j);h=u;f=qa||"";A.readyState=D>0?4:0;if(T)V=jc(l,A,T);if(D>=200&&D<300||D===304){if(l.ifModified){if(T=A.getResponseHeader("Last-Modified"))d.lastModified[e]=T;if(T=A.getResponseHeader("Etag"))d.etag[e]=T}if(D===304){M="notmodified";X=true}else{X=kc(l,V);M=X.state;J=X.data;ba=X.error;X=!ba}}else{ba=M;if(!M||D){M="error";if(D<0)D=0}}A.status=D;A.statusText=(L||M)+"";X?z.resolveWith(r,[J,M,A]):z.rejectWith(r,[A,M,
ba]);A.statusCode(K);K=u;if(m)x.trigger("ajax"+(X?"Success":"Error"),[A,l,X?J:ba]);G.fireWith(r,[A,M]);if(m){x.trigger("ajaxComplete",[A,l]);--d.active||d.event.trigger("ajaxStop")}}}if(typeof a==="object"){b=a;a=u}b=b||{};var e,f,g,h,j,m,o,l=d.ajaxSetup({},b),r=l.context||l,x=r!==l&&(r.nodeType||r instanceof d)?d(r):d.event,z=d.Deferred(),G=d.Callbacks("once memory"),K=l.statusCode||{},$={},ca={},S=0,F="canceled",A={readyState:0,setRequestHeader:function(D,L){if(!S){var T=D.toLowerCase();D=ca[T]=
ca[T]||D;$[D]=L}return this},getAllResponseHeaders:function(){return S===2?f:null},getResponseHeader:function(D){var L;if(S===2){if(!g)for(g={};L=rd.exec(f);)g[L[1].toLowerCase()]=L[2];L=g[D.toLowerCase()]}return L===u?null:L},overrideMimeType:function(D){if(!S)l.mimeType=D;return this},abort:function(D){D=D||F;h&&h.abort(D);c(0,D);return this}};z.promise(A);A.success=A.done;A.error=A.fail;A.complete=G.add;A.statusCode=function(D){if(D){var L;if(S<2)for(L in D)K[L]=[K[L],D[L]];else{L=D[A.status];
A.always(L)}}return this};l.url=((a||l.url)+"").replace(qd,"").replace(td,ia[1]+"//");l.dataTypes=d.trim(l.dataType||"*").toLowerCase().split(ea);if(l.crossDomain==null){a=Xb.exec(l.url.toLowerCase());l.crossDomain=!!(a&&(a[1]!==ia[1]||a[2]!==ia[2]||(a[3]||(a[1]==="http:"?80:443))!=(ia[3]||(ia[1]==="http:"?80:443))))}if(l.data&&l.processData&&typeof l.data!=="string")l.data=d.param(l.data,l.traditional);za(Na,l,b,A);if(S===2)return A;m=l.global;l.type=l.type.toUpperCase();l.hasContent=!sd.test(l.type);
m&&d.active++===0&&d.event.trigger("ajaxStart");if(!l.hasContent){if(l.data){l.url+=(Wb.test(l.url)?"&":"?")+l.data;delete l.data}e=l.url;if(l.cache===false){a=d.now();var ga=l.url.replace(vd,"$1_="+a);l.url=ga+(ga===l.url?(Wb.test(l.url)?"&":"?")+"_="+a:"")}}if(l.data&&l.hasContent&&l.contentType!==false||b.contentType)A.setRequestHeader("Content-Type",l.contentType);if(l.ifModified){e=e||l.url;d.lastModified[e]&&A.setRequestHeader("If-Modified-Since",d.lastModified[e]);d.etag[e]&&A.setRequestHeader("If-None-Match",
d.etag[e])}A.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+$b+"; q=0.01":""):l.accepts["*"]);for(o in l.headers)A.setRequestHeader(o,l.headers[o]);if(l.beforeSend&&(l.beforeSend.call(r,A,l)===false||S===2))return A.abort();F="abort";for(o in{success:1,error:1,complete:1})A[o](l[o]);if(h=za(Zb,l,b,A)){A.readyState=1;m&&x.trigger("ajaxSend",[A,l]);if(l.async&&l.timeout>0)j=setTimeout(function(){A.abort("timeout")},l.timeout);
try{S=1;h.send($,c)}catch(ua){if(S<2)c(-1,ua);else throw ua;}}else c(-1,"No Transport");return A},active:0,lastModified:{},etag:{}});var ac=[],wd=/\?/,Ia=/(=)\?(?=&|$)|\?\?/,xd=d.now();d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ac.pop()||d.expando+"_"+xd++;this[a]=true;return a}});d.ajaxPrefilter("json jsonp",function(a,b,c){var e,f,g,h=a.data,j=a.url,m=a.jsonp!==false,o=m&&Ia.test(j),l=m&&!o&&typeof h==="string"&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&
Ia.test(h);if(a.dataTypes[0]==="jsonp"||o||l){e=a.jsonpCallback=d.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;f=B[e];if(o)a.url=j.replace(Ia,"$1"+e);else if(l)a.data=h.replace(Ia,"$1"+e);else if(m)a.url+=(wd.test(j)?"&":"?")+a.jsonp+"="+e;a.converters["script json"]=function(){g||d.error(e+" was not called");return g[0]};a.dataTypes[0]="json";B[e]=function(){g=arguments};c.always(function(){B[e]=f;if(a[e]){a.jsonpCallback=b.jsonpCallback;ac.push(e)}g&&d.isFunction(f)&&f(g[0]);g=
f=u});return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});d.ajaxPrefilter("script",function(a){if(a.cache===u)a.cache=false;if(a.crossDomain){a.type="GET";a.global=false}});d.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||y.getElementsByTagName("head")[0]||y.documentElement;return{send:function(e,
f){b=y.createElement("script");b.async="async";if(a.scriptCharset)b.charset=a.scriptCharset;b.src=a.url;b.onload=b.onreadystatechange=function(g,h){if(h||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;c&&b.parentNode&&c.removeChild(b);b=u;h||f(200,"success")}};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var ra,Ya=B.ActiveXObject?function(){for(var a in ra)ra[a](0,1)}:false,yd=0;d.ajaxSettings.xhr=B.ActiveXObject?function(){return!this.isLocal&&
rb()||lc()}:rb;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var b;return{send:function(c,e){var f,g,h=a.xhr();a.username?h.open(a.type,a.url,a.async,a.username,a.password):h.open(a.type,a.url,a.async);if(a.xhrFields)for(g in a.xhrFields)h[g]=a.xhrFields[g];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);if(!a.crossDomain&&!c["X-Requested-With"])c["X-Requested-With"]=
"XMLHttpRequest";try{for(g in c)h.setRequestHeader(g,c[g])}catch(j){}h.send(a.hasContent&&a.data||null);b=function(m,o){var l,r,x,z,G;try{if(b&&(o||h.readyState===4)){b=u;if(f){h.onreadystatechange=d.noop;Ya&&delete ra[f]}if(o)h.readyState!==4&&h.abort();else{l=h.status;x=h.getAllResponseHeaders();z={};if((G=h.responseXML)&&G.documentElement)z.xml=G;try{z.text=h.responseText}catch(K){}try{r=h.statusText}catch($){r=""}if(!l&&a.isLocal&&!a.crossDomain)l=z.text?200:404;else if(l===1223)l=204}}}catch(ca){o||
e(-1,ca)}z&&e(l,r,z,x)};if(a.async)if(h.readyState===4)setTimeout(b,0);else{f=++yd;if(Ya){if(!ra){ra={};d(B).unload(Ya)}ra[f]=b}h.onreadystatechange=b}else b()},abort:function(){b&&b(0,1)}}}});var na,Ja,pc=/^(?:toggle|show|hide)$/,zd=new RegExp("^(?:([-+])=|)("+Da+")([a-z%]*)$","i"),Ad=/queueHooks$/,Aa=[oc],ta={"*":[function(a,b){var c,e=this.createTween(a,b),f=zd.exec(b),g=e.cur(),h=+g||0,j=1,m=20;if(f){b=+f[2];c=f[3]||(d.cssNumber[a]?"":"px");if(c!=="px"&&h){h=d.css(e.elem,a,true)||b||1;do{j=j||
".5";h/=j;d.style(e.elem,a,h+c)}while(j!==(j=e.cur()/g)&&j!==1&&--m)}e.unit=c;e.start=h;e.end=f[1]?h+(f[1]+1)*b:b}return e}]};d.Animation=d.extend(tb,{tweener:function(a,b){if(d.isFunction(a)){b=a;a=["*"]}else a=a.split(" ");for(var c,e=0,f=a.length;e<f;e++){c=a[e];ta[c]=ta[c]||[];ta[c].unshift(b)}},prefilter:function(a,b){b?Aa.unshift(a):Aa.push(a)}});d.Tween=U;U.prototype={constructor:U,init:function(a,b,c,e,f,g){this.elem=a;this.prop=c;this.easing=f||"swing";this.options=b;this.start=this.now=
this.cur();this.end=e;this.unit=g||(d.cssNumber[c]?"":"px")},cur:function(){var a=U.propHooks[this.prop];return a&&a.get?a.get(this):U.propHooks._default.get(this)},run:function(a){var b,c=U.propHooks[this.prop];this.pos=this.options.duration?(b=d.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration)):(b=a);this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):U.propHooks._default.set(this);return this}};
U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(a){if(a.elem[a.prop]!=null&&(!a.elem.style||a.elem.style[a.prop]==null))return a.elem[a.prop];a=d.css(a.elem,a.prop,false,"");return!a||a==="auto"?0:a},set:function(a){if(d.fx.step[a.prop])d.fx.step[a.prop](a);else if(a.elem.style&&(a.elem.style[d.cssProps[a.prop]]!=null||d.cssHooks[a.prop]))d.style(a.elem,a.prop,a.now+a.unit);else a.elem[a.prop]=a.now}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(a){if(a.elem.nodeType&&
a.elem.parentNode)a.elem[a.prop]=a.now}};d.each(["toggle","show","hide"],function(a,b){var c=d.fn[b];d.fn[b]=function(e,f,g){return e==null||typeof e==="boolean"||!a&&d.isFunction(e)&&d.isFunction(f)?c.apply(this,arguments):this.animate(Ba(b,true),e,f,g)}});d.fn.extend({fadeTo:function(a,b,c,e){return this.filter(xa).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,e){var f=d.isEmptyObject(a),g=d.speed(b,c,e);b=function(){var h=tb(this,d.extend({},a),g);f&&h.stop(true)};
return f||g.queue===false?this.each(b):this.queue(g.queue,b)},stop:function(a,b,c){var e=function(f){var g=f.stop;delete f.stop;g(c)};if(typeof a!=="string"){c=b;b=a;a=u}if(b&&a!==false)this.queue(a||"fx",[]);return this.each(function(){var f=true,g=a!=null&&a+"queueHooks",h=d.timers,j=d._data(this);if(g)j[g]&&j[g].stop&&e(j[g]);else for(g in j)j[g]&&j[g].stop&&Ad.test(g)&&e(j[g]);for(g=h.length;g--;)if(h[g].elem===this&&(a==null||h[g].queue===a)){h[g].anim.stop(c);f=false;h.splice(g,1)}if(f||!c)d.dequeue(this,
a)})}});d.each({slideDown:Ba("show"),slideUp:Ba("hide"),slideToggle:Ba("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(c,e,f){return this.animate(b,c,e,f)}});d.speed=function(a,b,c){var e=a&&typeof a==="object"?d.extend({},a):{complete:c||!c&&b||d.isFunction(a)&&a,duration:a,easing:c&&b||b&&!d.isFunction(b)&&b};e.duration=d.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default;
if(e.queue==null||e.queue===true)e.queue="fx";e.old=e.complete;e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,e.queue)};return e};d.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};d.timers=[];d.fx=U.prototype.init;d.fx.tick=function(){var a,b=d.timers,c=0;for(na=d.now();c<b.length;c++){a=b[c];!a()&&b[c]===a&&b.splice(c--,1)}b.length||d.fx.stop();na=u};d.fx.timer=function(a){if(a()&&d.timers.push(a)&&!Ja)Ja=setInterval(d.fx.tick,
d.fx.interval)};d.fx.interval=13;d.fx.stop=function(){clearInterval(Ja);Ja=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};if(d.expr&&d.expr.filters)d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length};var bc=/^(?:body|html)$/i;d.fn.offset=function(a){if(arguments.length)return a===u?this:this.each(function(j){d.offset.setOffset(this,a,j)});var b,c,e,f,g,h={top:0,left:0};if(f=(e=this[0])&&e.ownerDocument){if((c=f.body)===e)return d.offset.bodyOffset(e);
b=f.documentElement;if(!d.contains(b,e))return h;if(typeof e.getBoundingClientRect!=="undefined")h=e.getBoundingClientRect();e=ub(f);f=b.clientTop||c.clientTop||0;c=b.clientLeft||c.clientLeft||0;g=e.pageYOffset||b.scrollTop;return{top:h.top+g-f,left:h.left+(e.pageXOffset||b.scrollLeft)-c}}};d.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;if(d.support.doesNotIncludeMarginInBodyOffset){b+=parseFloat(d.css(a,"marginTop"))||0;c+=parseFloat(d.css(a,"marginLeft"))||0}return{top:b,left:c}},
setOffset:function(a,b,c){var e=d.css(a,"position");if(e==="static")a.style.position="relative";var f=d(a),g=f.offset(),h=d.css(a,"top"),j=d.css(a,"left"),m={},o={};if((e==="absolute"||e==="fixed")&&d.inArray("auto",[h,j])>-1){o=f.position();e=o.top;j=o.left}else{e=parseFloat(h)||0;j=parseFloat(j)||0}if(d.isFunction(b))b=b.call(a,c,g);if(b.top!=null)m.top=b.top-g.top+e;if(b.left!=null)m.left=b.left-g.left+j;"using"in b?b.using.call(a,m):f.css(m)}};d.fn.extend({position:function(){if(this[0]){var a=
this[0],b=this.offsetParent(),c=this.offset(),e=bc.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(d.css(a,"marginTop"))||0;c.left-=parseFloat(d.css(a,"marginLeft"))||0;e.top+=parseFloat(d.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(d.css(b[0],"borderLeftWidth"))||0;return{top:c.top-e.top,left:c.left-e.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||y.body;a&&!bc.test(a.nodeName)&&d.css(a,"position")==="static";)a=a.offsetParent;return a||
y.body})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);d.fn[a]=function(e){return d.access(this,function(f,g,h){var j=ub(f);if(h===u)return j?b in j?j[b]:j.document.documentElement[g]:f[g];if(j)j.scrollTo(!c?h:d(j).scrollLeft(),c?h:d(j).scrollTop());else f[g]=h},a,e,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(a,b){d.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,e){d.fn[e]=function(f,g){var h=arguments.length&&
(c||typeof f!=="boolean"),j=c||(f===true||g===true?"margin":"border");return d.access(this,function(m,o,l){if(d.isWindow(m))return m.document.documentElement["client"+a];if(m.nodeType===9){o=m.documentElement;return Math.max(m.body["scroll"+a],o["scroll"+a],m.body["offset"+a],o["offset"+a],o["client"+a])}return l===u?d.css(m,o,l,j):d.style(m,o,l,j)},b,h?f:u,h,null)}})});B.jQuery=B.$=d;typeof define==="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);

if(!Object.create)Object.create=function(a,b){if(a===null)a={__proto__:null};else{if(typeof a!="object")throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var c=function(){};c.prototype=a;a=new c}typeof b!=="undefined"&&Object.defineProperties(a,b);return a};

(function(b){if(typeof define==="function"&&define.amd)define(["jquery"],b);else typeof exports==="object"?b(require("jquery")):b(jQuery)})(function(b){function j(a){return e.raw?a:encodeURIComponent(a)}function m(a){return e.raw?a:decodeURIComponent(a)}function n(a){return j(e.json?JSON.stringify(a):String(a))}function o(a){if(a.indexOf('"')===0)a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");try{a=decodeURIComponent(a.replace(p," "));return e.json?JSON.parse(a):a}catch(d){}}function k(a,
d){a=e.raw?a:o(a);return b.isFunction(d)?d(a):a}var p=/\+/g,e=b.cookie=function(a,d,c){if(arguments.length>1&&!b.isFunction(d)){c=b.extend({},e.defaults,c);if(typeof c.expires==="number"){var g=c.expires,h=c.expires=new Date;h.setTime(+h+g*864E5)}return document.cookie=[j(a),"=",n(d),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}g=a?undefined:{};h=document.cookie?document.cookie.split("; "):[];for(var i=
0,q=h.length;i<q;i++){var f=h[i].split("="),l=m(f.shift());f=f.join("=");if(a&&a===l){g=k(f,d);break}if(!a&&(f=k(f))!==undefined)g[l]=f}return g};e.defaults={};b.removeCookie=function(a,d){if(b.cookie(a)===undefined)return false;b.cookie(a,"",b.extend({},d,{expires:-1}));return!b.cookie(a)}});

(function(e){var x={},u={mode:"horizontal",slideSelector:"",infiniteLoop:true,hideControlOnEnd:false,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,adaptiveHeightSpeed:500,video:false,useCSS:true,preloadImages:"visible",touchEnabled:true,swipeThreshold:50,oneToOneTouch:true,preventDefaultSwipeX:true,preventDefaultSwipeY:false,pager:true,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,
pagerCustom:null,controls:true,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:false,startText:"Start",stopText:"Stop",autoControlsCombine:false,autoControlsSelector:null,auto:false,pause:4E3,autoStart:true,autoDirection:"next",autoHover:false,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};e.fn.bxSlider=function(p){if(this.length!=
0){if(this.length>1){this.each(function(){e(this).bxSlider(p)});return this}var a={},d=this;x.el=this;var q=e(window).width(),m=e(window).height(),v=function(){a.settings=e.extend({},u,p);a.settings.slideWidth=parseInt(a.settings.slideWidth);a.children=d.children(a.settings.slideSelector);if(a.children.length<a.settings.minSlides)a.settings.minSlides=a.children.length;if(a.children.length<a.settings.maxSlides)a.settings.maxSlides=a.children.length;if(a.settings.randomStart)a.settings.startSlide=Math.floor(Math.random()*
a.children.length);a.active={index:a.settings.startSlide};a.carousel=a.settings.minSlides>1||a.settings.maxSlides>1;if(a.carousel)a.settings.preloadImages="all";a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin;a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin;a.working=false;a.controls={};a.interval=null;a.animProp=a.settings.mode=="vertical"?"top":"left";a.usingCSS=a.settings.useCSS&&
a.settings.mode!="fade"&&function(){var b=document.createElement("div"),c=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var g in c)if(b.style[c[g]]!==undefined){a.cssPrefix=c[g].replace("Perspective","").toLowerCase();a.animProp="-"+a.cssPrefix+"-transform";return true}return false}();if(a.settings.mode=="vertical")a.settings.maxSlides=a.settings.minSlides;n()},n=function(){d.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>');a.viewport=d.parent();a.loader=
e('<div class="bx-loading" />');a.viewport.prepend(a.loader);d.css({width:a.settings.mode=="horizontal"?a.children.length*215+"%":"auto",position:"relative"});if(a.usingCSS&&a.settings.easing)d.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing);else if(!a.settings.easing)a.settings.easing="swing";f();a.viewport.css({width:"100%",overflow:"hidden",position:"relative"});a.viewport.parent().css({maxWidth:s()});a.children.css({"float":a.settings.mode=="horizontal"?"left":"none",listStyle:"none",
position:"relative"});a.children.width(h());a.settings.mode=="horizontal"&&a.settings.slideMargin>0&&a.children.css("marginRight",a.settings.slideMargin);a.settings.mode=="vertical"&&a.settings.slideMargin>0&&a.children.css("marginBottom",a.settings.slideMargin);if(a.settings.mode=="fade"){a.children.css({position:"absolute",zIndex:0,display:"none"});a.children.eq(a.settings.startSlide).css({zIndex:50,display:"block"})}a.controls.el=e('<div class="bx-controls" />');a.settings.captions&&I();if(a.settings.infiniteLoop&&
a.settings.mode!="fade"&&!a.settings.ticker){var b=a.settings.mode=="vertical"?a.settings.minSlides:a.settings.maxSlides,c=a.children.slice(0,b).clone().addClass("bx-clone");b=a.children.slice(-b).clone().addClass("bx-clone");d.append(c).prepend(b)}a.active.last=a.settings.startSlide==j()-1;a.settings.video&&d.fitVids();c=a.children.eq(a.settings.startSlide);if(a.settings.preloadImages=="all")c=d.children();if(!a.settings.ticker){a.settings.pager&&J();a.settings.controls&&K();a.settings.auto&&a.settings.autoControls&&
L();if(a.settings.controls||a.settings.autoControls||a.settings.pager)a.viewport.after(a.controls.el)}c.imagesLoaded(t)},t=function(){a.loader.remove();C();if(a.settings.mode=="vertical")a.settings.adaptiveHeight=true;a.viewport.height(o());d.redrawSlider();a.settings.onSliderLoad(a.active.index);a.initialized=true;e(window).bind("resize",D);a.settings.auto&&a.settings.autoStart&&M();a.settings.ticker&&N();a.settings.pager&&y(a.settings.startSlide);a.settings.controls&&E();a.settings.touchEnabled&&
!a.settings.ticker&&O()},o=function(){var b=0,c=e();if(a.settings.mode!="vertical"&&!a.settings.adaptiveHeight)c=a.children;else if(a.carousel){var g=a.settings.moveSlides==1?a.active.index:a.active.index*r();c=a.children.eq(g);for(i=1;i<=a.settings.maxSlides-1;i++)c=g+i>=a.children.length?c.add(a.children.eq(i-1)):c.add(a.children.eq(g+i))}else c=a.children.eq(a.active.index);if(a.settings.mode=="vertical"){c.each(function(){b+=e(this).outerHeight()});if(a.settings.slideMargin>0)b+=a.settings.slideMargin*
(a.settings.minSlides-1)}else b=Math.max.apply(Math,c.map(function(){return e(this).outerHeight(false)}).get());return b},s=function(){var b="100%";if(a.settings.slideWidth>0)b=a.settings.mode=="horizontal"?a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin:a.settings.slideWidth;return b},h=function(){var b=a.settings.slideWidth,c=a.viewport.width();if(a.settings.slideWidth==0||a.settings.slideWidth>c&&!a.carousel||a.settings.mode=="vertical")b=c;else if(a.settings.maxSlides>
1&&a.settings.mode=="horizontal")if(!(c>a.maxThreshold))if(c<a.minThreshold)b=(c-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides;return b},f=function(){var b=1;if(a.settings.mode=="horizontal"&&a.settings.slideWidth>0)if(a.viewport.width()<a.minThreshold)b=a.settings.minSlides;else if(a.viewport.width()>a.maxThreshold)b=a.settings.maxSlides;else{b=a.children.first().width();b=Math.floor(a.viewport.width()/b)}else if(a.settings.mode=="vertical")b=a.settings.minSlides;return b},
j=function(){var b=0;if(a.settings.moveSlides>0)if(a.settings.infiniteLoop)b=a.children.length/r();else for(var c=0,g=0;c<a.children.length;){++b;c=g+f();g+=a.settings.moveSlides<=f()?a.settings.moveSlides:f()}else b=Math.ceil(a.children.length/f());return b},r=function(){if(a.settings.moveSlides>0&&a.settings.moveSlides<=f())return a.settings.moveSlides;return f()},C=function(){if(a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop)if(a.settings.mode=="horizontal"){var b=
a.children.last(),c=b.position();l(-(c.left-(a.viewport.width()-b.width())),"reset",0)}else{if(a.settings.mode=="vertical"){c=a.children.eq(a.children.length-a.settings.minSlides).position();l(-c.top,"reset",0)}}else{c=a.children.eq(a.active.index*r()).position();if(a.active.index==j()-1)a.active.last=true;if(c!=undefined)if(a.settings.mode=="horizontal")l(-c.left,"reset",0);else a.settings.mode=="vertical"&&l(-c.top,"reset",0)}},l=function(b,c,g,k){if(a.usingCSS){b=a.settings.mode=="vertical"?"translate3d(0, "+
b+"px, 0)":"translate3d("+b+"px, 0, 0)";d.css("-"+a.cssPrefix+"-transition-duration",g/1E3+"s");if(c=="slide"){d.css(a.animProp,b);a.working=false;d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");z()})}else if(c=="reset")d.css(a.animProp,b);else if(c=="ticker"){d.css("-"+a.cssPrefix+"-transition-timing-function","linear");d.css(a.animProp,b);d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",
function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");l(k.resetValue,"reset",0);w()})}}else{var A={};A[a.animProp]=b;if(c=="slide")d.animate(A,g,a.settings.easing,function(){z()});else if(c=="reset")d.css(a.animProp,b);else c=="ticker"&&d.animate(A,speed,"linear",function(){l(k.resetValue,"reset",0);w()})}},F=function(){var b="";pagerQty=j();for(var c=0;c<pagerQty;c++){var g="";if(a.settings.buildPager&&e.isFunction(a.settings.buildPager)){g=a.settings.buildPager(c);
a.pagerEl.addClass("bx-custom-pager")}else{g=c+1;a.pagerEl.addClass("bx-default-pager")}b+='<div class="bx-pager-item"><a href="" data-slide-index="'+c+'" class="bx-pager-link">'+g+"</a></div>"}a.pagerEl.html(b)},J=function(){if(a.settings.pagerCustom)a.pagerEl=e(a.settings.pagerCustom);else{a.pagerEl=e('<div class="bx-pager" />');a.settings.pagerSelector?e(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl);F()}a.pagerEl.delegate("a","click",P)},K=function(){a.controls.next=
e('<a class="bx-next" href="">'+a.settings.nextText+"</a>");a.controls.prev=e('<a class="bx-prev" href="">'+a.settings.prevText+"</a>");a.controls.next.bind("click",Q);a.controls.prev.bind("click",R);a.settings.nextSelector&&e(a.settings.nextSelector).append(a.controls.next);a.settings.prevSelector&&e(a.settings.prevSelector).append(a.controls.prev);if(!a.settings.nextSelector&&!a.settings.prevSelector){a.controls.directionEl=e('<div class="bx-controls-direction" />');a.controls.directionEl.append(a.controls.prev).append(a.controls.next);
a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl)}},L=function(){a.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>");a.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>");a.controls.autoEl=e('<div class="bx-controls-auto" />');a.controls.autoEl.delegate(".bx-start","click",S);a.controls.autoEl.delegate(".bx-stop","click",T);a.settings.autoControlsCombine?
a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop);a.settings.autoControlsSelector?e(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl);B(a.settings.autoStart?"stop":"start")},I=function(){a.children.each(function(){var b=e(this).find("img:first").attr("title");b!=undefined&&e(this).append('<div class="bx-caption"><span>'+b+"</span></div>")})},Q=function(b){a.settings.auto&&
d.stopAuto();d.goToNextSlide();b.preventDefault()},R=function(b){a.settings.auto&&d.stopAuto();d.goToPrevSlide();b.preventDefault()},S=function(b){d.startAuto();b.preventDefault()},T=function(b){d.stopAuto();b.preventDefault()},P=function(b){a.settings.auto&&d.stopAuto();var c=e(b.currentTarget);c=parseInt(c.attr("data-slide-index"));c!=a.active.index&&d.goToSlide(c);b.preventDefault()},y=function(b){if(a.settings.pagerType=="short")a.pagerEl.html(b+1+a.settings.pagerShortSeparator+a.children.length);
else{a.pagerEl.find("a").removeClass("active");a.pagerEl.each(function(c,g){e(g).find("a").eq(b).addClass("active")})}},z=function(){if(a.settings.infiniteLoop){var b="";if(a.active.index==0)b=a.children.eq(0).position();else if(a.active.index==j()-1&&a.carousel)b=a.children.eq((j()-1)*r()).position();else if(a.active.index==a.children.length-1)b=a.children.eq(a.children.length-1).position();if(a.settings.mode=="horizontal")l(-b.left,"reset",0);else a.settings.mode=="vertical"&&l(-b.top,"reset",0)}a.working=
false;a.settings.onSlideAfter(a.children.eq(a.active.index),a.oldIndex,a.active.index)},B=function(b){if(a.settings.autoControlsCombine)a.controls.autoEl.html(a.controls[b]);else{a.controls.autoEl.find("a").removeClass("active");a.controls.autoEl.find("a:not(.bx-"+b+")").addClass("active")}},E=function(){if(!a.settings.infiniteLoop&&a.settings.hideControlOnEnd)if(a.active.index==0){a.controls.prev.addClass("disabled");a.controls.next.removeClass("disabled")}else if(a.active.index==j()-1){a.controls.next.addClass("disabled");
a.controls.prev.removeClass("disabled")}else{a.controls.prev.removeClass("disabled");a.controls.next.removeClass("disabled")}else if(j()==1){a.controls.prev.addClass("disabled");a.controls.next.addClass("disabled")}},M=function(){a.settings.autoDelay>0?setTimeout(d.startAuto,a.settings.autoDelay):d.startAuto();a.settings.autoHover&&d.hover(function(){if(a.interval){d.stopAuto(true);a.autoPaused=true}},function(){if(a.autoPaused){d.startAuto(true);a.autoPaused=null}})},N=function(){var b=0;if(a.settings.autoDirection==
"next")d.append(a.children.clone().addClass("bx-clone"));else{d.prepend(a.children.clone().addClass("bx-clone"));b=a.children.first().position();b=a.settings.mode=="horizontal"?-b.left:-b.top}l(b,"reset",0);a.settings.pager=false;a.settings.controls=false;a.settings.autoControls=false;a.settings.tickerHover&&!a.usingCSS&&a.viewport.hover(function(){d.stop()},function(){var c=0;a.children.each(function(){c+=a.settings.mode=="horizontal"?e(this).outerWidth(true):e(this).outerHeight(true)});var g=a.settings.speed/
c*(c-Math.abs(parseInt(d.css(a.settings.mode=="horizontal"?"left":"top"))));w(g)});w()},w=function(b){speed=b?b:a.settings.speed;b={left:0,top:0};var c={left:0,top:0};if(a.settings.autoDirection=="next")b=d.find(".bx-clone").first().position();else c=a.children.first().position();l(a.settings.mode=="horizontal"?-b.left:-b.top,"ticker",speed,{resetValue:a.settings.mode=="horizontal"?-c.left:-c.top})},O=function(){a.touch={start:{x:0,y:0},end:{x:0,y:0}};a.viewport.bind("touchstart",U)},U=function(b){if(a.working)b.preventDefault();
else{a.touch.originalPos=d.position();b=b.originalEvent;a.touch.start.x=b.changedTouches[0].pageX;a.touch.start.y=b.changedTouches[0].pageY;a.viewport.bind("touchmove",G);a.viewport.bind("touchend",H)}},G=function(b){var c=b.originalEvent,g=Math.abs(c.changedTouches[0].pageX-a.touch.start.x),k=Math.abs(c.changedTouches[0].pageY-a.touch.start.y);if(g*3>k&&a.settings.preventDefaultSwipeX)b.preventDefault();else k*3>g&&a.settings.preventDefaultSwipeY&&b.preventDefault();if(a.settings.mode!="fade"&&a.settings.oneToOneTouch){b=
0;if(a.settings.mode=="horizontal"){c=c.changedTouches[0].pageX-a.touch.start.x;b=a.touch.originalPos.left+c}else{c=c.changedTouches[0].pageY-a.touch.start.y;b=a.touch.originalPos.top+c}l(b,"reset",0)}},H=function(b){a.viewport.unbind("touchmove",G);var c=b.originalEvent;b=0;a.touch.end.x=c.changedTouches[0].pageX;a.touch.end.y=c.changedTouches[0].pageY;if(a.settings.mode=="fade"){c=Math.abs(a.touch.start.x-a.touch.end.x);if(c>=a.settings.swipeThreshold){a.touch.start.x>a.touch.end.x?d.goToNextSlide():
d.goToPrevSlide();d.stopAuto()}}else{if(a.settings.mode=="horizontal"){c=a.touch.end.x-a.touch.start.x;b=a.touch.originalPos.left}else{c=a.touch.end.y-a.touch.start.y;b=a.touch.originalPos.top}if(!a.settings.infiniteLoop&&(a.active.index==0&&c>0||a.active.last&&c<0))l(b,"reset",200);else if(Math.abs(c)>=a.settings.swipeThreshold){c<0?d.goToNextSlide():d.goToPrevSlide();d.stopAuto()}else l(b,"reset",200)}a.viewport.unbind("touchend",H)},D=function(){var b=e(window).width(),c=e(window).height();if(q!=
b||m!=c){q=b;m=c;d.redrawSlider()}};d.goToSlide=function(b,c){if(!(a.working||a.active.index==b)){a.working=true;a.oldIndex=a.active.index;a.active.index=b<0?j()-1:b>=j()?0:b;a.settings.onSlideBefore(a.children.eq(a.active.index),a.oldIndex,a.active.index);if(c=="next")a.settings.onSlideNext(a.children.eq(a.active.index),a.oldIndex,a.active.index);else c=="prev"&&a.settings.onSlidePrev(a.children.eq(a.active.index),a.oldIndex,a.active.index);a.active.last=a.active.index>=j()-1;a.settings.pager&&y(a.active.index);
a.settings.controls&&E();if(a.settings.mode=="fade"){a.settings.adaptiveHeight&&a.viewport.height()!=o()&&a.viewport.animate({height:o()},a.settings.adaptiveHeightSpeed);a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0});a.children.eq(a.active.index).css("zIndex",51).fadeIn(a.settings.speed,function(){e(this).css("zIndex",50);z()})}else{a.settings.adaptiveHeight&&a.viewport.height()!=o()&&a.viewport.animate({height:o()},a.settings.adaptiveHeightSpeed);var g=0,k={left:0,top:0};
if(!a.settings.infiniteLoop&&a.carousel&&a.active.last)if(a.settings.mode=="horizontal"){b=a.children.eq(a.children.length-1);k=b.position();g=a.viewport.width()-b.width()}else k=a.children.eq(a.children.length-a.settings.minSlides).position();else if(a.carousel&&a.active.last&&c=="prev"){k=a.settings.moveSlides==1?a.settings.maxSlides-r():(j()-1)*r()-(a.children.length-a.settings.maxSlides);b=d.children(".bx-clone").eq(k);k=b.position()}else if(c=="next"&&a.active.index==0){k=d.find(".bx-clone").eq(a.settings.maxSlides).position();
a.active.last=false}else if(b>=0){k=b*r();k=a.children.eq(k).position()}l(a.settings.mode=="horizontal"?-(k.left-g):-k.top,"slide",a.settings.speed)}}};d.goToNextSlide=function(){if(!(!a.settings.infiniteLoop&&a.active.last)){var b=parseInt(a.active.index)+1;d.goToSlide(b,"next")}};d.goToPrevSlide=function(){if(!(!a.settings.infiniteLoop&&a.active.index==0)){var b=parseInt(a.active.index)-1;d.goToSlide(b,"prev")}};d.startAuto=function(b){if(!a.interval){a.interval=setInterval(function(){a.settings.autoDirection==
"next"?d.goToNextSlide():d.goToPrevSlide()},a.settings.pause);a.settings.autoControls&&b!=true&&B("stop")}};d.stopAuto=function(b){if(a.interval){clearInterval(a.interval);a.interval=null;a.settings.autoControls&&b!=true&&B("start")}};d.getCurrentSlide=function(){return a.active.index};d.getSlideCount=function(){return a.children.length};d.redrawSlider=function(){a.children.add(d.find(".bx-clone")).width(h());a.viewport.css("height",o());a.settings.ticker||C();if(a.active.last)a.active.index=j()-
1;if(a.active.index>=j())a.active.last=true;if(a.settings.pager&&!a.settings.pagerCustom){F();y(a.active.index)}};d.destroySlider=function(){if(a.initialized){a.initialized=false;e(".bx-clone",this).remove();a.children.removeAttr("style");this.removeAttr("style").unwrap().unwrap();a.controls.el&&a.controls.el.remove();a.controls.next&&a.controls.next.remove();a.controls.prev&&a.controls.prev.remove();a.pagerEl&&a.pagerEl.remove();e(".bx-caption",this).remove();a.controls.autoEl&&a.controls.autoEl.remove();
clearInterval(a.interval);e(window).unbind("resize",D)}};d.reloadSlider=function(b){if(b!=undefined)p=b;d.destroySlider();v()};v();return this}}})(jQuery);
(function(e,x){var u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(p){function a(){var h=e(o),f=e(s);m&&(s.length?m.reject(n,h,f):m.resolve(n));e.isFunction(p)&&p.call(q,n,h,f)}function d(h,f){h.src===u||-1!==e.inArray(h,t)||(t.push(h),f?s.push(h):o.push(h),e.data(h,"imagesLoaded",{isBroken:f,src:h.src}),v&&m.notifyWith(e(h),[f,n,e(o),e(s)]),n.length===t.length&&(setTimeout(a),n.unbind(".imagesLoaded")))}var q=this,m=e.isFunction(e.Deferred)?e.Deferred():
0,v=e.isFunction(m.notify),n=q.find("img").add(q.filter("img")),t=[],o=[],s=[];e.isPlainObject(p)&&e.each(p,function(h,f){if("callback"===h)p=f;else m&&m[h](f)});n.length?n.bind("load.imagesLoaded error.imagesLoaded",function(h){d(h.target,"error"===h.type)}).each(function(h,f){h=f.src;var j=e.data(f,"imagesLoaded");if(j&&j.src===h)d(f,j.isBroken);else if(f.complete&&f.naturalWidth!==x)d(f,0===f.naturalWidth||0===f.naturalHeight);else if(f.readyState||f.complete){f.src=u;f.src=h}}):a();return m?m.promise(q):
q}})(jQuery);

(function(){function x(a,b,c){var d=b&&c||0,e=0;b=b||[];for(a.toLowerCase().replace(/[0-9a-f]{2}/g,function(f){if(e<16)b[d+e++]=q[f]});e<16;)b[d+e++]=0;return b}function m(a,b){b=b||0;var c=n;return c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]}function y(a,b,c){c=b&&c||0;var d=b||[];a=a||{};var e=a.clockseq!=null?a.clockseq:r,f=a.msecs!=null?a.msecs:(new Date).getTime(),
h=a.nsecs!=null?a.nsecs:o+1,s=f-p+(h-o)/1E4;if(s<0&&a.clockseq==null)e=e+1&16383;if((s<0||f>p)&&a.nsecs==null)h=0;if(h>=1E4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=f;o=h;r=e;f+=122192928E5;h=((f&268435455)*1E4+h)%4294967296;d[c++]=h>>>24&255;d[c++]=h>>>16&255;d[c++]=h>>>8&255;d[c++]=h&255;f=f/4294967296*1E4&268435455;d[c++]=f>>>8&255;d[c++]=f&255;d[c++]=f>>>24&15|16;d[c++]=f>>>16&255;d[c++]=e>>>8|128;d[c++]=e&255;a=a.node||z;for(e=0;e<6;e++)d[c+e]=a[e];return b?b:m(d)}
function g(a,b,c){c=b&&c||0;if(typeof a=="string"){b=a=="binary"?new t(16):null;a=null}a=a||{};a=a.random||(a.rng||j)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b)for(var d=0;d<16;d++)b[c+d]=a[d];return b||m(a)}var l=this,j;if(typeof require=="function")try{var u=require("crypto").randomBytes;j=u&&function(){return u(16)}}catch(B){}if(!j&&l.crypto&&crypto.getRandomValues){var v=new Uint8Array(16);j=function(){crypto.getRandomValues(v);return v}}if(!j){var w=new Array(16);j=function(){for(var a=0,b;a<16;a++){if((a&
3)===0)b=Math.random()*4294967296;w[a]=b>>>((a&3)<<3)&255}return w}}for(var t=typeof Buffer=="function"?Buffer:Array,n=[],q={},k=0;k<256;k++){n[k]=(k+256).toString(16).substr(1);q[n[k]]=k}var i=j(),z=[i[0]|1,i[1],i[2],i[3],i[4],i[5]],r=(i[6]<<8|i[7])&16383,p=0,o=0;g.v1=y;g.v4=g;g.parse=x;g.unparse=m;g.BufferClass=t;if(typeof define==="function"&&define.amd)define(function(){return g});else if(typeof module!="undefined"&&module.exports)module.exports=g;else{var A=l.uuid;g.noConflict=function(){l.uuid=
A;return g};l.uuid=g}}).call(this);

(function(c){if(!window.console||!console.firebug){var a,d=function(){},b=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(a=b.length;a--;)window.console[b[a]]=d}c.fn.log=function(e){console.log("%s: %o",e,this);return this}})(jQuery);

var ND=function(b,a){b.multiPlatformLinks=function(){return{init:function(){if(a.browser.msie&&a.browser.version<9)return this;var d=function(){a("#menu, #badge").find("a[data-hrefsmob]").each(function(){var c=a(this),e=c.attr("data-hrefsmob"),f=c.attr("data-link");a(window).width()<768?c.attr("href",e):c.attr("href",f)})};a(window).on("resize",function(){d()});d();return this}}};return b}(window.ND||{},jQuery);(function(b,a){a(function(){b.multiPlatformLinks().init()})})(window.ND||{},jQuery);

(function(b){b.pubsubLogging=false;var a=b({});b.subscribe=function(){a.bind.apply(a,arguments)};b.subscribeOnce=function(){a.one.apply(a,arguments)};b.unsubscribe=function(){a.unbind.apply(a,arguments)};b.publish=function(){b.pubsubLogging&&console.log.apply(console,arguments);a.trigger.apply(a,arguments)}})(jQuery);

(function(e){e.fn.touchwipe=function(f){var b={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true};f&&e.extend(b,f);this.each(function(){function g(){this.removeEventListener("touchmove",h);c=null;d=false}function h(a){b.preventDefaultEvents&&a.preventDefault();if(d){var i=c-a.touches[0].pageX;a=j-a.touches[0].pageY;if(Math.abs(i)>=b.min_move_x){g();i>0?b.wipeLeft():b.wipeRight()}else if(Math.abs(a)>=b.min_move_y){g();
a>0?b.wipeDown():b.wipeUp()}}}function k(a){if(a.touches.length==1){c=a.touches[0].pageX;j=a.touches[0].pageY;d=true;this.addEventListener("touchmove",h,false)}}var c,j,d=false;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",k,false)});return this}})(jQuery);

(function(c){c.fn.embeddedData=function(b){var d=this.data("x-json");if(!d&&this.attr("type")==="text/x-json"){d=c.parseJSON(this.html());this.data("x-json",d)}return b?d[b]||null:d||{}};c.fn.doOnce=function(b){this.length&&b.apply(this);return this};c.fn.forEach=function(b){this.length&&this.each(b);return this};c.fn.killFlash=function(){this.length&&this.each(function(){var b=c(this).flash();b.remove&&b.remove()});return this};c.fn.metaBasedFlash=function(){var b={},d=function(a){return(a=a.length>
0?a.metadata({type:"class"}):0)&&"swf"in a?a:0};return function(a){this.length&&this.each(function(){var e=c(this),f=d(e);a=c.extend(b,a);if(f){f=c.extend(true,f,a.swfobject);e.flash(f);e.addClass("flash-loaded");a.success&&a.success.apply(this)}});return this}}();c.fn.lazyLoadImages=function(){var b={},d=function(a){return(a=a.length>0?a.metadata({type:"class"}):0)&&"src"in a?a:0};return function(a){this.length&&this.each(function(){var e=c(this),f=d(e);a=c.extend(b,a);if(f){e.attr("src",f.src);
a.success&&a.success.apply(this)}});return this}}();c.extend({getQueryVariable:function(b,d){var a=b.indexOf("?");if(a!=-1){b=b.substring(a+1).split("&");if(d)for(a=0;a<b.length;a++){var e=b[a].split("=");if(e[0]===d)return decodeURI(e[1])}else return b}return false}})})(jQuery,window,document);

(function(c,d,g){var e=d.ND=d.ND||{};e.API=e.api||{};e.cacheStore={get:function(){var a=c.trim(c.cookie(this.key));try{return a?JSON.parse(a):""}catch(b){return a||""}},set:function(a){a=c.isPlainObject(a)?JSON.stringify(a):a;if(this.get()!==a){var b={path:"/"};if(this.expires)b.expires=this.expires;if(this.domain)b.domain=this.domain;c.cookie(this.key,a||null,b)}},is:function(){return this.get()!=null?this.get().toString().length>0:false},contains:function(a){return this.get().indexOf(a)>-1}};e.deferred=
function(){var a,b,f=function(){a&&a.call()};return{resolve:function(){b=true;f()},done:function(h){a=h;b&&f()}}};if(d.$wait===g)d.$wait=function(a){a()}})(jQuery,window);

(function(b){BB={config:{bkBtnCookieName:"dfy.pg.bkbtn",bkBtnId:"#page-back-btn",bkBtnClass:".formbuilder-close"},store:null,$bkBtn:null,prepareBBCookie:function(){var a=BB.store=Object.create(ND.cacheStore),c="";a.key=BB.config.bkBtnCookieName;if(a.is())c=a.get();else a.expires=365;return c},init:function(){var a=b("#form-config");if(a.length>0){a=b.extend(BB.config,JSON.parse(a.html()));if(typeof a.isform!=="undefined"&&(a.isform==="false"||a.isform===false))BB.addPageToCookie(BB.prepareBBCookie());
BB.$bkBtn=b(BB.config.bkBtnClass);BB.$bkBtn.length>0&&BB.addListeners()}},addPageToCookie:function(a){var c=encodeURI(window.location.href);a!==c&&BB.store.set(c)},handleBkBtnEvent:function(a){a.stopPropagation();a=BB.prepareBBCookie();var c=null;if(a!=null&&a.length>0){c=a;BB.store.set(null)}else if(typeof BB.config.homepage!=="undefined"&&BB.config.homepage!==""&&!b("body").hasClass("apaform"))c=BB.config.homepage;else if(b("body").hasClass("apaform")&&BB.config.dashboardpage!=="")c=BB.config.dashboardpage;
else console.error("homepage data attribute is missing, can't go back");if(c!=null){var d=decodeURI(c);BB.$bkBtn.each(function(){b(this).attr("href",d)})}},addListeners:function(){b("body").hasClass("confirm-alert")?b(document).on("click","#confirmPopup .formbuilder-close",BB.handleBkBtnEvent):b(document).on("click",BB.config.bkBtnClass,BB.handleBkBtnEvent)},destroy:function(){if(BB.$bkBtn==null)BB.$bkBtn=b(BB.config.bkBtnClass);BB.$bkBtn.length>0&&b(document).off("click",BB.config.bkBtnClass)}};
b(document).ready(BB.init);b(document).on("pagechange",function(){BB.destroy();BB.init()})})(jQuery);

(function(b,B){function E(e,f){e=e||"";return escape(e.split("#")[0]+"#overlay="+f).replace("/","%2F","g")}var K=function(e,f,h){var a=this,q=h?"left":"right",j={};j.identifier=[];a.text=f||{close:"Close",of:"of",prev:"Previous",next:"Next",loading:"Loading Content...",error:"There seems to be a problem."};a.list=e;a.fadeSpeed=200;a.timeout=8E3;a.view360Class="view-360";a.lightClass="overlay-light";a.disclaimerClass="external-disclaimer";a.init=function(c){a.prepareBannerModes(c);a.injectContainer();
a.injectControls();a.registerLiveEvents()};a.unloadOverlayMask=function(){var c=b(".overlay-wrap");b("body").removeClass("noscroll");a.hide();c.fadeOut("800");c.remove()};a.loadOverlayMask=function(){b("body").append('<div class="overlay-wrap"></div>');b(".overlay-wrap").click(function(){a.unloadOverlayMask(this)})};a.registerLiveEvents=function(){b(".close-button A, .close-overlay",a.container).live("click",function(){a.hide();a.unloadOverlayMask();b(".overlayblackbg").remove();addedBlackbg=false;
a.asset!=null&&b.bbq.removeState("overlay");b("#overlay").hasClass("syncsltoverlay")==true&&b("#overlay").removeClass("syncsltoverlay");b.publish("overlay.usercancel");return false});b(".controls .previous:not(.disabled)",a.container).live("click",function(){a.moveTo(a.currentPage*1-1);b.publish("overlay.userprevious");return false});b(".controls .next:not(.disabled)",a.container).live("click",function(){a.moveTo(a.currentPage*1+1);b.publish("overlay.usernext");return false});b(".click-out A",a.container).live("click",
function(){a.hide()});b(".controls .disabled",a.container).live("click",function(){return false})};a.injectContainer=function(){var c,d;d={container:function(){return'<div id="overlay" class="overlay-box"></div>'},emptyDIV:function(){return'<div class="overlay-box-inner"></div>'},loading:function(){return'<div class="loading"><div class="image"></div><p>'+a.text.loading+"</p></div>"}};a.jcontainer=b(d.container());a.container=a.jcontainer.get(0);c=b(d.emptyDIV());d=b(d.loading());a.innerWrapper=c;
a.jcontainer.append(c).append(d);b("body").append(a.container)};a.setPositionMode=function(c){a.modePosition=c&&a.positions[c]?a.positions[c]:a.defaultPosition};a.prepareBannerModes=function(c){var d=b("#banner"),k=b(".principal-hero"),g="",i=false,p=a.positions={};if(i=k.size())g="0 30";else if(i=d.size())g="0 -5";if(c){if(c.srcElement)var t=c.srcElement.className;else if(c.target)t=c.target.className;if(t.toLowerCase().indexOf("centeroverlay")>=0)i=false}if(b(".featuregeneric .principal-hero").size()>
0)i=false;p.banner={of:b("#body"),my:"center bottom",at:"center top",offset:g,collision:"none",scrollTop:true};p.window={of:window,my:"center",at:"center",collision:"none",using:function(s){s[q]=s[q]>=0?s[q]:0;b(this).css(s)}};a.modePosition=a.defaultPosition=i?p.banner:p.window};a.injectControls=function(){var c;c={closeButton:function(){return'<div class="close-button"><span><a href="#">'+a.text.close+"</a></span></div>"},controls:function(){return'<div class="controls"><ul><li class="pagination"><p><span class="current">1</span> '+
a.text.of+' <span class="total">1</span></p></li><li class="previous"><a href="#" title="'+a.text.prev+'">'+a.text.prev+'</a></li><li class="next"><a href="#" title="'+a.text.next+'">'+a.text.next+"</a></li></ul></div>"}};a.closeButton=b(c.closeButton());c=b(c.controls()).hide();a.jcontainer.append(a.closeButton).append(c);if(b(".view-gallery").length>0){c=b(".view-gallery").clone(false);a.jcontainer.append(c);c.hide()}b("#overlay").parent().hasClass("lincoln")==true&&ND.lincolnResetOl()};a.pushState=
function(){var c={},d;if(b(a.anchor).attr("class"))d=b(a.anchor).attr("class").match(/asset-\d+/);if(d!=null){a.asset=d;a.assetid=d[0].substr(6);c.overlay=a.assetid;b.bbq.pushState(c)}};var r={};a.injectSocial=function(){function c(){if(!i){d.fadeIn(200);window.addthis&&window.addthis.button(".addthis-overlay");i=true}}var d=b("#overlay .share"),k=d.parent(),g,i;if(d.size()>0&&a.assetid){if(r[a.assetid])d=r[a.assetid];else{d.remove();g=a.socialTemplate||(a.socialTemplate=b("#tmpl-overlay-share").template());
g=b.tmpl(g,{replaceURL:E(window.location.href,a.assetid)});d.html(g.html())}k.prepend(d.hide());d.find("iframe").bind("load",c);setTimeout(c,500);r[a.assetid]=d}};var F={};a.enableVR=function(c,d,k){var g=a.jcontainer.find(".vr-container"),i=0,p=1;if(typeof k=="number"&&k>0){i=1;p=0}var t=[],s=[],v=b("#overlay").height();if(typeof c!="undefined")v+=b(c).height();b("#overlay").css({position:"absolute",height:v+"px"});var A=function(l,n){for(l=l+"";l.length<n;)l="0"+l;return l};g.each(function(l){var n=
b(this),w=n.find(".vr"),o,m;o=w.length>0?w.parent().find(".vr-data").embeddedData():0;m=b("#img-banner");var y=m.attr("data-color");if(m.length>0&&y&&y.length>0){o.vrImages.filenamePrefix=y+"_FINAL_";o.vrImages.location="http://apacvideo.ford.com.edgesuite.net/LCN2014/Desktop/nameplate/360colorizer/"+y+"/";m.removeAttr("data-color")}m=o&&"vrImages"in o?o.vrImages:{};var z=0;if(typeof d!="undefined"&&!ND.isEmptyObject(d)&&l==i)m=d;s.push(o);a.jcontainer.data("cache",s);l===0&&w.attr("src",m.location+
m.filenamePrefix+A(z,m.counterFormat.length)+"."+m.extension);t.push(o.name);w.parent().data("name",o.name);b("<span class='car-info'>"+o.name+"</span>").appendTo(n);l=[];for(n=m.start;n<=m.end;n++)l.push(m.location+m.filenamePrefix+A(n,m.counterFormat.length)+"."+m.extension);l.length&&w.reel({revolution:500,frames:l.length,images:l})});b(".jquery-reel-interface").on("mousedown",function(){b.support.optSelected?b(this).addClass("grab-cursor"):b(this).removeClass("reel-cursor").addClass("grab-cursor-ie")});
b(".jquery-reel-interface").on("mouseup",function(){b.support.optSelected?b(this).removeClass("grab-cursor"):b(this).removeClass("grab-cursor-ie").addClass("reel-cursor")});b(".reeldirections").fadeTo(1500,0.7);if(typeof k=="number"&&k>0)if(b(g[i]).length>0){g.hide();b(g[i]).css("display","block")}if(g.length>1)var x=g.eq(i),C=b("<button class='vr-toggle'>"+a.jcontainer.data("cache")[p].name+"</button>").on("click",function(){var l=C;i++;p++;if(i>=g.length)i=0;if(p>=g.length)p=0;l.html(g.eq(p).find("span.car-info").html());
x.css("display","none");x=g.eq(i);x.css("display","block")}).appendTo(g);a.moveToPosition()};a.storeVR=function(){var c=a.jcontainer.find(".vr");F[c.attr("src")]=c;c.detach()};a.moveToPosition=function(){if(a.shown){a.jcontainer.position(a.modePosition);b("#overlay").position().top<0&&b("#overlay").css("top","0");/iPhone|iPad|iPod/.test(navigator.platform)&&a.jcontainer.css("left","10px")}};a.load=function(c,d,k,g){b(".overlay-wrap").length==0&&a.loadOverlayMask();g=g||{};a.namedTitle=g.name||"";
if(a.shown){if(c!==null&&typeof c!=="undefined"&&a.anchor===c)return;if((c===null||typeof c==="undefined")&&a.contentUrl===k)return}a.flashLoadTimer&&clearTimeout(a.flashLoadTimer);a.closeButtonEnabled=typeof g.disableClose==="undefined"||!g.disableClose;a.setPositionMode(g.positionType);a.modePosition.scrollTop&&b("html, body").animate({scrollTop:0},"fast");a.anchor=c;a.contentUrl=b(c).attr("href");a.asset=(b(c).attr("class")||"").match(/asset-\d+/);a.asset!=null&&a.pushState(a.asset[0]);a.resetType();
if(d==="urlOnly"){a.contentUrl=k;a.loadContent(g.success)}else if(d==="disclaimer"){a.loadDisclaimerContent();a.updateClassDisclaimer()}else if(d==="overlay-sync"){a.contentUrl=k;b("#overlay").addClass("overlay-sync");a.loadContent(g.success)}else if(d==="syncoverlay5"){b("#overlay").addClass("syncsltoverlay");if(addedBlackbg==false){c=b(document).height();d=b(document).width();b("#overlay").before("<div class='overlayblackbg' style='height:"+c+"px;width:"+d+"px;' ></div>");b("#overlay").addClass("syncsltoverlay");
addedBlackbg=true}a.contentUrl=k;a.loadContent()}else{a.loadContent();a.updateClassOnOverlay()}a.show();a.moveToPosition()};a.checkSize=function(){var c=parseInt(a.innerWrapper.css("padding-left"))*2,d=a.innerWrapper.children().first(),k=d.outerWidth();d=d.outerHeight();if(b(".view-gallery").length>0){d+=30;a.jcontainer.find(".secondary").css("min-height","385px")}a.previousWidth=a.jcontainer.css("width");a.previousHeight=a.jcontainer.css("height");a.jcontainer.css({width:k+c,height:d+c});a.moveToPosition()};
a.resetCSS=function(){a.jcontainer.css({display:"block",top:"",left:"",width:a.previousWidth,height:a.previousHeight})};a.show=function(c){a.shown=a.shown||false;if(!a.shown){a.shown=true;a.jcontainer.fadeIn(a.fadeSpeed,c)}a.moveToPosition()};a.hide=function(){a.shown=false;a.updateClassnames("removeActive");a.storeVR();a.empty();a.jcontainer.find(".controls").hide();a.jcontainer.find(".view-gallery").hide();a.jcontainer.fadeOut(a.fadeSpeed,function(){a.resetCSS()})};a.empty=function(){a.jcontainer&&
a.jcontainer.find(".flash").killFlash();a.innerWrapper.empty()};a.done=function(){b.publish("overlay.done",{contents:a.innerWrapper,assetid:a.assetid,name:a.namedTitle});setTimeout(a.moveToPosition,1E3)};a.loadDisclaimerContent=function(){var c=a.text.disclaimer;c='<div class="ext-disc">'+c+{link:function(d){return'<p class="click-out"><a href="'+d.href+'" title="'+d.text+" "+d.href+'" target="_blank">'+d.text+" "+d.href+"</a></p>"}}.link({text:a.text.externalLink,href:a.contentUrl})+"</div>";a.innerWrapper.html(c);
a.checkSize()};a.loadContent=function(c,d,k,g){var i=a.jcontainer,p=a.innerWrapper,t=b(".loading",i),s,v,A=0;a.closeButtonEnabled?a.closeButton.show():a.closeButton.hide();i.addClass("loading");t.children("P").text(a.text.loading);t.children("DIV.image").show();v=function(n){a.empty();arguments.length>0&&n.apply(a);a.updateClassnames();if(a.list.totalCount>0){i.addClass("pagination-enabled");a.pagination()}else i.removeClass("pagination-enabled");a.customScrollBar()};var x=+new Date;a.activeRequest=
x;s=function(n){if(x===a.activeRequest){v(function(){i.removeClass("loading");p.html(n);b("#overlay .color-picker > ul> li .color").on("click touchstart",function(y){y.preventDefault();var z=b(this),D=z.children("a").attr("data-color");if(typeof D!=="undefined"){var G=z.children("a").attr("data-color").split(" ")[0],H="http://apacvideo.ford.com.edgesuite.net/LCN2014/Desktop/nameplate/360colorizer/"+D+"/",I=D+"_FINAL_",J={location:H,filenamePrefix:I,counterFormat:"NN",extension:"jpg",start:0,end:35,
folder:G};a.loadContent(null,J,z.closest("li").index(),z.closest(".vr-container").index())}});a.flashLoadTimer=setTimeout(function(){x===a.activeRequest&&i.find(".flash").metaBasedFlash()},300);a.checkSize();a.injectSocial();a.enableVR("#overlay .color-picker",d,g);a.done();if(ND.isIpad()){if(ND.isNumeric(k)){var m=b("#overlay .vr-container:visible .color-picker > ul> li:eq("+k+")");m.addClass("active");setTimeout(function(){m.hasClass("active")&&m.removeClass("active")},5E3)}}else b("#overlay .vr-container .color-picker > ul> li").hover(function(){b(this).toggleClass("active")})});
if(d&&d.folder)if(j.identifier[0]){for(var w=j.identifier.length,o=0;o<w;o++)if(j.identifier[o].color==d.folder){A=1;return}A==0&&j.identifier.push({color:d.folder,overlayContentUrl:n})}else j.identifier.push({color:d.folder,overlayContentUrl:n});b.publish("overlay.success");c?c.call():a.moveToPosition()}};a.pushState();for(var C=j.identifier.length,l=0;l<C;l++)if(d&&d.folder&&j.identifier[l]&&j.identifier[l].color==d.folder){s(j.identifier[l].overlayContentUrl);return}v();b.ajax({url:a.contentUrl,
success:s,dataType:"html",error:function(){v();t.children("DIV.image").hide();t.children("P").text(a.text.error);delete j.identifier}})};a.prefetch=function(c){j[c]||b.ajax({url:c,timeout:a.timeout,success:function(d){j[c]=d}})};a.customScrollBar=function(){a.jcontainer.find(".secondary .body, .custom-scroll").doOnce(function(){b(this).jScrollPane({showArrows:false,scrollbarWidth:13,scrollbarOnLeft:h})})};a.reinitalise=function(){a.customScrollBar()};b.subscribe("overlay.reinitalise",a.reinitalise);
a.updateClassOnOverlay=function(){var c=b(a.anchor);a.jcontainer.toggleClass(a.view360Class,c.hasClass(a.view360Class));a.jcontainer.toggleClass(a.lightClass,c.hasClass(a.lightClass))};a.updateClassDisclaimer=function(){b(a.anchor).hasClass(a.disclaimerClass)?a.jcontainer.addClass(a.disclaimerClass):a.jcontainer.removeClass(a.disclaimerClass)};a.resetType=function(){a.jcontainer.removeClass(a.lightClass);a.jcontainer.removeClass(a.view360Class);a.jcontainer.removeClass(a.disclaimerClass)};a.updateClassnames=
function(c){if(a.anchor!==B){var d=".overlay"+(a.listType()?"-"+a.listType():"");b(d).closest(".item.active").removeClass("active");c!=="removeActive"&&b(a.anchor).closest(".item").addClass("active")}};a.listType=function(){var c;c=b(a.anchor).attr("class")||"";if(c!==B)return c=c.match(/overlay-group/)!==null?c.match(/group[0-9]*/)[0]:"";return""};a.pagination=function(){var c=a.listType(),d=a.innerWrapper.children("div"),k=d.outerHeight();if(c!==""){a.updateCurrentPage=a.setPagination(a.list[c].count);
a.updateCurrentPage(a.list[c].items[a.contentUrl].order);if(d.length>0&&k>100){a.jcontainer.find(".controls").show();a.jcontainer.find(".view-gallery").show()}}};a.setPagination=function(c){b(".pagination .total",a.container).text(c);return function(d){a.currentPage=d;b(".pagination .current",a.container).text(d);a.disablePaginationButtons(d,c)}};a.disablePaginationButtons=function(c,d){c===1?b(".controls .previous",a.container).addClass("disabled"):b(".controls .previous",a.container).removeClass("disabled");
c===d?b(".controls .next",a.container).addClass("disabled"):b(".controls .next",a.container).removeClass("disabled")};a.moveTo=function(c){var d=a.listType();d=a.list[d].items;var k,g;for(var i in d)if(d[i].order===c){g=d[i].node;k=d[i].href}a.anchor=g;a.contentUrl=k;a.asset=(b(a.anchor).attr("class")||"").match(/asset-\d+/);a.asset!=null&&a.pushState(a.asset[0]);a.loadContent()}},L=function(){var e={},f=0,h,a;for(a=1;a<50;a+=1)if(b("A.overlay-group"+a).size()>0){h=0;e["group"+a]={};b("A.overlay-group"+
a).each(function(q){var j=this,r=b(j).attr("href");if(r.indexOf("#")==0)r=r.substr(1);e["group"+a].items=q===0?{}:e["group"+a].items;if(!e["group"+a].items[r]){e["group"+a].items[r]={href:r,node:j,order:h+1};f+=1;h+=1}});e["group"+a].count=h}else break;e.totalCount=f;return e},u=function(e){if(b("#overlay").size()===0){var f=b("#javascript-text"),h=b(f.html()),a=function(j){return h.find("."+j).html()};f=f.size()?{close:a("close"),of:a("of"),prev:a("prev"),next:a("next"),loading:a("loading"),error:a("error"),
disclaimer:a("disclaimer-text"),externalLink:a("disclaimer-link")}:null;var q=new K(L(),f,window.ND&&ND.rtl);q.init(e);b(window).bind("resize",function(){q.moveToPosition()}).bind("scroll",function(){q.moveToPosition()});return q}};getCurrentItem=function(){return b("#overlay .controls .current").text()};addedBlackbg=false;b(function(){var e;$wait(function(){if(b("A.overlay, A.external-disclaimer,A.overlay-sync,A.overlay-light").size()>0){if(window.location.toString().indexOf("#overlay")!=-1)e=b("#overlay").size()===
0?u():e;b("A.overlay").bind("click",function(f){e=b("#overlay").size()===0?u(f):e;var h=/overlay-[^\s$]+/,a=b(this);$overlay=b("#overlay");if(newClass=a.attr("class").match(h)){(oldClass=$overlay.attr("class").match(h))&&$overlay.removeClass(oldClass.join(" "));$overlay.addClass(newClass[0]+" overlay-box")}if(a.hasClass("blackbackground"))if(addedBlackbg==false){h=b(document).height();var q=b(document).width();b("#overlay").before("<div class='overlayblackbg' style='height:"+h+"px;width:"+q+"px;' ></div>");
b("#overlay").addClass("syncsltoverlay");addedBlackbg=true}var j=a.attr("data");j&&j.indexOf("tmpl-")==0?e.load(null,"urlOnly",a.attr("href"),{success:function(){var r=b("#"+j).template();b("#"+j.substr(5)).append(b.tmpl(r));e.reinitalise()}}):e.load(this);f.preventDefault();f.stopPropagation();flag=true;return false});b("A.overlay-light").bind("click",function(f){e=b("#overlay").size()===0?u(f):e;e.load(this);b("#overlay").addClass();f.preventDefault();f.stopPropagation();flag=true;return false});
b("A.external-disclaimer").live("click",function(f){e=b("#overlay").size()===0?u(f):e;b(this).attr("href");e.load(this,"disclaimer");f.preventDefault();f.stopPropagation();return false});b(".overlay-parent").bind("click",function(f){e=b("#overlay").size()===0?u(f):e;var h=b(this).find("A:eq(0)");h.size()>0&&e.load(h);f.preventDefault();f.stopPropagation();return false})}});ND.API.launchOverlay=ND.launchOverlay=function(f,h){e=e||u();h||(h={});var a=h.type||"urlOnly";f!==B&&e.load(null,a,f,h);if(h.customClass){f=
b("#overlay");(a=f.attr("class").match(/overlay-[^\s$]+/))&&f.removeClass(a.join(" "));f.addClass(h.customClass+" overlay-box")}};b.subscribe("overlay.launch",function(f,h){h&&ND.launchOverlay(h.url,h)});b.subscribe("overlay.hide",function(){e&&e.hide()});b.subscribe("overlay.prefetch",function(f,h){e=e||u();e.prefetch(h.url)});ND.API.getOverlay=function(){return e=e||u()};b(window).bind("pageLoadedWithOverlay",function(){if(e!==B){var f;if(window.location.toString().indexOf("#")>0)(f=b.bbq.getState("overlay")||
"")&&b("a[class*="+f+"]").filter(".overlay").eq(0).trigger("click");!f&&e.shown&&e.hide()}});b(window).trigger("pageLoadedWithOverlay")})})(jQuery);

(function(b){b.loadImage=function(f){return b.Deferred(function(c){function g(){d();c.resolve(a)}function e(){d();c.reject(a)}function d(){a.onload=null;a.onerror=null;a.onabort=null}var a=new Image;a.onload=g;a.onerror=e;a.onabort=e;a.src=f}).promise()}})(jQuery);

(function(a){a(function(){var e=function(){var b=a.cookie("dfy.lh.u"),c=JSON.parse(decodeURIComponent(b));b=c.t;c=c.u;var d=a(".welcome-bar .user-name").data("msg").replace("{title}",b).replace("{user}",c);d=b.match(/[\u3400-\u9FBF]/)?a(".welcome-bar .user-name").data("msg").replace("{titleName}",c+" "+b):a(".welcome-bar .user-name").data("msg").replace("{titleName}",b+" "+c);a(".welcome-bar .user-name").html(d);a(".welcome-bar").show();a("#header UL#eyebrow > LI.text > A, #header UL#toolbar > LI.menu-item > A").each(function(){a(this).prop("href").indexOf("/register")!=
-1&&a(this).hide()})};a.cookie("dfy.lh.u")&&a(".welcome-bar")[0]&&e()})})(jQuery);

var ND=function(e,b){e.lincolnNav=function(){var d,g=b(window);return{init:function(f){d=b(f||"#menu");if(!d||!d.size())return this;b("span.menu-icon").on("click",function(a){a.preventDefault();d.hasClass("active")?d.removeClass("active"):d.addClass("active")});b("#nav").find(".nav-item").on("click",function(a){a.preventDefault();a=b(this);var c=a.parent("li");if(g.width()>=768&&g.width()<977)if(c.hasClass("active"))c.removeClass("active");else{b("#nav > li").removeClass("active");c.addClass("active")}else if(g.width()<
768){c=c.find(".sub-menu");a=a.find("span");if(c.hasClass("clps-nav")){c.removeClass("clps-nav").addClass("expand-nav");a.removeClass("arrow").addClass("expand-arrow")}else if(c.hasClass("expand-nav")){c.removeClass("expand-nav").addClass("clps-nav");a.removeClass("expand-arrow").addClass("arrow")}}});this.colCalulator();return this},colCalulator:function(){var f=b("#nav").find(".sub-menu.fat-menu"),a="col-"+f.children("li").size();f.addClass(a)}}};return e}(window.ND||{},jQuery);
(function(e,b){b(function(){e.lincolnNav().init()})})(window.ND||{},jQuery);

(function(a){var e=false,l={additionalClass:"",closeBtnText:"X",greyoutClickable:true,afterContentLoad:function(){},afterOverlayClosed:function(){}},m=a.radOverlay=function(){m.open.apply(this,arguments)};a.extend(m,{open:function(f,g){if(e!=true){e=true;var b={};b.settings=a.extend({},l,g);b.content=f.html();f.empty();var d=a("<div class='rad-overlay-bg'><div class='rad-overlay-wrap "+(typeof b.settings.additionalClass==="string"?b.settings.additionalClass:"")+"'><span class='close-btn'>"+b.settings.closeBtnText+
"</span></div></div>"),i=function(){d.find("span.close-btn").click(function(){d.fadeOut(300,function(){d.remove();a("body").removeClass("noscroll");f.html(b.content);e=false;b.settings.afterOverlayClosed()})});b.settings.greyoutClickable&&d.on("click",function(){d.fadeOut(300,function(){d.remove();a("body").removeClass("noscroll");f.html(b.content);e=false;b.settings.afterOverlayClosed()})}).children().on("click",function(h){h.stopPropagation()})};(function(){return a("body").append(d).promise()})().done(function(){a("body").addClass("noscroll");
i();d.find("div.rad-overlay-wrap").append(b.content);b.settings.afterContentLoad()})}}});a.fn.radOverlay=function(f){if(this.length==0)return this;if(this.length>1){this.each(function(){a(this).radOverlay(f)});return this}var g={},b=this,d=function(c){return a.ajax({dataType:"html",url:c})},i=function(c){return a("body").append(c).promise()},h=function(c){c.find("span.close-btn").click(function(){c.fadeOut(300,function(){c.remove();a("body").removeClass("noscroll");e=false})});c.on("click",function(){c.fadeOut(300,
function(){c.remove();a("body").removeClass("noscroll");e=false})}).children().on("click",function(j){j.stopPropagation()})};(function(){g.settings=a.extend({},l,f);var c=typeof g.settings.additionalClass==="string"?g.settings.additionalClass:"";b.on("click",function(j){j.preventDefault();if(e!=true){e=true;var k=a("<div class='rad-overlay-bg'><div class='rad-overlay-wrap "+c+"'><span class='close-btn'>"+g.settings.closeBtnText+"</span></div></div>"),n=a(this).attr("href");i(k).done(function(){a("body").addClass("noscroll");
h(k);d(n).done(function(o){k.find("div.rad-overlay-wrap").append(o);g.settings.afterContentLoad()})})}})})();return this}})(jQuery);

var ND=function(a,b){a.radCommonOverlay=function(){return{init:function(){b("#footer-links .fullscreen-overlay, .rad-overlay").radOverlay({additionalClass:"auto-height-overlay"});return this}}};return a}(window.ND||{},jQuery);(function(a,b){b(function(){a.radCommonOverlay().init()})})(window.ND||{},jQuery);

/* ************************ APAC Ford H.27.3 Code *************************/
/*
  CAUTION: AT NO TIME IS ANY PARTY TO MODIFY THIS FILE OTHER THAN FORD ANALYTICS
  REQUIRED: JS variables that must be set of EVERY call are s_account and omni_filters 

	140827 - add gnav tracking, update BTL
	150609 - current file on site
	160614 - change tracking servers to fordap root

*/

/************************ ADDITIONAL FEATURES ************************   	
	Dynamic Report Suite Selection
	Universal Tag
	Plugins
*/

/*************** Load Account and Filters - Should be set on a page level *****************/

	if (typeof s_account == "undefined" || s_account==null || s_account=='' || typeof omni_filters == "undefined" || omni_filters==null || omni_filters==''){
		var s_account="fapadev";
		var s=s_gi(s_account,1);
		s.linkInternalFilters="javascript:,dragonfly.ford.com," + document.location.host;
	}else{
		var s=s_gi(s_account,1);
		s.linkInternalFilters = omni_filters;
	}
	
	if (changeCookiePeriods(document.location.host)){
		s.cookieDomainPeriods="3"
   		s.fpcookieDomainPeriods="3"
   	}	
		

/**************************************************COMMON CODE******************************************/
/* Conversion Config */
/* Link Tracking Config */
s.trackDownloadLinks=false
s.trackExternalLinks=false
s.trackInlineStats=true
s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx"
s.linkTrackVars="None"
s.linkTrackEvents="None"
s.linkLeaveQueryString=false


/* Plugin Config */
s.usePlugins=true
function s_doPlugins(s) {

/* Set the character set to the same as the page */
	if(!s.charSet) {
		if (document.characterSet)
			{s.charSet = document.characterSet} 
		else
			{s.charSet = document.charset}
	}

/* Force pageName to Lowercase all sites*/
	if(s.pageName)
		s.pageName=s.pageName.toLowerCase();
		
/* Web Trends Tracking */
	if(s.getQueryParam('WT.tsrc') || s.getQueryParam('WT.srch') || s.getQueryParam('WT.mc_id')) webTrendsTracking();
	
/* External Campaign Tracking */
	if(!s.campaign){		
		if(s.getQueryParam('bannerid'))s.campaign=s.getQueryParam('bannerid');
		s.campaign=s.getCustomValOnce(s.campaign,"cmp_getval",0)
	}
	
	if(s.campaign) s.events=s.apl(s.events,"event53",",",2);
	s.prop17=s.getAndPersistValue(s.campaign,'s_p17_pers',90);

/* Set ford campaign ID*/
	if(s.getQueryParam('fmccmp')) s.eVar30=s.getQueryParam('fmccmp');
	s.prop30=s.getAndPersistValue(s.eVar30,'s_p30_pers',90);
	s.eVar30=s.getCustomValOnce(s.eVar30,"eVar30_getval",0);	

/* Campaign Path Tracking */
	s.prop19=s.pageName;
	if(s.campaign) s.prop19=s.campaign+': '+s.pageName;
	else if(s.eVar30) s.prop19=s.eVar30+': '+s.pageName;   
	
/* Internal Campaign Tracking */
	if(!s.eVar13) s.eVar13=s.getQueryParam('intcmp'); 
	s.eVar13=s.getCustomValOnce(s.eVar13,"int_getval",0);
	s.prop13=s.getAndPersistValue(s.eVar13,'s_p13_pers',0);
	
/* Adobe Social Integration */
	if (!s.eVar60) s.eVar60=s.getQueryParam('scmp');
	s.socialPlatforms();

/* Referrer Overide */
	if(s.getQueryParam('referrer')) s.referrer=s.getQueryParam('referrer');   

/* Email Campaign Tracking */
	if (s.getQueryParam('emailid')) s.eVar33=s.getQueryParam('emailid');
	s.prop33=s.getAndPersistValue(s.eVar33,'s_p33_pers',90);
	s.eVar33=s.getCustomValOnce(s.eVar33,"eVar33_getval",0);

/* Paid Search Tracking */
	if (s.getQueryParam('searchid')) s.eVar26 = s.prop26 = s.getQueryParam('searchid','');
	s.eVar26=s.getCustomValOnce(s.eVar26,"eVar26_getval",0);
	if(s.eVar26)s.events=s.apl(s.events,"event54",",",2);
	
/* Navigation Tracking */
	if (s.getQueryParam('gnav')) s.eVar5 = s.getQueryParam('gnav');
	
/* Visit Start Logic */	

	var tempSuite="nosuite"
	if(!s.c_r("s_suite")){
		s.setSuite(s_account,"s_suite",0)	
	}else{
		tempSuite=s.c_r("s_suite");
	}
	
	if(s.getVisitStart("s_visit")||((!tempSuite.match(s_account))&& tempSuite!="")){
		if(!isInternal()||document.referrer==''){
			s.prop48=s.prop49=s.eVar8=trafficsource();			
			s.prop8=s.getAndPersistValue(s.eVar8,'s_p_s_prop8',0);
			var dt=popDT();
			s.eVar36 = s.getCustomValOnce(dt,'ev_36_getval',0);
			s.events = s.apl(s.events,"event17,event52",",",2);
		}
	}
	else if (refSearch(document.referrer)){
    	if (s.getQueryParam('searchid')){
      		s.eVar50 = s.prop50 = "paid:"+s.prop50;
    	}else{
      		s.eVar50 = s.prop50 = "natural:"+s.prop50;
    	}
    	s.eVar50=s.getCustomValOnce(s.eVar50,"eVar50_getval",0)
	}
		
	if(!tempSuite.match(s_account)){
		s.setSuite(tempSuite+s_account,"s_suite",0)
		tempSuite=s.c_r("s_suite");
	}
	    
//support vars
	if((s.linkTrackVars!='None'&& s.linkTrackVars!='')||s.linkTrackVars.match('prop')||s.linkTrackVars.match('eVar')||s.linkTrackVars.match('evar')||s.linkTrackVars.match('events'))
	{
		s.linkTrackVars=s.linkTrackVars+",prop37,prop39,pageName,eVar52,prop52,prop14,eVar14,prop15,eVar15,zip,prop1,prop2,prop3,eVar1,eVar2,eVar3"		
	}
   	s.prop37="160614"
   	if(!s.prop39 && s.pageName)s.prop39=s.pageName
	s.eVar52=s.prop52=document.URL
	s.prop47=s.eVar47="D=UserAgent"
 
 if(s.eVar12 && s.eVar16)s.prop36=s.eVar34=s.eVar12+":"+s.eVar16

}
		
/*************************************CUSTOM COMMON SITE FUNCTIONS*****************************/

function webTrendsTracking(){

	if (s.getQueryParam('WT.srch').indexOf('1') != -1) s.prop26 = s.eVar26 = s.getQueryParam('WT.mc_id');
	
	if (s.getQueryParam('WT.tsrc')){
		if (s.getQueryParam('WT.tsrc').indexOf('AutoBuyout') !=-1) s.campaign='autobuyout: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('Banner') !=-1) s.campaign='banner: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('Advertorial') !=-1) s.campaign='advertorial: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('Video') !=-1) s.campaign='video: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('QR_code') !=-1) s.campaign='qrcode: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('DirectMail') !=-1) s.campaign='directmail: ' + s.getQueryParam('WT.mc_id');

		if (s.getQueryParam('WT.tsrc').indexOf('Email') !=-1)s.prop33= s.eVar33= s.getQueryParam('WT.mc_id');

		if (s.getQueryParam('WT.tsrc').indexOf('eBroc') !=-1) s.prop30=s.eVar30='ebrochure: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('CampaignSite') !=-1) s.prop30=s.eVar30='campaignsite: ' + s.getQueryParam('WT.mc_id');
	}
	
	if (!s.getQueryParam('WT.tsrc') && s.getQueryParam('WT.mc_id')){
	
		if (s.getQueryParam('WT.mc_id').indexOf('eDM_') != -1)s.prop33= s.eVar33= s.getQueryParam('WT.mc_id');
		else s.campaign='banner: ' + s.getQueryParam('WT.mc_id');
	}
}


function padFrontZero(val) {
	if (val < 10) return '0'+val; else return val.toString();
}

function popDT() {
	var dte = new Date();
	return dte.getFullYear()+padFrontZero(dte.getMonth()+1)+padFrontZero(dte.getDate())+' '+padFrontZero(dte.getHours());
}


function trafficsource() {

  	return camp()
}

function camp(){

	if(s.getQueryParam('referrer')) var ref=s.getQueryParam('referrer') 
	else var ref = document.referrer; 
	
	var fordCamp = s.getQueryParam('fmccmp');
	 
	if(s.getQueryParam('bannerid')) return 'banner';
	else if(s.getQueryParam('emailid')) return 'email';
    else if(s.getQueryParam('searchid')) {s.eVar50 = s.prop50 = "paid:" + s.prop50; return 'search-paid';}
    else if(s.getQueryParam('scmp')) return 'social-placement';
    else if(fordCamp){if (fordCamp.indexOf('t2-fdaf')>-1 || fordCamp.indexOf('t2-lda')>-1){return 'fmc:tier2';}else return 'fmc:other';}
    else if(ref=='') return 'typed-bookmarked';
    else if(refSearch(ref)) {s.eVar50 = s.prop50 = "natural:"+s.prop50; return 'search-natural';}
    else if(refSocial(ref)) return 'social';
    else return 'natural-referrer';
}


function refSearch(ref) {
   	var se = new Array('google.|q','yahoo.com|p','msn.com|q','ask.com|q','myway.com|searchfor','altavista.com|q','netscape.com|query','live.com|q','allthweb.com|q','lycos.com|query','.aol.|q','.aol.|query','suche.aolsvc.de|query','suche.aolsvc.de|q','bing.com|q','ask.jp|q','ask.co|ask','ask.jp|ask','ask.co|q','search.mywebsearch.com|searchfor','baidu.com|wd');

    for (i = 0; i < se.length; i++) {
        var tmp = se[i].split('|');
        var keyword = s.getQueryParam(tmp[1], '', ref);
        if (ref.indexOf(tmp[0]) > -1) {
	        if(keyword == ''&& typeof keyword != "undefined")keyword="no keyword"
	   		s.eVar50 = s.prop50 = keyword;
            if (tmp[0] == 'google.') {
                var rnk1 = s.getQueryParam('resnum', '', ref);
                var rnk2 = s.getQueryParam('cd', '', ref);
    
                if (rnk1||rnk2) {
                    s.events = s.apl(s.events, "event50", ",", 1);
                    s.events = s.apl(s.events, "event51", ",", 1);
                   
                    if(rnk1)s.products = s.apl(s.products, ";;;;" + "event50=" + rnk1, ",", 1);
                    if(rnk2)s.products = s.apl(s.products, ";;;;" + "event50=" + rnk2, ",", 1);
                	}
            	}
        
            return true;
        }
    }

    return false;
}

function refSocial(ref) {
   	var socialSites = new Array('12seconds.tv','4travel.jp','advogato.org','ameba.jp','anobii.com','asmallworld.net','backtype.com','badoo.com','bebo.com','bigadda.com','bigtent.com','biip.no','blackplanet.com','blog.seesaa.jp','blogspot.com','blogster.com','blomotion.jp','bolt.com','brightkite.com','buzznet.com','cafemom.com','care2.com','classmates.com','cloob.com','collegeblender.com','cyworld.co.kr','cyworld.com.cn','dailymotion.com','delicious.com','deviantart.com','digg.com','diigo.com','disqus.com','draugiem.lv','facebook.com','faceparty.com','fc2.com','flickr.com','flixster.com','fotolog.com','foursquare.com','friendfeed.com','friendsreunited.com','friendster.com','fubar.com','gaiaonline.com','geni.com','goodreads.com','grono.net','habbo.com','hatena.ne.jp','hi5.com','hotnews.infoseek.co.jp','hyves.nl','ibibo.com','identi.ca','imeem.com','intensedebate.com','irc-galleria.net','iwiw.hu','jaiku.com','jp.myspace.com','kaixin001.com','kaixin002.com','kakaku.com','kanshin.com','kozocom.com','last.fm','linkedin.com','livejournal.com','me2day.net','meetup.com','mister-wong.com','mixi.jp','mixx.com','mouthshut.com','multiply.com','myheritage.com','mylife.com','myspace.com','myyearbook.com','nasza-klasa.pl','netlog.com','nettby.no','netvibes.com','nicovideo.jp','ning.com','odnoklassniki.ru','orkut.com','pakila.jp','photobucket.com','pinterest.com','plaxo.com','plurk.com','plus.google.com','reddit.com','renren.com','skyrock.com','slideshare.net','smcb.jp','smugmug.com','sonico.com','studivz.net','stumbleupon.com','t.163.com','t.co','t.hexun.com','t.ifeng.com','t.people.com.cn','t.qq.com','t.sohu.com','tabelog.com','tagged.com','taringa.net','tripit.com','trombi.com','trytrend.jp','tuenti.com','tumblr.com','twine.com','twitter.com','uhuru.jp','viadeo.com','vimeo.com','vkontakte.ru','vox.com','wayn.com','weibo.com','weourfamily.com','wer-kennt-wen.de','wordpress.com','xanga.com','xing.com','yaplog.jp','yelp.com','youtube.com','yozm.daum.net','yuku.com','zooomr.com');
	
    for (i = 0; i < socialSites.length; i++) {
        if (ref.indexOf(socialSites[i]) > -1) {return true;}
    }
    return false;
}


function isInternal()
{
	
	var ref=document.referrer
	if(ref!='')
	{
		if(ref.indexOf('www.')>-1)ref=ref.replace('www.','')
		if(ref.indexOf('https://')>-1)ref=ref.replace('https://','')
		if(ref.indexOf('http://')>-1)ref=ref.replace('http://','')	
		var ref1=ref.split('/');
		var refdom=ref1[0];
		
	var filter =s.linkInternalFilters.split(',')
	
		for(i=0;i<filter.length; i++)
		{
		if(refdom.indexOf(filter[i])>-1)return true;
		}
	}	

		return false;
}

function changeCookiePeriods(host){
//if more than "ford.co" or "ford.com" - return true
	var hostArray = new Array();
	hostArray = host.split('.');
	for (i=0; i < hostArray.length; i++) {
		if (hostArray[i] == 'ford' || hostArray[i] == 'fordpartner' || hostArray[i] == 'fordfranchise' || hostArray[i] == 'mazda' || hostArray[i] == 'lincoln' || hostArray[i] == 'motocraft' || hostArray[i] == 'fordcaminhoes' || hostArray[i] == 'myford'){
			var maxlength = i + 2;
			if (hostArray.length > maxlength) return true;
		}
	}
}

//List of plugins
s.doPlugins=s_doPlugins
/************************** PLUGINS SECTION *************************/
/* You may insert any plugins you wish to use here.                 */

/*
 * Plugin Utility: Replace v1.0
 */
s.repl=new Function("x","o","n",""
+"var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x."
+"substring(i+o.length);i=x.indexOf(o,i+l)}return x");

/*
 * Plugin: socialPlatforms v1.1
 */
s.socialPlatforms=new Function("a",""
+"var s=this,g,K,D,E,F,i;g=s.referrer?s.referrer:document.referrer;g=g."
+"toLowerCase();K=s.split(s.socPlatList,'|');for(i=0;i<K.length;i++){"
+"D=s.split(K[i],'>');if(g.indexOf(D[0])!=-1){s.contextData['a.socialcontentprovider']=D[1];}}");
 
s.socPlatList="facebook.com>Facebook|twitter.com>Twitter|t.co/>Twitter|youtube.com>Youtube|clipmarks.com>Clipmarks|dailymotion.com>Dailymotion|delicious.com>Delicious|digg.com>Digg|diigo.com>Diigo|flickr.com>Flickr|flixster.com>Flixster|fotolog.com>Fotolog|friendfeed.com>FriendFeed|google.com/buzz>Google Buzz|buzz.googleapis.com>Google Buzz|plus.google.com>Google+|hulu.com>Hulu|identi.ca>identi.ca|ilike.com>iLike|intensedebate.com>IntenseDebate|myspace.com>MySpace|newsgator.com>Newsgator|photobucket.com>Photobucket|plurk.com>Plurk|slideshare.net>SlideShare|smugmug.com>SmugMug|stumbleupon.com>StumbleUpon|tumblr.com>Tumblr|vimeo.com>Vimeo|wordpress.com>WordPress|xanga.com>Xanga|metacafe.com>Metacafe|pinterest.com>Pinterest";

/*  
 * socialAuthors v1.5.2
 */
s.socialAuthors=new Function("",""
+"var s=this,g;g=s.referrer?s.referrer:document.referrer;if(g.indexOf"
+"('http://t.co/')===0||g.indexOf('https://t.co/')===0||g.indexOf('pi"
+"nterest.com/pin')!==-1||g.indexOf('tumblr.com')!==-1||g.indexOf('yo"
+"utube.com')!==-1){s.Integrate.add('SocialAuthor');s.Integrate.Socia"
+"lAuthor.tEvar='reserved';s.Integrate.SocialAuthor.get('http://sa-se"
+"rvices.social.omniture.com/author/name?var=[VAR]&callback=s.socialA"
+"uthorSearch&rs='+encodeURIComponent(s_account)+'&q='+encodeURICompo"
+"nent(g));s.Integrate.SocialAuthor.delay();s.Integrate.SocialAuthor."
+"setVars=function(s,p){if(p.tEvar==='reserved'){s.contextData['a.soc"
+"ialauthor']=s.user;}else{s[p.tEvar]=s.user;}}}");
s.socialAuthorSearch=new Function("obj",""
+"var s=this;if(typeof obj==='undefined'||typeof obj.author==='undefi"
+"ned'){s.user='Not Found';}else{s.user=obj.author;}s.Integrate.Socia"
+"lAuthor.ready();");

/*
* Plugin Utility: apl v1.1
*/
s.apl = new Function("l", "v", "d", "u", ""
+ "var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a."
+ "length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"
+ "e()));}}if(!m)l=l?l+d+v:v;return l");

/*
* Utility Function: split v1.5 (JS 1.0 compatible)
*/
s.split = new Function("l", "d", ""
+ "var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"
+ "++]=l.substring(0,i);l=l.substring(i+d.length);}return a");

/*
 * Plugin: getQueryParam 2.3
 */
s.getQueryParam=new Function("p","d","u",""
+"var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.locati"
+"on);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p"
+".length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-"
+"1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i="
+"=p.length?i:i+1)}return v");
s.p_gpv=new Function("k","u",""
+"var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v"
+"=s.pt(q,'&','p_gvf',k)}return v");
s.p_gvf=new Function("t","k",""
+"if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'T"
+"rue':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s."
+"epa(v)}return ''");

/*
 * Plugin: Set Suite
 */
s.setSuite=new Function("v","c","e",""
+"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime("
+")+1800000);s.c_w(c,v,a);}else{v='novalue';a.setTime(a.getTime()+1800000);s.c_w(c,v,a);}");

/*
 * Plugin: getAndPersistValue 0.3 - get a value on every page
 */
s.getAndPersistValue=new Function("v","c","e",""
+"var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if("
+"v)s.c_w(c,v,e?a:0);return s.c_r(c);");



/*
 * Plugin: getCustomValOnce 
 */
s.getCustomValOnce=new Function("v","c","e",""
+"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime("
+")+1800000);if(!s.c_w(c,v,a))s.c_w(c,v,0);}else{a.setTime(a.getTime()+1800000);v=s.c_r(c);if(!s.c_w(c,v,a))s.c_w(c,v,a);}return v==k?'':v");


s.join = new Function("v","p",""
+"var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back"
+":'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0"
+";x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);el"
+"se str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;");

/*
 * Plugin: getVisitStart v2.0 - returns 1 on first page of visit
 * otherwise 0
 */
s.getVisitStart=new Function("c",""
+"var s=this,v=1,t=new Date;t.setTime(t.getTime()+1800000);if(s.c_r(c"
+")){v=0}if(!s.c_w(c,1,t)){s.c_w(c,1,0)}if(!s.c_r(c)){v=0}return v;"); 

function fnGetDomain(url) {
return (url.match(/:\/\/(.[^/]+)/)[1]);
}

/* Configure Modules and Plugins */

s.maxDelay='3000';//max time to wait for 3rd party api response in milliseconds
s.loadModule("Integrate")
s.Integrate.onLoad=function(s,m){
	s.socialAuthors();
	//add other integration module dependent functions here
 };


/* WARNING: Changing any of the below variables will cause drastic
changes to how your visitor data is collected.  Changes should only be
made when instructed to do so by your account manager.*/

s.trackingServer="fordap.sc.omtrdc.net"
s.trackingServerSecure="fordap.sc.omtrdc.net"

/************* Modules **************/

/* Module: Integrate */
s.m_Integrate_c="var m=s.m_i('Integrate');m.add=function(n,o){var m=this,p;if(!o)o='s_Integrate_'+n;if(!m.s.wd[o])m.s.wd[o]=new Object;m[n]=new Object;p=m[n];p._n=n;p._m=m;p._c=0;p._d=0;p.disable=0;p"
+".get=m.get;p.delay=m.delay;p.ready=m.ready;p.beacon=m.beacon;p.script=m.script;m.l[m.l.length]=n};m._g=function(t){var m=this,s=m.s,i,p,f=(t?'use':'set')+'Vars',tcf;for(i=0;i<m.l.length;i++){p=m[m."
+"l[i]];if(p&&!p.disable&&p[f]){if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','p','f','var e;try{p[f](s,p)}catch(e){}');tcf(s,p,f)}else p[f](s,p)}}};m._t=function(){this._g(1)};m._fu=func"
+"tion(p,u){var m=this,s=m.s,v,x,y,z,tm=new Date;if(u.toLowerCase().substring(0,4) != 'http')u='http://'+u;if(s.ssl)u=s.rep(u,'http:','https:');p.RAND=Math&&Math.random?Math.floor(Math.random()*10000"
+"000000000):tm.getTime();p.RAND+=Math.floor(tm.getTime()/10800000)%10;x=0;while(x>=0){x=u.indexOf('[',x);if(x>=0){y=u.indexOf(']',x);if(y>x){z=u.substring(x+1,y);if(z.length>2&&z.substring(0,2)=='s."
+"'){v=s[z.substring(2)];if(!v)v=''}else{v=''+p[z];if(!(v==p[z]||parseFloat(v)==p[z]))z=0}if(z) {u=u.substring(0,x)+s.rep(escape(v),'+','%2B')+u.substring(y+1);x=y-(z.length-v.length+1)} else {x=y}}}"
+"}return u};m.get=function(u,v){var p=this,m=p._m;if(!p.disable){if(!v)v='s_'+m._in+'_Integrate_'+p._n+'_get_'+p._c;p._c++;p.VAR=v;p._d++;m.s.loadModule('Integrate:'+v,m._fu(p,u),0,1,p._n)}};m.delay"
+"=function(){var p=this;if(p._d<=0)p._d=1};m.ready=function(){var p=this,m=p._m;p._d=0;if(!p.disable)m.s.dlt()};m._d=function(){var m=this,i,p;for(i=0;i<m.l.length;i++){p=m[m.l[i]];if(p&&!p.disable&"
+"&p._d>0)return 1}return 0};m._x=function(d,n){var p=this[n],x;if(!p.disable){for(x in d)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))p[x]=d[x];p._d--}};m.beacon=function(u){var p=this,m"
+"=p._m,s=m.s,imn='s_i_'+m._in+'_Integrate_'+p._n+'_'+p._c,im;if(!p.disable&&s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){p._c++;im=s.wd[imn]=new Image;im.src=m._fu(p,u)}};m.s"
+"cript=function(u){var p=this,m=p._m;if(!p.disable)m.s.loadModule(0,m._fu(p,u),0,1)};m.l=new Array;if(m.onLoad)m.onLoad(s,m)";
s.m_i("Integrate");


/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code='',s_objectID;function s_gi(un,pg,ss){var c="s.version='H.27.3';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(s.rep(m,\"\\\\\",\"\\\\"
+"\\\\\"),\"\\n\",\"\\\\n\"),\"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}retur"
+"n y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;ret"
+"urn 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent("
+"x);for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.su"
+"bstring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+"
+"','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00"
+"'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unesc"
+"ape(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r"
+";z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring("
+"0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf'"
+",f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visi"
+"bilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){whil"
+"e(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\")"
+";s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.li"
+"nkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostnam"
+"e,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'"
+".','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<"
+"0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-6"
+"0);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':''"
+");return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i"
+";l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tc"
+"f=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s"
+".wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0"
+";return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return "
+"s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)fo"
+"r(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackin"
+"gServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+s._in+'_'+un,im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLow"
+"erCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.vers"
+"ion+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if"
+"(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]"
+"=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd["
+"imn];if(!im)im=s.wd[imn]=new Image;im.alt=\"\";im.s_l=0;im.onload=im.onerror=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!"
+"s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window"
+".s_c_il)window.s_c_il['+s._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e"
+".getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'"
+"+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,"
+"l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='ht"
+"tps://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l="
+"',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'"
+"+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextDat"
+"a\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(n"
+"fn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){n"
+"k=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLi"
+"ghtData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(s"
+"p=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return "
+"qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe"
+"=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if"
+"(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv|"
+"|fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='supplementalDataID')q='sdid';else if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';e"
+"lse if(k=='marketingCloudVisitorID')q='mid';else if(k=='analyticsVisitorID')q='aid';else if(k=='audienceManagerLocationHint')q='aamlh';else if(k=='audienceManagerBlob')q='aamb';else if(k=='authStat"
+"e')q='as';else if(k=='pageURL'){q='g';if(v.length>255){s.pageURLRest=v.substring(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if"
+"(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&"
+"s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainP"
+"eriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=="
+"'campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='brows"
+"erWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v"
+",fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}el"
+"se if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLig"
+"htProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape("
+"q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?'),hi=h.indexOf('#');if(qi>=0){if(hi>=0&&hi<qi)qi=hi;}e"
+"lse qi=hi;h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)ret"
+"urn 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLi"
+"nks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt"
+"(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var "
+"s=this;if(s.bct&&s.bce)s.bct.dispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&"
+"e.s_fe)return;var s=s_c_il['+s._in+'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener(\"cli"
+"ck\",s.bc,true);s.bbc=s.useForcedLinkTracking=0;return}else s.b.removeEventListener(\"click\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLin"
+"kTracking&&e.target){a=e.target;while(a&&a!=s.b&&a.tagName.toUpperCase()!=\"A\"&&a.tagName.toUpperCase()!=\"AREA\")a=a.parentNode;if(a){h=a.href;if(h.indexOf(\"#\")==0||h.indexOf(\"about:\")==0||h."
+"indexOf(\"javascript:\")==0)h=0;t=a.target;if(e.target.dispatchEvent&&h&&(!t||t==\"_self\"||t==\"_top\"||t==\"_parent\"||(s.wd.name&&t==s.wd.name))){tcf=new Function(\"s\",\"var x;try{n=s.d.createE"
+"vent(\\\\\"MouseEvents\\\\\")}catch(x){n=new MouseEvent}return n\");n=tcf(s);if(n){tcf=new Function(\"n\",\"e\",\"var x;try{n.initMouseEvent(\\\\\"click\\\\\",e.bubbles,e.cancelable,e.view,e.detail"
+",e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(x){n=0}return n\");n=tcf(n,e);if(n){n.s_fe=1;e.stopPropagation();if (e.stopImmediate"
+"Propagation) {e.stopImmediatePropagation();}e.preventDefault();s.bct=e.target;s.bce=n}}}}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?')"
+";k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host"
+"?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&"
+"&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var "
+"s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.r"
+"ep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.s"
+"rc&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&("
+"','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c"
+"<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);re"
+"turn 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','"
+"sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype["
+"x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for("
+"i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s."
+"wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&((s.n.userAgent.indexOf('WebK"
+"it')>=0&&s.d.createEvent)||(s.n.userAgent.indexOf('Firefox/2')>=0&&s.wd.MouseEvent))){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,fal"
+"se)}else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<19"
+"00?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t"
+"?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountL"
+"ist,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.i"
+"ndexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=',"
+"'+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_"
+"m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l"
+"[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=ne"
+"w Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)"
+"));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m."
+"_d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).index"
+"Of('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]("
+")}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var"
+" s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement"
+"){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)c"
+"learTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b"
+"+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o"
+".l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s"
+".m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]"
+"){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo,onlySet){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s"
+"[k];if(!onlySet&&!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s."
+"maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new O"
+"bject;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s._waitingForMarketingCloudVisitorID = false;s._doneWaitingForMarketingClou"
+"dVisitorID = false;s._marketingCloudVisitorIDCallback=function(marketingCloudVisitorID) {var s=this;s.marketingCloudVisitorID = marketingCloudVisitorID;s._doneWaitingForMarketingCloudVisitorID = tr"
+"ue;s._callbackWhenReadyToTrackCheck();};s._waitingForAnalyticsVisitorID = false;s._doneWaitingForAnalyticsVisitorID = false;s._analyticsVisitorIDCallback=function(analyticsVisitorID) {var s=this;s."
+"analyticsVisitorID = analyticsVisitorID;s._doneWaitingForAnalyticsVisitorID = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerLocationHint = false;s._doneWaitingForAudienceMan"
+"agerLocationHint = false;s._audienceManagerLocationHintCallback=function(audienceManagerLocationHint) {var s=this;s.audienceManagerLocationHint = audienceManagerLocationHint;s._doneWaitingForAudien"
+"ceManagerLocationHint = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerBlob = false;s._doneWaitingForAudienceManagerBlob = false;s._audienceManagerBlobCallback=function(audie"
+"nceManagerBlob) {var s=this;s.audienceManagerBlob = audienceManagerBlob;s._doneWaitingForAudienceManagerBlob = true;s._callbackWhenReadyToTrackCheck();};s.isReadyToTrack=function() {var s=this,read"
+"yToTrack = true,visitor = s.visitor;if ((visitor) && (visitor.isAllowed())) {if ((!s._waitingForMarketingCloudVisitorID) && (!s.marketingCloudVisitorID) && (visitor.getMarketingCloudVisitorID)) {s."
+"_waitingForMarketingCloudVisitorID = true;s.marketingCloudVisitorID = visitor.getMarketingCloudVisitorID([s,s._marketingCloudVisitorIDCallback]);if (s.marketingCloudVisitorID) {s._doneWaitingForMar"
+"ketingCloudVisitorID = true;}}if ((!s._waitingForAnalyticsVisitorID) && (!s.analyticsVisitorID) && (visitor.getAnalyticsVisitorID)) {s._waitingForAnalyticsVisitorID = true;s.analyticsVisitorID = vi"
+"sitor.getAnalyticsVisitorID([s,s._analyticsVisitorIDCallback]);if (s.analyticsVisitorID) {s._doneWaitingForAnalyticsVisitorID = true;}}if ((!s._waitingForAudienceManagerLocationHint) && (!s.audienc"
+"eManagerLocationHint) && (visitor.getAudienceManagerLocationHint)) {s._waitingForAudienceManagerLocationHint = true;s.audienceManagerLocationHint = visitor.getAudienceManagerLocationHint([s,s._audi"
+"enceManagerLocationHintCallback]);if (s.audienceManagerLocationHint) {s._doneWaitingForAudienceManagerLocationHint = true;}}if ((!s._waitingForAudienceManagerBlob) && (!s.audienceManagerBlob) && (v"
+"isitor.getAudienceManagerBlob)) {s._waitingForAudienceManagerBlob = true;s.audienceManagerBlob = visitor.getAudienceManagerBlob([s,s._audienceManagerBlobCallback]);if (s.audienceManagerBlob) {s._do"
+"neWaitingForAudienceManagerBlob = true;}}if (((s._waitingForMarketingCloudVisitorID)     && (!s._doneWaitingForMarketingCloudVisitorID)     && (!s.marketingCloudVisitorID)) ||((s._waitingForAnalyti"
+"csVisitorID)          && (!s._doneWaitingForAnalyticsVisitorID)          && (!s.analyticsVisitorID)) ||((s._waitingForAudienceManagerLocationHint) && (!s._doneWaitingForAudienceManagerLocationHint)"
+" && (!s.audienceManagerLocationHint)) ||((s._waitingForAudienceManagerBlob)         && (!s._doneWaitingForAudienceManagerBlob)         && (!s.audienceManagerBlob))) {readyToTrack = false;}}return r"
+"eadyToTrack;};s._callbackWhenReadyToTrackQueue = null;s._callbackWhenReadyToTrackInterval = 0;s.callbackWhenReadyToTrack=function(callbackThis,callback,args) {var s=this,callbackInfo;callbackInfo ="
+" {};callbackInfo.callbackThis = callbackThis;callbackInfo.callback     = callback;callbackInfo.args         = args;if (s._callbackWhenReadyToTrackQueue == null) {s._callbackWhenReadyToTrackQueue = "
+"[];}s._callbackWhenReadyToTrackQueue.push(callbackInfo);if (s._callbackWhenReadyToTrackInterval == 0) {s._callbackWhenReadyToTrackInterval = setInterval(s._callbackWhenReadyToTrackCheck,100);}};s._"
+"callbackWhenReadyToTrackCheck=new Function('var s=s_c_il['+s._in+'],callbackNum,callbackInfo;if (s.isReadyToTrack()) {if (s._callbackWhenReadyToTrackInterval) {clearInterval(s._callbackWhenReadyToT"
+"rackInterval);s._callbackWhenReadyToTrackInterval = 0;}if (s._callbackWhenReadyToTrackQueue != null) {while (s._callbackWhenReadyToTrackQueue.length > 0) {callbackInfo = s._callbackWhenReadyToTrack"
+"Queue.shift();callbackInfo.callback.apply(callbackInfo.callbackThis,callbackInfo.args);}}}');s._handleNotReadyToTrack=function(variableOverrides) {var s=this,args,varKey,variableOverridesCopy = nul"
+"l,setVariables = null;if (!s.isReadyToTrack()) {args = [];if (variableOverrides != null) {variableOverridesCopy = {};for (varKey in variableOverrides) {variableOverridesCopy[varKey] = variableOverr"
+"ides[varKey];}}setVariables = {};s.vob(setVariables,true);args.push(variableOverridesCopy);args.push(setVariables);s.callbackWhenReadyToTrack(s,s.track,args);return true;}return false;};s.gfid=func"
+"tion(){var s=this,d='0123456789ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j"
+"=Math.floor(Math.random()*n);l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.track=s.t=function(vo,setVariables){var s="
+"this,notReadyToTrack,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'"
+"/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;i"
+"f (s.visitor) {if (s.visitor.getAuthState) {s.authState = s.visitor.getAuthState();}if ((!s.supplementalDataID) && (s.visitor.getSupplementalDataID)) {s.supplementalDataID = s.visitor.getSupplement"
+"alDataID(\"AppMeasurement:\" + s._in,(s.expectSupplementalData ? false : true));}}if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();notReadyToTrack = s._handleNotReadyToTrack(vo);if (!no"
+"tReadyToTrack) {if (setVariables) {s.voa(setVariables);}if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&S"
+"tring.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Fun"
+"ction('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}"
+"if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins"
+"}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function("
+"'s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#"
+"clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.co"
+"lorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if(!s.analyt"
+"icsVisitorID&&!s.marketingCloudVisitorID)s.fid=s.gfid();if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL="
+"l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s"
+".eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>="
+"0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowe"
+"rCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if("
+"o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useFor"
+"cedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb)"
+")>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\"\\\\\")ocx=!ocx;else ocx=0;}else"
+"{ocq=oc.charAt(oce);if(ocq!='\"'&&ocq!=\"'\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID'"
+")){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampl"
+"ed=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.delet"
+"eLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);}s.abort=0;s.supplementalDataID=s.pageURLRest=s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.p"
+"g)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight"
+"=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.le"
+"ngth;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x"
+".u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++"
+"){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;"
+"s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n."
+"userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Inte"
+"rnet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s."
+"apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharC"
+"ode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='supplementalDataID,timestamp,dynamicVariablePrefix,visitorID,marketingCloudVisitorID,analyticsVi"
+"sitorID,audienceManagerLocationHint,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,"
+"referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp"
+",charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID"
+",purchaseID,campaign,state,zip,events,events2,products,audienceManagerBlob,authState,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5"
+";n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,bro"
+"wserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableB"
+"ufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryStrin"
+"g,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextD"
+"ata=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",
w=window,l=w.s_c_il,n=navigator,u=n.userAgent,v=n.appVersion,e=v.indexOf('MSIE '),m=u.indexOf('Netscape6/'),a,i,j,x,s;if(un){un=un.toLowerCase();if(l)for(j=0;j<2;j++)for(i=0;i<l.length;i++){s=l[i];x=s._c;if((!x||x=='s_c'||(j>0&&x=='s_l'))&&(s.oun==un||(s.fs&&s.sa&&s.fs(s.oun,un)))){if(s.sa)s.sa(un);if(x=='s_c')return s}else s=0}}w.s_an='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
w.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.subst"
+"ring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a");
w.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x");
w.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)");
w.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d"
+"=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn("
+"x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x");
w.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")");
w.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':"
+"a");
w.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){i"
+"f(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")"
+"'+c.substring(e+1);s=c.indexOf('=function(')}return c;");
c=s_d(c);if(e>0){a=parseInt(i=v.substring(e+5));if(a>3)a=parseFloat(i)}else if(m>0)a=parseFloat(u.substring(m+10));else a=parseFloat(v);if(a<5||v.indexOf('Opera')>=0||u.indexOf('Opera')>=0)c=s_ft(c);if(!s){s=new Object;if(!w.s_c_in){w.s_c_il=new Array;w.s_c_in=0}s._il=w.s_c_il;s._in=w.s_c_in;s._il[s._in]=s;w.s_c_in++;}s._c='s_c';(new Function("s","un","pg","ss",c))(s,un,pg,ss);return s}
function s_giqf(){var w=window,q=w.s_giq,i,t,s;if(q)for(i=0;i<q.length;i++){t=q[i];s=s_gi(t.oun);s.sa(t.un);s.setTagContainer(t.tagContainerName)}w.s_giq=0}s_giqf();


var ND=function(A,b,q,w){trackWebtrendFields=function(){var f=q._da;if(f!==undefined){var u=f.trackFields;if(u!==undefined){var x=[],v;for(v in u)x.push({name:v,value:u[v]});b.publish("/analytics/field/",{field:x})}}};A.analyticsBinder={bind:function(){b(w).ready(function(){var f=ND.analytics.grabber();master=f({meta:"meta[name='dfy.title']"});b(".socialmedia-wrapper").delegate(".socialmedia a","click",function(){var a=f({link:this});b.publish("/analytics/social/",{title:"Follow "+master.value+" on "+
a.value,uri:"/follow/"+a.url})});b.subscribe("overlay.done",function(a,c){var d,e,g;d={};a=true;if(c&&c.contents&&b(".country-overlay",c.contents).size()<1){d=c.contents?f({link:c.contents.find(".head h1")}):{};e=f({link:c.anchor});g=f({name:c.name});a=!d.value&&!e.value&&!g.value&&!c.assetid;d={title:master.value+" | "+(g.value||d.value||e.value||c.assetid),uri:"/"+master.url+"/overlay/"+(g.url||d.url||e.url||c.assetid)};if(a)d={title:master.value+" | Overlay",uri:"/"+master.url+"/overlay"};b.publish("/analytics/event/",
d)}});b(".rss").delegate("a","click",function(){var a={title:"RSS",uri:f({link:this}).url};b.publish("/analytics/event/",a)});b(w).delegate(".at_item","click",function(){var a=f({link:this});b.publish("/analytics/social/",{title:" Send to "+a.value,uri:"/share/"+a.url,socialId:a.value})});b(w).delegate(".addlist a","click",function(){var a=f({link:this});b.publish("/analytics/social/",{title:" Send to "+a.value,uri:"/share/"+a.url,socialId:a.value})});b("#dragonflyform").delegate(".ff-track-drop-off",
"focusout",function(){var a=b(this);a={field:{name:a.attr("name")||this.id,value:a.val()}};b.publish("/analytics/field/",a)});b("#dragonflyform").submit(function(){var a=b("#VOI_ModelSeries_Model",d),c=b("#VOI_ModelSeries_Series",d);if(a.size()||c.size()){var d=b(this);a={field:[{name:"model",value:a.val()},{name:"series",value:c.val()}]};b.publish("/analytics/field/",a)}});b(".view360-button a").click(function(){var a=f({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,
uri:"/"+master.url+"/360-view"})});b("#car-swapper a").click(function(){var a=f({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,uri:"/"+master.url+"/switch-to-super-cab"})});b(".slider .next, .slider .prev").click(function(){var a=f({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,uri:"/"+master.url+"/switch-to-banner"})});b(".download").click(function(){data={title:"this is my link",link:this,type:"d"};b.publish("/analytics/link/",data)});
b(".trackable,.external-disclaimer").live("mouseup",function(a){if(!(b(".staging-wrap .trackable").size()>0)){if(!a.target||!a.target.tagName||a.target.tagName!="OPTION"||!a.target.parentElement||!a.target.parentElement.tagName||a.target.parentElement.tagName!="SELECT")a.preventDefault();!b(this).hasClass("overlay")&&!b(this).closest("ul").hasClass("gallery")&&!b(this).hasClass("service-booking-overlay")&&!b(this).hasClass("open-video-flip")&&!b(this).hasClass("collapse-btn")&&!b(this).hasClass("save-dealer-btn")&&
!b(this).hasClass("bing-directions")&&!b(this).hasClass("filter-toggler")&&!b(this).hasClass("viewSaved")&&!b(this).hasClass("accordion-next")&&!b(this).hasClass("open-vid")&&!b(this).hasClass("open-modal")&&!b(this).hasClass("save-continue")&&!b(this).hasClass("pdf-btn")&&!b(this).hasClass("finish-btn")&&!b(this).hasClass("tab-area")&&!b(this).closest(".predelivery-new")&&b(this).trigger("click");a=b(this);var c,d,e,g,h,i,j,k,l,m,n,o,p,r,t,z,y,B;if((d=a.attr("data-name"))&&(e=a.attr("data-type"))){g=
a.attr("data-onclicks");h=a.attr("data-nameplate");l=a.attr("data-nameplate-year");i=a.attr("data-leadtype");j=a.attr("data-tool");p=a.attr("data-tooldesc");k=a.attr("data-events");m=a.attr("data-pname");n=a.attr("data-intcmp");o=a.attr("data-hier");r=a.attr("data-content");t=a.attr("data-freq");z=a.attr("data-moduletype");y=a.attr("data-modulename")}else if((c=a.find("img").first())&&(d=c.attr("data-name"))&&(e=c.attr("data-type"))){g=c.attr("data-onclicks");h=c.attr("data-nameplate");l=c.attr("data-nameplate-year");
i=c.attr("data-leadtype");j=c.attr("data-tool");p=c.attr("data-tooldesc");k=c.attr("data-events");m=c.attr("data-pname");n=c.attr("data-intcmp");o=c.attr("data-hier");r=c.attr("data-content");t=c.attr("data-freq");z=a.attr("data-moduletype");y=a.attr("data-modulename")}if(a.hasClass("external-disclaimer"))e="e";if(!d)d=f({link:this}).value;if(!b(this).hasClass("open-video-flip")&&(a.closest("section").hasClass("personalisation")||a.closest("section").hasClass("smartnextsteps")))B="click";if(a.closest("section").data("psn-module")==
"knowvehicle"||a.closest("section").data("psn-module")=="accessories"){if(typeof b.cookie("dfy.u")!=="undefined"&&typeof b.cookie("dfy.u")!=="function")cookieUser=JSON.parse(b.cookie("dfy.u"));if(cookieUser!=null)y=cookieUser.now}b.publish("/analytics/link/",{title:d,link:this,type:e,onclicks:g,leadtype:i,tool:j,tooldesc:p,events:k,year:l,nameplate:h,pname:m,intcmp:n,hier1:o,content:r,freq:t,moduletype:z,modulename:y,moduleaction:B})}});b(".billboard  .flex-next,.billboard .flex-prev,.billboard .flex-control-paging a").live("click",
function(){var a=b(this);if(!(typeof _da!=="undefined"&&_da.om.mobileApp==true&&(b(this).hasClass("flex-prev")||b(this).hasClass("flex-next")))){var c,d,e;e=a.closest("section");a=e.data("name");c=e.data("onclicks");d=e.data("modulename");e=e.data("moduletype");b.publish("/analytics/link/",{title:a,link:this,type:"o",onclicks:c,moduletype:d,modulename:e,moduleaction:"click"})}});b(".view-all-dealers",b("section.dealer-locator")).live("mouseup",function(a){a.preventDefault();b(this).trigger("click");
if(q._da&&q._da.om&&ND&&ND.omniture){_da.funnel.stepname="results";_da.events="event1,event43".split(",");_da.dealer={}}});b.subscribe("dealers-done",function(){if(q._da&&q._da.om&&ND&&ND.omniture){_da.funnel.stepname="results";_da.events="event1,event43".split(",");_da.dealer={};var a=b(".dealer-result-container .count .num").text();if(a){a=Number(a);a=Math.floor((a+5-1)/5);var c=b(".dealer-result-container .result-list .dealer-result:first-child").data("postcode");_da.region=c;ND.analyticsTag.trackOmniturePage({tool:"event:find dealer",
tooldesc:"find dealer:1 of "+a})}b.unsubscribe("dealers-done")}});b("section.dealer-locator .dealer-result .dealer-heading a,section.dealer-locator .dealer-result .details").live("click",function(){var a=b(this).closest(".dealer-result").data("dealerid"),c=b(this).closest(".dealer-result").data("postcode");if(q._da&&q._da.om&&ND&&ND.omniture){_da.funnel.stepname="dealer:info";_da.events="";_da.dealer={code:a};_da.region=c;ND.analyticsTag.trackOmniturePage()}});b("#overlay .vr-container .360trackable").live("slide",
function(a){if(!(b(".staging-wrap .trackable").size()>0)){a.preventDefault();b(this).trigger("click");a=b(this);var c,d,e,g,h,i,j,k,l,m,n,o,p,r,t;if((d=a.attr("data-name"))&&(e=a.attr("data-type"))){g=a.attr("data-onclicks");h=a.attr("data-nameplate");l=a.attr("data-nameplate-year");i=a.attr("data-leadtype");j=a.attr("data-tool");p=a.attr("data-tooldesc");k=a.attr("data-events");m=a.attr("data-pname");n=a.attr("data-intcmp");o=a.attr("data-hier");r=a.attr("data-content");t=a.attr("data-freq")}else if((c=
a.find("img").first())&&(d=c.attr("data-name"))&&(e=c.attr("data-type"))){g=c.attr("data-onclicks");h=c.attr("data-nameplate");l=c.attr("data-nameplate-year");i=c.attr("data-leadtype");j=c.attr("data-tool");p=c.attr("data-tooldesc");k=c.attr("data-events");m=c.attr("data-pname");n=c.attr("data-intcmp");o=c.attr("data-hier");r=c.attr("data-content");t=c.attr("data-freq")}if(a.hasClass("external-disclaimer"))e="e";if(!d)d=f({link:this}).value;b.publish("/analytics/link/",{title:d,link:this,type:e,onclicks:g,
leadtype:i,tool:j,tooldesc:p,events:k,year:l,nameplate:h,pname:m,intcmp:n,hier1:o,content:r,freq:t});b("#overlay .vr-container .360trackable").die("slide")}});var u=function(){var a=b(this).closest(".panel"),c,d;c=a.data("name");d=a.data("onclicks");a=a.data("pname");b.publish("/analytics/link/",{title:c,link:this,type:"o",onclicks:d,pname:a,moduleaction:"click",freq:"category"})};b(".predelivery-new .last-step .panel").on("click","input,select,textarea",u);b(".predelivery-new .last-step .color-palette a").on("click",
u);b(".staging-wrap .trackable, .staging-wrap .external-disclaimer").live("click",function(){var a=b(this),c,d,e,g,h,i,j,k,l,m,n,o,p;if((d=a.attr("data-name"))&&(e=a.attr("data-type"))){g=a.attr("data-onclicks");h=a.attr("data-nameplate");l=a.attr("data-nameplate-year");i=a.attr("data-leadtype");j=a.attr("data-tool");p=a.attr("data-tooldesc");k=a.attr("data-events");m=a.attr("data-pname");n=a.attr("data-intcmp");o=a.attr("data-hier")}else if((c=a.find("img").first())&&(d=c.attr("data-name"))&&(e=
c.attr("data-type"))){g=c.attr("data-onclicks");h=c.attr("data-nameplate");l=c.attr("data-nameplate-year");i=c.attr("data-leadtype");j=c.attr("data-tool");p=c.attr("data-tooldesc");k=c.attr("data-events");m=c.attr("data-pname");n=c.attr("data-intcmp");o=a.attr("data-hier")}if(a.hasClass("external-disclaimer"))e="e";if(!d)d=f({link:this}).value;b.publish("/analytics/link/",{title:d,link:this,type:e,onclicks:g,leadtype:i,tool:j,tooldesc:p,events:k,year:l,nameplate:h,pname:m,intcmp:n,hier1:o})});var x=
function(a){a=a.target.href||"";anchorFormat=a.toLowerCase();if(a&&anchorFormat.indexOf("mailto:")>-1){anchorFormat=anchorFormat.replace(/[^\w]+/g,"-");b.publish("/analytics/event/",{title:a+" | Email",uri:"/"+master.url+"/email/"+anchorFormat})}},v=function(a){a=a.target;var c=a.className;if(c&&typeof c==="string"&&(c.indexOf("external")>-1||c.indexOf("external-disclaimer ")>-1)){a=b(a).attr("href");c="";if(typeof a!="undefined")c=a.replace(/[^\w]+/g,"-");b.publish("/analytics/event/",{title:"Offsite:"+
a,uri:"/"+master.url+"/external/"+c})}},C=function(a){(a=a.target.className)&&typeof a==="string"&&a.indexOf("btn-fullscreen")>-1&&b.publish("/analytics/link/",{title:s.eVar11+":full screen",link:this,type:"o",onclicks:"view full screen"})};if(_da.nameplate!==undefined&&_da.nameplate.id!==undefined||_da.derivative!==undefined&&_da.derivative.id!==undefined)ND.Context.addContextToLinks();b(w).bind("click","a",function(a){if(a&&a.target){v(a);x(a);C(a)}});trackWebtrendFields()})}};return A}(window.ND||
{},jQuery,window,document);

var guxPersonalisation=guxPersonalisation||{};
(function(b){guxPersonalisation.psn={uuid:{},profile:{},init:function(){var a,c;b.subscribe("profile-done",function(){typeof guxPersonalisation.components!=="undefined"&&guxPersonalisation.components.execute()});a=function(i){guxPersonalisation.psn.setProfile(i)};c=function(){};typeof FPS!=="undefined"&&FPS.get([{KBA:{}},{LastViewedVehicle:{}},{RecentlyViewedVehicles:{}},{PreferredDealer:{}}],{success:a,error:c})},setUUID:function(){if(b.cookie("dfy.uuid"))guxPersonalisation.psn.uuid=b.parseJSON(JSON.stringify(b.cookie("dfy.uuid")));
else if(typeof uuid!=="undefined"){var a=guxPersonalisation.psn.commonConfig(),c=window.location.host;if(a!==null&&a.cookieDomain)c=a.cookieDomain;guxPersonalisation.psn.uuid={id:uuid.v1()};b.cookie("dfy.uuid",JSON.stringify(guxPersonalisation.psn.uuid),{expires:1825,path:"/",domain:c})}},setProfile:function(a){if(typeof sessionStorage!=="undefined")if(sessionStorage.getItem("dfy.p")===null){sessionStorage.setItem("dfy.p",JSON.stringify(this.fillProfile(a)));guxPersonalisation.psn.setUUID()}else{guxPersonalisation.psn.setUUID();
sessionStorage.setItem("dfy.p",JSON.stringify(this.fillProfile(a)))}else if(b.cookie("dfy.p")){guxPersonalisation.psn.setUUID();b.cookie("dfy.p",JSON.stringify(this.fillProfile(a)),{path:"/",domain:i})}else{var c=guxPersonalisation.psn.commonConfig(),i=window.location.host;if(c!==null&&c.cookieDomain)i=c.cookieDomain;b.cookie("dfy.p",JSON.stringify(this.fillProfile(a)),{path:"/",domain:i});guxPersonalisation.psn.setUUID()}},fillProfile:function(a){function c(l){for(var o in l)if(l.hasOwnProperty(o))return false;
return true}function i(l){return l.sort(function(o,s){var t=o.on,u=s.on;return t<=u?-1:1}).reverse()}var e=guxPersonalisation.psn.commonConfig(),j=null,d=null,k=null;if(b.cookie("dfy.uuid"))j=b.parseJSON(b.cookie("dfy.uuid"));if(b.cookie("dfy.u"))d=b.parseJSON(b.cookie("dfy.u"));if(b.cookie("dfy.dl"))k=b.cookie("dfy.dl");var r="NoVehicle",p="",m=[];k=k!=null?k:"";if(typeof a!=="undefined"&&a!==null&&!c(a)){var h=a[0].KBA,n=a[1].LastViewedVehicle,g=a[2].RecentlyViewedVehicles;a=a[3].PreferredDealer;
if(typeof h!=="undefined"&&!c(h)){p="#";for(var f in h)if(h.hasOwnProperty(f))p+=h[f]._KBA+"#"}if(typeof g!=="undefined"&&!c(g)){n=i(g);r=n[0]._nameplate.split(":")[1];for(f in g)g.hasOwnProperty(f)&&m.push({_nameplate:g[f]._nameplate});m=JSON.stringify(m)}if(typeof a!=="undefined"&&!c(a)){a=i(a);k=a[0]._paCode}}h=a=f="";n=j?j.id:"";var q=g="";if(this.viewport()==="mobile")if(d!==null){a=d.s;h=d.now;g=d.authid;q=d.fn}else if(j===null){a="FS";if(e!=null&&e.smobFsTools)f=e.smobFsTools}else{if(j!=null&&
d===null){a="AN";if(e!=null&&e.smobAnTools)f=e.smobAnTools}}else if(d!==null){a=d.s;h=d.now;g=d.authid;q=d.fn}else if(j===null){a="FS";if(e!=null&&e.fsTools)f=e.fsTools}else if(j!=null&&d===null){a="AN";if(e!=null&&e.anTools)f=e.anTools}guxPersonalisation.psn.profile={authState:a,now:h,noi:r,id:n,authid:g,tools:f,kba:p,fn:q,f:"",rvv:m,dc:k};b.publish("profile-done");return guxPersonalisation.psn.profile},commonConfig:function(){return b("#common-config").length?b("#common-config").embeddedData():
null},viewport:function(){this.view=b(window).width()<768?"mobile":"tablet";return""}};b(function(){guxPersonalisation.psn.init()})})(jQuery);

(function(){var k=(window.ND=window.ND||{}).fps={_init:function(a){this._fpstag=a},pageClicks:{},trackPageView:function(a){k.trackFps(a)},trackLink:function(a){k.trackFps(a)},trackFps:function(a){var e="",j={},l={},m={},n={},o={},p={},q={},c="",f="",g="",h="",d="",i="",b=false;if(typeof a!=="undefined"&&typeof a.nameplate!=="undefined"){if(typeof _da!=="undefined"&&typeof _da.nameplate!=="undefined")if(a.nameplate==_da.nameplate.name){if(typeof _da.om.site!=="undefined")g=_da.om.site;if(typeof _da.nameplate!==
"undefined"){if(typeof _da.nameplate.name!=="undefined")d=_da.nameplate.name;if(typeof _da.nameplate.id!=="undefined")i=_da.nameplate.id;if(typeof _da.nameplate.year!=="undefined")h=_da.nameplate.year}if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")c=_da.der.name;if(typeof _da.der.id!=="undefined")f=_da.der.id}if(d!=""){j={ViewedVehicle:{_year:h,_brand:g,_nameplate:i+":"+d,_trim:f+":"+c,_interior:"",_exterior:""},metadata:{active:"true"}};b=true}}}else if(typeof _da!=="undefined"){if(typeof _da.om.site!==
"undefined")g=_da.om.site;if(typeof _da.nameplate!=="undefined"){if(typeof _da.nameplate.name!=="undefined")d=_da.nameplate.name;if(typeof _da.nameplate.id!=="undefined")i=_da.nameplate.id;if(typeof _da.nameplate.year!=="undefined")h=_da.nameplate.year}if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")c=_da.der.name;if(typeof _da.der.id!=="undefined")f=_da.der.id}if(d!=""){j={ViewedVehicle:{_year:h,_brand:g,_nameplate:i+":"+d,_trim:f+":"+c,_interior:"",_exterior:""},metadata:{active:"true"}};
b=true}}if(typeof _da.events!=="undefined"){if(typeof guxPersonalisation!=="undefined")if(typeof guxPersonalisation.psn.profile.kba!=="undefined")e=guxPersonalisation.psn.profile.kba;for(c=0;c<_da.events.length;c++){a=_da.events[c];if(a=="event2")if(e.search("BAPC")==-1){p={KBAEvent:{_KBA:"BAPC"},metadata:{active:"true"}};b=true}if(a=="event3")if(e.search("RAQC")==-1){q={KBAEvent:{_KBA:"RAQC"},metadata:{active:"true"}};b=true}if(a=="event15")if(e.search("BRQC")==-1){o={KBAEvent:{_KBA:"BRQC"},metadata:{active:"true"}};
b=true}if(a=="event20")if(e.search("RTDC")==-1){n={KBAEvent:{_KBA:"RTDC"},metadata:{active:"true"}};b=true}}}if(typeof guxPersonalisation!=="undefined"){if(typeof guxPersonalisation.psn.profile.authid!=="undefined"){m={ExternalRef:{_type:"DFL",_id:guxPersonalisation.psn.profile.authid},metadata:{active:"true"}};b=true}if(typeof guxPersonalisation.psn.profile.id!=="undefined"){l={ExternalRef:{_type:"DFLA",_id:guxPersonalisation.psn.profile.id},metadata:{active:"true"}};b=true}}typeof FPS!=="undefined"&&
b&&FPS.set([j,p,o,n,q,m,l])},trackEvent:function(a){a.type=="fav-dealer"&&typeof FPS!=="undefined"&&FPS.set([{PreferredDealer:{_paCode:a.code},metadata:{active:"true"}}])},trackSocial:function(){},trackField:function(){},preCollection:function(){}}})();

(function(){var b=(window.ND=window.ND||{}).omniture={_init:function(a){this._omtag=a},pageClicks:{},moduleTypes:{},trackPageView:function(a){if(typeof a.login!=="undefined")s.eVar42="x"},createHier1:function(a){s.hier1=typeof a!=="undefined"?a:_da.hier;if(typeof _da.nameplate!=="undefined")s.hier1=s.hier1+":"+_da.nameplate.year+":"+_da.nameplate.cat+":"+_da.nameplate.name},createPageName:function(a){s.pageName=typeof a!=="undefined"&&a!==""?(s.eVar11=s.prop11=a):(s.eVar11=s.prop11=_da.pname);if(_da.funnel.stepname){s.pageName=
s.pageName+":"+_da.funnel.stepname;s.eVar11=s.eVar11+":"+_da.funnel.stepname;s.prop11=s.prop11+":"+_da.funnel.stepname}if(_da.pagenumber){s.pageName+=_da.pagenumber;s.eVar11+=_da.pagenumber;s.prop11+=_da.pagenumber}if(typeof _da.sync!=="undefined")if(typeof _da.sync.version!=="undefined"){s.pageName=s.pageName+":"+_da.sync.version;s.eVar11=s.eVar11+":"+_da.sync.version;s.prop11=s.prop11+":"+_da.sync.version}if(typeof _da.prefix!=="undefined"){s.pageName=_da.prefix+":"+s.pageName;s.eVar11=_da.prefix+
":"+s.eVar11;s.prop11=_da.prefix+":"+s.prop11}if(typeof _da.nameplate!=="undefined")s.pageName=s.pageName+":"+_da.nameplate.name;if(typeof _da.radui!=="undefined"){a=_da.radui;var c=$(window).width();a=a.split("|");if(c>976)s.prop54=s.eVar54=a[0]+a[1];else if(c<977&&c>767)s.prop54=s.eVar54=a[0]+a[2];else if(c<768)s.prop54=s.eVar54=a[0]+a[3]}},setRegion:function(){s.prop2=typeof _da.region!=="undefined"?(s.eVar2=_da.region):(s.eVar2=undefined)},trackDerivativeDetails:function(){s.eVar18=s.eVar19=s.eVar20=
s.eVar21=s.eVar23=s.eVar24=s.eVar25=undefined;if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")s.eVar18=_da.der.name;if(typeof _da.der.colour!=="undefined"&&typeof _da.der.trim!=="undefined")s.eVar19=_da.der.colour+":"+_da.der.trim;if(typeof _da.der.features!=="undefined")s.eVar20=_da.der.features;if(typeof _da.der.options!=="undefined")s.eVar21=_da.der.options;if(typeof _da.der.optionpacks!=="undefined")s.eVar23=_da.der.optionpacks;if(typeof _da.der.engine!=="undefined")s.eVar24=
_da.der.engine;if(typeof _da.der.price!=="undefined")s.eVar25=_da.der.price}},trackLink:function(a){if(a!==undefined){s.channel=_da.funnel.name;s.eVar4=s.prop4=_da.om.lang;s.eVar14=s.prop14=_da.om.client;s.eVar15=s.prop15=_da.om.site;s.prop57=s.eVar57=undefined;s.prop55=s.eVar55=undefined;s.linkTrackVars=_da.om.linkTrackVars;s.linkTrackEvents=_da.om.linkTrackEvents;if(_da.nameplate&&_da.nameplate.name&&a.nameplate===undefined)a.nameplate=_da.nameplate.name;typeof a.pname!=="undefined"?b.createPageName(a.pname):
b.createPageName();typeof a.hier1!=="undefined"&&a.hier1!==""?b.createHier1(a.hier1):b.createHier1(_da.hier);if(a.intcmp)s.eVar13=s.prop13=a.intcmp;s.prop5=a.onclicks;s.prop18=a.leadtype;s.prop48=s.eVar48=a.tool;s.prop49=s.eVar49=a.tooldesc;if(typeof _da.deviceType!=="undefined")s.eVar54=_da.deviceType;s.events=a.events;if(a.year||typeof _da.nameplate!=="undefined"){if(a.year)s.prop12=s.eVar12=a.year;if(typeof _da.nameplate!=="undefined"&&!a.year)s.prop12=s.eVar12=_da.nameplate.year}else s.prop12=
s.eVar12=undefined;if(a.nameplate&&a.nameplate!=="none"){s.prop16=s.eVar16=a.nameplate;a.title=a.titleNameplate=="none"?a.title:a.title+":"+a.nameplate;b.trackDerivativeDetails()}else s.prop16=s.eVar16=undefined;if(a.content){s.prop56=s.eVar56=a.content;s.prop5=s.prop5=="video start"||s.prop5=="video finish"||s.prop5=="video complete"?s.prop5:s.prop5+":"+a.content}else s.prop56=s.eVar56=undefined;b.setRegion();s.prop24=typeof a.moduletype!=="undefined"?a.moduletype:undefined;s.prop25=typeof a.modulename!==
"undefined"?a.modulename:undefined;b.setModulePage(a.moduleaction);b.createSearchTag(a);var c=a.title;if(typeof _da.prefix!=="undefined"&&a.type!=="e")c=_da.prefix+":"+c;if(typeof a.freq==="undefined")s.tl(a.link,a.type,c);else if(a.freq=="page"&&!b.pageClicks[c]){s.tl(a.link,a.type,c);b.pageClicks[c]=c}else if(a.freq=="category"&&(!b.pageClicks[a.onclicks]||a.moduletype&&!b.moduleTypes[a.moduletype])){s.tl(a.link,a.type,c);b.pageClicks[a.onclicks]=a.onclicks;if(a.moduletype)b.moduleTypes[a.moduletype]=
a.moduletype}}},trackMedia:function(a){s.prop56=a.content?(s.eVar56=a.content):(s.eVar56=undefined);s.prop57=a.progress&&a.content?(s.eVar57=a.content+":"+a.progress):(s.eVar57=undefined);s.eVar55=a.segment?a.segment:undefined;s.prop55=a.content&&s.pageName?a.content+":"+s.pageName:undefined;s.pev3=a.mediaType?a.mediaType:undefined;s.pe=a.linkType?a.linkType:undefined;s.events=a.events?a.events:undefined;s.prop5=a.onclicks?a.onclicks:undefined;s.prop24=typeof a.moduletype!=="undefined"?a.moduletype:
undefined;s.prop25=typeof a.modulename!=="undefined"?a.modulename:undefined;b.setModulePage(a.moduleaction);s.t()},trackEvent:function(){},trackSocial:function(){},trackField:function(){},createSearchTag:function(a){if(typeof a!=="undefined"&&a.search=="none"){s.eVar22=s.prop22=undefined;s.eVar35=s.prop21=undefined}else{s.eVar22=typeof _da.searchKeyword!=="undefined"?(s.prop22=_da.searchKeyword):(s.prop22=undefined);s.eVar35=typeof a!=="undefined"&&typeof a.totalresult!=="undefined"&&typeof a.resultnumber!==
"undefined"?(s.prop21=a.resultnumber+":"+a.totalresult):typeof _da.totalresult!=="undefined"?typeof _da.resultnumber!=="undefined"?(s.prop21=_da.resultnumber+":"+_da.totalresult):(s.prop21=_da.totalresult):(s.prop21=undefined)}},setModulePage:function(a){if(typeof a!=="undefined"&&typeof _da.module!=="undefined"&&typeof _da.module.page!=="undefined"&&typeof _da.module.template!=="undefined"){moduleAction=a;s.prop23=_da.module.page+":"+_da.module.template+":"+moduleAction}else s.prop23=undefined},
preCollection:function(a,c){s.eVar4=s.prop4=_da.om.lang;s.eVar14=s.prop14=_da.om.client;s.eVar15=s.prop15=_da.om.site;s.prop56=s.eVar56=undefined;if(typeof c!=="undefined"){b.createPageName(c.pname);b.createHier1(c.hier)}else{b.createPageName(undefined);b.createHier1(undefined)}s.channel=_da.funnel.name;s.prop39=s.prop5=undefined;if(typeof _da.nameplate!=="undefined"){s.prop16=s.eVar16=_da.nameplate.name;s.prop12=s.eVar12=_da.nameplate.year}else{s.prop12=s.eVar12=s.prop16=s.eVar16=undefined;s.prop36=
s.eVar34=undefined}b.trackDerivativeDetails();if(typeof c!=="undefined"&&c.tool!=="undefined"){s.prop48=s.eVar48=c.tool;if(c.tooldesc!=="undefined")s.prop49=s.eVar49=c.tooldesc}else if(typeof _da.tool!=="undefined"){s.prop48=s.eVar48=_da.tool.name;s.prop49=_da.tool.descriptor?(s.eVar49=_da.tool.descriptor):(s.eVar49=undefined)}else s.prop49=s.eVar49=s.prop48=s.eVar48=undefined;if(typeof _da.lead!=="undefined"){s.prop18=s.eVar28=_da.lead.type;s.prop20=_da.lead.optins?_da.lead.optins:undefined}else s.prop18=
s.eVar28=s.prop20=undefined;b.setRegion();if(typeof _da.events!=="undefined"){s.events="";for(a=0;a<_da.events.length;a++)s.events+=s.events.length===0?_da.events[a]:","+_da.events[a]}else s.events="";s.prop1=typeof _da.dealer!=="undefined"&&typeof _da.dealer.code!=="undefined"?(s.eVar1=_da.dealer.code):(s.eVar1=undefined);s.prop42=typeof _da.user!=="undefined"&&typeof _da.user.loggedin!=="undefined"?(s.eVar42=_da.user.loggedin):(s.eVar42=undefined);s.prop45=typeof _da.user!=="undefined"&&typeof _da.user.registered!==
"undefined"?(s.eVar45=_da.user.registered):(s.eVar45=undefined);s.prop5=typeof _da.onclicks!=="undefined"?_da.onclicks:undefined;b.createSearchTag();b.setModulePage("impress")}}})();

var ND=function(l,e){var h={},j=[];h.omniture=ND.omniture;h.fps=ND.fps;h.webtrends=function(){function d(a,b){b=b||[];a.dcsMultiTrack.apply(a,b)}var c={each:function(a,b,f){e.each(a.split(","),function(g,k){c[k].apply(this,[b,f])})},title:function(a,b){b&&"title"in b&&e.merge(a,["WT.ti",b.title])},funnel:function(a,b){b&&"funnel"in b&&e.merge(a,["WT.si_n",b.funnel])},step:function(a,b){b&&"step"in b&&e.merge(a,["WT.si_p",b.step])},event:function(a){e.merge(a,["WT.dl","99"])},link:function(a){e.merge(a,
["WT.dl","0"])},share:function(a,b){b&&"socialId"in b&&e.merge(a,["WT.z_share",b.socialId])},uri:function(a,b){b&&"uri"in b&&e.merge(a,["DCS.dcsuri",b.uri])},field:function(a,b){if(b&&"field"in b){var f=b.field;if(f.name)e.merge(a,["DCSext."+b.field.name,b.field.value||""]);else if(f.constructor==Array){b=[];for(var g=f.length;--g>-1;)f[g].name&&b.push("DCSext."+f[g].name,f[g].value||"");e.merge(a,b)}}},meta:function(a,b){return e(['<meta name="',a,'" content="',b,'"/>'].join(""))}};return{_init:function(a){this._tag=
a},trackPageView:function(a){var b=[];c.each("title,uri",b,a);d(this._tag,b)},trackLink:function(a){var b=[];c.each("title,uri,link",b,a);d(this._tag,b)},trackEvent:function(a){var b=[];c.each("event,title,uri",b,a);d(this._tag,b)},trackSocial:function(a){var b=[];c.each("event,title,uri,share",b,a);d(this._tag,b)},trackField:function(a){var b=[];c.each("event,field,funnel,step",b,a);d(this._tag,b)},preCollection:function(a){a=a.funnel||false;var b=e("meta:last");a&&a.name&&b.after(c.meta("WT.si_n",
a.name));a&&a.stepname&&b.after(c.meta("WT.si_p",a.stepname))}}}();l.analytics={create:function(d,c){function a(){}a.prototype=h[d];var b=new a;b._init(c);delete b._init;b.name=d;return b},register:function(d){if(d){for(i=0;i<j.length;i++)if(d.name===j[i].name)return;e.each({pageview:"trackPageView",link:"trackLink",social:"trackSocial",event:"trackEvent",field:"trackField",media:"trackMedia"},function(c,a){a in d&&e.subscribe("/analytics/"+c+"/",function(b,f){return function(g,k){f.apply(b,[k])}}(d,
d[a]))});j.push(d)}},grabber:function(){function d(c){return c=(c||"").toLowerCase().replace(/[\s'"!@#$%\^\&\*\(\),\.<>;:\[\]{}?+/\\-_=]/g,"-").replace(/(-){2,}/g,"-").replace(/^-|-$/g,"")}return function(c){var a,b;if(c.link){a=e(c.link);a=a.attr("data-tracking-value")||a.attr("title")||a.text()||"";b=d(a)}if(c.meta){a=e(c.meta);a=a.attr("content")||"";b=d(a)}if(c.inner){a=e(c.inner);a=a.text()||"";b=d(a)}if(c.name){a=c.name;b=d(c.name)}return{value:a,url:b}}}};return l}(window.ND||{},jQuery);

(function(a,b){var j=function(){if(!a._da||!a.ND||!a.ND.analytics)return false;return true},r=function(){if(a._tag&&a._da.wt&&a._tag===a._da.wt&&a.WebTrends)return true;return false},p=function(){if(a._da.om&&(typeof a._da.om.singlePageApp==="undefined"||a._da.om.singlePageApp===false)&&(a._da.om.mobileApp===undefined||a._da.om.mobileApp===false))return true;return false},q=function(){if(!j())return false;if(a._da.om&&a._da.om.singlePageApp===true)return true;return false},t=function(){if(!j())return false;
if(a._da.om&&a._da.om.mobileApp===true)return true;return false},g=function(c){if(_da.skipTracking==undefined||a._da.skipTracking===false){var d=ND.analytics.create("fps",s);ND.analytics.register(d);d.preCollection(_da,c);d.trackPageView(c)}},u=function(c,d,e){c=new WebTrends;b.extend(c,d);c.dcsGetId();e=ND.analytics.create("webtrends",c);ND.analytics.register(e);d=b.extend({},_da);delete d.wt;e.preCollection(d);c.dcsCollect();ND.analytics._tag=c},i=function(c){if(_da.skipTracking==undefined||a._da.skipTracking===
false){var d=ND.analytics.create("omniture",s);ND.analytics.register(d);var e=b(".searchresults-list .no-of-results");if(e.length>0)_da.pname=_da.pname+":"+b.trim(e.html());if(typeof _da.module!=="undefined"&&typeof _da.module.page!=="undefined"&&typeof _da.module.template=="undefined"){var k=null,l=null,f=null;if(b.cookie("dfy.u"))k=b.parseJSON(b.cookie("dfy.u"));if(b.cookie("dfy.uuid"))l=b.parseJSON(b.cookie("dfy.uuid"));if(k!==null)f="owner";else if(l===null)f="new";else if(l!=null&&k===null)f=
"return";if(f!=null){_da.module.template=f;b("section.personalisation a[href*='intcmp='],section.smartnextsteps a[href*='intcmp='],section.personalisation form[action*='intcmp=']").each(function(){var m="",h="",n=b(this).attr("href"),o=b(this).attr("action");if(n!=null&&typeof n!=="undefined"){m="href";h=n}else if(o!=null&&typeof o!=="undefined"){m="action";h=o}h.indexOf("STATUS")!=-1&&b(this).attr(m,h.replace("STATUS",f))})}}d.preCollection(_da,c);s.t()}},v=function(){if(j()){if(r()){var c,d=a._tag,
e;b(document).ready(function(){u(c,d,e);ND.analyticsBinder.bind()});a._tag=a._da.wt=c}if(p()){b(document).ready(function(){if(p()){i();g();ND.analyticsBinder.bind()}});a._tag_om=a._da.om}t()&&b(document).bind("mobileinit",function(){b(document).bind("pagechange",function(){i();g();ND.analyticsBinder.bind()});a._tag_om=a._da.om})}};v();ND.analyticsTag=ND.analyticsTag||{trackOmnitureSinglePageApp:function(){if(q()){i();g();if(ND.analyticsTag._setOnce!==undefined){ND.analyticsTag._setOnce();delete ND.analyticsTag._setOnce}}},
trackOmniturePage:function(c){i(c);g(c)},_setOnce:function(){a._tag_om=a._da.om;ND.analyticsBinder.bind()},isSinglePageAppOmnitureConfigured:q}})(window,jQuery);

var ND=window.ND=window.ND||{};ND.Utils=window.ND.Utils=window.ND.Utils||{};ND.Utils.isTouchDevice=function(){if(/iPhone|iPad|iPod/.test(navigator.platform)||Modernizr!==undefined&&Modernizr.touch)return true;return false};ND.Utils.lazyLoadImage=function(c){$(c?c:"div.thumb-lazy").each(function(){var b=$(this),d=b.data("src"),a=new Image;a.onload=function(){b.html(a);a.alt=b.data("alt")};a.src=d})};

ND.Context=function(h){var j={excludedModels:""},f={restServices:{fetchVOIData:function(a){f.restServices.ajaxCall(a,function(c){f.displayVehicleBanner(c);f.displayDisclaimer(c);f.populateModelDropdown(c);f.populateVehicleDropdown(c)})},fetchColorData:function(a,c){f.restServices.ajaxCall(a,function(b){var d=0,e=[];for(d=0;d<b.length;d++)e.push({name:b[d].name,order:b[d].order,code:b[d].code});c(e)})},ajaxCall:function(a,c){h.ajax({url:a,dataType:"json",success:function(b){typeof b!=="undefined"&&
b!=null&&c(b)},error:function(){}})}},extractContext:function(a,c){a+=4;var b=c.indexOf("&",a);return c.substring(a,b>a?b:c.length)},addContextToHref:function(a,c){var b=a.attr("href"),d;if(typeof b!=="undefined")if((d=b.indexOf("ctx="))>0){var e=b.lastIndexOf("&");if(e<d)e=b.length;d=b.substring(d,e);if(d!==c){b=b.replace(d,c);a.attr("href",b).attr("data-ajax","false")}}else if(b.length>1){b+=b.indexOf("?")>0?"&":"?";a.attr("href",b+c).attr("data-ajax","false")}},addDropdownChangeListeners:function(a,
c){var b=h("#voi-series-name"),d=h("#voi-colour-dd");if(b.length>0){var e;if(f.firstTime){e=b.html();f.firstTime=false}a.on("change",function(g){g.stopImmediatePropagation();g=f.findIdForName(a.val(),null,c);if(g.m!=null){f.setModelDropDownValue(g);f.populateSeriesDropdown(b,c[g.mIdx].derivatives,e,d)}else f.populateSeriesDropdown(b,[],e,d)});b.on("change",function(){var g=f.findIdForName(a.val(),b.val(),c);g.d!=null&&f.setDerivativeDropDownValue(g);d.length>0&&f.populateColorDropdown(b,h("#voi-colour-dd"))});
d.length>0&&d.on("change",function(){f.setColorDropDownValue(d)})}},addDealerDropDownListeners:function(a,c){var b=h("#FormSales_Derivative"),d=h("#FormSales_Color"),e=b.html();a.on("change",function(){if(a.get(0).selectedIndex!==0)b.parent().css("display","block");else{b.parent().css("display","none");d.parent().css("display","none")}var g=f.findIdForName(a.val(),null,c);g.m!=null?f.populateSeriesDropdown(b,c[g.mIdx].derivatives,e,d):f.populateSeriesDropdown(b,[],e,d)});b.on("change",function(){b.get(0).selectedIndex!==
0?d.parent().css("display","block"):d.parent().css("display","none");f.findIdForName(a.val(),b.val(),c);d.length>0&&f.populateColorDropdown(b,d)});d.length>0&&d.on("change",function(){f.setColorDropDownValue(d)})},findIdForName:function(a,c,b){var d,e,g={m:null,d:null,mIdx:-1,dIdx:-1,dy:null,dcks:null,mcks:null,dqcode:null,dtdcode:null,dbcode:null};for(d=0;d<b.length;d++)if(a===b[d].name){g.m=b[d].id;g.mcks=b[d].modelCode;g.mIdx=d;if(c!=null)for(a=0;a<b[d].derivatives.length;a++){e=b[d].derivatives[a];
if(c===e.name){g.dcks=e.derivativeCode;g.dy=e.year;g.d=e.id;g.dIdx=a;g.dqcode=e.quoteFulfilmentCode;g.dtdcode=e.testdriveFulfilmentCode;g.dbcode=e.brochureFulfilmentCode;break}}break}return g},firstTime:true,displayVehicleBanner:function(a){var c=k.toJSONFromUrl();if(c!=null&&typeof c.m!=="undefined"&&c.m!=null){var b=h("#voi-banner"),d=h(".voi-banner"),e;if(b.length>0&&d.length>0)for(i=0;i<a.length;i++)if(c.m===a[i].id){e=a[i][j.formRequestType+"Banner"];if(typeof e!=="undefined"&&e!=null&&e!==""){d.each(function(){h(this).removeAttr("style")});
a=new Image;a.onload=function(){d.each(function(){h(this).find("img").attr("src",e)})};a.src=e}break}}},displayDisclaimer:function(a){var c=k.toJSONFromUrl();if(c!=null&&typeof c.m!=="undefined"&&c.m!=null){var b=h("#voi-disclaimer"),d=null,e=false,g;if(b.length>0)for(g=0;g<a.length;g++)if(c.m===a[g].id){if(typeof c.d!=="undefined"&&c.d!=null)for(d=0;d<a[g].derivatives.length;d++)if(c.d===a[g].derivatives[d].id){d=a[g].derivatives[d]["derivative"+j.formRequestTypeUppercase+"Disclaimer"];if(typeof d!==
"undefined"&&d!=null){b.hide().html(d).fadeIn("fast");e=true}break}if(!e){d=a[g][j.formRequestType+"Disclaimer"];typeof d!=="undefined"&&d!=null&&b.hide().html(d).fadeIn("fast")}}}},populateModelDropdown:function(a){var c=h("#voi-model-name");if(c.length>0){var b=[],d=h("#modelseries"),e=[],g=a.slice(0);if(d.length>0)if((d=h.parseJSON(d.html()).excludedModels)&&d.length>0){d=d.split(",");for(var l=0;l<a.length;l++){var n=0;if(d&&d instanceof Array&&d.length>0){for(var m=0;m<d.length;m++)h.trim(a[l].name)==
h.trim(d[m])&&n++;n==0&&e.push(a[l])}}}if(e.length>0)g=e.slice(0);for(e=0;e<g.length;e++)b.push('<option value="'+g[e].name+'">'+g[e].name+"</options>");c.append(b.join(""));ND.FormBuilder&&ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(c);f.addDropdownChangeListeners(c,a);b=k.toJSONFromUrl();if(b!=null&&typeof b.m!=="undefined"&&b.m!=null)for(e=0;e<a.length;e++)if(b.m===a[e].id){c.val(a[e].name);f.setModelDropDownValue(b);c.trigger("change");break}f.refreshMobileDropdown(c)}},
populateVehicleDropdown:function(a){for(var c=h("#FormSales_Model"),b=[],d=a.slice(0),e=0;e<d.length;e++)b.push('<option value="'+d[e].name+'">'+d[e].name+"</option>");c.append(b.join(""));f.addDealerDropDownListeners(c,a)},setHiddenInputValue:function(a,c){if(c!=undefined){a=h(a);a.length>0&&a.val(c)}},setModelDropDownValue:function(a){f.setHiddenInputValue("#voi-model-id",a.m);f.setHiddenInputValue("#voi-model-cks-code",a.mcks)},populateSeriesDropdown:function(a,c,b,d){if(typeof c!=="undefined"&&
c!=null&&c.length>0){var e=[],g;for(g=0;g<c.length;g++)e.push('<option value="'+c[g].name+'" data-derivativeid="'+c[g].id+'">'+c[g].name+"</options>");a.empty().html(b).append(e.join(""));ND.FormBuilder&&ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(a);b=k.toJSONFromUrl();if(b!=null&&typeof b.d!=="undefined"&&b.d!=null)for(g=0;g<c.length;g++){d=c[g];if(b.d===d.id){a.val(d.name);f.setDerivativeDropDownValue(b);a.trigger("change");break}}else f.populateColorDropdown(a,d)}else{a.html(b);
f.populateColorDropdown(a,d)}f.refreshMobileDropdown(a)},setDerivativeDropDownValue:function(a){f.setHiddenInputValue("#voi-series-id",a.d);f.setHiddenInputValue("#voi-series-cks-code",a.dcks);f.setHiddenInputValue("#voi-series-year",a.dy);f.setHiddenInputValue("#voi-series-quote-code",a.dqcode);f.setHiddenInputValue("#voi-series-brochure-code",a.dbcode);f.setHiddenInputValue("#voi-series-testdrive-code",a.dtdcode)},colorDropdownFirstOption:null,populateColorDropdown:function(a,c){if(c.length>0){if(f.colorDropdownFirstOption==
null)f.colorDropdownFirstOption=c.html();a=a.find(":selected").data("derivativeid");if(typeof a!=="undefined"&&a!=null){a=j.colorUrl.replace("{site}",j.site).replace("{priceZone}",j.priceZone).replace("{derivative}",a);c.empty().html('<option value="">'+j.pleaseWaitMsg+"</options>");f.restServices.fetchColorData(a,function(b){var d=[],e;for(e=0;e<b.length;e++)d.push('<option value="'+b[e].code+'">'+b[e].name+"</options>");c.empty().html(f.colorDropdownFirstOption).append(d.join(""));ND.FormBuilder&&
ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(c);f.refreshMobileDropdown(c)})}else c.empty().html(f.colorDropdownFirstOption);f.refreshMobileDropdown(c)}},refreshMobileDropdown:function(a){h.mobile&&a.selectmenu("refresh",true)},setColorDropDownValue:function(a){f.setHiddenInputValue("#voi-colour-code",a.find(":selected").val());f.setHiddenInputValue("#voi-colour-name",a.find(":selected").text())},init:function(){var a=h("#rest-services"),c=h("#modelseries"),b=h("#common-config");
h("#FormSales_Derivative").parent().css("display","none");h("#FormSales_Color").parent().css("display","none");k.legacyDisplayVehicleBanner();k.legacyDisplayVehicleDisclaimer();if(a.length>0&&c.length>0){h.extend(j,JSON.parse(c.html()),JSON.parse(a.html()),JSON.parse(b.html()));if(j.formRequestType){a=j.formRequestType.charAt(0);j.formRequestTypeUppercase=j.formRequestType;j.formRequestType=j.formRequestType.replace(a,a.toLowerCase())}j.voiUrl=j.voiUrl.replace("{site}",j.site).replace("{makeName}",
j.make);j.voiUrl+=j.excludedModels;f.restServices.fetchVOIData(j.voiUrl)}}},k={isContextInitialised:false,startUp:function(){if(!k.isContextInitialised){k.addContextToLinks();k.addPostcodeContextToLinks();f.init();k.isContextInitialised=true}},toJSON:function(a){var c={};if(typeof a!=="undefined"){params=a.split(";");for(a=0;a<params.length;a++){var b=params[a].split(":");if(b.length==2)c[b[0]]=b[1]}}return c},buildContext:function(a){var c=[];typeof _da!=="undefined"&&typeof _da.nameplate!=="undefined"&&
typeof _da.nameplate.id!=="undefined"&&_da.nameplate.id!=""&&c.push("m:"+_da.nameplate.id);typeof _da!=="undefined"&&typeof _da.der!=="undefined"&&typeof _da.der.id!=="undefined"&&_da.der.id!=""&&c.push("d:"+_da.der.id);if(typeof a!=="undefined"&&a!=null)for(key in a)c.push(key+":"+a[key]);return c.length>0?"ctx="+c.join(";"):""},toJSONFromUrl:function(a){a=decodeURIComponent(a||window.location.href);var c=a.indexOf("ctx="),b=null;if(c>0)b=f.extractContext(c,a);else{var d=c=null;if((d=h('div[data-role="page"]').filter(":visible"))!=
null&&(c=d.attr("data-url"))!=null)if((c=c.indexOf("ctx="))>0)b=f.extractContext(c,a)}if(b!=null)b=k.toJSON(b);return b},addContextToLinks:function(){var a=k.buildContext();h("a.ctx-voi").each(function(){f.addContextToHref(h(this),a)})},addPostcodeContextToLinks:function(){h.publish("shopping.pref.retrieve",function(a,c){if(typeof c!=="undefined"&&c!=null&&typeof c.postcode!=="undefined"&&c.postcode!=null){var b=k.buildContext({pc:c.postcode});h("a.ctx-pc").each(function(){var d=h(this);if(!d.hasClass("ctx-pc-added")){f.addContextToHref(d,
b);d.attr("data-ajax","false")}})}})},legacyDisplayVehicleBanner:function(){var a=k.toJSONFromUrl();if(a!=null&&typeof a.m!=="undefined"&&a.m!=null){var c=h("#voi-banner"),b=h("#model-context-banner");if(c.size()&&b.size()){b=JSON.parse(b.html());typeof b[a.m]!=="undefined"&&c.html('<img src="'+b[a.m]+'" />')}}},legacyDisplayVehicleDisclaimer:function(){var a=k.toJSONFromUrl(),c=h("#voi-disclaimer");if(a!=null&&c.size()){var b=h("#derivative-context-disclaimer");if(typeof a.d!=="undefined"&&a.d!=
null&&b.size()){b=b.embeddedData();if(b[a.d]!=null){a=b[a.d];c.hide().html(a).fadeIn("fast")}else k.legacyDisplayNameplateDisclaimer(a,c)}else k.legacyDisplayNameplateDisclaimer(a,c)}},legacyDisplayNameplateDisclaimer:function(a,c){var b=h("#model-context-disclaimer");if(typeof a.m!=="undefined"&&a.m!=null&&b.size()){b=b.embeddedData();if(b[a.m]!=null){a=b[a.m];c.hide().html(a).fadeIn("fast")}}},legacyPopulateModelDropdown:function(a,c,b){var d=k.toJSONFromUrl();a=h("#"+a);if(d!=null&&typeof d.m!==
"undefined"&&d.m!=null&&a.length>0)if((b=b[d.m])&&b!=null){a.val(b);a.trigger("change");c=h("#"+c);c.size()&&c.val(d.m)}},legacyPopulateSeriesDropdown:function(a,c,b){var d=k.toJSONFromUrl();a=h("#"+a);if(d!=null&&typeof d.d!=="undefined"&&d.d!=null&&a.length>0)if((b=b[d.d])&&b!=null){a.val(b);a.trigger("change");c=h("#"+c);c.size()&&c.val(d.d)}}};h(document).ready(k.startUp);return k}(jQuery);

(function(){var w=this,R=w._,r={},l=Array.prototype,s=Object.prototype,D=l.push,j=l.slice,t=l.concat,o=s.toString,S=s.hasOwnProperty,E=l.forEach,F=l.map,G=l.reduce,H=l.reduceRight,I=l.filter,J=l.every,K=l.some,u=l.indexOf,L=l.lastIndexOf;s=Array.isArray;var M=Object.keys,x=Function.prototype.bind,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this._wrapped=a};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports)exports=module.exports=c;
exports._=c}else w._=c;c.VERSION="1.6.0";var k=c.each=c.forEach=function(a,b,d){if(a==null)return a;if(E&&a.forEach===E)a.forEach(b,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f;e++){if(b.call(d,a[e],e,a)===r)return}else{var g=c.keys(a);e=0;for(f=g.length;e<f;e++)if(b.call(d,a[g[e]],g[e],a)===r)return}return a};c.map=c.collect=function(a,b,d){var e=[];if(a==null)return e;if(F&&a.map===F)return a.map(b,d);k(a,function(f,g,h){e.push(b.call(d,f,g,h))});return e};c.reduce=c.foldl=c.inject=
function(a,b,d,e){var f=arguments.length>2;if(a==null)a=[];if(G&&a.reduce===G){if(e)b=c.bind(b,e);return f?a.reduce(b,d):a.reduce(b)}k(a,function(g,h,i){if(f)d=b.call(e,d,g,h,i);else{d=g;f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};c.reduceRight=c.foldr=function(a,b,d,e){var f=arguments.length>2;if(a==null)a=[];if(H&&a.reduceRight===H){if(e)b=c.bind(b,e);return f?a.reduceRight(b,d):a.reduceRight(b)}var g=a.length;if(g!==+g){var h=c.keys(a);g=h.length}k(a,
function(i,m,n){m=h?h[--g]:--g;if(f)d=b.call(e,d,a[m],m,n);else{d=a[m];f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};c.find=c.detect=function(a,b,d){var e;N(a,function(f,g,h){if(b.call(d,f,g,h)){e=f;return true}});return e};c.filter=c.select=function(a,b,d){var e=[];if(a==null)return e;if(I&&a.filter===I)return a.filter(b,d);k(a,function(f,g,h){b.call(d,f,g,h)&&e.push(f)});return e};c.reject=function(a,b,d){return c.filter(a,function(e,f,g){return!b.call(d,
e,f,g)},d)};c.every=c.all=function(a,b,d){b||(b=c.identity);var e=true;if(a==null)return e;if(J&&a.every===J)return a.every(b,d);k(a,function(f,g,h){if(!(e=e&&b.call(d,f,g,h)))return r});return!!e};var N=c.some=c.any=function(a,b,d){b||(b=c.identity);var e=false;if(a==null)return e;if(K&&a.some===K)return a.some(b,d);k(a,function(f,g,h){if(e||(e=b.call(d,f,g,h)))return r});return!!e};c.contains=c.include=function(a,b){if(a==null)return false;if(u&&a.indexOf===u)return a.indexOf(b)!=-1;return N(a,
function(d){return d===b})};c.invoke=function(a,b){var d=j.call(arguments,2),e=c.isFunction(b);return c.map(a,function(f){return(e?b:f[b]).apply(f,d)})};c.pluck=function(a,b){return c.map(a,c.property(b))};c.where=function(a,b){return c.filter(a,c.matches(b))};c.findWhere=function(a,b){return c.find(a,c.matches(b))};c.max=function(a,b,d){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var e=-Infinity,f=-Infinity;k(a,function(g,h,i){h=b?b.call(d,g,h,i):g;if(h>f){e=g;
f=h}});return e};c.min=function(a,b,d){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var e=Infinity,f=Infinity;k(a,function(g,h,i){h=b?b.call(d,g,h,i):g;if(h<f){e=g;f=h}});return e};c.shuffle=function(a){var b,d=0,e=[];k(a,function(f){b=c.random(d++);e[d-1]=e[b];e[b]=f});return e};c.sample=function(a,b,d){if(b==null||d){if(a.length!==+a.length)a=c.values(a);return a[c.random(a.length-1)]}return c.shuffle(a).slice(0,Math.max(0,b))};var v=function(a){if(a==null)return c.identity;
if(c.isFunction(a))return a;return c.property(a)};c.sortBy=function(a,b,d){b=v(b);return c.pluck(c.map(a,function(e,f,g){return{value:e,index:f,criteria:b.call(d,e,f,g)}}).sort(function(e,f){var g=e.criteria,h=f.criteria;if(g!==h){if(g>h||g===void 0)return 1;if(g<h||h===void 0)return-1}return e.index-f.index}),"value")};var y=function(a){return function(b,d,e){var f={};d=v(d);k(b,function(g,h){h=d.call(e,g,h,b);a(f,h,g)});return f}};c.groupBy=y(function(a,b,d){c.has(a,b)?a[b].push(d):(a[b]=[d])});
c.indexBy=y(function(a,b,d){a[b]=d});c.countBy=y(function(a,b){c.has(a,b)?a[b]++:(a[b]=1)});c.sortedIndex=function(a,b,d,e){d=v(d);b=d.call(e,b);for(var f=0,g=a.length;f<g;){var h=f+g>>>1;d.call(e,a[h])<b?(f=h+1):(g=h)}return f};c.toArray=function(a){if(!a)return[];if(c.isArray(a))return j.call(a);if(a.length===+a.length)return c.map(a,c.identity);return c.values(a)};c.size=function(a){if(a==null)return 0;return a.length===+a.length?a.length:c.keys(a).length};c.first=c.head=c.take=function(a,b,d){if(a!=
null){if(b==null||d)return a[0];if(b<0)return[];return j.call(a,0,b)}};c.initial=function(a,b,d){return j.call(a,0,a.length-(b==null||d?1:b))};c.last=function(a,b,d){if(a!=null){if(b==null||d)return a[a.length-1];return j.call(a,Math.max(a.length-b,0))}};c.rest=c.tail=c.drop=function(a,b,d){return j.call(a,b==null||d?1:b)};c.compact=function(a){return c.filter(a,c.identity)};var O=function(a,b,d){if(b&&c.every(a,c.isArray))return t.apply(d,a);k(a,function(e){if(c.isArray(e)||c.isArguments(e))b?D.apply(d,
e):O(e,b,d);else d.push(e)});return d};c.flatten=function(a,b){return O(a,b,[])};c.without=function(a){return c.difference(a,j.call(arguments,1))};c.partition=function(a,b,d){b=v(b);var e=[],f=[];k(a,function(g){(b.call(d,g)?e:f).push(g)});return[e,f]};c.uniq=c.unique=function(a,b,d,e){if(c.isFunction(b)){e=d;d=b;b=false}d=d?c.map(a,d,e):a;var f=[],g=[];k(d,function(h,i){if(b?!i||g[g.length-1]!==h:!c.contains(g,h)){g.push(h);f.push(a[i])}});return f};c.union=function(){return c.uniq(c.flatten(arguments,
true))};c.intersection=function(a){var b=j.call(arguments,1);return c.filter(c.uniq(a),function(d){return c.every(b,function(e){return c.contains(e,d)})})};c.difference=function(a){var b=t.apply(l,j.call(arguments,1));return c.filter(a,function(d){return!c.contains(b,d)})};c.zip=function(){for(var a=c.max(c.pluck(arguments,"length").concat(0)),b=new Array(a),d=0;d<a;d++)b[d]=c.pluck(arguments,""+d);return b};c.object=function(a,b){if(a==null)return{};for(var d={},e=0,f=a.length;e<f;e++)if(b)d[a[e]]=
b[e];else d[a[e][0]]=a[e][1];return d};c.indexOf=function(a,b,d){if(a==null)return-1;var e=0,f=a.length;if(d)if(typeof d=="number")e=d<0?Math.max(0,f+d):d;else{e=c.sortedIndex(a,b);return a[e]===b?e:-1}if(u&&a.indexOf===u)return a.indexOf(b,d);for(;e<f;e++)if(a[e]===b)return e;return-1};c.lastIndexOf=function(a,b,d){if(a==null)return-1;var e=d!=null;if(L&&a.lastIndexOf===L)return e?a.lastIndexOf(b,d):a.lastIndexOf(b);for(d=e?d:a.length;d--;)if(a[d]===b)return d;return-1};c.range=function(a,b,d){if(arguments.length<=
1){b=a||0;a=0}d=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/d),0),f=0,g=new Array(e);f<e;){g[f++]=a;a+=d}return g};var z=function(){};c.bind=function(a,b){var d,e;if(x&&a.bind===x)return x.apply(a,j.call(arguments,1));if(!c.isFunction(a))throw new TypeError;d=j.call(arguments,2);return e=function(){if(!(this instanceof e))return a.apply(b,d.concat(j.call(arguments)));z.prototype=a.prototype;var f=new z;z.prototype=null;var g=a.apply(f,d.concat(j.call(arguments)));if(Object(g)===g)return g;
return f}};c.partial=function(a){var b=j.call(arguments,1);return function(){for(var d=0,e=b.slice(),f=0,g=e.length;f<g;f++)if(e[f]===c)e[f]=arguments[d++];for(;d<arguments.length;)e.push(arguments[d++]);return a.apply(this,e)}};c.bindAll=function(a){var b=j.call(arguments,1);if(b.length===0)throw new Error("bindAll must be passed function names");k(b,function(d){a[d]=c.bind(a[d],a)});return a};c.memoize=function(a,b){var d={};b||(b=c.identity);return function(){var e=b.apply(this,arguments);return c.has(d,
e)?d[e]:(d[e]=a.apply(this,arguments))}};c.delay=function(a,b){var d=j.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};c.defer=function(a){return c.delay.apply(c,[a,1].concat(j.call(arguments,1)))};c.throttle=function(a,b,d){var e,f,g,h=null,i=0;d||(d={});var m=function(){i=d.leading===false?0:c.now();h=null;g=a.apply(e,f);e=f=null};return function(){var n=c.now();if(!i&&d.leading===false)i=n;var p=b-(n-i);e=this;f=arguments;if(p<=0){clearTimeout(h);h=null;i=n;g=a.apply(e,
f);e=f=null}else if(!h&&d.trailing!==false)h=setTimeout(m,p);return g}};c.debounce=function(a,b,d){var e,f,g,h,i,m=function(){var n=c.now()-h;if(n<b)e=setTimeout(m,b-n);else{e=null;if(!d){i=a.apply(g,f);g=f=null}}};return function(){g=this;f=arguments;h=c.now();var n=d&&!e;e||(e=setTimeout(m,b));if(n){i=a.apply(g,f);g=f=null}return i}};c.once=function(a){var b=false,d;return function(){if(b)return d;b=true;d=a.apply(this,arguments);a=null;return d}};c.wrap=function(a,b){return c.partial(b,a)};c.compose=
function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};c.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};c.keys=function(a){if(!c.isObject(a))return[];if(M)return M(a);var b=[];for(var d in a)c.has(a,d)&&b.push(d);return b};c.values=function(a){for(var b=c.keys(a),d=b.length,e=new Array(d),f=0;f<d;f++)e[f]=a[b[f]];return e};c.pairs=function(a){for(var b=c.keys(a),d=b.length,e=new Array(d),f=0;f<d;f++)e[f]=
[b[f],a[b[f]]];return e};c.invert=function(a){for(var b={},d=c.keys(a),e=0,f=d.length;e<f;e++)b[a[d[e]]]=d[e];return b};c.functions=c.methods=function(a){var b=[];for(var d in a)c.isFunction(a[d])&&b.push(d);return b.sort()};c.extend=function(a){k(j.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};c.pick=function(a){var b={},d=t.apply(l,j.call(arguments,1));k(d,function(e){if(e in a)b[e]=a[e]});return b};c.omit=function(a){var b={},d=t.apply(l,j.call(arguments,1));for(var e in a)c.contains(d,
e)||(b[e]=a[e]);return b};c.defaults=function(a){k(j.call(arguments,1),function(b){if(b)for(var d in b)if(a[d]===void 0)a[d]=b[d]});return a};c.clone=function(a){if(!c.isObject(a))return a;return c.isArray(a)?a.slice():c.extend({},a)};c.tap=function(a,b){b(a);return a};var A=function(a,b,d,e){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof c)a=a._wrapped;if(b instanceof c)b=b._wrapped;var f=o.call(a);if(f!=o.call(b))return false;switch(f){case "[object String]":return a==
String(b);case "[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;for(var g=d.length;g--;)if(d[g]==a)return e[g]==b;g=a.constructor;var h=b.constructor;if(g!==h&&!(c.isFunction(g)&&g instanceof g&&c.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in
b)return false;d.push(a);e.push(b);g=0;h=true;if(f=="[object Array]"){g=a.length;if(h=g==b.length)for(;g--;)if(!(h=A(a[g],b[g],d,e)))break}else{for(var i in a)if(c.has(a,i)){g++;if(!(h=c.has(b,i)&&A(a[i],b[i],d,e)))break}if(h){for(i in b)if(c.has(b,i)&&!g--)break;h=!g}}d.pop();e.pop();return h};c.isEqual=function(a,b){return A(a,b,[],[])};c.isEmpty=function(a){if(a==null)return true;if(c.isArray(a)||c.isString(a))return a.length===0;for(var b in a)if(c.has(a,b))return false;return true};c.isElement=
function(a){return!!(a&&a.nodeType===1)};c.isArray=s||function(a){return o.call(a)=="[object Array]"};c.isObject=function(a){return a===Object(a)};k(["Arguments","Function","String","Number","Date","RegExp"],function(a){c["is"+a]=function(b){return o.call(b)=="[object "+a+"]"}});if(!c.isArguments(arguments))c.isArguments=function(a){return!!(a&&c.has(a,"callee"))};if(typeof/./!=="function")c.isFunction=function(a){return typeof a==="function"};c.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};
c.isNaN=function(a){return c.isNumber(a)&&a!=+a};c.isBoolean=function(a){return a===true||a===false||o.call(a)=="[object Boolean]"};c.isNull=function(a){return a===null};c.isUndefined=function(a){return a===void 0};c.has=function(a,b){return S.call(a,b)};c.noConflict=function(){w._=R;return this};c.identity=function(a){return a};c.constant=function(a){return function(){return a}};c.property=function(a){return function(b){return b[a]}};c.matches=function(a){return function(b){if(b===a)return true;
for(var d in a)if(a[d]!==b[d])return false;return true}};c.times=function(a,b,d){for(var e=Array(Math.max(0,a)),f=0;f<a;f++)e[f]=b.call(d,f);return e};c.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};c.now=Date.now||function(){return(new Date).getTime()};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=c.invert(q.escape);var T={escape:new RegExp("["+c.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+c.keys(q.unescape).join("|")+
")","g")};c.each(["escape","unescape"],function(a){c[a]=function(b){if(b==null)return"";return(""+b).replace(T[a],function(d){return q[a][d]})}});c.result=function(a,b){if(a!=null){b=a[b];return c.isFunction(b)?b.call(a):b}};c.mixin=function(a){k(c.functions(a),function(b){var d=c[b]=a[b];c.prototype[b]=function(){var e=[this._wrapped];D.apply(e,arguments);return B.call(this,d.apply(c,e))}})};var U=0;c.uniqueId=function(a){var b=++U+"";return a?a+b:b};c.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\t|\u2028|\u2029/g;c.template=function(a,b,d){var e;d=c.defaults({},d,c.templateSettings);var f=new RegExp([(d.escape||C).source,(d.interpolate||C).source,(d.evaluate||C).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(f,function(m,n,p,P,Q){h+=a.slice(g,Q).replace(W,function(X){return"\\"+V[X]});if(n)h+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'";
if(p)h+="'+\n((__t=("+p+"))==null?'':__t)+\n'";if(P)h+="';\n"+P+"\n__p+='";g=Q+m.length;return m});h+="';\n";d.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{e=new Function(d.variable||"obj","_",h)}catch(i){i.source=h;throw i;}if(b)return e(b,c);b=function(m){return e.call(this,m,c)};b.source="function("+(d.variable||"obj")+"){\n"+h+"}";return b};c.chain=function(a){return c(a).chain()};var B=
function(a){return this._chain?c(a).chain():a};c.mixin(c);k(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=l[a];c.prototype[a]=function(){var d=this._wrapped;b.apply(d,arguments);if((a=="shift"||a=="splice")&&d.length===0)delete d[0];return B.call(this,d)}});k(["concat","join","slice"],function(a){var b=l[a];c.prototype[a]=function(){return B.call(this,b.apply(this._wrapped,arguments))}});c.extend(c.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}});
typeof define==="function"&&define.amd&&define("underscore",[],function(){return c})}).call(this);

(function(){var n=this,I=n.Backbone,s=[].slice,i;i=typeof exports!=="undefined"?exports:(n.Backbone={});i.VERSION="1.1.0";var e=n._;if(!e&&typeof require!=="undefined")e=require("underscore");i.$=n.jQuery||n.Zepto||n.ender||n.$;i.noConflict=function(){n.Backbone=I;return this};i.emulateHTTP=false;i.emulateJSON=false;var m=i.Events={on:function(a,b,c){if(!t(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});
return this},once:function(a,b,c){if(!t(this,"once",a,[b,c])||!b)return this;var d=this,f=e.once(function(){d.off(a,f);b.apply(this,arguments)});f._callback=b;return this.on(a,f,c)},off:function(a,b,c){var d,f,h,g,j,k,l,u;if(!this._events||!t(this,"off",a,[b,c]))return this;if(!a&&!b&&!c){this._events={};return this}g=a?[a]:e.keys(this._events);j=0;for(k=g.length;j<k;j++){a=g[j];if(h=this._events[a]){this._events[a]=d=[];if(b||c){l=0;for(u=h.length;l<u;l++){f=h[l];if(b&&b!==f.callback&&b!==f.callback._callback||
c&&c!==f.context)d.push(f)}}d.length||delete this._events[a]}}return this},trigger:function(a){if(!this._events)return this;var b=s.call(arguments,1);if(!t(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&A(c,b);d&&A(d,arguments);return this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var f=!b&&!c;if(!c&&typeof b==="object")c=this;if(a)(d={})[a._listenId]=a;for(var h in d){a=d[h];a.off(b,c,this);if(f||e.isEmpty(a._events))delete this._listeningTo[h]}return this}},
B=/\s+/,t=function(a,b,c,d){if(!c)return true;if(typeof c==="object"){for(var f in c)a[b].apply(a,[f,c[f]].concat(d));return false}if(B.test(c)){c=c.split(B);f=0;for(var h=c.length;f<h;f++)a[b].apply(a,[c[f]].concat(d));return false}return true},A=function(a,b){var c,d=-1,f=a.length,h=b[0],g=b[1],j=b[2];switch(b.length){case 0:for(;++d<f;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<f;)(c=a[d]).callback.call(c.ctx,h);return;case 2:for(;++d<f;)(c=a[d]).callback.call(c.ctx,h,g);return;case 3:for(;++d<
f;)(c=a[d]).callback.call(c.ctx,h,g,j);return;default:for(;++d<f;)(c=a[d]).callback.apply(c.ctx,b)}};e.each({listenTo:"on",listenToOnce:"once"},function(a,b){m[b]=function(c,d,f){var h=this._listeningTo||(this._listeningTo={}),g=c._listenId||(c._listenId=e.uniqueId("l"));h[g]=c;if(!f&&typeof d==="object")f=this;c[a](d,f,this);return this}});m.bind=m.on;m.unbind=m.off;e.extend(i,m);var r=i.Model=function(a,b){var c=a||{};b||(b={});this.cid=e.uniqueId("c");this.attributes={};if(b.collection)this.collection=
b.collection;if(b.parse)c=this.parse(c,b)||{};c=e.defaults({},c,e.result(this,"defaults"));this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};e.extend(r.prototype,m,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return e.clone(this.attributes)},sync:function(){return i.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return e.escape(this.get(a))},has:function(a){return this.get(a)!=null},set:function(a,
b,c){var d,f,h,g,j,k,l;if(a==null)return this;if(typeof a==="object"){f=a;c=b}else(f={})[a]=b;c||(c={});if(!this._validate(f,c))return false;h=c.unset;g=c.silent;a=[];j=this._changing;this._changing=true;if(!j){this._previousAttributes=e.clone(this.attributes);this.changed={}}l=this.attributes;k=this._previousAttributes;if(this.idAttribute in f)this.id=f[this.idAttribute];for(d in f){b=f[d];e.isEqual(l[d],b)||a.push(d);if(e.isEqual(k[d],b))delete this.changed[d];else this.changed[d]=b;h?delete l[d]:
(l[d]=b)}if(!g){if(a.length)this._pending=true;b=0;for(d=a.length;b<d;b++)this.trigger("change:"+a[b],this,l[a[b]],c)}if(j)return this;if(!g)for(;this._pending;){this._pending=false;this.trigger("change",this,c)}this._changing=this._pending=false;return this},unset:function(a,b){return this.set(a,void 0,e.extend({},b,{unset:true}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,e.extend({},a,{unset:true}))},hasChanged:function(a){if(a==null)return!e.isEmpty(this.changed);
return e.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?e.clone(this.changed):false;var b,c=false,d=this._changing?this._previousAttributes:this.attributes;for(var f in a)if(!e.isEqual(d[f],b=a[f]))(c||(c={}))[f]=b;return c},previous:function(a){if(a==null||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return e.clone(this._previousAttributes)},fetch:function(a){a=a?e.clone(a):{};if(a.parse===void 0)a.parse=
true;var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return false;c&&c(b,d,a);b.trigger("sync",b,d,a)};v(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d,f=this.attributes;if(a==null||typeof a==="object"){d=a;c=b}else(d={})[a]=b;c=e.extend({validate:true},c);if(d&&!c.wait){if(!this.set(d,c))return false}else if(!this._validate(d,c))return false;if(d&&c.wait)this.attributes=e.extend({},f,d);if(c.parse===void 0)c.parse=true;var h=this,g=c.success;c.success=
function(j){h.attributes=f;var k=h.parse(j,c);if(c.wait)k=e.extend(d||{},k);if(e.isObject(k)&&!h.set(k,c))return false;g&&g(h,j,c);h.trigger("sync",h,j,c)};v(this,c);a=this.isNew()?"create":c.patch?"patch":"update";if(a==="patch")c.attrs=d;a=this.sync(a,this,c);if(d&&c.wait)this.attributes=f;return a},destroy:function(a){a=a?e.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(h){if(a.wait||b.isNew())d();c&&c(b,h,a);b.isNew()||b.trigger("sync",
b,h,a)};if(this.isNew()){a.success();return false}v(this,a);var f=this.sync("delete",this,a);a.wait||d();return f},url:function(){var a=e.result(this,"urlRoot")||e.result(this.collection,"url")||C();if(this.isNew())return a;return a+(a.charAt(a.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(a){return this._validate({},e.extend(a||{},{validate:true}))},
_validate:function(a,b){if(!b.validate||!this.validate)return true;a=e.extend({},this.attributes,a);a=this.validationError=this.validate(a,b)||null;if(!a)return true;this.trigger("invalid",this,a,e.extend(b,{validationError:a}));return false}});e.each(["keys","values","pairs","invert","pick","omit"],function(a){r.prototype[a]=function(){var b=s.call(arguments);b.unshift(this.attributes);return e[a].apply(e,b)}});var w=i.Collection=function(a,b){b||(b={});if(b.model)this.model=b.model;if(b.comparator!==
void 0)this.comparator=b.comparator;this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,e.extend({silent:true},b))},J={add:true,remove:true,merge:true},K={add:true,remove:false};e.extend(w.prototype,m,{model:r,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return i.sync.apply(this,arguments)},add:function(a,b){return this.set(a,e.extend({merge:false},b,K))},remove:function(a,b){var c=!e.isArray(a);a=c?[a]:e.clone(a);b||
(b={});var d,f,h,g;d=0;for(f=a.length;d<f;d++)if(g=a[d]=this.get(a[d])){delete this._byId[g.id];delete this._byId[g.cid];h=this.indexOf(g);this.models.splice(h,1);this.length--;if(!b.silent){b.index=h;g.trigger("remove",g,this,b)}this._removeReference(g)}return c?a[0]:a},set:function(a,b){b=e.defaults({},b,J);if(b.parse)a=this.parse(a,b);var c=!e.isArray(a);a=c?a?[a]:[]:e.clone(a);var d,f,h,g,j,k,l=b.at,u=this.model,x=this.comparator&&l==null&&b.sort!==false,L=e.isString(this.comparator)?this.comparator:
null,o=[],y=[],D={},E=b.add,M=b.merge,z=b.remove,p=!x&&E&&z?[]:false;d=0;for(f=a.length;d<f;d++){j=a[d];h=j instanceof r?(g=j):j[u.prototype.idAttribute];if(h=this.get(h)){if(z)D[h.cid]=true;if(M){j=j===g?g.attributes:j;if(b.parse)j=h.parse(j,b);h.set(j,b);if(x&&!k&&h.hasChanged(L))k=true}a[d]=h}else if(E){g=a[d]=this._prepareModel(j,b);if(!g)continue;o.push(g);g.on("all",this._onModelEvent,this);this._byId[g.cid]=g;if(g.id!=null)this._byId[g.id]=g}if(p)p.push(h||g)}if(z){d=0;for(f=this.length;d<
f;++d)D[(g=this.models[d]).cid]||y.push(g);y.length&&this.remove(y,b)}if(o.length||p&&p.length){if(x)k=true;this.length+=o.length;if(l!=null){d=0;for(f=o.length;d<f;d++)this.models.splice(l+d,0,o[d])}else{if(p)this.models.length=0;j=p||o;d=0;for(f=j.length;d<f;d++)this.models.push(j[d])}}k&&this.sort({silent:true});if(!b.silent){d=0;for(f=o.length;d<f;d++)(g=o[d]).trigger("add",g,this,b);if(k||p&&p.length)this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<
d;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();a=this.add(a,e.extend({silent:true},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,e.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,e.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return s.apply(this.models,arguments)},get:function(a){if(a!=
null)return this._byId[a.id]||this._byId[a.cid]||this._byId[a]},at:function(a){return this.models[a]},where:function(a,b){if(e.isEmpty(a))return b?void 0:[];return this[b?"find":"filter"](function(c){for(var d in a)if(a[d]!==c.get(d))return false;return true})},findWhere:function(a){return this.where(a,true)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");a||(a={});if(e.isString(this.comparator)||this.comparator.length===1)this.models=this.sortBy(this.comparator,
this);else this.models.sort(e.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return e.invoke(this.models,"get",a)},fetch:function(a){a=a?e.clone(a):{};if(a.parse===void 0)a.parse=true;var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};v(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?e.clone(b):{};if(!(a=this._prepareModel(a,b)))return false;b.wait||this.add(a,b);var c=
this,d=b.success;b.success=function(f,h,g){g.wait&&c.add(f,g);d&&d(f,h,g)};a.save(null,b);return a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof r){if(!a.collection)a.collection=this;return a}b=b?e.clone(b):{};b.collection=this;a=new this.model(a,b);if(!a.validationError)return a;this.trigger("invalid",this,a.validationError,b);return false},_removeReference:function(a){this===
a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(!((a==="add"||a==="remove")&&c!==this)){a==="destroy"&&this.remove(b,d);if(b&&a==="change:"+b.idAttribute){delete this._byId[b.previous(b.idAttribute)];if(b.id!=null)this._byId[b.id]=b}this.trigger.apply(this,arguments)}}});e.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains",
"invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"],function(a){w.prototype[a]=function(){var b=s.call(arguments);b.unshift(this.models);return e[a].apply(e,b)}});e.each(["groupBy","countBy","sortBy"],function(a){w.prototype[a]=function(b,c){var d=e.isFunction(b)?b:function(f){return f.get(b)};return e[a](this.models,d,c)}});var F=i.View=function(a){this.cid=e.uniqueId("view");
a||(a={});e.extend(this,e.pick(a,N));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},O=/^(\S+)\s*(.*)$/,N=["model","collection","el","id","attributes","className","tagName","events"];e.extend(F.prototype,m,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof i.$?
a:i.$(a);this.el=this.$el[0];b!==false&&this.delegateEvents();return this},delegateEvents:function(a){if(!(a||(a=e.result(this,"events"))))return this;this.undelegateEvents();for(var b in a){var c=a[b];e.isFunction(c)||(c=this[a[b]]);if(c){var d=b.match(O),f=d[1];d=d[2];c=e.bind(c,this);f+=".delegateEvents"+this.cid;d===""?this.$el.on(f,c):this.$el.on(f,d,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(e.result(this,
"el"),false);else{var a=e.extend({},e.result(this,"attributes"));if(this.id)a.id=e.result(this,"id");if(this.className)a["class"]=e.result(this,"className");this.setElement(i.$("<"+e.result(this,"tagName")+">").attr(a),false)}}});i.sync=function(a,b,c){var d=P[a];e.defaults(c||(c={}),{emulateHTTP:i.emulateHTTP,emulateJSON:i.emulateJSON});var f={type:d,dataType:"json"};if(!c.url)f.url=e.result(b,"url")||C();if(c.data==null&&b&&(a==="create"||a==="update"||a==="patch")){f.contentType="application/json";
f.data=JSON.stringify(c.attrs||b.toJSON(c))}if(c.emulateJSON){f.contentType="application/x-www-form-urlencoded";f.data=f.data?{model:f.data}:{}}if(c.emulateHTTP&&(d==="PUT"||d==="DELETE"||d==="PATCH")){f.type="POST";if(c.emulateJSON)f.data._method=d;var h=c.beforeSend;c.beforeSend=function(g){g.setRequestHeader("X-HTTP-Method-Override",d);if(h)return h.apply(this,arguments)}}if(f.type!=="GET"&&!c.emulateJSON)f.processData=false;if(f.type==="PATCH"&&Q)f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};
a=c.xhr=i.ajax(e.extend(f,c));b.trigger("request",b,a,c);return a};var Q=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),P={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};i.ajax=function(){return i.$.ajax.apply(i.$,arguments)};var G=i.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,T=/\*\w+/g,U=/[\-{}\[\]+?.,\\\^$|#\s]/g;
e.extend(G.prototype,m,{initialize:function(){},route:function(a,b,c){e.isRegExp(a)||(a=this._routeToRegExp(a));if(e.isFunction(b)){c=b;b=""}c||(c=this[b]);var d=this;i.history.route(a,function(f){f=d._extractParameters(a,f);c&&c.apply(d,f);d.trigger.apply(d,["route:"+b].concat(f));d.trigger("route",b,f);i.history.trigger("route",d,b,f)});return this},navigate:function(a,b){i.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=e.result(this,"routes");for(var a,b=
e.keys(this.routes);(a=b.pop())!=null;)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(U,"\\$&").replace(R,"(?:$1)?").replace(S,function(b,c){return c?b:"([^/]+)"}).replace(T,"(.*?)");return new RegExp("^"+a+"$")},_extractParameters:function(a,b){a=a.exec(b).slice(1);return e.map(a,function(c){return c?decodeURIComponent(c):null})}});var q=i.History=function(){this.handlers=[];e.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=
window.history}},H=/^[#\/]|\s+$/g,V=/^\/+|\/+$/g,W=/msie [\w.]+/,X=/\/$/,Y=/[?#].*$/;q.started=false;e.extend(q.prototype,m,{interval:50,getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(a==null)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;b=this.root.replace(X,"");a.indexOf(b)||(a=a.slice(b.length))}else a=this.getHash();return a.replace(H,"")},start:function(a){if(q.started)throw new Error("Backbone.history has already been started");
q.started=true;this.options=e.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode;b=W.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7);this.root=("/"+this.root+"/").replace(V,"/");if(b&&this._wantsHashChange){this.iframe=i.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;
this.navigate(a)}if(this._hasPushState)i.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!b)i.$(window).on("hashchange",this.checkUrl);else if(this._wantsHashChange)this._checkUrlInterval=setInterval(this.checkUrl,this.interval);this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!b){this.fragment=this.getFragment(null,true);this.location.replace(this.root+
this.location.search+"#"+this.fragment);return true}else if(this._hasPushState&&b&&a.hash){this.fragment=this.getHash().replace(H,"");this.history.replaceState({},document.title,this.root+this.fragment+a.search)}if(!this.options.silent)return this.loadUrl()},stop:function(){i.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);q.started=false},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();
if(a===this.fragment&&this.iframe)a=this.getFragment(this.getHash(this.iframe));if(a===this.fragment)return false;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return e.any(this.handlers,function(b){if(b.route.test(a)){b.callback(a);return true}})},navigate:function(a,b){if(!q.started)return false;if(!b||b===true)b={trigger:!!b};var c=this.root+(a=this.getFragment(a||""));a=a.replace(Y,"");if(this.fragment!==a){this.fragment=a;if(a===""&&c!==
"/")c=c.slice(0,-1);if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange){this._updateHash(this.location,a,b.replace);if(this.iframe&&a!==this.getFragment(this.getHash(this.iframe))){b.replace||this.iframe.document.open().close();this._updateHash(this.iframe.location,a,b.replace)}}else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){c=a.href.replace(/(javascript:|#).*$/,"");
a.replace(c+"#"+b)}else a.hash="#"+b}});i.history=new q;r.extend=w.extend=G.extend=F.extend=q.extend=function(a,b){var c=this,d;d=a&&e.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};e.extend(d,c,b);b=function(){this.constructor=d};b.prototype=c.prototype;d.prototype=new b;a&&e.extend(d.prototype,a);d.__super__=c.prototype;return d};var C=function(){throw new Error('A "url" property or function must be specified');},v=function(a,b){var c=b.error;b.error=function(d){c&&
c(a,d,b);a.trigger("error",a,d,b)}}}).call(this);

(function(u,v){if(!b)var b=window.ND=window.ND||{};b.PriceFormatter={initialise:function(a){var f={data:"true,0",formatString:"",prefix:"",suffix:"",centsSeparator:".",thousandsSeparator:"",limit:false,centsLimit:0,clearPrefix:false,clearSufix:false,allowNegative:false,forceDecimal:false};b.PriceFormatter.options=u.extend({},f,a);a=b.PriceFormatter.options.data.match(/\W+/g);a=b.PriceFormatter.options.data.split(a);b.PriceFormatter.options.thousandsSeparator=a[0]==="true"?b.PriceFormatter.options.thousandsSeparator:
f.thousandsSeparator;if(parseInt(a[1])>0){b.PriceFormatter.options.forceDecimal=true;b.PriceFormatter.options.centsLimit=parseInt(a[1])}},internalFormatter:function(a){function f(d){for(var c="",e=0;e<d.length;e++){char_=d.charAt(e);if(c.length==0&&char_==0)char_=false;if(char_&&char_.match(m))if(p){if(c.length<p)c+=char_}else c+=char_}return c}function j(d){for(;d.length<k+1;)d="0"+d;return d}function g(d){var c=j(f(d)),e="",q=0,n=c.substr(c.length-k,k),l=c.substr(0,c.length-k);c=l+r+n;if(o){for(c=
l.length;c>0;c--){char_=l.substr(c-1,1);q++;if(q%3==0)char_=o+char_;e=char_+e}if(e.substr(0,1)==o)e=e.substring(1,e.length);c=e+r+n}if(w&&d.indexOf("-")!=-1&&(l!=0||n!=0))c="-"+c;if(s)c=s+c;if(t)c+=t;return c}function i(){var d=h,c=g(d);if(d!=c)h=c}var h=a,m=/[0-9]/,s=b.PriceFormatter.options.prefix,t=b.PriceFormatter.options.suffix,r=b.PriceFormatter.options.centsSeparator,o=b.PriceFormatter.options.thousandsSeparator,p=b.PriceFormatter.options.limit,k=b.PriceFormatter.options.centsLimit,w=b.PriceFormatter.options.allowNegative;
i();return h},pad:function(a,f){for(a=a+"";a.length<f;)a="0"+a;return a},format:function(a){var f=a=a.toString();try{if(b.PriceFormatter.options===v)throw"Priceformatter not initialized";a=a.replace(".",b.PriceFormatter.options.centsSeparator);var j=0,g=b.PriceFormatter.options.centsLimit,i=a.indexOf(b.PriceFormatter.options.centsSeparator);if(g>0&&i===-1)a+=b.PriceFormatter.options.centsSeparator+b.PriceFormatter.pad("0",g);else if(i>0&&(j=a.substring(i+1,a.length).length)<g)a+=b.PriceFormatter.pad("0",
g-j);else if(j>g)a=a.substring(0,i+1+g);var h=b.PriceFormatter.internalFormatter(a);b.PriceFormatter.options.forceDecimal||(h=h.substring(0,h.indexOf(b.PriceFormatter.options.centsSeparator)));f=b.PriceFormatter.options.formatString.replace("%1",h)}catch(m){throw m;}return f}}})(jQuery);

var a;a=Backbone.Collection.prototype;a.selectable=function(){return true};a.clickable=function(){return false};a.supportsMultiSelect=function(){return false};a.select=function(b){if(this.selectable()){if(!this.supportsMultiSelect()){var c=this.where({selected:true});c!=null&&_.each(c,function(d){d.id!==b.id&&d.set("selected",false)})}b.set("selected",true);this.clickable()&&b.set("clicked",false);return true}return false};
a.deselectAll=function(){if(this.selectable()){var b=this.where({selected:true});if(b!=null){isClickable=this.clickable();_.each(b,function(c){c.set("selected",false);isClickable&&c.set("clicked",false)})}}};a.click=function(b){if(this.clickable()){var c=this.where({clicked:true});c!=null&&_.each(c,function(d){d.id!=b.id&&d.set("clicked",false)});b.set("clicked",true)}};a.selectById=function(b){var c=null;if(this.selectable())if((b=this.where({id:b}))&&b.length>0)this.select(c=b[0]);return c};
a.clickById=function(b){var c=null;if(this.clickable())if((b=this.where({id:b}))&&b.length>0)this.click(c=b[0]);return c};a.getSelected=function(){if(this.selectable()){var b=this.where({selected:true});if(b&&b!=null&&b.length>0)return this.supportsMultiSelect()?b:b[0]}return null};a.getClicked=function(){if(this.clickable()){var b=this.where({clicked:true});if(b&&b!=null&&b.length>0)return b[0]}return null};
a.unclick=function(b){if(this.clickable())if((b=this.where({clicked:true,id:b.get("id")}))&&b!=null){b[0].set("clicked",false);return true}return false};_.templateSettings={interpolate:/\{\{(.+?)\}\}/g,evaulate:/\{\[(.+?)\]\}/g};Backbone.View.prototype.destroy=function(){this.remove();this.unbind();Events.unbind(null,this);if(this.children){_.each(this.children,function(b){b.destroy()});this.children=[]}};
Backbone.View.prototype.render=function(){var b=$(this.template(this.model.toJSON()));this.translate(b);$(this.el).html(b);return this};Backbone.View.prototype.translate=function(b){b||(b=$(this.el));Views.Helper.translateTextOnView(b)};Backbone.View.prototype.lazyload=function(b){$(b?b:"div.thumb-lazy").each(function(){var c=$(this),d=c.data("src"),e=new Image;e.onload=function(){c.html(e);e.alt=c.data("alt")};e.src=d})};

_.templateSettings={interpolate:/\{\{(.+?)\}\}/gim,evaluate:/\{\(\{(.+?)\}\)\}/gim};Backbone.View.prototype.render=function(){$(this.el).html($(this.template(this.model.toJSON())));return this};Backbone.View.prototype.destroy=function(){this.off();this.remove();Backbone.off(null,this);if(this.children){_.each(this.children,function(a){a.destroy()});this.children=[]}};

ND.LBP={};
ND.LBP.Events={RegisterModule:"RegisterModuleEvent",GetPage:"GetPageEvent",ChangePage:"ChangePageEvent",NameplateSelected:"NameplateSelectedEvent",SeriesEngineSelected:"SeriesEngineSelectedEvent",LoadFromCookie:"LoadFromCookieEvent",ObjectUpdated:"ObjectUpdatedEvent",ReloadingConfig:"ReloadingConfigEvent",LocationChanged:"LocationChangedEvent",LocationCanceled:"LocationCanceledEvent",ToggleGalleryView:"ToggleGalleryViewEvent",TriggerConflictResolution:"TriggerConflictResolutionEvent",ConfirmSeriesChange:"ConfirmSeriesChangeEvent",AcceptConflictResolution:"AcceptConflictResolutionEvent",
RejectConflictResolution:"RejectConflictResolutionEvent",ShareConfigReady:"ShareConfigReadyEvent",ChangeSeries:"ChangeSeries",StartOver:"StartOverEvent",AppStateIsNull:"AppStateIsNullEvent",TryAgain:"TryAgainEvent",ShowLocationOverlay:"ShowLocationOverlayEvent",HideLocationOverlay:"HideLocationOverlayEvent",HeaderLinkClicked:":HeaderLinkClickedEvent",GeneratePDF:"GeneratePDFEvent",ShareConfiguration:"ShareConfigurationEvent",SaveConfiguration:"SaveConfigurationEvent",SaveConfigReady:"SaveConfigReadyEvent",
ShareConfiguration:"ShareConfigurationEvent",SaveProgress:"SaveProgressEvent",UnsubscribeFromEvents:"UnsubscribeFromEventsEvent",ErrorOccurred:"ErrorOccurredEvent",SuccessfullySaved:"SuccessfullySavedEvent",CloseOverlay:"CloseOverlayEvent",AccessoryToggled:"AccessoryToggledEvent",ImageGroupUpdated:"ImageGroupUpdatedEvent",ButtonClicked:"ButtonClickedEvent",SummaryButtonsLoaded:"SummaryButtonsLoadedEvent",BlockUI:"BlockUIEvent",UnblockUI:"UnblockUIEvent",LocationUpdated:"Omni:LocationUpdatedEvent",
TrackOmniture:"Omni:TrackOmnitureEvent",NameplateChanged:"Omni:NameplateChangedEvent",ViewPDF:"Omni:ViewPDFEvent",ColorSelected:"Omni:ColorSelectedEvent",RimSelected:"Omni:RimSelectedEvent",TrimSelected:"Omni:TrimSelectedEvent",FabricSelected:"Omni:FabricSelectedEvent",AccessorySelected:"Omni:AccessorySelectedEvent",SocialLinkClicked:"Omni:SocialLinkClickedEvent"};

ND.LBP.Constants={MOBILE_SCREEN_SIZE:768,TABLET_SCREEN_SIZE:977,SELECTED_STATES:["DEFAULT","SELECTED","INCLUDED"],FEATURE_GROUPS:"featureGroups",CONTINUE:"CONTINUE",NEXT:"next",PREV:"prev",CONNECT:"connect",USER_LOCATION:"userLocation",IMAGES:"images",LAYERS:"layers",PRICES:"prices",FEATURES:"features",SERIES:"series",EXTERIOR:"exterior",WHEELS_FEATURE_GROUP:"Wheels",INTERIOR:"interior",ACCESSORIES:"accessories",NO_USER_CHOICE:"noUserChoice",IMAGE_GROUPS:"imageGroups",DERIVATIVES:"features",UNIQUE_FEATURES:"uniqueFeatures",
ENGINES:"options",SIDEBAR_MESSAGES:"selectionMessages",DESCRIPTION:"description",STATE:"state",NAME:"name",NAMEPLATE_PAGE_NAME:"nameplates",SERIES_PAGE_NAME:"series",ACCESSORIES_PAGE_NAME:"exterior",SUMMARY_PAGE_NAME:"summary",MODEL_OVERLAY_PAGE_NAME:"overlay",RELOAD_CONFIG_PAGE_NAME:"reload",SPECIAL_TYPE:"specialType",COLOUR_TAB_ID:"Colours",RIMS_TAB_ID:"Wheels",INTERIOR_TRIM_TAB_ID:"InteriorTrim",INTERIOR_FABRIC_TAB_ID:"InteriorFabric",FEATURE_THEME:"Theme"};

ND.LBP.Utils=function(){return{removeDotSlash:function(a){return a.split("/").join("AZX").split(".").join("XZA")},addDotSlash:function(a){return a.split("AZX").join("/").split("XZA").join(".")},pad2:function(a){return(a<10?"0":"")+a}}}();

ND.LBP.Globals={isDerivativePriceHidden:false};

ND.LBP.CommonModels=function(){var c={};c.StateTable={INCLUDED:{label:"Included",isEnabled:false,isHidden:false,collectWERSCodeInternal:false,collectWERSCode:true,priceLabel:"includedInBasePrice"},DEFAULT:{label:"Remove",isEnabled:true,isHidden:false,collectWERSCodeInternal:false,collectWERSCode:true,priceLabel:"includedInBasePrice"},AVAILABLE:{label:"Apply",isEnabled:true,isHidden:false,collectWERSCodeInternal:false,collectWERSCode:false,priceLabel:"freeToSelect"},EXCLUDED:{label:"Apply",isEnabled:false,
isHidden:true,collectWERSCodeInternal:false,collectWERSCode:false,priceLabel:"error"},SELECTED:{label:"Remove",isEnabled:true,isHidden:false,collectWERSCodeInternal:true,collectWERSCode:true,priceLabel:"freeToSelect"},FORBIDDEN:{label:"Data error",isEnabled:false,isHidden:true,collectWERSCodeInternal:false,collectWERSCode:false,priceLabel:"error"},EXCLUDED_INCOMPATIBLE_WITH_SERIES:{label:"EXCLUDED_INCOMPATIBLE_WITH_SERIES",isEnabled:false,isHidden:true,collectWERSCodeInternal:false,collectWERSCode:true,
priceLabel:"error"}};c.formatFeaturePrice=function(a){var b=a.get(ND.LBP.Constants.PRICES);if(typeof b!=="undefined"&&b!=null&&b.length>0){b=b.at(0);if(b.get("value")===0)return c.StateTable[a.get(ND.LBP.Constants.STATE)].priceLabel;return ND.PriceFormatter.format(""+b.get("value"))}return null};c.parseFeatureData=function(a,b,d){a=d.get(a);if(a==null)return new ND.LBP.CommonCollections.Features(b,{parse:true});a.set(b,{parse:true});return a};c.parseFeatureGroupData=function(a,b,d){a=d.get(a);if(a==
null)return new ND.LBP.ExteriorCollections.FeatureGroups(b,{parse:true});a.set(b,{parse:true});return a};c.parseImageData=function(a,b,d){a=d.get(a);if(a==null)return new ND.LBP.CommonCollections.Images(b,{parse:true});a.set(b,{parse:true});return a};c.parsePriceData=function(a,b,d){a=d.get(a);if(a==null)return new ND.LBP.CommonCollections.Prices(b,{parse:true});a.set(b,{parse:true});return a};c.parseImagesAndPrices=function(a,b,d){for(var e in d)if(e===ND.LBP.Constants.IMAGES){b=undefined;var f=
a[e];if(typeof f!=="undefined")b=c.parseImageData(e,f,d);a[e]=b}else if(e===ND.LBP.Constants.PRICES){b=undefined;f=a[e];if(typeof f!=="undefined")b=c.parsePriceData(e,f,d);a[e]=b}return a};c.Image=Backbone.Model.extend({id:"",defaults:{name:"",sequence:1,description:"",src:""}});c.Price=Backbone.Model.extend({id:"",defaults:{name:"",value:"0.0",currency:""}});c.Header=Backbone.Model.extend({name:null,defaults:{pathURL:"",isEnabled:false,selected:false}});c.Sidebar=Backbone.Model.extend({defaults:{title:"",
description:"",pageName:"",state:"",total:null,hidePDFShare:true,hideSave:true,hideConnect:false,hidePDFButton:false},initialize:function(){},buttons:null,mobileButtons:null});c.NavigationButton=Backbone.Model.extend({defaults:{name:"",tooltip:"",sequence:0,type:ND.LBP.Constants.NEXT},nextPageURL:null,urlRoot:null});c.Feature=Backbone.Model.extend({id:null,images:null,state:"",defaults:{description:"",originalState:null,featureLabel:"",isHidden:false,primaryImageSrc:"",isEnabled:false,specialType:null,
price:null,selected:false},prices:null,parse:function(a,b){return c.parseImagesAndPrices(a,b,this)}});c.ImageVariant=Backbone.Model.extend({view:null,layers:null});c.Confirm=Backbone.Model.extend({defaults:{oldDerivativeName:"",newDerivativeName:""}});c.ImageGroup=Backbone.Model.extend({id:null,name:null,web:null,mobile:null,parse:function(a){var b=this;for(var d in b)if(d==="web"||d==="mobile"){var e=null;e=a[d];var f=b.get(d);if(f==null)e=new ND.LBP.CommonCollections.ImageVariants(e,{parse:true});
else{f.set(e,{parse:true});e=f}a[d]=e}return a}});c.KeyFeatures=Backbone.Model.extend({defaults:{series:null,uniqueFeatures:null}});c.UserActivity=Backbone.Model.extend({state:null,selections:null,buildSaveURL:function(a){return ND.LBP.Config.saveUrl.replace(":nameplateId",a)}});c.UserSelection=Backbone.Model.extend({id:null,selected:false});c.Error=Backbone.Model.extend({defaults:{message:null}});return c}();

ND.LBP.CommonCollections=function(b){var a={};a.Images=Backbone.Collection.extend({model:b.Image,comparator:function(c){return c.get("sequence")}});a.Prices=Backbone.Collection.extend({model:b.Price});a.Headers=Backbone.Collection.extend({model:b.Header});a.NavigationButtons=Backbone.Collection.extend({model:b.NavigationButton});a.Features=Backbone.Collection.extend({model:b.Feature});a.ImageGroups=Backbone.Collection.extend({model:b.ImageGroup});a.ImageVariants=Backbone.Collection.extend({model:b.ImageVariant});
a.UserSelections=Backbone.Collection.extend({model:b.UserSelection});return a}(ND.LBP.CommonModels);

ND.LBP.NameplateModels=function(){var a={};a.Nameplate=Backbone.Model.extend({id:null,images:null,defaults:{sequence:1,brand:"Lincoln",modelName:"",modelYear:"",articleUrl:"",seriesURL:"",modelNavigatorPageUrl:"",isModelNavigator:false,getModelPageUrl:null},defaultImage:null,rollOverImage:null,prices:null,parse:function(b,c){return ND.LBP.CommonModels.parseImagesAndPrices(b,c,this)}});return a}();

ND.LBP.NameplateCollections=function(){var a={};a.Nameplates=Backbone.Collection.extend({url:function(){return ND.LBP.Config.nameplatesURL},comparator:function(b){return b.get("sequence")},model:ND.LBP.NameplateModels.Nameplate});return a}();

ND.LBP.NameplateDetailModels=function(){var g={},k={hiddenState:"EXCLUDED_INCOMPATIBLE_WITH_SERIES",specialFeatureGroupState:{INCLUDED:{collectWERSCode:true},DEFAULT:{collectWERSCode:true},AVAILABLE:{collectWERSCode:false},EXCLUDED:{collectWERSCode:false},SELECTED:{collectWERSCode:true},FORBIDDEN:{collectWERSCode:false},EXCLUDED_INCOMPATIBLE_WITH_SERIES:{collectWERSCode:false}}};g.parseSeriesData=function(b,a,c){b=c.get(b);if(b==null)return new g.Series(a,{parse:true});b.set(b.parse(a),{parse:true});
return b};g.parseDerivativeData=function(b,a,c){b=c.get(b);if(b==null)return new ND.LBP.NameplateDetailCollections.Derivatives(a,{parse:true});b.set(a,{parse:true});return b};g.parseEngineData=function(b,a,c){b=c.get(b);if(b==null)return new ND.LBP.NameplateDetailCollections.Engines(a,{parse:true});b.set(a,{parse:true});return b};g.NameplateDetails=Backbone.Model.extend({id:null,state:null,defaults:{total:null,name:"",year:""},prices:null,noUserChoice:null,imageGroups:null,series:null,accessories:null,
interior:null,exterior:null,changes:null,selectionMessages:null,buildFetchURL:function(b){return ND.LBP.Config.nameplateDetailURL.replace("{{id}}",b)},initialize:function(){this.on(ND.LBP.Events.ObjectUpdated,function(b,a,c,d){this.setAndPostProcess(b,a,c,d)},this);this.on("sync",function(b,a,c){this.syncPostProcess(b,a,c)},this)},findSelectedEngine:function(){return this.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES).getSelected().get(ND.LBP.Constants.ENGINES).getSelected()},dissembleEngineId:function(b,
a){var c=b.replace(a,"");b=this.get(ND.LBP.Constants.NO_USER_CHOICE).get(ND.LBP.Constants.FEATURE_GROUPS);var d;_.find(b.models,function(e){if(e.get(ND.LBP.Constants.NAME)==="Engine"){d=e.get(ND.LBP.Constants.FEATURES);return _.find(d.models,function(h){if(c.indexOf(h.id)>=0){c=c.replace(h.id,"").replace(/^_/,"").replace(/_$/,"");return true}})}});return c},getAllWERSCodes:function(){return this.getWERSCodes(true,"collectWERSCode")},getSelectedWERSCode:function(){return this.getWERSCodes(false,"collectWERSCodeInternal")},
getWERSCodes:function(b,a){var c=[this.get(ND.LBP.Constants.ACCESSORIES).get(ND.LBP.Constants.FEATURE_GROUPS),this.get(ND.LBP.Constants.EXTERIOR).get(ND.LBP.Constants.FEATURE_GROUPS),this.get(ND.LBP.Constants.INTERIOR).get(ND.LBP.Constants.FEATURE_GROUPS)],d=[],e,h;b&&c.push(this.get(ND.LBP.Constants.NO_USER_CHOICE).get(ND.LBP.Constants.FEATURE_GROUPS));_.each(c,function(f){_.each(f.models,function(i){e=i.get(ND.LBP.Constants.FEATURES);typeof e!=="undefined"&&e.length>0&&_.each(e.models,function(j){if(h&&
k.specialFeatureGroupState[j.get("state")][a])d.push(j.id);else if(!h&&ND.LBP.CommonModels.StateTable[j.get("state")][a])if(j.get("state")!==k.hiddenState||j.get("originalState")!=null&&k.specialFeatureGroupState[j.get("originalState")][a])d.push(j.id)})})});return _.uniq(d)},setAndPostProcess:function(b,a,c,d){this.set(this.parse(a),{silent:true});this.syncPostProcess(b,a,c,d)},syncPostProcess:function(b,a,c,d){b=this.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES);var e,h=false;a=
[ND.LBP.Constants.EXTERIOR,ND.LBP.Constants.INTERIOR,ND.LBP.Constants.ACCESSORIES];_.each(b.models,function(f){e=f.get(ND.LBP.Constants.ENGINES);_.each(e.models,function(i){h=ND.LBP.Constants.SELECTED_STATES.indexOf(i.get("state"))>=0;i.set({seriesName:f.get("name"),derivativeId:f.id,selected:h,description:f.get("description"),isHidden:k.hiddenState===i.get("state")})});f.set({isHidden:k.hiddenState===f.get("state"),selected:e.getSelected()!=null},{silent:true})});_.each(a,function(f){this.postProcessFeatures(this.get(f).get(ND.LBP.Constants.FEATURE_GROUPS));
var i=[],j=ND.LBP.Config.themename?ND.LBP.Config.themename:ND.LBP.Constants.FEATURE_THEME,m=this;_.each(m.get(f).get(ND.LBP.Constants.FEATURE_GROUPS).models,function(l){if(l.get("name")!==j||l.get("isHidden"))i.push(l)});i.length<m.get(f).get(ND.LBP.Constants.FEATURE_GROUPS).models.length&&_.each(i,function(l){m.get(f).get(ND.LBP.Constants.FEATURE_GROUPS).get(l).set("isHidden",true)})},this);Backbone.trigger(ND.LBP.Events.ImageGroupUpdated);d&&d(this);if(this.get("changes")!=null){this.get("changes").set({nameplateId:this.id,
featureName:ND.LBP.Builder.getFeatureName()});Backbone.trigger(ND.LBP.Events.TriggerConflictResolution,this.get("changes"))}},postProcessFeatures:function(b){if(typeof b!=="undefined"&&b!=null&&b.length>0){var a,c;_.each(b.models,function(d){a=0;c=d.get(ND.LBP.Constants.FEATURES);c.each(function(e){var h=e.get(ND.LBP.Constants.IMAGES),f=e.get(ND.LBP.Constants.STATE);h.length>0&&e.set("primaryImageSrc",h.at(0).get("src"),{silent:true});ND.LBP.CommonModels.StateTable[f].isHidden&&a++;e.set({featureLabel:ND.LBP.CommonModels.StateTable[f].label,
isEnabled:ND.LBP.CommonModels.StateTable[f].isEnabled,isHidden:ND.LBP.CommonModels.StateTable[f].isHidden,price:ND.LBP.CommonModels.formatFeaturePrice(e),specialType:d.get(ND.LBP.Constants.SPECIAL_TYPE),selected:ND.LBP.Constants.SELECTED_STATES.indexOf(e.get("state"))>=0})},this);d.set("isHidden",a===c.length)},this)}},parse:function(b){for(var a in this)if(a===ND.LBP.Constants.IMAGES){var c,d=b[a];if(typeof d!=="undefined")c=ND.LBP.CommonModels.parseImageData(a,d,this);b[a]=c}else if(a===ND.LBP.Constants.PRICES){d=
b[a];if(typeof d!=="undefined")c=ND.LBP.CommonModels.parsePriceData(a,d,this);b[a]=c}else if(a===ND.LBP.Constants.SERIES){d=b[a];if(typeof d!=="undefined")c=g.parseSeriesData(a,d,this);b[a]=c}else if(a===ND.LBP.Constants.EXTERIOR||a===ND.LBP.Constants.INTERIOR||a===ND.LBP.Constants.ACCESSORIES||a===ND.LBP.Constants.NO_USER_CHOICE){d=b[a];if(typeof d!=="undefined"){c=this.get(a);c=c==null?new ND.LBP.ExteriorModels.Accessory(d,{parse:true}):c.set(c.parse(d))}b[a]=c}else if(a===ND.LBP.Constants.IMAGE_GROUPS){d=
b[a];if(typeof d!=="undefined"){c=this.get(a);if(c==null)c=new ND.LBP.CommonCollections.ImageGroups(d,{parse:true});else{c.set(d,{parse:true});c=c}b[a]=c}}else if(a==="changes"){c=null;d=b[a];if(typeof d!=="undefined")c=new g.Changes(d,{parse:true});b[a]=c}return b}});g.Changes=Backbone.Model.extend({rollbackState:null,additions:null,subtractions:null,defaults:{featureName:""},parse:function(b){for(var a in this)if(a==="additions"||a==="subtractions"){var c,d=b[a];if(typeof d!=="undefined")c=new ND.LBP.NameplateDetailCollections.SelectedFeatures(d,
{parse:true});b[a]=c}return b}});g.SelectedFeature=Backbone.Model.extend({id:null,state:null,description:null});g.Series=Backbone.Model.extend({id:null,name:null,type:null,features:null,defaults:{total:null},parse:function(b){for(var a in this)if(a===ND.LBP.Constants.DERIVATIVES){var c,d=b[a];if(typeof d!=="undefined")c=g.parseDerivativeData(a,d,this);b[a]=c}return b}});g.Derivative=Backbone.Model.extend({id:null,name:null,uniqueFeatures:null,images:null,prices:null,defaults:{selected:false},options:null,
parse:function(b){for(var a in this)if(a===ND.LBP.Constants.ENGINES){var c,d=b[a];if(typeof d!=="undefined")c=g.parseEngineData(a,d,this);b[a]=c}else if(a===ND.LBP.Constants.IMAGES){d=b[a];if(typeof d!=="undefined")c=ND.LBP.CommonModels.parseImageData(a,d,this);b[a]=c}else if(a===ND.LBP.Constants.PRICES){d=b[a];if(typeof d!=="undefined")c=ND.LBP.CommonModels.parsePriceData(a,d,this);b[a]=c}return b}});g.Engine=Backbone.Model.extend({id:null,defaults:{description:"",selected:false,seriesName:"",price:null},
state:null});g.NoUserChoice=Backbone.Model.extend({id:null});return g}();

ND.LBP.NameplateDetailCollections=function(b){var a={};a.Derivatives=Backbone.Collection.extend({comparator:function(c){return c.get("sequence")},model:b.Derivative});a.Engines=Backbone.Collection.extend({comparator:function(c){return c.get("sequence")},model:b.Engine});a.SelectedFeatures=Backbone.Collection.extend({model:b.SelectedFeature});return a}(ND.LBP.NameplateDetailModels);

ND.LBP.ExteriorModels=function(){var e={};e.Accessory=Backbone.Model.extend({id:null,name:null,type:null,featureGroups:null,defaults:{total:null},parse:function(b){for(var a in this)if(a===ND.LBP.Constants.FEATURE_GROUPS){var c,d=b[a];if(typeof d!=="undefined")c=ND.LBP.CommonModels.parseFeatureGroupData(a,d,this);b[a]=c}return b}});e.FeatureGroup=Backbone.Model.extend({id:null,name:null,type:null,specialType:null,defaults:{sequence:0,isHidden:false},features:null,parse:function(b){for(var a in this)if(a===
ND.LBP.Constants.FEATURES){var c,d=b[a];if(typeof d!=="undefined")c=ND.LBP.CommonModels.parseFeatureData(a,d,this);b[a]=c}return b}});return e}();

ND.LBP.ExteriorCollections=function(){var a={};a.FeatureGroups=Backbone.Collection.extend({model:ND.LBP.ExteriorModels.FeatureGroup,comparator:function(b){return b.get("sequence")}});return a}();

ND.LBP.SummeryModels=function(){var a={};a.Summary=Backbone.Model.extend({series:null,seriesRoute:null,engine:null,categories:null,images:null,galleryPreview:null,total:null,defaults:{userLocation:"setLoc"}});a.SummaryCategory=Backbone.Model.extend({defaults:{name:"",sequence:0,categoryRoute:"#"},accessories:null});a.SummaryAccessory=Backbone.Model.extend({defaults:{name:"",price:null,sequence:0}});return a}();

ND.LBP.SummeryCollections=function(c){var a={};a.SummaryCategories=Backbone.Collection.extend({comparator:function(b){return b.get("sequence")},model:c.SummaryCategory});a.SummaryAccessories=Backbone.Collection.extend({comparator:function(b){return b.get("sequence")},model:c.SummaryAccessory});return a}(ND.LBP.SummeryModels);

ND.LBP.ReloadModels=function(){var a={};a.Reload=Backbone.Model.extend({key:null,site:null,state:null,priceZoneId:null,derivativeId:null,modelId:null,colourId:null,trimId:null,engineId:null,features:null,sfeatures:null,postcode:null,usage:null,type:null});return a}();

ND.LBP.Builder=function(){var q=ND.LBP.NameplateCollections,p=ND.LBP.NameplateDetailModels,j=ND.LBP.CommonModels,n=ND.LBP.CommonCollections,c={_cache:{},pf:{keys:{NAMEPLATES:"nameplates",NAMEPLATE_DETAILS:"nameplateDetails",CATEGORIES:"categories",HEADERS:"headers",SIDEBAR:"sidebar",FEATURE_NAME:"featureName",KEY_FEATURES:"keyFeatures"},store:function(a,b){c._cache[a]=b},load:function(a){return c._cache[a]},remove:function(a){delete c._cache[a]},removeAll:function(a){for(var b=0;b<a.length;b++)delete c._cache[a[b]]},
reset:function(){c._cache[c.pf.keys.NAMEPLATE_DETAILS]=undefined;c._cache[c.pf.keys.NAMEPLATES]=undefined},updateHeaders:function(a,b){var d=c.pf.getHeaders(),e=ND.LBP.Config.categories;_.each(d.models,function(f){Backbone.trigger.apply(Backbone,[ND.LBP.Events.GetPage,f.get("fragment")].concat(b,[e[f.id-1],function(g){f.set({pathURL:g,isEnabled:g.indexOf("undefined")===-1&&g.indexOf("//")===-1&&true,selected:a===f.id},{silent:true});f.trigger("change")}]))});return d},storeFeatureName:function(a){c.pf.store(c.pf.keys.FEATURE_NAME,
a)},getFeatureName:function(){return c.pf.load(c.pf.keys.FEATURE_NAME)},getHeaders:function(){var a=c.pf.load(c.pf.keys.HEADERS);if(typeof a==="undefined"){a=r.buildHeaders();c.pf.store(c.pf.keys.HEADERS,a)}return a},getRouteForPage:function(a){a=c.pf.getHeaders().where({pagename:a});if(a!=null&&a.length>0)return a[0].get("pathURL");return null},getCurrentHeader:function(){var a=c.pf.load(c.pf.keys.HEADERS);if(typeof a!=="undefined"&&a!=null)return a.getSelected();return null},getNextPrevHeaders:function(){var a=
c.pf.load(c.pf.keys.HEADERS),b={next:null,prev:null};if(typeof a!=="undefined"&&a!=null){var d=a.getSelected().id;b.next=a.get(d+1)!=null?a.get(d+1).get("pathURL"):null;b.prev=a.get(d-1)!=null?a.get(d-1).get("pathURL"):null}return b},getNameplates:function(a){c.fetchOrLoad(c.pf.keys.NAMEPLATES,new q.Nameplates,function(b){_.each(b.models,function(d){var e=d.get("images"),f,g;if(e.length>1){f=e.at(0).get("src");g=e.at(1).get("src")}else if(e.length>0){f=e.at(0).get("src");g=e.at(0).get("src")}d.set({defaultImage:f,
rollOverImage:g,seriesURL:s.seriesPageUrl(d.id)})});a(b)})},getNameplateDetails:function(a,b,d,e){c.pf.getNameplates(function(f){f=f.selectById(a);var g=new p.NameplateDetails,k=f.get("articleUrl");Backbone.trigger(ND.LBP.Events.NameplateChanged,{name:f.get("modelName"),year:f.get("modelYear"),id:f.id,category:f.get("category"),analyticsCategory:f.get("analyticsCategory"),analyticsName:f.get("analyticsName")});g.url=g.buildFetchURL(a);d?c.fetchOrLoad(c.pf.keys.NAMEPLATE_DETAILS,g,function(i){c.validateAndPostProcessSeries(i,
a,b,k,e)}):c.fetchFromServer(c.pf.keys.NAMEPLATE_DETAILS,g,function(i){c.validateAndPostProcessSeries(i,a,b,k,e)})})},getKeyFeatures:function(a,b){b=a.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES).get(b);a=c.pf.load(c.pf.keys.KEY_FEATURES);b={series:b.get("name"),uniqueFeatures:b.get(ND.LBP.Constants.UNIQUE_FEATURES),articleUrl:b.get(ND.LBP.Constants.ENGINES).getSelected().get("articleUrl")};if(typeof a==="undefined"){a=new j.KeyFeatures(b);c.pf.store(c.pf.keys.KEY_FEATURES,a)}else a.set(b);
return a},getSidebar:function(a){var b=c.pf.load(c.pf.keys.SIDEBAR);if(typeof b==="undefined"){b=new j.Sidebar({buttons:new n.NavigationButtons,mobileButtons:new n.NavigationButtons});c.pf.store(c.pf.keys.SIDEBAR,b)}var d=b.get("buttons");d.reset();typeof a.buttonData!=="undefined"&&_.each(a.buttonData,function(f){d.add(new j.NavigationButton(f),{silent:true})});var e=b.get("mobileButtons");e.reset();typeof a.mobileButtonData!=="undefined"&&_.each(a.mobileButtonData,function(f){e.add(new j.NavigationButton(f),
{silent:true})});b.set({title:a.title,description:a.description,pageName:a.pageName,state:a.state,hidePDFShare:typeof a.hidePDFShare==="undefined"?true:a.hidePDFShare,hideSave:typeof a.hideSave==="undefined"?true:a.hideSave,hideConnect:typeof a.hideConnect==="undefined"?false:a.hideConnect,hidePDFButton:typeof a.hidePDFButton==="undefined"?false:a.hidePDFButton},{silent:true});b.trigger("change");return b},updateSidebarButtonUrl:function(a,b){var d=c.pf.load(c.pf.keys.SIDEBAR);if(typeof d!=="undefined"){var e=
d.get("buttons").get(a);typeof e!=="undefined"&&e!=null&&e.set("nextPageURL",b);e=d.get("mobileButtons").get(a);typeof e!=="undefined"&&e!=null&&e.set("nextPageURL",b)}},buildAndStoreEmptyNameplateDetail:function(a){var b=new p.NameplateDetails;b.url=b.buildFetchURL(a);c.pf.store(c.pf.keys.NAMEPLATE_DETAILS,b);return b}},validateAndPostProcessSeries:function(a,b,d,e,f){c.postProcessSeries(a,e,f)},postProcessSeries:function(a,b,d){var e=a.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES),
f,g=ND.LBP.Config.priceHack,k=ND.LBP.Config.enginesNotShow,i;if(typeof g==="undefined"||typeof g.isEnabled==="undefined"||typeof g.series==="undefined"||g.isEnabled==false||g.series.length===0){g={};g.series={}}e.each(function(h){var o=[];h.get(ND.LBP.Constants.ENGINES).each(function(l){if(f=ND.LBP.CommonModels.formatFeaturePrice(h)){if(typeof g.series[h.get(ND.LBP.Constants.NAME)]!=="undefined"&&typeof(i=g.series[h.get(ND.LBP.Constants.NAME)][l.get(ND.LBP.Constants.NAME)])!=="undefined"){h.get(ND.LBP.Constants.PRICES).reset();
h.get(ND.LBP.Constants.PRICES).add(new ND.LBP.CommonModels.Price(i));f=ND.LBP.CommonModels.formatFeaturePrice(h)}}else{var m=l.get(ND.LBP.Constants.PRICES);if(m.length>0&&m[0]&&m[0].value!=="undefined")f=ND.PriceFormatter.format(""+m[0].value)}k&&k.indexOf(l.id)>=0&&o.push(l);l.set({articleUrl:b,price:f})});o.length&&h.get(ND.LBP.Constants.ENGINES).remove(o)});d(a)},fetchOrLoad:function(a,b,d){var e=c.pf.load(a);typeof e==="undefined"||e==null||e.url!==b.url?$.when(b.fetch()).done(function(){c.pf.store(a,
b);d(b)}).fail(function(){Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)}):d(e)},fetchFromServer:function(a,b,d){$.when(b.fetch()).done(function(){c.pf.store(a,b);d(b)}).fail(function(){Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)})}},r={buildHeaders:function(){var a=ND.LBP.Config.defaultHeaderConfiguration,b=new n.Headers;_.each(a,function(d){b.add(new j.Header({id:d.id,name:d.name,header:d.header,fragment:d.fragment,pagename:d.pagename}))});
return b}},s={seriesPageUrl:function(a){return"nameplates/"+a}};return c.pf}();

(function(h,j,b){var k={COOKIE_NAME:"lbnpfe"},i={},m=Backbone.Router.extend({routeDetails:{},routes:{"":"start",error:"navToErrorPage",'reset"':"navToResetPage"},registerDynamicRoutes:function(){},initialize:function(){this.registerDynamicRoutes();this.registerEventListeners();this.setupPriceFormatter();this.setupOnError();this.setupConfirmationBeforeLeave();this.registerModules()},setupPriceFormatter:function(){var a=ND.LBP.Config.priceFormatterConfig;ND.PriceFormatter.initialise({data:a.priceFormat,
formatString:a.currencySymbol,centsSeparator:a.monetaryDecimalSeparator,thousandsSeparator:a.groupingSeparator})},setupOnError:function(){h.onerror=function(){Backbone.trigger(ND.LBP.Events.UnblockUI);Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error);setTimeout(function(){b(h).on("hashchange",function(){Backbone.trigger(ND.LBP.Events.CloseOverlay);b(h).off("hashchange")})},500)}},setupConfirmationBeforeLeave:function(){leaveoutOverlay=function(a){b("#bp-leaveout-overlay").remove();
b(".build-and-price").append(b('<div id="bp-leaveout-overlay" class="rad-overlay-bg"></div>'));b("#bp-leaveout-overlay").hide();b("#bp-leaveout-overlay").html(b("#bp-leaveout-overlay-template").html());setTimeout(function(){b("#bp-leaveout-overlay .bp-yes").on("click",function(){b.cookie("bnp.anchor","N",{path:"/",expires:1});b.cookie("dfy.pg.bkbtn",b("#badge a").attr("href"),{path:"/",expires:1});if(b(this).data("link"))location.href=b(this).data("params")?b(this).data("link")+"?"+b(this).data("params"):
b(this).data("link");else location.reload()});b("#bp-leaveout-overlay .bp-no").on("click",function(){b.cookie("bnp.anchor","N",{path:"/",expires:1});if(a)if(a==location.href)location.reload();else location.href=a;else b("#submit").trigger("click")});b("#bp-leaveout-overlay").show()},1E3)};b.cookie("bnp.anchor","Y",{path:"/",expires:1});b("a").on("click",function(a){if(b(this).attr("href")&&b(this).attr("href").toLowerCase().indexOf("http")==0&&(!b(this).attr("target")||b(this).attr("target").toLowerCase()!==
"_blank")){a.preventDefault();a.stopPropagation();leaveoutOverlay(b(this).attr("href"),null)}});j["search-pannel"].onsubmit=function(a){if(b.cookie("bnp.anchor")=="Y"){if(a&&a.preventDefault){a.preventDefault();a.stopPropagation()}else event.returnValue=false;leaveoutOverlay()}};h.onbeforeunload=function(){h.onunload=function(){if(b.cookie("bnp.anchor")=="Y"){b.cookie("bnp.anchor","N",{path:"/",expires:1});location.href=location.href;leaveoutOverlay(location.href)}}}},registerEventListeners:function(){var a=
ND.LBP.Events;Backbone.on(a.HeaderLinkClicked,this.headerLinkClicked,this);Backbone.on(a.LoadFromCookie,this.loadFromCookie,this);Backbone.on(a.ChangePage,this.changePage,this);Backbone.on(a.GetPage,this.getPageUrl,this);Backbone.on(a.SaveProgress,this.saveProgress,this);Backbone.on(a.LocationChanged,this.updateLocation,this);Backbone.on(a.StartOver,this.startOver,this);Backbone.on(a.AppStateIsNull,this.appStateIsNull,this);Backbone.on(a.TryAgain,this.tryAgain,this);Backbone.on(a.RejectConflictResolution,
this.rollbackChanges,this)},getCookie:function(){var a=b.cookie(k.COOKIE_NAME);return typeof a==="undefined"||a==null?{}:JSON.parse(a)},changePage:function(a,d){if(d)h.location.assign(a);else{Backbone.trigger(ND.LBP.Events.UnsubscribeFromEvents);var c="",f=0;b.each(a,function(e,g){if(g==="#"){f++;c+=f>1?encodeURIComponent("#"):g}else c+=g});this.navigate(c,{trigger:true})}},headerLinkClicked:function(a){var d=ND.LBP.Builder.getCurrentHeader();Backbone.trigger(d.id+ND.LBP.Events.HeaderLinkClicked,
a)},getPageUrl:function(){var a=arguments.length>2?[].slice.call(arguments,1,arguments.length-1):[];arguments[arguments.length-1].call(null,this.routeDetails[arguments[0]].buildPageUrl.apply(null,a))},saveProgress:function(a,d){if(a.selections.length>0){var c=this;ND.LBP.Builder.getNameplateDetails(a.nameplateId,null,true,function(f){i=a;var e=typeof a.state==="undefined"?f.get("state"):a.state;e=new ND.LBP.CommonModels.UserActivity({state:e});e.url=e.buildSaveURL(a.nameplateId);var g=new ND.LBP.CommonCollections.UserSelections;
_.each(a.selections,function(l){g.add(new ND.LBP.CommonModels.UserSelection(l))});e.set("selections",g);c.save(e,f,d)})}},rollbackChanges:function(a){var d=this;Backbone.trigger(ND.LBP.Events.BlockUI);var c=a.get("nameplateId");typeof c!=="undefined"&&c!=null&&ND.LBP.Builder.getNameplateDetails(c,null,true,function(f){var e=f.get("changes");if(typeof e!=="undefined"&&e!=null){e=new ND.LBP.CommonModels.UserActivity({state:e.get("rollbackState")});e.url=e.buildSaveURL(c);d.save(e,f,function(){i.changePath&&
d.changePage(i.currentPathUrl);Backbone.trigger(ND.LBP.Events.UnblockUI)})}})},save:function(a,d,c){a.save(null,{wait:true,success:function(f,e,g){d.trigger(ND.LBP.Events.ObjectUpdated,f,e,g,c)},error:function(){Backbone.trigger(ND.LBP.Events.UnblockUI);Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)}})},updateLocation:function(a,d){this.saveInCookie({l:a,d:d});Backbone.trigger(ND.LBP.Events.LocationUpdated,a)},loadFromCookie:function(a){a(this.getCookie())},saveInCookie:function(a){var d=
this.getCookie();b.cookie(k.COOKIE_NAME,JSON.stringify(b.extend(d,a,{s:ND.LBP.Config.site})),{path:"/",expires:30})},registerModules:function(){var a=this;Backbone.trigger(ND.LBP.Events.RegisterModule,function(d){_.each(d,function(c){a.routeDetails[c.name]={buildPageUrl:c.buildPageUrl,fragment:c.fragment};a.route(c.fragment,c.name,c.action)})})},startOver:function(a){if(typeof a==="undefined"||a===true)ND.LBP.Builder.reset();this.navigate("",{trigger:true,replace:true})},appStateIsNull:function(){this.startOver(false)},
tryAgain:function(){Backbone.trigger(ND.LBP.Events.UnblockUI)},start:function(){this.changePage(this.routeDetails.nameplates.buildPageUrl())}});b(j).ready(function(){setTimeout(function(){var a=b("#build-and-price-config");ND.LBP.Config=JSON.parse(a.html());ND.LBP.Config.getPageConfig=function(d){return _.findWhere(ND.LBP.Config.defaultHeaderConfiguration,{id:d})};new m;Backbone.history.start()},100)})})(window,document,jQuery);

ND.LBP.NameplateViews=function(f){var c={};c.Nameplates=Backbone.View.extend({children:[],render:function(){var b=0,a=this.$el,e=this.template(),d=this.collection.models.length===3;a.html(e);d&&a.find(".model-select").addClass("is-3-columns");var g=a.find(".row");_.each(this.collection.models,function(h){this.children[b]=new c.Nameplate({model:h});d&&this.children[b].$el.removeClass("medium-6").addClass("medium-4");g.append(this.children[b++].render().el)},this);return this},initialize:function(){this.template=
_.template(f("#bp-nameplate-list-template").html());this.collection.bind("reset",this.render,this)}});c.Nameplate=Backbone.View.extend({tagName:"div",className:"tier columns medium-6",events:{"click .bp-nameplate-list-item":"nameplateSelected"},nameplateSelected:function(b){b.preventDefault();Backbone.trigger(ND.LBP.Events.NameplateSelected,this.model)},initialize:function(){function b(){var d=e.indexOf(a.get("id"))>-1;a.set("isModelNavigator",d);return a.get("isModelNavigator")?a.get("modelNavigatorPageUrl"):
a.get("seriesURL")}var a=this.model;this.model.set("getModelPageUrl",b,{silent:true});this.template=_.template(f("#bp-nameplate-list-item-template").html());this.model.bind("destroy",this.destroy,this);var e=ND.LBP.Config.navigatorModels.split(",")},toggleClass:function(){}});return c}(jQuery);

ND.LBP.DerivativeViews=function(b){var e={},f={HideSeriesDetailOverlay:"HideSeriesDetailOverlayEvent",UpdateSeriesImage:"UpdateSeriesImageEvent"};e.Derivatives=Backbone.View.extend({children:[],render:function(){var a=0,c=this.$el,g=this.template();c.html(g);var d=c.find(".series-row");c=this.model.get(ND.LBP.Constants.DERIVATIVES);_.each(c.models,function(h){this.children[a]=new e.Derivative({model:h});d.append(this.children[a].render().$el);a++},this);if(a===4)d.addClass("grid-4");else if(a===2)d.addClass("grid-2");
else if(a===5){d.addClass("grid-5");d.parent().parent().removeClass("large-9")}this.addTotalPrice();return this},addTotalPrice:function(){this.$el.find("#bp-series-total-price").empty().append(this.totalPriceTemplate({total:this.model.get("total")}))},initialize:function(){this.template=_.template(b("#bp-derivative-list-template").html());this.totalPriceTemplate=_.template(b("#bp-derivative-list-total-price-template").html());this.model.on("change:total",this.addTotalPrice,this);Backbone.on(f.HideSeriesDetailOverlay,
this.hideOverlays,this);Backbone.on(f.UpdateSeriesImage,this.updateSeriesImage,this)},updateSeriesImage:function(a){this.$el.find(".car-stage").empty().append(b('<img src="'+ND.LBP.Config.baseImageURL+a+'" />'))},hideOverlays:function(){this.$(".series-detail").attr("class","bp-details-overlay hide")}});e.Derivative=Backbone.View.extend({tagName:"li",children:[],render:function(){var a=0,c=this.$el,g=this.model.get(ND.LBP.Constants.ENGINES);c.html(this.template(this.model.toJSON()));var d=c.find(".series");
_.each(g.models,function(h){this.children[a]=new e.Engine({model:h});d.append(this.children[a].render().$el);a++},this);this.changeSeriesImage();return this},initialize:function(){this.template=_.template(b("#bp-derivative-list-item-template").html());this.model.bind("change:selected",this.render,this);this.model.bind("destroy",this.destroy,this)},changeSeriesImage:function(){this.model.get("selected")&&this.model.get(ND.LBP.Constants.IMAGES).length>0&&Backbone.trigger(f.UpdateSeriesImage,this.model.get(ND.LBP.Constants.IMAGES).at(0).get("src"))}});
e.Engine=Backbone.View.extend({tagName:"li",events:{"click .bp-engine-name":"engineSelected","click .series-options":"engineSelected","click .comparison-overlay":"showComparisonChart"},render:function(){b(this.el).toggleClass("active",this.model.get("selected")).html(b(this.template(this.model.toJSON())));!this.firstTime&&this.model.get("selected")&&this.$(".bp-details-overlay").attr("class","bp-details-overlay series-detail");this.firstTime=false;return this},showComparisonChart:function(a){a.preventDefault();
a=b(a.currentTarget).data("href");typeof a!=="undefined"&&b.ajax({url:a,type:"GET"}).done(function(c){ND.LBP.ComparisonOverlay(c)}).fail(function(){Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)})},engineSelected:function(a){Backbone.trigger(f.HideSeriesDetailOverlay);Backbone.trigger(ND.LBP.Events.SeriesEngineSelected,this.model);a.preventDefault();a.stopImmediatePropagation();b("body").on("click",this.detectBodyClicks)},detectBodyClicks:function(a){if(!b(a.target).parents().andSelf().is(".bp-details-overlay")){Backbone.trigger(f.HideSeriesDetailOverlay);
b("body").off("click",this.detectBodyClicks)}},initialize:function(){this.firstTime=true;this.template=_.template(b("#bp-engine-list-item-template").html());this.model.bind("change:selected",this.render,this);this.model.bind("destroy",this.destroy,this)}});return e}(jQuery);

ND.LBP.ExteriorViews=function(c){var d={},h={ToggleSection:"ToggleSectionEvent",HideFeaturePopup:"HideFeaturePopupEvent"};d.toggleSection=function(){var a=this.$el,b=a.hasClass("active");a.toggleClass("active",!b)};d.AllAccessories=Backbone.View.extend({children:[],render:function(){var a=0,b=this.$el,f=this.template({total:this.model.get("total")}),g,e,i=this.model.get(ND.LBP.Constants.FEATURE_GROUPS);b.html(f);g=b.find("#bp-exterior-content");_.each(i.models,function(j){e=j.get(ND.LBP.Constants.SPECIAL_TYPE);
this.children[a]=e===ND.LBP.Constants.COLOUR_TAB_ID||e===ND.LBP.Constants.INTERIOR_TRIM_TAB_ID||e===ND.LBP.Constants.INTERIOR_FABRIC_TAB_ID?new d.Colours({model:j}):new d.Accessories({id:"accessory_"+a,model:j});g.prepend(this.children[a].render().$el);g.find("li:empty").remove();a++},this);this.addTotalPrice();return this},addTotalPrice:function(){this.$el.find("#bp-exterior-total-price").empty().append(this.totalPriceTemplate({total:this.model.get("total")}))},initialize:function(){this.totalPriceTemplate=
_.template(c("#bp-derivative-list-total-price-template").html());this.template=_.template(c("#bp-exterior-template").html());this.model.on("change:total",this.addTotalPrice,this)}});d.Colours=Backbone.View.extend({tagName:"li",className:"expanded active",children:[],events:{"click span.title":"toggleSection"},toggleSection:d.toggleSection,render:function(){var a=0,b=this.$el,f=this.model.get("isHidden"),g=0;b.toggleClass("hide",f);if(!f){b.html(this.template(this.model.toJSON()));var e=this.$("ul.colors");
b=this.model.get("features");_.each(b.models,function(i){this.children[a]=new d.Colour({model:i});e.append(this.children[a].render().$el);this.children[a].render().$el.hasClass("hide")||g++;a++},this);g===10?e.addClass("exterior-color-10"):e.removeClass("exterior-color-10")}return this},initialize:function(){this.template=_.template(c("#bp-colour-list-template").html());this.model.on("change:isHidden",this.render,this);this.on(h.ToggleSection,this.toggleSection,this)}});d.Colour=Backbone.View.extend({tagName:"li",
events:{"click .color":"colourSelected"},colourSelected:function(){Backbone.trigger(ND.LBP.Events.AccessoryToggled,this.model)},render:function(){var a=this.model.get("selected");c(this.el).html(c(this.template(this.model.toJSON()))).toggleClass("hide",this.model.get("isHidden")).toggleClass("active",a);var b=this.$(".color-popup-wrap");if(a){b.addClass("active");setTimeout(function(){b.removeClass("active")},5E3)}else b.removeClass("active");return this},initialize:function(){this.template=_.template(c("#bp-colour-list-item-template").html());
this.model.on("change",this.render,this);this.on(h.ToggleSection,this.toggleSection,this)}});d.Accessories=Backbone.View.extend({tagName:"li",className:"expanded active",children:[],events:{"click span.title":"toggleSection","click div.option-thumbnail .image":"displayAccessoryDetails"},toggleSection:d.toggleSection,displayAccessoryDetails:function(a){this.hideAllFeatureGroups();var b=c(a.currentTarget).data("popupid"),f=c("#"+b);f.addClass("active");Backbone.once(h.HideFeaturePopup,function(){f.removeClass("active")});
a.preventDefault();a.stopImmediatePropagation();c("body").one("click",this.hideAllFeatureGroups)},hideAllFeatureGroups:function(){Backbone.trigger(h.HideFeaturePopup)},render:function(){var a=0,b=this.$el,f=this.model.get("isHidden");b.toggleClass("hide",f);if(!f){b.toggleClass("expanded",b.hasClass("expanded")).html(this.template(this.model.toJSON()));var g=b.find("ul.options");b=this.model.get("features");_.each(b.models,function(e){this.children[a]=new d.Accessory({model:e});e=this.children[a].render().$el;
e.hasClass("hide")||g.append(e);a++},this)}return this},initialize:function(){this.template=_.template(c("#bp-option-list-template").html());this.model.on("change:isHidden",this.render,this);this.on(h.ToggleSection,this.toggleSection,this)}});d.Accessory=Backbone.View.extend({tagName:"li",events:{"click .enabled":"accessorySelected"},render:function(){c(this.el).html(c(this.template(this.model.toJSON()))).toggleClass("hide",this.model.get("isHidden"));return this},accessorySelected:function(){Backbone.trigger(ND.LBP.Events.AccessoryToggled,
this.model)},initialize:function(){this.template=_.template(c("#bp-option-list-item-template").html());this.model.on("change",this.render,this)}});return d}(jQuery);

ND.LBP.SummaryViews=function(b){var d={};d.Summary=Backbone.View.extend({children:[],events:{"click .bp-set-location":"displayLocationOverlay","click .bp-summary-btn":"callToActionButtonClicked"},callToActionButtonClicked:function(a){a.stopImmediatePropagation()},displayLocationOverlay:function(a){a.preventDefault();Backbone.trigger(ND.LBP.Events.ShowLocationOverlay)},showVehicleOverlay:function(a){a.preventDefault();b("#bp-summary-gallery").removeClass("hide");setTimeout(function(){b(window).on("hashchange",
function(){b("body").removeClass("noscroll");b(window).off("hashchange")})},300);b("body").addClass("noscroll")},hideVehicleOverlay:function(a){a.preventDefault();b("#bp-summary-gallery").addClass("hide");b("body").removeClass("noscroll")},render:function(){var a=0,c=this.$el,e=this.template(this.model.toJSON());c.html(e);var f=b("#bp-summary-details");c=this.model.get("categories");_.each(c.models,function(g){this.children[a]=new d.SummaryCategory({model:g});f.append(this.children[a].render().$el);
a++},this);if(this.model.get("galleryPreview")){this.children[a]=new ND.LBP.CommonViews.Gallery({el:b("#bp-summary-image").find(".car-review"),showSwitchBtn:false,model:this.model.get(ND.LBP.Constants.IMAGES)});this.children[a++].render()}this.$el.find("#bp-summary-location-title").parent(".location").hide();this.renderOverlay();return this},renderLocation:function(){this.$el.find("#bp-summary-location-title").html(this.locTemplate({userLocation:this.model.get(ND.LBP.Constants.USER_LOCATION)}))},
renderOverlay:function(){var a=b("#bp-summary-image").find(".car-review");this.children[this.children.length-1]=new ND.LBP.CommonViews.Gallery({el:a,showSwitchBtn:false,model:this.model.get(ND.LBP.Constants.IMAGES)});this.children[this.children.length-1].render()},initialize:function(){this.template=_.template(b("#bp-summary-template").html());this.locTemplate=_.template(b("#bp-summary-location-template").html());this.model.bind("change:images",this.renderOverlay,this);this.model.bind("change:userLocation",
this.renderLocation,this);this.model.bind("destroy",this.destroy,this)}});d.SummaryCategory=Backbone.View.extend({tagName:"li",initialize:function(){this.template=_.template(b("#bp-summary-category-template").html());this.categoryItemTemplate=_.template(b("#bp-summary-category-item-template").html());this.model.bind("destroy",this.destroy,this)},render:function(){var a=this.$el;a.html(this.template(this.model.toJSON()));var c=a.find(".details");a=this.model.get("accessories");_.each(a.models,function(e){c.append(this.categoryItemTemplate(e.toJSON()))},
this);return this}});return d}(jQuery);

ND.LBP.CommonViews=function(c,p,q,r,s){var d={},k={HideHeader:"HideHeaderEvent",UpdateMobileHeader:"UpdateMobileHeaderEvent"},j={ACTIVE:"active"};d.detectClickOutsideArea=function(a,e,g){var f=function(i){g&&i.preventDefault();if(!c(i.target).parents().andSelf().is(a.id)){e.call(a);c("body").off("click",f)}};c("body").on("click",f)};d.Page=Backbone.View.extend({render:function(){return this},trackPage:function(){Backbone.trigger(ND.LBP.Events.TrackOmniture,{state:ND.LBP.Constants.MODEL_OVERLAY_PAGE_NAME})},
show:function(){this.trackPage();this.$locationOverlay.removeClass("hide")},hide:function(){this.$locationOverlay.addClass("hide")},events:{"click .close-btn":"cancelLocSelection","click .arrow-btn":"selectLocation"},cancelLocSelection:function(a){a.preventDefault();Backbone.trigger(ND.LBP.Events.LocationCanceled,null);this.hide()},selectLocation:function(a){a.preventDefault();a=this.$locationOverlaySelect;Backbone.trigger(ND.LBP.Events.LocationChanged,a.val(),a.find("option:selected").text());this.hide()},
initialize:function(){this.$locationOverlaySelect=c("#bp-select-locations");this.$locationOverlay=c("#bp-location-overlay");Backbone.on(ND.LBP.Events.ShowLocationOverlay,this.show,this);Backbone.on(ND.LBP.Events.HideLocationOverlay,this.hide,this)}});d.AlertOverlay=Backbone.View.extend({className:"rad-overlay-bg",events:{"click .bp-yes":"confirmChange","click .bp-no":"cancelChange"},confirmChange:function(){this.hide()},cancelChange:function(){this.hide()},renderDefault:function(a){a.html(this.alertTemplate());
return a},hide:function(){this.destroy()},initialize:function(){this.alertTemplate=_.template(c("#bp-alert-overlay-template").html())}});d.ConfirmationOverlay=d.AlertOverlay.extend({confirmChange:function(){Backbone.trigger(ND.LBP.Events.ChangeSeries);this.hide()},cancelChange:function(){this.hide()},render:function(){this.renderDefault(this.$el).find(".message").html(this.confirmationTemplate(this.model.toJSON()));return this},initialize:function(){d.AlertOverlay.prototype.initialize();this.confirmationTemplate=
_.template(c("#bp-confirmation-template").html())}});d.SuccessOverlay=d.AlertOverlay.extend({events:{"click .bp-ok":"dismiss"},dismiss:function(){this.hide()},render:function(){this.renderDefault(this.$el).find(".message").html(this.confirmationTemplate({}));this.$(".bp-no").remove();this.$(".bp-yes").remove();this.$(".bp-ok").removeClass("hide");return this},initialize:function(){d.AlertOverlay.prototype.initialize();this.confirmationTemplate=_.template(c("#bp-success-template").html())}});d.ConflictOverlay=
d.AlertOverlay.extend({cancelChange:function(){Backbone.trigger(ND.LBP.Events.RejectConflictResolution,this.model);this.hide()},render:function(){this.renderDefault(this.$el).find(".message").html(this.conflictTemplate({featureName:this.model.get("featureName")}));var a=this.$(".bp-added-container"),e=this.$(".bp-added-details"),g=this.$(".bp-removed-container"),f=this.$(".bp-removed-details"),i=this,h=true,l=this.model.get("additions"),m=this.model.get("subtractions");if(l!=null&&l.length>0){_.each(l.models,
function(n){e.append(i.conflictChangeTemplate(n.toJSON()))});h=false}a.toggleClass("hide",h);h=true;if(m!=null&&m.length>0){_.each(m.models,function(n){f.append(i.conflictChangeTemplate(n.toJSON()))});h=false}g.toggleClass("hide",h);return this},initialize:function(){d.AlertOverlay.prototype.initialize();this.conflictTemplate=_.template(c("#bp-conflict-template").html());this.conflictChangeTemplate=_.template(c("#bp-conflict-changes-template").html())}});d.ErrorOverlay=Backbone.View.extend({className:"rad-overlay-bg",
events:{"click .bp-yes":"tryAgain","click .bp-no":"startOver"},tryAgain:function(){this.hide();Backbone.trigger(ND.LBP.Events.TryAgain)},startOver:function(){Backbone.trigger(ND.LBP.Events.StartOver);this.hide()},hide:function(){this.destroy()},initialize:function(){this.template=_.template(c("#bp-error-overlay-template").html());Backbone.on(ND.LBP.Events.CloseOverlay,this.hide,this)}});d.Navigation=Backbone.View.extend({children:[],render:function(){return this}});d.Headers=Backbone.View.extend({id:"bp-headers",
children:[],events:{"click .current-step":"showMobileMenu"},showMobileMenu:function(a){this.toggleMobileMenu(true);a.stopImmediatePropagation();d.detectClickOutsideArea(this,function(){this.toggleMobileMenu(false)},true)},removeMobileMenu:function(){this.toggleMobileMenu(false)},toggleMobileMenu:function(a){this.$el.toggleClass(j.ACTIVE,a)},render:function(){var a=0,e=this.$el,g=this,f=c("<ul></ul>");_.each(this.collection.models,function(i){this.children[a]=new d.Header({model:i});f.append(g.children[a].render().$el).append(" ");
a++},this);e.append(f);return this},renderSelectionForMobile:function(a){if(a.get("selected")){this.$el.find("#bp-mobile-header").remove();this.$el.prepend(this.template(a.toJSON()))}},initialize:function(){this.template=_.template(c("#bp-nav-current-header-template").html());Backbone.on(k.HideHeader,this.removeMobileMenu,this);Backbone.on(k.UpdateMobileHeader,this.renderSelectionForMobile,this)}});d.Header=Backbone.View.extend({tagName:"li",events:{"click .disabled":"preventClick","click .enabled":"headerClicked"},
preventClick:function(a){a.preventDefault();return false},headerClicked:function(a){a.preventDefault();Backbone.trigger(ND.LBP.Events.HeaderLinkClicked,this.model);Backbone.trigger(k.HideHeader)},render:function(){var a=this.model.get("selected");c(this.el).toggleClass(j.ACTIVE,a).html(this.template(this.model.toJSON()));a&&Backbone.trigger(k.UpdateMobileHeader,this.model);return this},initialize:function(){this.template=_.template(c("#bp-nav-header-list-item-template").html());this.model.on("change",
this.render,this);this.model.on("destroy",this.destroy,this)}});d.Sidebar=Backbone.View.extend({children:[],events:{"click #bp-save-btn":"saveConfiguration","click #bp-share-btn":"shareConfiguration","click #bp-pdf-btn":"pdfBtnClicked","click .bp-share-config":"socialLinkClicked","click .bp-summary-btn":"callToActionButtonClicked"},pdfBtnClicked:function(){Backbone.trigger(ND.LBP.Events.ViewPDF)},saveConfiguration:function(a){a.preventDefault();Backbone.trigger(ND.LBP.Events.SaveConfiguration,this.$("#bp-save-form"))},
callToActionButtonClicked:function(a){a.stopImmediatePropagation()},shareConfiguration:function(a){a.preventDefault();Backbone.off(ND.LBP.Events.ShareConfigReady).on(ND.LBP.Events.ShareConfigReady,function(e){this.$("#ckepop").html(this.jiaThisTemplate({shareUrl:encodeURI(e)}));var g=this.$(".share-popup-wrap");g.addClass("active");d.detectClickOutsideArea({id:"#ckepop"},function(){g.removeClass("active")},false)},this);Backbone.trigger(ND.LBP.Events.ShareConfiguration,this.$("#bp-share-btn").data("shareurl"))},
socialLinkClicked:function(){Backbone.trigger(ND.LBP.Events.SocialLinkClicked)},render:function(){var a=0,e=this;this.$el.empty().append(c(this.template(this.model.toJSON())));var g=this.$(".actions.row.first"),f=this.$("#bp-mobile-nav-btns"),i=this.model.get("buttons");_.each(i.models,function(h){this.children[a]=new d.SidebarButtons({model:h});e.children[a].render().$el.insertBefore(g);a++},this);i=this.model.get("mobileButtons");_.each(i.models,function(h){this.children[a]=new d.MobileSidebarButtons({model:h});
f.append(e.children[a].render().el);a++},this);c("a.anchor-btn",f).parent().addClass("next");c("a.anchor-btn",f).on("touchstart mouseover",function(h){h.stopImmediatePropagation();c(this).addClass("hover")});c("a.anchor-btn",f).on("touchend mouseleave",function(h){h.stopImmediatePropagation();c(this).removeClass("hover")});this.model.get("pageName")===ND.LBP.Constants.SUMMARY_PAGE_NAME&&this.processSummaryLinks();return this},processSummaryLinks:function(){Backbone.trigger(ND.LBP.Events.SummaryButtonsLoaded,
this.$el.find(".bp-summary-btn"));c("#bp-mobile-summary-call-to-actions").html(this.$el.find(".bp-summary-call-to-actions").html()).find(".actions.row").removeClass("small-hide").addClass("medium-hide")},initialize:function(){this.template=_.template(c("#bp-sidebar-template").html());this.jiaThisTemplate=_.template(c("#bp-jiathis-template").html());this.model.on("destroy",this.destroy,this);this.model.on("change",this.render,this)}});d.SidebarButtons=Backbone.View.extend({className:"actions row small-hide",
events:{"click .arrow-btn":"continueClicked"},continueClicked:function(a){a.preventDefault();Backbone.trigger(ND.LBP.Events.ButtonClicked,this.model)},initialize:function(){this.template=_.template(c("#bp-sidebar-button-template").html());this.model.on("destroy",this.destroy,this);this.model.on("change",this.render,this)}});d.MobileSidebarButtons=Backbone.View.extend({className:"columns small-4",events:{"click .anchor-btn":"buttonClicked"},buttonClicked:function(a){a.preventDefault();Backbone.trigger(ND.LBP.Events.ButtonClicked,
this.model)},initialize:function(){this.template=_.template(c("#bp-mobile-sidebar-button-template").html());this.model.on("destroy",this.destroy,this);this.model.on("change",this.render,this)}});d.Gallery=Backbone.View.extend({children:[],events:{"click .next":"nextAngle","click .prev":"prevAngle","click .pager-link":"angelLink","click .switch-btn":"switchGallery"},switchGallery:function(a){Backbone.trigger(ND.LBP.Events.ToggleGalleryView,c(a.currentTarget).data("categoryid"))},nextAngle:function(a){a.preventDefault();
a=this.$galleryWrapper.find("li.active");var e=a.next("li");if(e.length===0)e=this.$galleryWrapper.children("li").first();this.animateToNextImage(a,e);this.updatePage(e.attr("id"))},prevAngle:function(a){a.preventDefault();a=this.$galleryWrapper.find("li.active");var e=a.prev("li");if(e.length===0)e=this.$galleryWrapper.children("li").last();this.animateToNextImage(a,e);this.updatePage(e.attr("id"))},angelLink:function(a){a.preventDefault();if(!c(a.currentTarget).hasClass(j.ACTIVE)){a=c(a.currentTarget).data("view");
var e=this.$galleryWrapper.find("li.active"),g=this.$("#"+a);this.animateToNextImage(e,g);this.updatePage(a)}},animateToNextImage:function(a,e){a.removeClass(j.ACTIVE);e.addClass(j.ACTIVE)},updatePage:function(a){var e=this.$pager;e.find("a.active").removeClass(j.ACTIVE);e.find("a.pager-link."+a).addClass(j.ACTIVE)},render:function(){if(!this.model)return this;var a=0,e=this.$el;e.empty().prepend(c(this.template({id:this.model.id})));this.$galleryWrapper=e.find("ul.car-gallery");this.$pager=e.find(".pager");
var g=this.model.get(b.pf.determineDeviceType()),f,i=false;if(g.length===1){e.find(".controls-direction").hide();this.$pager.hide();i=true}_.each(g.models,function(h){f=a==0?j.ACTIVE:"";i||this.$pager.append(this.pagerTemplate({view:h.get("view"),className:f}));this.children[a]=new d.GalleryImage({className:f,model:h});this.$galleryWrapper.append(this.children[a].render().$el);a++},this);e.find(".switch-btn").toggleClass("hide",this.showSwitchBtn);return this},destroy:function(){this.off();this.$el.empty();
this.stopListening();Backbone.off(ND.LBP.Events.ImageGroupUpdated);if(this.children){_.each(this.children,function(a){a.destroy()});this.children=[]}},initialize:function(a){this.template=_.template(c("#bp-gallery-template").html());this.pagerTemplate=_.template(c("#bp-gallery-pager-template").html());this.showSwitchBtn=typeof a.showSwitchBtn==="undefined"?true:a.showSwitchBtn;Backbone.on(ND.LBP.Events.ImageGroupUpdated,this.render,this)}});d.GalleryImage=Backbone.View.extend({tagName:"li",initialize:function(a){this.noId=
a.noId||false;this.model.on("destroy",this.destroy,this);this.model.on("change",this.render,this)},render:function(){var a,e=0,g=this.model.get("layers");a=this.noId?this.$el:this.$el.attr({id:this.model.get("view")});_.each(g,function(f){a.append('<div class="'+(e===0?"layer-bg":"layer")+'" style="z-index:'+e+'"><img src="'+ND.LBP.Config.baseImageURL+f+'"> </div>');e++});return this}});d.KeyFeatures=Backbone.View.extend({events:{"click .comparison-overlay":"showComparisonChart"},render:function(){this.$el.removeClass("hide").append(this.template(this.model.toJSON()));
return this},showComparisonChart:function(a){a.preventDefault();a=c(a.currentTarget).data("href");typeof a!=="undefined"&&c.ajax({url:a,type:"GET"}).done(function(e){ND.LBP.ComparisonOverlay(e)}).fail(function(){Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)})},initialize:function(){this.template=_.template(c("#bp-keyFeatures-template").html());this.model.on("change",this.render,this)}});var b={_cache:[],_hotspots:null,_hasPage:false,_hasKeyFeatures:false,_hasHeader:false,
_hasSidebar:false,_gallery:null,_init:function(){Backbone.on(ND.LBP.Events.BlockUI,b._blockUI,b.pf);Backbone.on(ND.LBP.Events.UnblockUI,b._unblockUI,b.pf);Backbone.on(ND.LBP.Events.TriggerConflictResolution,b.pf.conflictAlert,b);Backbone.on(ND.LBP.Events.ConfirmSeriesChange,b.pf.confirmationAlert,b);Backbone.on(ND.LBP.Events.SuccessfullySaved,b.pf.successAlert,b);Backbone.on(ND.LBP.Events.ErrorOccurred,b.pf.error,b);b._cache.body=c(".build-and-price");b._cache.gallery=c('<div class="car-stage border-wrap row"></div>');
b._cache.summary=c('<div class="summary border-wrap row"></div>');b._cache.loader=c('<div id="bp-lincoln-loader" class="loading-bkground"><span class="loading-gif"></span></div>');b._cache.alertOverlay=c('<div id="bp-alert-overlay" class="rad-overlay-bg"></div>');return b},_blockUI:function(){c("body").append(b._cache.loader)},_unblockUI:function(){b._cache.loader.remove()},pf:{page:function(){if(!b._hasPage){b._cache.page=c(".main.columns.large-12");b._cache.keyFeatures=b._cache.page.html();b._cache.page.empty();
new d.Page({el:c(".build-and-price")});b._hasPage=true}c("html, body").animate({scrollTop:0},"slow");return b.pf},headers:function(a){if(!b._hasHeader){(new d.Headers({el:c(".steps-nav"),collection:a})).render();b._hasHeader=true}return b.pf},nameplates:function(a){(new p.Nameplates({el:b._cache.page,collection:a})).render();return b.pf},derivatives:function(a){(new q.Derivatives({el:b._cache.page,model:a})).render();return b.pf},exterior:function(a){(new r.AllAccessories({el:b._cache.page,model:a})).render();
return b.pf},summary:function(a){b._cache.page.append(b._cache.summary);(new s.Summary({el:b._cache.page,model:a})).render();return b.pf},keyFeatures:function(a){b._cache.page.find(".large-9").append(b._cache.keyFeatures);(new d.KeyFeatures({el:"#bp-key-features",model:a})).render();return b.pf},gallery:function(a){b._cache.page.prepend(b._cache.gallery);b._gallery!=null&&b._gallery.destroy();b._gallery=new d.Gallery({el:c(".car-stage.border-wrap"),model:a});b._gallery.render();return b.pf},hotspots:function(){if(b._hotspots==
null)b._hotspots=_.template(c("#bp-hotspots-template").html());b._cache.page.find(".large-9").append(b._hotspots());return b.pf},sidebar:function(a){(new d.Sidebar({el:c(".aside.columns.large-3"),model:a})).render();return b.pf},conflictAlert:function(a){c(".build-and-price").append(b._cache.alertOverlay);(new d.ConflictOverlay({el:c("#bp-alert-overlay"),model:a})).render();return b.pf},confirmationAlert:function(a){c(".build-and-price").append(b._cache.alertOverlay);(new d.ConfirmationOverlay({el:c("#bp-alert-overlay"),
model:a})).render();return b.pf},successAlert:function(){c(".build-and-price").append(b._cache.alertOverlay);(new d.SuccessOverlay({el:c("#bp-alert-overlay"),model:{}})).render();return b.pf},error:function(a){c(".build-and-price").append(b._cache.alertOverlay);(new d.ErrorOverlay({el:c("#bp-alert-overlay"),model:a})).render();return b.pf},determineDeviceType:function(){if(window.screen.width<ND.LBP.Constants.MOBILE_SCREEN_SIZE)return"mobile";return"web"}}},o=b._init().pf;o.Gallery=d.Gallery;o.GalleryImage=
d.GalleryImage;return o}(jQuery,ND.LBP.NameplateViews,ND.LBP.DerivativeViews,ND.LBP.ExteriorViews,ND.LBP.SummaryViews);

(function(){var d={FRAGMENT:"nameplates",HEADER_ID:1},g={askForLocation:true},b={trackPage:function(){Backbone.trigger(ND.LBP.Events.TrackOmniture,{state:ND.LBP.Constants.NAMEPLATE_PAGE_NAME})},setupConfirmationBeforeLeave:function(){leaveoutOverlay=function(a){$("#bp-leaveout-overlay").remove();$(".build-and-price").append($('<div id="bp-leaveout-overlay" class="rad-overlay-bg"></div>'));$("#bp-leaveout-overlay").hide();$("#bp-leaveout-overlay").html($("#bp-leaveout-overlay-template").html());setTimeout(function(){$("#bp-leaveout-overlay .bp-yes").on("click",
function(){$.cookie("bnp.anchor","N",{path:"/",expires:1});$.cookie("dfy.pg.bkbtn",$("#badge a").attr("href"),{path:"/",expires:1});if($(this).data("link"))location.href=$(this).data("params")?$(this).data("link")+"?"+$(this).data("params"):$(this).data("link");else location.reload()});$("#bp-leaveout-overlay .bp-no").on("click",function(){$.cookie("bnp.anchor","N",{path:"/",expires:1});if(a)if(a==location.href)location.reload();else location.href=a;else $("#submit").trigger("click")});$("#bp-leaveout-overlay").show()},
1E3)};$.cookie("bnp.anchor","Y",{path:"/",expires:1});$("a").on("click",function(a){if($(this).attr("href")&&$(this).attr("href").toLowerCase().indexOf("http")==0&&(!$(this).attr("target")||$(this).attr("target").toLowerCase()!=="_blank")){a.preventDefault();a.stopPropagation();leaveoutOverlay($(this).attr("href"),null)}});document["search-pannel"].onsubmit=function(a){if($.cookie("bnp.anchor")=="Y"){if(a&&a.preventDefault){a.preventDefault();a.stopPropagation()}else event.returnValue=false;leaveoutOverlay()}};
window.onbeforeunload=function(){window.onunload=function(){if($.cookie("bnp.anchor")=="Y"){$.cookie("bnp.anchor","N",{path:"/",expires:1});location.href=location.href;leaveoutOverlay(location.href)}}}},loadAndDisplay:function(){b.subscribeToEvents();Backbone.trigger(ND.LBP.Events.BlockUI);b.dataloader.getNameplates(function(a){ND.LBP.CommonViews.page().headers(b.dataloader.updateHeaders(d.HEADER_ID,[])).nameplates(b.filterNameplates(a));b.trackPage();b.setupConfirmationBeforeLeave();Backbone.trigger(ND.LBP.Events.UnblockUI);
$(".nameplate-title").empty()})},filterNameplates:function(a){var c=ND.LBP.Config.modelsNotShow;if(c&&c.length){var e=[];_.each(a.models,function(f){c.indexOf(f.id)==-1&&e.push(f)});a.reset(e)}return a},saveAndContinue:function(a){b.dataloader.getNameplates(function(c){c.select(a);c=a.get("isModelNavigator");Backbone.trigger(ND.LBP.Events.ChangePage,a.get("getModelPageUrl")(),c)})},headerLinkClicked:function(a){var c=a.get("pathURL");d.HEADER_ID<a.id&&Backbone.trigger(ND.LBP.Events.ChangePage,c)},
buildPageUrl:function(){return"#"+d.FRAGMENT},subscribeToEvents:function(){Backbone.on(ND.LBP.Events.NameplateSelected,b.saveAndContinue,b)},unsubscribeFromEvents:function(){Backbone.off(ND.LBP.Events.NameplateSelected,b.saveAndContinue)},clearCache:function(){g={askForLocation:true}},_init:function(){Backbone.on(ND.LBP.Events.StartOver,b.clearCache,b);Backbone.on(d.HEADER_ID+ND.LBP.Events.HeaderLinkClicked,b.headerLinkClicked,b);Backbone.on(ND.LBP.Events.UnsubscribeFromEvents,b.unsubscribeFromEvents,
b);b.dataloader=ND.LBP.Builder;var a=[{fragment:d.FRAGMENT,name:ND.LBP.Constants.NAMEPLATE_PAGE_NAME,buildPageUrl:b.buildPageUrl,action:b.loadAndDisplay}];Backbone.on(ND.LBP.Events.RegisterModule,function(c){c.call(c,a)})}};b._init()})();

(function(){var f={FRAGMENT:"nameplates/:nameplateId",DERIVATIVE_ID:"derivativeId",HEADER_ID:2},a={prevEngineId:null,prevDerivativeName:null,prevEngineName:null},b={trackPage:function(c){Backbone.trigger(ND.LBP.Events.TrackOmniture,{state:ND.LBP.Constants.SERIES_PAGE_NAME,year:c.get("year")})},loadAndDisplay:function(c){Backbone.trigger(ND.LBP.Events.BlockUI);b.subscribeToEvents();a.nameplateId=c;b.getModel(function(d){var g=d.get(ND.LBP.Constants.SERIES),h=g.get(ND.LBP.Constants.DERIVATIVES),e=d.findSelectedEngine();
a.derivativeId=e?e.get(f.DERIVATIVE_ID):"";a.engineName=e?e.get(ND.LBP.Constants.NAME):"";a.derivativeName=e?h.get(a.derivativeId).get(ND.LBP.Constants.NAME):"";a.engineId=e?e.id:"";h=b.dataloader.updateHeaders(f.HEADER_ID,[c,a.derivativeId,ND.LBP.Utils.removeDotSlash(a.engineId)]);e=b.dataloader.getNextPrevHeaders();$(".nameplate-title").text("- "+d.get("name"));var i=d.get("prices").at(0).get("value");ND.LBP.Globals.isDerivativePriceHidden=i==1;a.pathUrl=h.get(f.HEADER_ID).get("pathURL");a.sidebar=
b.dataloader.getSidebar({pageName:ND.LBP.Constants.SERIES_PAGE_NAME,buttonData:[{id:1,name:ND.LBP.Constants.CONTINUE,nextPageURL:e.next,sequence:0}],mobileButtonData:[{id:1,name:ND.LBP.Constants.NEXT,nextPageURL:e.next,sequence:0}]});a.sidebar.set("total",null);ND.LBP.CommonViews.page().headers(h).derivatives(g).sidebar(a.sidebar);Backbone.trigger(ND.LBP.Events.UnblockUI);b.trackPage(d)})},updateUserSelection:function(c){var d=c.get(f.DERIVATIVE_ID);b.dataloader.getNameplateDetails(a.nameplateId,
null,true,function(g){g=g.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES);var h=g.selectById(d);_.each(g.models,function(e){e.get(ND.LBP.Constants.ENGINES).deselectAll()});h.get(ND.LBP.Constants.ENGINES).select(c);a.sidebar.set(f.DESCRIPTION,h.get(f.DESCRIPTION));a.derivativeId=d;a.derivativeName=h.get(ND.LBP.Constants.NAME);a.engineId=c.id;a.engineName=c.get(ND.LBP.Constants.NAME);b.dataloader.updateHeaders(f.HEADER_ID,[a.nameplateId,a.derivativeId,ND.LBP.Utils.removeDotSlash(a.engineId)]);
b.dataloader.updateSidebarButtonUrl(1,b.dataloader.getNextPrevHeaders().next)})},saveAndContinue:function(c){b.save(function(){Backbone.trigger(ND.LBP.Events.UnblockUI);var d=c.get("nextPageURL"),g="",h=0;$.each(d,function(e,i){if(i==="#"){h++;g+=h>1?encodeURIComponent("#"):i}else g+=i});Backbone.trigger(ND.LBP.Events.ChangePage,g)})},save:function(c){if(a.prevEngineId==null||a.engineId!==a.prevEngineId)if(a.prevEngineId!=null){Backbone.off(ND.LBP.Events.ChangeSeries);Backbone.once(ND.LBP.Events.ChangeSeries,
function(){b.saveProgress(c)});Backbone.trigger(ND.LBP.Events.ConfirmSeriesChange,new ND.LBP.CommonModels.Confirm({newDerivativeName:a.derivativeName+" "+a.engineName,oldDerivativeName:a.prevDerivativeName+" "+a.prevEngineName}))}else b.saveProgress(c);else c()},saveProgress:function(c){Backbone.off(ND.LBP.Events.ChangeSeries);a.prevEngineId=a.engineId;a.prevDerivativeName=a.derivativeName;a.prevEngineName=a.engineName;Backbone.trigger(ND.LBP.Events.BlockUI);Backbone.trigger(ND.LBP.Events.SaveProgress,
{nameplateId:a.nameplateId,state:null,currentPathUrl:a.pathUrl,changePath:true,selections:[{id:a.engineId,selected:true}]},c)},buttonClicked:function(c){var d=c.get("type");if(ND.LBP.Constants.NEXT===d&&a.engineId.length)b.saveAndContinue(c);else ND.LBP.Constants.PREV===d&&Backbone.trigger(ND.LBP.Events.ChangePage,c.get("nextPageURL"))},getModel:function(c){b.dataloader.getNameplateDetails(a.nameplateId,null,true,c)},buildPageUrl:function(c){return"#"+f.FRAGMENT.replace(":nameplateId",c)},subscribeToEvents:function(){Backbone.on(ND.LBP.Events.SeriesEngineSelected,
b.updateUserSelection,b);Backbone.on(ND.LBP.Events.ButtonClicked,b.buttonClicked,b)},unsubscribeFromEvents:function(){Backbone.off(ND.LBP.Events.SeriesEngineSelected,b.updateUserSelection);Backbone.off(ND.LBP.Events.ButtonClicked,b.buttonClicked)},headerLinkClicked:function(c){var d=c.get("pathURL");f.HEADER_ID<c.id?b.save(function(){Backbone.trigger(ND.LBP.Events.UnblockUI);Backbone.trigger(ND.LBP.Events.ChangePage,d)}):Backbone.trigger(ND.LBP.Events.ChangePage,d)},clearCache:function(){a={prevEngineId:null,
prevDerivativeName:null,prevEngineName:null}},reloadCache:function(c){a={};b.dataloader.getNameplateDetails(c.id,null,true,function(d){d=d.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES).getSelected();a.prevDerivativeName=d.get(ND.LBP.Constants.NAME);d=d.get(ND.LBP.Constants.ENGINES).getSelected();a.prevEngineId=d.id;a.prevEngineName=d.get(ND.LBP.Constants.NAME)});Backbone.off(ND.LBP.Events.ReloadingConfig,b.reloadCache)},_init:function(){Backbone.on(ND.LBP.Events.StartOver,b.clearCache,
b);Backbone.on(f.HEADER_ID+ND.LBP.Events.HeaderLinkClicked,b.headerLinkClicked,b);Backbone.on(ND.LBP.Events.UnsubscribeFromEvents,b.unsubscribeFromEvents,b);Backbone.on(ND.LBP.Events.ReloadingConfig,b.reloadCache,b);b.dataloader=ND.LBP.Builder;var c=[{fragment:f.FRAGMENT,name:ND.LBP.Constants.SERIES_PAGE_NAME,buildPageUrl:b.buildPageUrl,action:b.loadAndDisplay}];Backbone.on(ND.LBP.Events.RegisterModule,function(d){d.call(d,c)})}};b._init()})();

(function(){var i={NAMEPLATE_DETAILS:"nameplateDetails",FRAGMENT:"nameplates/:nameplateId/series/:seriesId/engines/:engineId/category/:category",CATEGORY_SEQUENCE:{exterior:{nextCategory:"interior",imageGroupId:"Exterior",omnitureState:"2",headerId:3},interior:{nextCategory:"accessories",imageGroupId:"Interior",omnitureState:"3",headerId:4},accessories:{nextCategory:null,imageGroupId:"Exterior",omnitureState:"4",omniturePagename:"features",headerId:5}},HEADER_IDS:[3,4,5]},d={},a={buildPageUrl:function(b,
c,e,g){return"#"+i.FRAGMENT.replace(":nameplateId",b).replace(":seriesId",c).replace(":engineId",e).replace(":category",g)},trackPage:function(b){b=b.get("name");Backbone.trigger(ND.LBP.Events.TrackOmniture,{state:ND.LBP.Constants.ACCESSORIES_PAGE_NAME,category:{name:i.CATEGORY_SEQUENCE[b].omniturePagename||b,omniState:d.thisCategory.omnitureState}})},loadAndDisplay:function(b,c,e,g){Backbone.trigger(ND.LBP.Events.BlockUI);d.nameplateId=b;d.derivativeId=c;d.category=g;d.thisCategory=i.CATEGORY_SEQUENCE[g];
a.subscribeToEvents();a.dataloader.getNameplateDetails(b,e,true,function(f){if(f.get("state")==null)Backbone.trigger(ND.LBP.Events.AppStateIsNull);else{var j=f.get(g),h=f.get(ND.LBP.Constants.IMAGE_GROUPS)?f.get(ND.LBP.Constants.IMAGE_GROUPS).get(d.thisCategory.imageGroupId):null,k=a.dataloader.updateHeaders(d.thisCategory.headerId,[b,c,e]),l=a.dataloader.getNextPrevHeaders();d.pathUrl=k.get(d.thisCategory.headerId).get("pathURL");d.sidebar=a.dataloader.getSidebar({pageName:ND.LBP.Constants.ACCESSORIES_PAGE_NAME,
buttonData:[{id:1,name:ND.LBP.Constants.CONTINUE,nextPageURL:l.next}],mobileButtonData:[{id:1,name:ND.LBP.Constants.NEXT,nextPageURL:l.next}]});a.setTotalPrice(f);ND.LBP.CommonViews.page().headers(k).exterior(j).gallery(h).sidebar(d.sidebar);a.trackPage(j);Backbone.trigger(ND.LBP.Events.UnblockUI)}})},accessoryToggled:function(b){var c=b.get("specialType");if(c===ND.LBP.Constants.COLOUR_TAB_ID||c===ND.LBP.Constants.INTERIOR_TRIM_TAB_ID||c===ND.LBP.Constants.INTERIOR_FABRIC_TAB_ID)b.get("selected")||
a.sendAccessoryToggledRequest(b);else a.sendAccessoryToggledRequest(b)},sendAccessoryToggledRequest:function(b){Backbone.trigger(ND.LBP.Events.BlockUI);a.dataloader.storeFeatureName(b.get("name"));Backbone.trigger(ND.LBP.Events.SaveProgress,{nameplateId:d.nameplateId,currentPathUrl:d.pathUrl,changePath:false,selections:[{id:b.id,selected:!b.get("selected")}]},function(c){d.sidebar.set({description:c.get(ND.LBP.Constants.SIDEBAR_MESSAGES).join("")});a.setTotalPrice(c);Backbone.trigger(ND.LBP.Events.UnblockUI)})},
setTotalPrice:function(b){var c=b.get(ND.LBP.Constants.PRICES),e=null;if(ND.LBP.Globals.isDerivativePriceHidden)e=ND.LBP.Config.hidePriceText;else if(typeof c!=="undefined"&&c!=null&&c.length>0)e=ND.PriceFormatter.format(c.at(0).get("value"));b.get(d.category).set("total",e);d.sidebar.set("total",e)},buttonClicked:function(b){var c=b.get("type"),e=b.get("nextPageURL");if(ND.LBP.Constants.NEXT===c)a.save(function(){a.navigateToUrl(e)});else ND.LBP.Constants.PREV===c&&a.navigateToUrl(e)},save:function(b){a.dataloader.getNameplateDetails(d.nameplateId,
d.engineId,true,function(c){var e=c.get(d.category).get(ND.LBP.Constants.FEATURE_GROUPS),g,f,j=false,h={state:ND.LBP.Constants.ACCESSORIES_PAGE_NAME,category:{name:d.thisCategory.omniturePagename||d.thisCategory.name,year:c.get("year"),omniState:d.thisCategory.omnitureState}};e.each(function(k){g=k.get(ND.LBP.Constants.FEATURES);f=k.get(ND.LBP.Constants.SPECIAL_TYPE);g.each(function(l){var m=l.get("state");if(l.get("selected")&&m!=="DEFAULT"&&m!=="INCLUDED")if(f===ND.LBP.Constants.COLOUR_TAB_ID)Backbone.trigger(ND.LBP.Events.ColorSelected,
h);else if(f===ND.LBP.Constants.RIMS_TAB_ID)Backbone.trigger(ND.LBP.Events.RimSelected,h);else if(f===ND.LBP.Constants.INTERIOR_TRIM_TAB_ID)Backbone.trigger(ND.LBP.Events.FabricSelected,h);else if(f===ND.LBP.Constants.INTERIOR_FABRIC_TAB_ID)Backbone.trigger(ND.LBP.Events.TrimSelected,h);else if(!j){Backbone.trigger(ND.LBP.Events.AccessorySelected,h);j=true}})});b()})},headerLinkClicked:function(b,c){var e=b.get("pathURL");c<b.id?a.save(function(){a.navigateToUrl(e)}):a.navigateToUrl(e)},navigateToUrl:function(b){Backbone.trigger(ND.LBP.Events.UnblockUI);
Backbone.trigger(ND.LBP.Events.ChangePage,b)},subscribeToEvents:function(){a.unsubscribeFromEvents();Backbone.on(ND.LBP.Events.AccessoryToggled,a.accessoryToggled,a);Backbone.on(ND.LBP.Events.ButtonClicked,a.buttonClicked,a)},unsubscribeFromEvents:function(){Backbone.off(ND.LBP.Events.AccessoryToggled,a.accessoryToggled);Backbone.off(ND.LBP.Events.ButtonClicked,a.buttonClicked)},clearCache:function(){d={}},_init:function(){Backbone.on(ND.LBP.Events.StartOver,a.clearCache,a);_.each(i.HEADER_IDS,function(c){Backbone.on(c+
ND.LBP.Events.HeaderLinkClicked,function(e){a.headerLinkClicked(e,c)},a)});Backbone.on(ND.LBP.Events.UnsubscribeFromEvents,a.unsubscribeFromEvents,a);a.dataloader=ND.LBP.Builder;var b=[{fragment:i.FRAGMENT,name:ND.LBP.Constants.ACCESSORIES_PAGE_NAME,buildPageUrl:a.buildPageUrl,action:a.loadAndDisplay}];Backbone.on(ND.LBP.Events.RegisterModule,function(c){c.call(c,b)})}};a._init()})();

(function(f){var l={FRAGMENT:"nameplates/:nameplateId/series/:seriesId/engines/:engineId/summary",HEADER_ID:6,EXTERIOR_ID:"Exterior",IMAGE_GROUP_SEQUENCE:{Exterior:{next:"Interior"},Interior:{next:"Exterior"}}},a={omniture:{}},d={buildPageUrl:function(b,c,e){return"#"+l.FRAGMENT.replace(":nameplateId",b).replace(":seriesId",c).replace(":engineId",e)},trackPage:function(){a.omniture.state=ND.LBP.Constants.SUMMARY_PAGE_NAME;Backbone.trigger(ND.LBP.Events.TrackOmniture,a.omniture)},setupConfirmationBeforeLeave:function(){leaveoutOverlay=
function(b){f("#bp-leaveout-overlay").remove();f(".build-and-price").append(f('<div id="bp-leaveout-overlay" class="rad-overlay-bg"></div>'));f("#bp-leaveout-overlay").hide();f("#bp-leaveout-overlay").html(f("#bp-leaveout-overlay-template").html());setTimeout(function(){f("#bp-leaveout-overlay .bp-yes").on("click",function(){f.cookie("bnp.anchor","N",{path:"/",expires:1});f.cookie("dfy.pg.bkbtn",f("#badge a").attr("href"),{path:"/",expires:1});if(f(this).data("link"))location.href=f(this).data("params")?
f(this).data("link")+"?"+f(this).data("params"):f(this).data("link");else location.reload()});f("#bp-leaveout-overlay .bp-no").on("click",function(){f.cookie("bnp.anchor","N",{path:"/",expires:1});if(b)if(b==location.href)location.reload();else location.href=b;else f("#submit").trigger("click")});f("#bp-leaveout-overlay").show()},1E3)};f.cookie("bnp.anchor","Y",{path:"/",expires:1});f("a").on("click",function(b){if(f(this).attr("href")&&f(this).attr("href").toLowerCase().indexOf("http")==0&&(!f(this).attr("target")||
f(this).attr("target").toLowerCase()!=="_blank")){b.preventDefault();b.stopPropagation();leaveoutOverlay(f(this).attr("href"),null)}});document["search-pannel"].onsubmit=function(b){if(f.cookie("bnp.anchor")=="Y"){if(b&&b.preventDefault){b.preventDefault();b.stopPropagation()}else event.returnValue=false;leaveoutOverlay()}};window.onbeforeunload=function(){window.onunload=function(){if(f.cookie("bnp.anchor")=="Y"){f.cookie("bnp.anchor","N",{path:"/",expires:1});location.href=location.href;leaveoutOverlay(location.href)}}}},
loadAndDisplay:function(b,c,e){Backbone.trigger(ND.LBP.Events.BlockUI);d.subscribeToEvents();a.nameplateId=b;a.derivativeId=c;a.engineId=ND.LBP.Utils.removeDotSlash(e);a.userSelectedIds="";d.dataloader.getNameplateDetails(b,a.engineId,true,function(g){if(g.get("state")==null)Backbone.trigger(ND.LBP.Events.AppStateIsNull);else{var h=g.get("prices").at(0).get("value");ND.LBP.Globals.isDerivativePriceHidden=h==1;h=d.getTotalPrice(g);f(".nameplate-title").is(":empty")&&f(".nameplate-title").text("- "+
g.get("name"));a.headers=d.dataloader.updateHeaders(l.HEADER_ID,[b,c,e]);a.summaryModel=d.buildSummaryModel(g,h);var j=g.get(ND.LBP.Constants.IMAGE_GROUPS)?g.get(ND.LBP.Constants.IMAGE_GROUPS).get("Exterior"):null;a.summaryModel.set({galleryPreview:j,images:j});Backbone.trigger(ND.LBP.Events.LoadFromCookie,function(i){if(i.s!==ND.LBP.Config.site)i={};a.loc=i.l;a.locDisplay=i.d;a.summaryModel.set(ND.LBP.Constants.USER_LOCATION,i.d)});a.sidebar=d.dataloader.getSidebar({pageName:ND.LBP.Constants.SUMMARY_PAGE_NAME,
hidePDFShare:false,hideSave:false,hidePDFButton:ND.LBP.Globals.isDerivativePriceHidden,buttonData:[],state:g.get("state"),hideConnect:true,mobileButtonData:[]});a.sidebar.set("total",h);ND.LBP.CommonViews.page().headers(a.headers).summary(a.summaryModel).keyFeatures(d.dataloader.getKeyFeatures(g,c)).hotspots().sidebar(a.sidebar);d.trackPage();d.setupConfirmationBeforeLeave();Backbone.trigger(ND.LBP.Events.UnblockUI)}})},getTotalPrice:function(b){b=b.get(ND.LBP.Constants.PRICES);var c=null;if(ND.LBP.Globals.isDerivativePriceHidden)c=
ND.LBP.Config.hidePriceText;else if(typeof b!=="undefined"&&b!=null&&b.length>0)c=ND.PriceFormatter.format(a.unformattedTotal=b.at(0).get("value"));return c},buildSummaryModel:function(b,c){var e=b.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES);e=d.getSelectedDerivativeEngine(e);e.nameplate=b.get(ND.LBP.Constants.NAME);a.unformattedOriginalPrice=parseInt(e.enginePrice.replace(/\D/ig,""));a.omniture=e;a.omniture.year=b.get("year");var g=new ND.LBP.SummeryModels.Summary(e),h=new ND.LBP.SummeryCollections.SummaryCategories,
j=[ND.LBP.Constants.EXTERIOR,ND.LBP.Constants.INTERIOR,ND.LBP.Constants.ACCESSORIES];a.omniture.omnitureFeatures=[];a.omniture.vehicleOptions=[];_.each(j,function(i){i=d.getSelectedAccessories(b.get(i));i=new ND.LBP.SummeryModels.SummaryCategory(i);h.add(i)},this);g.set({categories:h,seriesRoute:d.dataloader.getRouteForPage("series"),price:e.enginePrice,total:c});return g},getSelectedDerivativeEngine:function(b){var c=null,e;_.find(b.models,function(g){e=g.get(ND.LBP.Constants.ENGINES);return _.find(e.models,
function(h){if(ND.LBP.Constants.SELECTED_STATES.indexOf(h.get(ND.LBP.Constants.STATE))>=0){c={series:g.get(ND.LBP.Constants.NAME),seriesId:g.id,engine:h.get(ND.LBP.Constants.NAME),enginePrice:h.get("price"),engineId:h.id};a.engineName=c.engine;return true}return false})!=null});return c},getSelectedAccessories:function(b){var c=b.get(ND.LBP.Constants.FEATURE_GROUPS),e=new ND.LBP.SummeryCollections.SummaryAccessories,g,h,j;_.each(c.models,function(i){if(!i.get("isHidden")){g=i.get(ND.LBP.Constants.FEATURES);
h=i.get(ND.LBP.Constants.SPECIAL_TYPE);j=0;g.each(function(k){if(ND.LBP.Constants.SELECTED_STATES.indexOf(k.get("state"))>=0){if(h===ND.LBP.Constants.COLOUR_TAB_ID){a.omniture.colourId=k.id;a.colourName=k.get("name")}else if(h===ND.LBP.Constants.INTERIOR_TRIM_TAB_ID)a.omniture.trimId=k.id;else h===ND.LBP.Constants.INTERIOR_FABRIC_TAB_ID||h===ND.LBP.Constants.RIMS_TAB_ID?a.omniture.omnitureFeatures.push(k.id):a.omniture.vehicleOptions.push(k.id);if(h!==ND.LBP.Constants.COLOUR_TAB_ID){if(a.userSelectedIds.length!==
0)a.userSelectedIds+=",";a.userSelectedIds+=k.get("id")}e.add(new ND.LBP.SummeryModels.SummaryAccessory({name:k.get(ND.LBP.Constants.NAME),price:ND.LBP.CommonModels.formatFeaturePrice(k),sequence:j}));j++}})}});e.length===0&&e.add(new ND.LBP.SummeryModels.SummaryAccessory({name:"none",price:null,sequence:0}));c=a.headers.where({pagename:b.get(ND.LBP.Constants.NAME)});return{name:c!=null&&c.length>0?c[0].get(ND.LBP.Constants.NAME):b.get(ND.LBP.Constants.NAME),categoryRoute:d.dataloader.getRouteForPage(b.get(ND.LBP.Constants.NAME)),
accessories:e}},locationChanged:function(b,c){a.summaryModel.set(ND.LBP.Constants.USER_LOCATION,c)},galleryViewChanged:function(b){d.dataloader.getNameplateDetails(a.nameplateId,a.engineId,true,function(c){var e=l.IMAGE_GROUP_SEQUENCE[b].next;if(typeof e==="undefined")e=l.EXTERIOR_ID;c=c.get(ND.LBP.Constants.IMAGE_GROUPS).get(e);a.summaryModel.set(ND.LBP.Constants.IMAGES,c);Backbone.trigger(ND.LBP.Events.ImageGroupUpdated)})},populateSummaryButtons:function(b){_.each(b,function(c){c=f(c);var e=c.data("params")||
"",g=c.data("singlepage")||false;if(typeof e!=="undefined"&&e.length>0){e=e.replace(":catalogId",a.nameplateId).replace(":wersCode",a.derivativeId).replace(":price",a.unformattedOriginalPrice).replace(":engine",encodeURIComponent(a.engineId)).replace(":userSelected",a.userSelectedIds);if(g)c.attr("href",c.attr("href")+e);else{e=c.attr("href")+(c.attr("href").indexOf("?")>0?"&"+e:"?"+e);c.attr("href",e)}}});setTimeout(function(){f(".fullscreen-overlay").radOverlay({additionalClass:"auto-height-overlay"})},
1E3)},saveConfiguration:function(b){d.dataloader.getNameplateDetails(a.nameplateId,a.engineId,true,function(c){var e=c.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES).getSelected();if(typeof e!=="undefined"&&e!=null){var g,h=c.getAllWERSCodes(),j=c.getSelectedWERSCode();c.dissembleEngineId(a.engineId,a.derivativeId);j.push(a.engineId);var i=new Date;i=i.getFullYear()+""+ND.LBP.Utils.pad2(i.getMonth()+1)+""+ND.LBP.Utils.pad2(i.getDate())+""+ND.LBP.Utils.pad2(i.getHours())+""+ND.LBP.Utils.pad2(i.getMinutes())+
""+ND.LBP.Utils.pad2(i.getSeconds());h={modelId:a.nameplateId,derivativeId:a.derivativeId,engineId:a.engineId,allFeatures:h,selectedFeatures:j,postcode:a.loc};for(g in h)f("#lbp-save-"+g).val(h[g]);f.cookie("dfy.lbp.save.state",c.get("state"),{expires:7,path:"/"});f.cookie("dfy.lbp.save.name",e.get("name")+" "+a.engineName+" "+a.colourName+" "+i,{expires:7,path:"/"});window.onbeforeunload=null;b.submit()}})},shareConfiguration:function(b){Backbone.trigger(ND.LBP.Events.BlockUI);d.dataloader.getNameplateDetails(a.nameplateId,
a.engineId,true,function(c){var e=c.getSelectedWERSCode();c.dissembleEngineId(a.engineId,a.derivativeId);f.ajax({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",url:b,data:JSON.stringify({modelId:a.nameplateId,compoundId:a.engineId,colourId:"0",trimId:"0",features:e,postcode:a.loc,priceZoneId:ND.LBP.Config.priceZoneId,site:ND.LBP.Config.site,usage:"b"}),success:function(g){Backbone.trigger(ND.LBP.Events.UnblockUI);typeof g!=="undefined"&&g!=null&&typeof g.url!=="undefined"&&
Backbone.trigger(ND.LBP.Events.ShareConfigReady,g.url)},error:function(){Backbone.trigger(ND.LBP.Events.UnblockUI);Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)}})})},buttonClicked:function(b){var c=b.get("type");ND.LBP.Constants.PREV===c&&Backbone.trigger(ND.LBP.Events.ChangePage,b.get("nextPageURL"))},subscribeToEvents:function(){Backbone.on(ND.LBP.Events.LocationChanged,d.locationChanged,d);Backbone.on(ND.LBP.Events.ToggleGalleryView,d.galleryViewChanged,d);Backbone.on(ND.LBP.Events.ButtonClicked,
d.buttonClicked,d);Backbone.on(ND.LBP.Events.ShareConfiguration,d.shareConfiguration,d);Backbone.on(ND.LBP.Events.SaveConfiguration,d.saveConfiguration,d);Backbone.on(ND.LBP.Events.SummaryButtonsLoaded,d.populateSummaryButtons,d)},unsubscribeFromEvents:function(){Backbone.off(ND.LBP.Events.ButtonClicked,d.buttonClicked);Backbone.off(ND.LBP.Events.LocationChanged,d.locationChanged);Backbone.off(ND.LBP.Events.ToggleGalleryView,d.galleryViewChanged);Backbone.off(ND.LBP.Events.ShareConfiguration,d.shareConfiguration);
Backbone.off(ND.LBP.Events.SaveConfiguration,d.saveConfiguration);Backbone.off(ND.LBP.Events.SummaryButtonsLoaded,d.populateSummaryButtons)},headerLinkClicked:function(b){d.dataloader.getCurrentHeader().id===l.HEADER_ID&&Backbone.trigger(ND.LBP.Events.ChangePage,b.get("pathURL"))},clearCache:function(){a={omniture:{}}},_init:function(){Backbone.on(ND.LBP.Events.StartOver,d.clearCache,d);Backbone.on(l.HEADER_ID+ND.LBP.Events.HeaderLinkClicked,d.headerLinkClicked,d);Backbone.on(ND.LBP.Events.UnsubscribeFromEvents,
d.unsubscribeFromEvents,d);d.dataloader=ND.LBP.Builder;var b=[{fragment:l.FRAGMENT,name:ND.LBP.Constants.SUMMARY_PAGE_NAME,buildPageUrl:d.buildPageUrl,action:d.loadAndDisplay}];Backbone.on(ND.LBP.Events.RegisterModule,function(c){c.call(c,b)})}};d._init()})(jQuery);

(function(){var j={FRAGMENT:"load/:uuid",STATE_FRAGMENT:"load-state/:stateAndModelAndDerivativeId",USER_VEHICLE_FRAGMENT:"load-user-vehicles/:key"},c={reloadSharedConfig:function(b){c.loadAndDisplay(ND.LBP.Config.reloadConfigURL+b)},reloadConfigWithState:function(b){var a={};if(b){b=b.split(";");var e;b.length>0&&_.each(b,function(d){e=d.split(":");if(e.length>1)a[e[0]]=e[1]})}if($.isEmptyObject(a))Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error);else{Backbone.trigger(ND.LBP.Events.BlockUI);
c.dataloader.getNameplates(function(d){d.selectById(a.m);var g=c.dataloader.buildAndStoreEmptyNameplateDetail(a.m);d=new ND.LBP.CommonModels.UserActivity({state:a.s});d.url=d.buildSaveURL(a.m);d.save(null,{wait:true,success:function(h,f,i){g.trigger(ND.LBP.Events.ObjectUpdated,h,f,i,function(){var k=g.findSelectedEngine();Backbone.trigger(ND.LBP.Events.GetPage,ND.LBP.Constants.SUMMARY_PAGE_NAME,a.m,a.d,k.id,function(l){Backbone.trigger(ND.LBP.Events.ChangePage,l);Backbone.trigger(ND.LBP.Events.ReloadingConfig,
h)})})},error:function(){Backbone.trigger(ND.LBP.Events.UnblockUI);Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)}})})}},reloadConfigWithVehicleKey:function(b){Backbone.trigger(ND.LBP.Events.BlockUI);var a=new ND.LBP.ReloadModels.Reload;a.url=ND.LBP.Config.reloadVehicleKeyConfigURL+b+"?v="+(new Date).getTime();$.when(a.fetch()).then(function(){if(a.get("sfeatures").length===0&&a.get("features").length>0){a.set("sfeatures",a.get("features"));a.set("features",[])}var e=
a.get("sfeatures")[0];a.set({site:ND.LBP.Config.site,trimId:0,colourId:e,features:a.get("sfeatures"),priceZoneId:ND.LBP.Config.priceZoneId});c.saveReloadedModel(a.get("modelId"),a)}).fail(function(){Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)})},buildPageUrl:function(){return""},loadAndDisplay:function(b){Backbone.trigger(ND.LBP.Events.BlockUI);Backbone.trigger(ND.LBP.Events.HideLocationOverlay);var a=new ND.LBP.ReloadModels.Reload;a.url=b;$.when(a.fetch()).then(function(){c.saveReloadedModel(a.get("modelId"),
a)}).fail(function(){Backbone.trigger(ND.LBP.Events.ErrorOccurred,new ND.LBP.CommonModels.Error)})},saveReloadedModel:function(b,a){var e=c.dataloader.buildAndStoreEmptyNameplateDetail(b);a.url=ND.LBP.Config.reloadConfigPostURL;a.save(null,{wait:true,success:function(d,g,h){e.trigger(ND.LBP.Events.ObjectUpdated,d,g,h,function(){var f=e.get(ND.LBP.Constants.SERIES).get(ND.LBP.Constants.DERIVATIVES).getSelected(),i;if(f!=null)i=f.get(ND.LBP.Constants.ENGINES).getSelected();Backbone.trigger(ND.LBP.Events.GetPage,
ND.LBP.Constants.SUMMARY_PAGE_NAME,b,f.id,i.id,function(k){Backbone.trigger(ND.LBP.Events.ChangePage,k);Backbone.trigger(ND.LBP.Events.ReloadingConfig,d)})})}})},clearCache:function(){},_init:function(){c.dataloader=ND.LBP.Builder;var b=[{fragment:j.FRAGMENT,name:ND.LBP.Constants.RELOAD_CONFIG_PAGE_NAME,buildPageUrl:c.buildPageUrl,action:c.reloadSharedConfig},{fragment:j.STATE_FRAGMENT,name:ND.LBP.Constants.RELOAD_CONFIG_PAGE_NAME,buildPageUrl:c.buildPageUrl,action:c.reloadConfigWithState},{fragment:j.USER_VEHICLE_FRAGMENT,
name:ND.LBP.Constants.RELOAD_CONFIG_PAGE_NAME,buildPageUrl:c.buildPageUrl,action:c.reloadConfigWithVehicleKey}];Backbone.on(ND.LBP.Events.RegisterModule,function(a){a.call(a,b)})}};c._init()})();

ND.LBP.Analytics=function(){var b={region:null,nameplate:null,usedNameplateIds:{},resetOmnitureVars:function(){_da.tool=_da.der=_da.nameplate=_da.events=_da.region=undefined;_da.funnel.stepname=undefined},getDeviceType:function(){if(screen.width<ND.LBP.Constants.MOBILE_SCREEN_SIZE)return"ui:rad:phone";else if(screen.width>=ND.LBP.Constants.MOBILE_SCREEN_SIZE&&screen.width<ND.LBP.Constants.TABLET_SCREEN_SIZE)return"ui:rad:tablet";return"ui:rad:pc"},setupOmnitureVars:function(a){_da.funnel.stepname=
a.state+a.stepName;_da.deviceType=b.getDeviceType();b.setupNameplateVars();if(typeof a.events!=="undefined"&&a.events!=null)_da.events=a.events.split(",")},nameplateChanged:function(a){b.nameplate=a;if(typeof b.usedNameplateIds[b.nameplate.id]==="undefined"){b.usedNameplateIds[b.nameplate.id]="used";Backbone.off(ND.LBP.Events.ColorSelected,b.colorChanged).once(ND.LBP.Events.ColorSelected,b.colorChanged,b);Backbone.off(ND.LBP.Events.TrimSelected,b.trimChanged).once(ND.LBP.Events.TrimSelected,b.trimChanged,
b);Backbone.off(ND.LBP.Events.FabricSelected,b.fabricChanged).once(ND.LBP.Events.FabricSelected,b.fabricChanged,b);Backbone.off(ND.LBP.Events.RimSelected,b.rimChanged).once(ND.LBP.Events.RimSelected,b.rimChanged,b);Backbone.off(ND.LBP.Events.AccessorySelected,b.accessorySelected).once(ND.LBP.Events.AccessorySelected,b.accessorySelected,b)}},setupNameplateVars:function(){var a=b.nameplate;if(typeof a!=="undefined"&&a!=null)_da.nameplate={name:a.analyticsName||a.name,year:a.year,id:a.id,cat:a.analyticsCategory||
a.category||""}},locationChanged:function(a){b.region=a},viewPDF:function(){b.resetOmnitureVars();var a={},c=b.setupParams(a,"d");_da.region=undefined;c.pname=_da.pname+":5"+a.path+"summary";c.link=c.title=_da.pname+a.path+"vehicle summary:pdf:download";c.onclicks=_da.pname+" summary:download pdf";c.deviceType=b.getDeviceType();b.setupNameplateVars();$.publish("/analytics/link/",c)},shareConfig:function(){b.resetOmnitureVars();var a={},c=b.setupParams(a,"o");_da.region=undefined;c.pname=_da.pname+
":5"+a.path+"summary";c.link=c.title=_da.pname+a.path+"vehicle summary:share";c.onclicks=_da.pname+" summary:share";c.deviceType=b.getDeviceType();b.setupNameplateVars();$.publish("/analytics/link/",c)},saveConfig:function(){b.resetOmnitureVars();var a={},c=b.setupParams(a,"o");_da.region=undefined;c.pname=_da.pname+":5"+a.path+"summary";c.link=c.title=_da.pname+a.path+"vehicle summary:save";c.onclicks=_da.pname+":summary:save";c.deviceType=b.getDeviceType();b.setupNameplateVars();$.publish("/analytics/link/",
c)},_init:function(){Backbone.once(ND.LBP.Events.LocationUpdated,b.locationChanged,b);Backbone.on(ND.LBP.Events.NameplateChanged,b.nameplateChanged,b);Backbone.on(ND.LBP.Events.TrackOmniture,b.trackOmniturePage,b);Backbone.on(ND.LBP.Events.ViewPDF,b.viewPDF,b);Backbone.on(ND.LBP.Events.SocialLinkClicked,b.shareConfig,b);Backbone.on(ND.LBP.Events.SaveConfiguration,b.saveConfig,b)},setupRegionVars:function(){if(b.region!=null)_da.region=b.region},tabChanged:function(a){b.resetOmnitureVars();b.constructTabPageName(a);
b.setupOmnitureVars(a);ND.analyticsTag.trackOmnitureSinglePageApp()},colorChanged:function(a){b.trackAccessoryChange(a,2,"exterior","exterior:colour trim","color trim:ext")},rimChanged:function(a){b.trackAccessoryChange(a,2,"exterior","exterior:rim","rims")},exteriorAccessorySelected:function(a){b.trackAccessoryChange(a,2,"features","features:exterior","color trim:ext")},trimChanged:function(a){b.trackAccessoryChange(a,3,"interior","interior:colour trim","color trim:int")},fabricChanged:function(a){b.trackAccessoryChange(a,
3,"interior","interior:applique","applique:int")},interiorAccessorySelected:function(a){b.trackAccessoryChange(a,3,"interior","interior:accessories","accessories:int")},accessorySelected:function(a){b.trackAccessoryChange(a,4,a.category.name,"features","features")},trackAccessoryChange:function(a,c,d,f,g){b.resetOmnitureVars();var e=b.setupParams(a,"o");_da.region=undefined;e.pname=_da.pname+":"+c+a.path+d;e.link=e.title=_da.pname+a.path+f;e.onclicks=_da.pname+" "+g;e.deviceType=b.getDeviceType();
b.setupNameplateVars();$.publish("/analytics/link/",e)},accessoryDetailViewed:function(a){var c={type:"o"};b.resetOmnitureVars();b.constructTabPageName(a);c.pname=a.state+a.stepName;c.link=c.title="vehicle:accessories:pop up:detail";c.onclicks="accessories: detail popup";typeof a.state!=="undefined"&&$.publish("/analytics/link/",c)},constructTabPageName:function(a){var c=a.category,d=c.name;b.setPath(a);a.state=c.omniState;a.isColorTrimTab=a.isColourCategory;a.stepName=a.path+d;a.stepNameNoAnalyticsStep=
a.path+d},setupParams:function(a,c){c={type:c};this.resetOmnitureVars();this.setPath(a);return c},setPath:function(a){a.path=":full:"},trackOmniturePage:function(a){var c,d;b.resetOmnitureVars();b.setupRegionVars();switch(a.state){case ND.LBP.Constants.MODEL_OVERLAY_PAGE_NAME:c=":model:postal code";a.state="0a";break;case ND.LBP.Constants.NAMEPLATE_PAGE_NAME:c=":model:select";a.state="0";break;case ND.LBP.Constants.SERIES_PAGE_NAME:a.state="1";_da.region=undefined;c=":full:derivative";_da.tool={name:"event: bp start"};
d="event6,event43";break;case ND.LBP.Constants.ACCESSORIES_PAGE_NAME:_da.region=undefined;b.tabChanged(a);return;case ND.LBP.Constants.SUMMARY_PAGE_NAME:a.state="5";c=":full:summary";_da.tool={name:"event: bp finished"};d="event2,event43";_da.der={};_da.der.colour=a.colourId;_da.der.trim=a.trimId;_da.der.optionpacks=undefined;_da.der.features=a.omnitureFeatures.length>0?a.omnitureFeatures.join(","):undefined;_da.der.options=a.vehicleOptions.length>0?a.vehicleOptions.join(","):undefined;b.setPath(a);
_da.der.engine=a.engineId;_da.der.name=a.seriesId;break;default:}a.stepName=c;a.events=d;b.setupOmnitureVars(a);ND.analyticsTag.trackOmnitureSinglePageApp()}};ND.analyticsTag.isSinglePageAppOmnitureConfigured()&&b._init()}();

ND.LBP.ComparisonOverlay=function(d){$.radOverlay.open($(d),{additionalClass:"comparison_overlay",afterContentLoad:function(){$(".comparison-wrap table tr").each(function(){var a=$(this);a.find("td").eq(0).addClass("always-appear");a.find("td").eq(1).addClass("appear")});var c=$(".comparison-wrap .details table").eq(0).width();c=$(".comparison-wrap .details").width()-c;$(".comparison-wrap .header").css({"padding-right":c});var b=$(".comparison-wrap .series-dropdown");$(".comparison-wrap .header table td").each(function(a){$(this);
$(this).on("click",function(){if(a!=0)b.hasClass("active")?b.removeClass("active"):b.addClass("active")})});b.find("li").each(function(a){$(this).on("click",function(){var e=a+1;$(".comparison-wrap table td.appear").removeClass("appear");$(".comparison-wrap table tr").each(function(){$(this).find("td").eq(e).addClass("appear")});b.removeClass("active")})})}})};
