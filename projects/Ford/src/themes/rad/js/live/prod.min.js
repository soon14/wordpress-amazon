
(function(a){a.$ready=function(g,h){var c,i=200,d=g.split("."),j=d.length,f=function(){var e=0,b=a;do{b=b[d[e]];if(!b)return false}while(++e<j);h();return true};!f()&&(c=a.setInterval(function(){if(f()||!i--)a.clearInterval(c)},150))}})(window);

/* Modernizr 2.6.2 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-backgroundsize-borderimage-borderradius-boxshadow-flexbox-flexboxlegacy-hsla-multiplebgs-opacity-rgba-textshadow-cssanimations-csscolumns-generatedcontent-cssgradients-cssreflections-csstransforms-csstransforms3d-csstransitions-applicationcache-canvas-canvastext-draganddrop-hashchange-history-audio-video-indexeddb-input-inputtypes-localstorage-postmessage-sessionstorage-websockets-websqldatabase-webworkers-geolocation-inlinesvg-smil-svg-svgclippaths-touch-webgl-shiv-cssclasses-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-forms_fileinput-forms_formattribute-forms_placeholder-forms_speechinput-forms_validation-ie8compat-load
 */
;window.Modernizr=function(a,b,c){function C(a){j.cssText=a}function D(a,b){return C(n.join(a+";")+(b||""))}function E(a,b){return typeof a===b}function F(a,b){return!!~(""+a).indexOf(b)}function G(a,b){for(var d in a){var e=a[d];if(!F(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function H(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:E(f,"function")?f.bind(d||b):f}return!1}function I(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return E(b,"string")||E(b,"undefined")?G(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),H(e,b,c))}function J(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)u[c[d]]=c[d]in k;return u.list&&(u.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),u}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),t[a[d]]=!!e;return t}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={svg:"http://www.w3.org/2000/svg"},s={},t={},u={},v=[],w=v.slice,x,y=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},z=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=E(e[d],"function"),E(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),A={}.hasOwnProperty,B;!E(A,"undefined")&&!E(A.call,"undefined")?B=function(a,b){return A.call(a,b)}:B=function(a,b){return b in a&&E(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=w.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(w.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(w.call(arguments)))};return e}),s.flexbox=function(){return I("flexWrap")},s.flexboxlegacy=function(){return I("boxDirection")},s.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},s.canvastext=function(){return!!e.canvas&&!!E(b.createElement("canvas").getContext("2d").fillText,"function")},s.webgl=function(){return!!a.WebGLRenderingContext},s.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:y(["@media (",n.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},s.geolocation=function(){return"geolocation"in navigator},s.postmessage=function(){return!!a.postMessage},s.websqldatabase=function(){return!!a.openDatabase},s.indexedDB=function(){return!!I("indexedDB",a)},s.hashchange=function(){return z("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},s.history=function(){return!!a.history&&!!history.pushState},s.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},s.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},s.rgba=function(){return C("background-color:rgba(150,255,150,.5)"),F(j.backgroundColor,"rgba")},s.hsla=function(){return C("background-color:hsla(120,40%,100%,.5)"),F(j.backgroundColor,"rgba")||F(j.backgroundColor,"hsla")},s.multiplebgs=function(){return C("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},s.backgroundsize=function(){return I("backgroundSize")},s.borderimage=function(){return I("borderImage")},s.borderradius=function(){return I("borderRadius")},s.boxshadow=function(){return I("boxShadow")},s.textshadow=function(){return b.createElement("div").style.textShadow===""},s.opacity=function(){return D("opacity:.55"),/^0.55$/.test(j.opacity)},s.cssanimations=function(){return I("animationName")},s.csscolumns=function(){return I("columnCount")},s.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return C((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),F(j.backgroundImage,"gradient")},s.cssreflections=function(){return I("boxReflect")},s.csstransforms=function(){return!!I("transform")},s.csstransforms3d=function(){var a=!!I("perspective");return a&&"webkitPerspective"in g.style&&y("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},s.csstransitions=function(){return I("transition")},s.fontface=function(){var a;return y('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},s.generatedcontent=function(){var a;return y(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},s.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},s.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},s.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},s.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},s.webworkers=function(){return!!a.Worker},s.applicationcache=function(){return!!a.applicationCache},s.svg=function(){return!!b.createElementNS&&!!b.createElementNS(r.svg,"svg").createSVGRect},s.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==r.svg},s.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(m.call(b.createElementNS(r.svg,"animate")))},s.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(m.call(b.createElementNS(r.svg,"clipPath")))};for(var K in s)B(s,K)&&(x=K.toLowerCase(),e[x]=s[K](),v.push((e[x]?"":"no-")+x));return e.input||J(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)B(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},C(""),i=k=null,function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j)return c.createElement(a);f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j)return a.createDocumentFragment();c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden"in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=z,e.testProp=function(a){return G([a])},e.testAllProps=I,e.testStyles=y,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+v.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("fileinput",function(){var a=document.createElement("input");return a.type="file",!a.disabled}),Modernizr.addTest("formattribute",function(){var a=document.createElement("form"),b=document.createElement("input"),c=document.createElement("div"),d="formtest"+(new Date).getTime(),e,f=!1;return a.id=d,document.createAttribute&&(e=document.createAttribute("form"),e.nodeValue=d,b.setAttributeNode(e),c.appendChild(a),c.appendChild(b),document.documentElement.appendChild(c),f=a.elements.length===1&&b.form==a,c.parentNode.removeChild(c)),f}),Modernizr.addTest("placeholder",function(){return"placeholder"in(Modernizr.input||document.createElement("input"))&&"placeholder"in(Modernizr.textarea||document.createElement("textarea"))}),Modernizr.addTest("speechinput",function(){var a=document.createElement("input");return"speech"in a||"onwebkitspeechchange"in a}),function(a,b){b.formvalidationapi=!1,b.formvalidationmessage=!1,b.addTest("formvalidation",function(){var c=a.createElement("form");if("checkValidity"in c){var d=a.body,e=a.documentElement,f=!1,g=!1,h;return b.formvalidationapi=!0,c.onsubmit=function(a){window.opera||a.preventDefault(),a.stopPropagation()},c.innerHTML='<input name="modTest" required><button></button>',c.style.position="absolute",c.style.top="-99999em",d||(f=!0,d=a.createElement("body"),d.style.background="",e.appendChild(d)),d.appendChild(c),h=c.getElementsByTagName("input")[0],h.oninvalid=function(a){g=!0,a.preventDefault(),a.stopPropagation()},b.formvalidationmessage=!!h.validationMessage,c.getElementsByTagName("button")[0].click(),d.removeChild(c),f&&e.removeChild(d),g}return!1})}(document,window.Modernizr),Modernizr.addTest("ie8compat",function(){return!window.addEventListener&&document.documentMode&&document.documentMode===7});


if(!Object.create)Object.create=function(a,b){if(a===null)a={__proto__:null};else{if(typeof a!="object")throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var c=function(){};c.prototype=a;a=new c}typeof b!=="undefined"&&Object.defineProperties(a,b);return a};

/**
* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne <brian@cherne.net>
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var p=(e.type=="mouseover"?e.fromElement:e.toElement)||e.relatedTarget;while(p&&p!=this){try{p=p.parentNode;}catch(e){p=this;}}if(p==this){return false;}var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}if(e.type=="mouseover"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.mouseover(handleHover).mouseout(handleHover);};})(jQuery);


/*!
 * imagesLoaded PACKAGED v3.0.1
 * JavaScript is all like "You images are done yet or what?"
 */

(function(e){"use strict";function t(){}function n(e,t){if(r)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var i=t.prototype,r=Array.prototype.indexOf?!0:!1;i._getEvents=function(){return this._events||(this._events={})},i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,t){var i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&-1===n(t,r[i])&&r[i].push(t);return this},i.on=i.addListener,i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var i,r,s=this.getListenersAsObject(e);for(r in s)s.hasOwnProperty(r)&&(i=n(t,s[r]),-1!==i&&s[r].splice(i,1));return this},i.off=i.removeListener,i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)s.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?s.call(this,i,r):o.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.emitEvent=function(e,t){var n,i,r,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(n=s[i].length;n--;)r=t?s[i][n].apply(null,t):s[i][n](),r===!0&&this.removeListener(e,s[i][n]);return this},i.trigger=i.emitEvent,i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t})(this),function(e){"use strict";var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,i){t[n+i]=i.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,i.handleEvent.call(i,t)}:function(){var n=e.event;n.target=n.target||n.srcElement,i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var r={bind:n,unbind:i};"function"==typeof define&&define.amd?define(r):e.eventie=r}(this),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===a.call(e)}function i(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var i=0,r=e.length;r>i;i++)t.push(e[i]);else t.push(e);return t}function r(e,n){function r(e,n,o){if(!(this instanceof r))return new r(e,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=t({},this.options),"function"==typeof n?o=n:t(this.options,n),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred);var h=this;setTimeout(function(){h.check()})}function a(e){this.img=e}r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),r=0,s=i.length;s>r;r++){var o=i[r];this.addImage(o)}}},r.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},r.prototype.check=function(){function e(e,r){return t.options.debug&&h&&o.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;this.hasAnyBroken=!1;for(var r=0;i>r;r++){var s=this.images[r];s.on("confirm",e),s.check()}},r.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emit("progress",this,e),this.jqDeferred&&this.jqDeferred.notify(this,e)},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(e,this),this.emit("always",this),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},s&&(s.fn.imagesLoaded=function(e,t){var n=new r(this,e,t);return n.jqDeferred.promise(s(this))});var f={};return a.prototype=new e,a.prototype.check=function(){var e=f[this.img.src];if(e)return this.useCached(e),void 0;if(f[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this.proxyImage=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.img.src},a.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var t=this;e.on("confirm",function(e){return t.confirm(e.isLoaded,"cache emitted confirmed"),!0})}},a.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},a.prototype.unbindProxyEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this)},r}var s=e.jQuery,o=e.console,h=o!==void 0,a=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter","eventie"],r):e.imagesLoaded=r(e.EventEmitter,e.eventie)}(window);


/*!
jQuery wookmark plugin
@name jquery.wookmark.js
@author Christoph Ono (chri@sto.ph or @gbks)
@author Sebastian Helzle (sebastian@helzle.net or @sebobo)
@version 1.3.0
@date 06/27/2013
@category jQuery plugin
@copyright (c) 2009-2013 Christoph Ono (www.wookmark.com)
@license Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
*/
(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var e,s,h;h=function(t,i){return function(){return t.apply(i,arguments)}},s={align:"center",container:t("body"),offset:2,autoResize:!1,itemWidth:0,flexibleWidth:0,resizeDelay:50,onLayoutChanged:void 0,fillEmptySpace:!1},e=function(){function e(i,e){this.handler=i,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.direction="left",this.itemHeightsDirty=!0,this.placeholders=[],t.extend(!0,this,s,e),this.update=h(this.update,this),this.onResize=h(this.onResize,this),this.onRefresh=h(this.onRefresh,this),this.getItemWidth=h(this.getItemWidth,this),this.layout=h(this.layout,this),this.layoutFull=h(this.layoutFull,this),this.layoutColumns=h(this.layoutColumns,this),this.filter=h(this.filter,this),this.clear=h(this.clear,this),this.getActiveItems=h(this.getActiveItems,this),this.refreshPlaceholders=h(this.refreshPlaceholders,this);for(var o,n=j=0,r={};i.length>n;n++)if($item=i.eq(n),o=$item.data("filterClass"),"object"==typeof o&&o.length>0)for(j=0;o.length>j;j++)filterClass=t.trim(o[j]).toLowerCase(),filterClass in r||(r[filterClass]=[]),r[filterClass].push($item[0]);this.filterClasses=r,this.autoResize&&t(window).bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return e.prototype.update=function(i){this.itemHeightsDirty=!0,t.extend(!0,this,i)},e.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!=this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},e.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},e.prototype.filter=function(i,e){var s,h,o,n,r,a=[],l=t();if(i=i||[],e=e||"or",i.length){for(h=0;i.length>h;h++)r=t.trim(i[h].toLowerCase()),r in this.filterClasses&&a.push(this.filterClasses[r]);if(s=a.length,"or"==e||1==s)for(h=0;s>h;h++)l=l.add(a[h]);else if("and"==e){var f,u,c,d=a[0],m=!0;for(h=1;s>h;h++)a[h].length<d.length&&(d=a[h]);for(h=0;d.length>h;h++){for(u=d[h],m=!0,o=0;a.length>o&&m;o++)if(c=a[o],d!=c){for(n=0,f=!1;c.length>n&&!f;n++)f=c[n]==u;m&=f}m&&l.push(d[h])}}this.handler.not(l).addClass("inactive")}else l=this.handler;l.removeClass("inactive"),this.columns=null,this.layout()},e.prototype.refreshPlaceholders=function(i,e){for(var s,h,o,n,r,a=this.placeholders.length,l=this.columns.length,f=this.container.outerHeight();l>a;a++)s=t('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(s);for(innerOffset=this.offset+2*parseInt(this.placeholders[0].css("borderWidth")),a=0;this.placeholders.length>a;a++)if(s=this.placeholders[a],o=this.columns[a],a>=l||!o[o.length-1])s.css("display","none");else{if(h=o[o.length-1],!h)continue;r=h.data("wookmark-top")+h.data("wookmark-height")+this.offset,n=f-r-innerOffset,s.css({position:"absolute",display:n>0?"block":"none",left:a*i+e,top:r,width:i-innerOffset,height:n})}},e.prototype.getActiveItems=function(){return this.handler.not(".inactive")},e.prototype.getItemWidth=function(){var t=this.itemWidth,i=this.container.width(),e=this.handler.eq(0),s=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?t=e.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(t=parseFloat(this.itemWidth)/100*i),s){"string"==typeof s&&s.indexOf("%")>=0&&(s=parseFloat(s)/100*i-e.outerWidth()+e.innerWidth());var h=~~(1+i/(s+this.offset)),o=(i-(h-1)*this.offset)/h;t=Math.max(t,~~o),this.handler.css("width",t)}return t},e.prototype.layout=function(){if(this.container.is(":visible")){var t,e=this.getItemWidth()+this.offset,s=this.container.width(),h=~~((s+this.offset)/e),o=maxHeight=i=0,n=this.getActiveItems(),r=n.length;if(this.itemHeightsDirty){for(;r>i;i++)t=n.eq(i),t.data("wookmark-height",t.outerHeight());this.itemHeightsDirty=!1}h=Math.max(1,Math.min(h,r)),o="left"==this.align||"right"==this.align?~~(h/e+this.offset>>1):~~(.5+(s-(h*e-this.offset))>>1),this.direction="right"==this.align?"right":"left",maxHeight=null!=this.columns&&this.columns.length==h&&this.activeItemCount==r?this.layoutColumns(e,o):this.layoutFull(e,h,o),this.activeItemCount=r,this.container.css("height",maxHeight),this.fillEmptySpace&&this.refreshPlaceholders(e,o),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},e.prototype.layoutFull=function(t,i,e){var s,h=0,o=0,n=this.getActiveItems(),r=n.length,a=null,l=null,f={position:"absolute"},u=[],c="left"==this.align?!0:!1;for(this.columns=[];i>u.length;)u.push(0),this.columns.push([]);for(;r>h;h++){for($item=n.eq(h),a=u[0],l=0,o=0;i>o;o++)a>u[o]&&(a=u[o],l=o);s=0==l&&c?0:l*t+e,f[this.direction]=s,f.top=a,$item.css(f).data("wookmark-top",a),u[l]+=$item.data("wookmark-height")+this.offset,this.columns[l].push($item)}return Math.max.apply(Math,u)},e.prototype.layoutColumns=function(t,i){for(var e,s,h,o=[],n=0,r=0;this.columns.length>n;n++){for(o.push(0),e=this.columns[n],h=n*t+i,currentHeight=o[n],r=0;e.length>r;r++)$item=e[r],s={top:currentHeight},s[this.direction]=h,$item.css(s).data("wookmark-top",currentHeight),currentHeight+=$item.data("wookmark-height")+this.offset;o[n]=currentHeight}return Math.max.apply(Math,o)},e.prototype.clear=function(){clearTimeout(this.resizeTimer),t(window).unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh)},e}(),t.fn.wookmark=function(t){return this.wookmarkInstance?this.wookmarkInstance.update(t||{}):this.wookmarkInstance=new e(this,t||{}),this.wookmarkInstance.layout(),this.show()}});


var libFuncName=null;if(typeof jQuery==="undefined"&&typeof Zepto==="undefined"&&typeof $==="function")libFuncName=$;else if(typeof jQuery==="function")libFuncName=jQuery;else if(typeof Zepto==="function")libFuncName=Zepto;else throw new TypeError;
(function(h,i,j){i.matchMedia=i.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");f.id="mq-test-1";f.style.cssText="position:absolute;top:-100em";e.style.background="none";e.appendChild(f);return function(g){f.innerHTML='&shy;<style media="'+g+'"> #mq-test-1 { width: 42px; }</style>';c.insertBefore(e,d);b=f.offsetWidth===42;c.removeChild(e);return{matches:b,media:g}}}(j);if(!Array.prototype.filter)Array.prototype.filter=
function(a,b){if(this==null)throw new TypeError;var c=Object(this),d=c.length>>>0;if(typeof a==="function"){for(var e=[],f=0;f<d;f++)if(f in c){var g=c[f];a&&a.call(b,g,f,c)&&e.push(g)}return e}};if(!Function.prototype.bind)Function.prototype.bind=function(a){if(typeof this!=="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:
a,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;e.prototype=new d;return e};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(a){if(this==null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(c===0)return-1;var d=0;if(arguments.length>1){d=Number(arguments[1]);if(d!=d)d=0;else if(d!=0&&d!=Infinity&&d!=-Infinity)d=(d>0||-1)*Math.floor(Math.abs(d))}if(d>=c)return-1;for(d=d>=0?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in b&&b[d]===a)return d;return-1};
h.fn.stop=h.fn.stop||function(){return this};i.Foundation={name:"Foundation",version:"4.3.1",cache:{},init:function(a,b,c,d,e,f){c=[a,c,d,e];d=[];if(f=f||false)this.nc=f;this.rtl=/rtl/i.test(h("html").attr("dir"));this.scope=a||this.scope;if(b&&typeof b==="string"&&!/reflow/i.test(b)){if(/off/i.test(b))return this.off();a=b.split(" ");if(a.length>0)for(f=a.length-1;f>=0;f--)d.push(this.init_lib(a[f],c))}else{if(/reflow/i.test(b))c[1]="reflow";for(var g in this.libs)d.push(this.init_lib(g,c))}typeof b===
"function"&&c.unshift(b);return this.response_obj(d,c)},response_obj:function(a,b){for(var c=0,d=b.length;c<d;c++)if(typeof b[c]==="function")return b[c]({errors:a.filter(function(e){if(typeof e==="string")return e})});return a},init_lib:function(a,b){return this.trap(function(){if(this.libs.hasOwnProperty(a)){this.patch(this.libs[a]);return this.libs[a].init.apply(this.libs[a],b)}else return function(){}}.bind(this),a)},trap:function(a,b){if(!this.nc)try{return a()}catch(c){return this.error({name:b,
message:"could not be initialized",more:c.name+" "+c.message})}return a()},patch:function(a){this.fix_outer(a);a.scope=this.scope;a.rtl=this.rtl},inherit:function(a,b){b=b.split(" ");for(var c=b.length-1;c>=0;c--)if(this.lib_methods.hasOwnProperty(b[c]))this.libs[a.name][b[c]]=this.lib_methods[b[c]]},random_str:function(a){var b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");a||(a=Math.floor(Math.random()*b.length));for(var c="",d=0;d<a;d++)c+=b[Math.floor(Math.random()*
b.length)];return c},libs:{},lib_methods:{set_data:function(a,b){var c=[this.name,+new Date,Foundation.random_str(5)].join("-");Foundation.cache[c]=b;a.attr("data-"+this.name+"-id",c);return b},get_data:function(a){return Foundation.cache[a.attr("data-"+this.name+"-id")]},remove_data:function(a){if(a){delete Foundation.cache[a.attr("data-"+this.name+"-id")];a.attr("data-"+this.name+"-id","")}else h("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[h(this).attr("data-"+this.name+"-id")];
h(this).attr("data-"+this.name+"-id","")})},throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c);c=setTimeout(function(){a.apply(d,e)},b)}},data_options:function(a){function b(g){return!isNaN(g-0)&&g!==null&&g!==""&&g!==false&&g!==true}function c(g){if(typeof g==="string")return h.trim(g);return g}var d={},e,f=(a.attr("data-options")||":").split(";");for(a=f.length-1;a>=0;a--){e=f[a].split(":");if(/true/i.test(e[1]))e[1]=true;if(/false/i.test(e[1]))e[1]=false;
if(b(e[1]))e[1]=parseInt(e[1],10);if(e.length===2&&e[0].length>0)d[c(e[0])]=c(e[1])}return d},delay:function(a,b){return setTimeout(a,b)},scrollTo:function(a,b,c){if(!(c<0)){var d=(b-h(i).scrollTop())/c*10;this.scrollToTimerCache=setTimeout(function(){if(!isNaN(parseInt(d,10))){i.scrollTo(0,h(i).scrollTop()+d);this.scrollTo(a,b,c-10)}}.bind(this),10)}},scrollLeft:function(a){if(a.length)return"scrollLeft"in a[0]?a[0].scrollLeft:a[0].pageXOffset},empty:function(a){if(a.length&&a.length>0)return false;
if(a.length&&a.length===0)return true;for(var b in a)if(hasOwnProperty.call(a,b))return false;return true}},fix_outer:function(a){a.outerHeight=function(b,c){if(typeof Zepto==="function")return b.height();if(typeof c!=="undefined")return b.outerHeight(c);return b.outerHeight()};a.outerWidth=function(b,c){if(typeof Zepto==="function")return b.width();if(typeof c!=="undefined")return b.outerWidth(c);return b.outerWidth()}},error:function(a){return a.name+" "+a.message+"; "+a.more},off:function(){h(this.scope).off(".fndtn");
h(i).off(".fndtn");return true},zj:h};h.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(a));return this})}})(libFuncName,this,this.document);

(function(d,g,m,j){Foundation.libs.reveal={name:"reveal",version:"4.2.2",locked:false,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:true,closeOnEsc:true,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:d(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(a,b,c){Foundation.inherit(this,
"data_options delay");if(typeof b==="object")d.extend(true,this.settings,b);else typeof c!=="undefined"&&d.extend(true,this.settings,c);if(typeof b!=="string"){this.events();return this.settings.init}else return this[b].call(this,c)},events:function(){var a=this;d(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(b){b.preventDefault();if(!a.locked){b=d(this);var c=b.data("reveal-ajax");a.locked=true;if(typeof c==="undefined")a.open.call(a,b);else{c=c===true?b.attr("href"):
c;a.open.call(a,b,{url:c})}}}).on("click.fndtn.reveal",this.close_targets(),function(b){b.preventDefault();if(!a.locked){var c=d.extend({},a.settings,a.data_options(d(".reveal-modal.open")));if(!(d(b.target)[0]===d("."+c.bgClass)[0]&&!c.closeOnBackgroundClick)){a.locked=true;a.close.call(a,d(this).closest(".reveal-modal"))}}}).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",
".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video);d("body").bind("keyup.reveal",function(b){var c=d(".reveal-modal.open"),e=d.extend({},a.settings,a.data_options(c));b.which===27&&e.closeOnEsc&&c.foundation("reveal","close")});return true},open:function(a,b){if(a)if(typeof a.selector!=="undefined")var c=d("#"+a.data("reveal-id"));else{c=d(this.scope);b=a}else c=d(this.scope);if(!c.hasClass("open")){var e=
d(".reveal-modal.open");typeof c.data("css-top")==="undefined"&&c.data("css-top",parseInt(c.css("top"),10)).data("offset",this.cache_offset(c));c.trigger("open");e.length<1&&this.toggle_bg(c);if(typeof b==="undefined"||!b.url){this.hide(e,this.settings.css.close);this.show(c,this.settings.css.open)}else{var f=this,h=typeof b.success!=="undefined"?b.success:null;d.extend(b,{success:function(i,k,l){d.isFunction(h)&&h(i,k,l);c.html(i);d(c).foundation("section","reflow");f.hide(e,f.settings.css.close);
f.show(c,f.settings.css.open)}});d.ajax(b)}}},close:function(a){a=a&&a.length?a:d(this.scope);var b=d(".reveal-modal.open");if(b.length>0){this.locked=true;a.trigger("close");this.toggle_bg(a);this.hide(b,this.settings.css.close)}},close_targets:function(){var a="."+this.settings.dismissModalClass;if(this.settings.closeOnBackgroundClick)return a+", ."+this.settings.bgClass;return a},toggle_bg:function(){if(d(".reveal-modal-bg").length===0)this.settings.bg=d("<div />",{"class":this.settings.bgClass}).appendTo("body");
this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(a,b){if(b){if(/pop/i.test(this.settings.animation)){b.top=d(g).scrollTop()-a.data("offset")+"px";var c={top:d(g).scrollTop()+a.data("css-top")+"px",opacity:1};return this.delay(function(){return a.css(b).animate(c,this.settings.animationSpeed,"linear",function(){this.locked=false;a.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){c=
{opacity:1};return this.delay(function(){return a.css(b).animate(c,this.settings.animationSpeed,"linear",function(){this.locked=false;a.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return a.css(b).show().css({opacity:1}).addClass("open").trigger("opened")}if(/fade/i.test(this.settings.animation))return a.fadeIn(this.settings.animationSpeed/2);return a.show()},hide:function(a,b){if(b){if(/pop/i.test(this.settings.animation)){var c={top:-d(g).scrollTop()-
a.data("offset")+"px",opacity:0};return this.delay(function(){return a.animate(c,this.settings.animationSpeed,"linear",function(){this.locked=false;a.css(b).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){c={opacity:0};return this.delay(function(){return a.animate(c,this.settings.animationSpeed,"linear",function(){this.locked=false;a.css(b).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/
2)}return a.hide().css(b).removeClass("open").trigger("closed")}if(/fade/i.test(this.settings.animation))return a.fadeOut(this.settings.animationSpeed/2);return a.hide()},close_video:function(){var a=d(this).find(".flex-video"),b=a.find("iframe");if(b.length>0){b.attr("data-src",b[0].src);b.attr("src","about:blank");a.hide()}},open_video:function(){var a=d(this).find(".flex-video"),b=a.find("iframe");if(b.length>0){if(typeof b.attr("data-src")==="string")b[0].src=b.attr("data-src");else{var c=b[0].src;
b[0].src=j;b[0].src=c}a.show()}},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10);a.hide();return b},off:function(){d(this.scope).off(".fndtn.reveal")},reflow:function(){}}})(Foundation.zj,this,this.document);

(function(b){b.pubsubLogging=false;var a=b({});b.subscribe=function(){a.bind.apply(a,arguments)};b.subscribeOnce=function(){a.one.apply(a,arguments)};b.unsubscribe=function(){a.unbind.apply(a,arguments)};b.publish=function(){b.pubsubLogging&&console.log.apply(console,arguments);a.trigger.apply(a,arguments)}})(jQuery);

/* ************************ APAC Ford H.27.3 Code *************************/
/*
  CAUTION: AT NO TIME IS ANY PARTY TO MODIFY THIS FILE OTHER THAN FORD ANALYTICS
  REQUIRED: JS variables that must be set of EVERY call are s_account and omni_filters 

	140827 - add gnav tracking, update BTL
	150609 - current file on site
	160614 - change tracking servers to fordap root

*/

/************************ ADDITIONAL FEATURES ************************   	
	Dynamic Report Suite Selection
	Universal Tag
	Plugins
*/

/*************** Load Account and Filters - Should be set on a page level *****************/

	if (typeof s_account == "undefined" || s_account==null || s_account=='' || typeof omni_filters == "undefined" || omni_filters==null || omni_filters==''){
		var s_account="fapadev";
		var s=s_gi(s_account,1);
		s.linkInternalFilters="javascript:,dragonfly.ford.com," + document.location.host;
	}else{
		var s=s_gi(s_account,1);
		s.linkInternalFilters = omni_filters;
	}
	
	if (changeCookiePeriods(document.location.host)){
		s.cookieDomainPeriods="3"
   		s.fpcookieDomainPeriods="3"
   	}	
		

/**************************************************COMMON CODE******************************************/
/* Conversion Config */
/* Link Tracking Config */
s.trackDownloadLinks=false
s.trackExternalLinks=false
s.trackInlineStats=true
s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx"
s.linkTrackVars="None"
s.linkTrackEvents="None"
s.linkLeaveQueryString=false


/* Plugin Config */
s.usePlugins=true
function s_doPlugins(s) {

/* Set the character set to the same as the page */
	if(!s.charSet) {
		if (document.characterSet)
			{s.charSet = document.characterSet} 
		else
			{s.charSet = document.charset}
	}

/* Force pageName to Lowercase all sites*/
	if(s.pageName)
		s.pageName=s.pageName.toLowerCase();
		
/* Web Trends Tracking */
	if(s.getQueryParam('WT.tsrc') || s.getQueryParam('WT.srch') || s.getQueryParam('WT.mc_id')) webTrendsTracking();
	
/* External Campaign Tracking */
	if(!s.campaign){		
		if(s.getQueryParam('bannerid'))s.campaign=s.getQueryParam('bannerid');
		s.campaign=s.getCustomValOnce(s.campaign,"cmp_getval",0)
	}
	
	if(s.campaign) s.events=s.apl(s.events,"event53",",",2);
	s.prop17=s.getAndPersistValue(s.campaign,'s_p17_pers',90);

/* Set ford campaign ID*/
	if(s.getQueryParam('fmccmp')) s.eVar30=s.getQueryParam('fmccmp');
	s.prop30=s.getAndPersistValue(s.eVar30,'s_p30_pers',90);
	s.eVar30=s.getCustomValOnce(s.eVar30,"eVar30_getval",0);	

/* Campaign Path Tracking */
	s.prop19=s.pageName;
	if(s.campaign) s.prop19=s.campaign+': '+s.pageName;
	else if(s.eVar30) s.prop19=s.eVar30+': '+s.pageName;   
	
/* Internal Campaign Tracking */
	if(!s.eVar13) s.eVar13=s.getQueryParam('intcmp'); 
	s.eVar13=s.getCustomValOnce(s.eVar13,"int_getval",0);
	s.prop13=s.getAndPersistValue(s.eVar13,'s_p13_pers',0);
	
/* Adobe Social Integration */
	if (!s.eVar60) s.eVar60=s.getQueryParam('scmp');
	s.socialPlatforms();

/* Referrer Overide */
	if(s.getQueryParam('referrer')) s.referrer=s.getQueryParam('referrer');   

/* Email Campaign Tracking */
	if (s.getQueryParam('emailid')) s.eVar33=s.getQueryParam('emailid');
	s.prop33=s.getAndPersistValue(s.eVar33,'s_p33_pers',90);
	s.eVar33=s.getCustomValOnce(s.eVar33,"eVar33_getval",0);

/* Paid Search Tracking */
	if (s.getQueryParam('searchid')) s.eVar26 = s.prop26 = s.getQueryParam('searchid','');
	s.eVar26=s.getCustomValOnce(s.eVar26,"eVar26_getval",0);
	if(s.eVar26)s.events=s.apl(s.events,"event54",",",2);
	
/* Navigation Tracking */
	if (s.getQueryParam('gnav')) s.eVar5 = s.getQueryParam('gnav');
	
/* Visit Start Logic */	

	var tempSuite="nosuite"
	if(!s.c_r("s_suite")){
		s.setSuite(s_account,"s_suite",0)	
	}else{
		tempSuite=s.c_r("s_suite");
	}
	
	if(s.getVisitStart("s_visit")||((!tempSuite.match(s_account))&& tempSuite!="")){
		if(!isInternal()||document.referrer==''){
			s.prop48=s.prop49=s.eVar8=trafficsource();			
			s.prop8=s.getAndPersistValue(s.eVar8,'s_p_s_prop8',0);
			var dt=popDT();
			s.eVar36 = s.getCustomValOnce(dt,'ev_36_getval',0);
			s.events = s.apl(s.events,"event17,event52",",",2);
		}
	}
	else if (refSearch(document.referrer)){
    	if (s.getQueryParam('searchid')){
      		s.eVar50 = s.prop50 = "paid:"+s.prop50;
    	}else{
      		s.eVar50 = s.prop50 = "natural:"+s.prop50;
    	}
    	s.eVar50=s.getCustomValOnce(s.eVar50,"eVar50_getval",0)
	}
		
	if(!tempSuite.match(s_account)){
		s.setSuite(tempSuite+s_account,"s_suite",0)
		tempSuite=s.c_r("s_suite");
	}
	    
//support vars
	if((s.linkTrackVars!='None'&& s.linkTrackVars!='')||s.linkTrackVars.match('prop')||s.linkTrackVars.match('eVar')||s.linkTrackVars.match('evar')||s.linkTrackVars.match('events'))
	{
		s.linkTrackVars=s.linkTrackVars+",prop37,prop39,pageName,eVar52,prop52,prop14,eVar14,prop15,eVar15,zip,prop1,prop2,prop3,eVar1,eVar2,eVar3"		
	}
   	s.prop37="160614"
   	if(!s.prop39 && s.pageName)s.prop39=s.pageName
	s.eVar52=s.prop52=document.URL
	s.prop47=s.eVar47="D=UserAgent"
 
 if(s.eVar12 && s.eVar16)s.prop36=s.eVar34=s.eVar12+":"+s.eVar16

}
		
/*************************************CUSTOM COMMON SITE FUNCTIONS*****************************/

function webTrendsTracking(){

	if (s.getQueryParam('WT.srch').indexOf('1') != -1) s.prop26 = s.eVar26 = s.getQueryParam('WT.mc_id');
	
	if (s.getQueryParam('WT.tsrc')){
		if (s.getQueryParam('WT.tsrc').indexOf('AutoBuyout') !=-1) s.campaign='autobuyout: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('Banner') !=-1) s.campaign='banner: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('Advertorial') !=-1) s.campaign='advertorial: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('Video') !=-1) s.campaign='video: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('QR_code') !=-1) s.campaign='qrcode: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('DirectMail') !=-1) s.campaign='directmail: ' + s.getQueryParam('WT.mc_id');

		if (s.getQueryParam('WT.tsrc').indexOf('Email') !=-1)s.prop33= s.eVar33= s.getQueryParam('WT.mc_id');

		if (s.getQueryParam('WT.tsrc').indexOf('eBroc') !=-1) s.prop30=s.eVar30='ebrochure: ' + s.getQueryParam('WT.mc_id');
		if (s.getQueryParam('WT.tsrc').indexOf('CampaignSite') !=-1) s.prop30=s.eVar30='campaignsite: ' + s.getQueryParam('WT.mc_id');
	}
	
	if (!s.getQueryParam('WT.tsrc') && s.getQueryParam('WT.mc_id')){
	
		if (s.getQueryParam('WT.mc_id').indexOf('eDM_') != -1)s.prop33= s.eVar33= s.getQueryParam('WT.mc_id');
		else s.campaign='banner: ' + s.getQueryParam('WT.mc_id');
	}
}


function padFrontZero(val) {
	if (val < 10) return '0'+val; else return val.toString();
}

function popDT() {
	var dte = new Date();
	return dte.getFullYear()+padFrontZero(dte.getMonth()+1)+padFrontZero(dte.getDate())+' '+padFrontZero(dte.getHours());
}


function trafficsource() {

  	return camp()
}

function camp(){

	if(s.getQueryParam('referrer')) var ref=s.getQueryParam('referrer') 
	else var ref = document.referrer; 
	
	var fordCamp = s.getQueryParam('fmccmp');
	 
	if(s.getQueryParam('bannerid')) return 'banner';
	else if(s.getQueryParam('emailid')) return 'email';
    else if(s.getQueryParam('searchid')) {s.eVar50 = s.prop50 = "paid:" + s.prop50; return 'search-paid';}
    else if(s.getQueryParam('scmp')) return 'social-placement';
    else if(fordCamp){if (fordCamp.indexOf('t2-fdaf')>-1 || fordCamp.indexOf('t2-lda')>-1){return 'fmc:tier2';}else return 'fmc:other';}
    else if(ref=='') return 'typed-bookmarked';
    else if(refSearch(ref)) {s.eVar50 = s.prop50 = "natural:"+s.prop50; return 'search-natural';}
    else if(refSocial(ref)) return 'social';
    else return 'natural-referrer';
}


function refSearch(ref) {
   	var se = new Array('google.|q','yahoo.com|p','msn.com|q','ask.com|q','myway.com|searchfor','altavista.com|q','netscape.com|query','live.com|q','allthweb.com|q','lycos.com|query','.aol.|q','.aol.|query','suche.aolsvc.de|query','suche.aolsvc.de|q','bing.com|q','ask.jp|q','ask.co|ask','ask.jp|ask','ask.co|q','search.mywebsearch.com|searchfor','baidu.com|wd');

    for (i = 0; i < se.length; i++) {
        var tmp = se[i].split('|');
        var keyword = s.getQueryParam(tmp[1], '', ref);
        if (ref.indexOf(tmp[0]) > -1) {
	        if(keyword == ''&& typeof keyword != "undefined")keyword="no keyword"
	   		s.eVar50 = s.prop50 = keyword;
            if (tmp[0] == 'google.') {
                var rnk1 = s.getQueryParam('resnum', '', ref);
                var rnk2 = s.getQueryParam('cd', '', ref);
    
                if (rnk1||rnk2) {
                    s.events = s.apl(s.events, "event50", ",", 1);
                    s.events = s.apl(s.events, "event51", ",", 1);
                   
                    if(rnk1)s.products = s.apl(s.products, ";;;;" + "event50=" + rnk1, ",", 1);
                    if(rnk2)s.products = s.apl(s.products, ";;;;" + "event50=" + rnk2, ",", 1);
                	}
            	}
        
            return true;
        }
    }

    return false;
}

function refSocial(ref) {
   	var socialSites = new Array('12seconds.tv','4travel.jp','advogato.org','ameba.jp','anobii.com','asmallworld.net','backtype.com','badoo.com','bebo.com','bigadda.com','bigtent.com','biip.no','blackplanet.com','blog.seesaa.jp','blogspot.com','blogster.com','blomotion.jp','bolt.com','brightkite.com','buzznet.com','cafemom.com','care2.com','classmates.com','cloob.com','collegeblender.com','cyworld.co.kr','cyworld.com.cn','dailymotion.com','delicious.com','deviantart.com','digg.com','diigo.com','disqus.com','draugiem.lv','facebook.com','faceparty.com','fc2.com','flickr.com','flixster.com','fotolog.com','foursquare.com','friendfeed.com','friendsreunited.com','friendster.com','fubar.com','gaiaonline.com','geni.com','goodreads.com','grono.net','habbo.com','hatena.ne.jp','hi5.com','hotnews.infoseek.co.jp','hyves.nl','ibibo.com','identi.ca','imeem.com','intensedebate.com','irc-galleria.net','iwiw.hu','jaiku.com','jp.myspace.com','kaixin001.com','kaixin002.com','kakaku.com','kanshin.com','kozocom.com','last.fm','linkedin.com','livejournal.com','me2day.net','meetup.com','mister-wong.com','mixi.jp','mixx.com','mouthshut.com','multiply.com','myheritage.com','mylife.com','myspace.com','myyearbook.com','nasza-klasa.pl','netlog.com','nettby.no','netvibes.com','nicovideo.jp','ning.com','odnoklassniki.ru','orkut.com','pakila.jp','photobucket.com','pinterest.com','plaxo.com','plurk.com','plus.google.com','reddit.com','renren.com','skyrock.com','slideshare.net','smcb.jp','smugmug.com','sonico.com','studivz.net','stumbleupon.com','t.163.com','t.co','t.hexun.com','t.ifeng.com','t.people.com.cn','t.qq.com','t.sohu.com','tabelog.com','tagged.com','taringa.net','tripit.com','trombi.com','trytrend.jp','tuenti.com','tumblr.com','twine.com','twitter.com','uhuru.jp','viadeo.com','vimeo.com','vkontakte.ru','vox.com','wayn.com','weibo.com','weourfamily.com','wer-kennt-wen.de','wordpress.com','xanga.com','xing.com','yaplog.jp','yelp.com','youtube.com','yozm.daum.net','yuku.com','zooomr.com');
	
    for (i = 0; i < socialSites.length; i++) {
        if (ref.indexOf(socialSites[i]) > -1) {return true;}
    }
    return false;
}


function isInternal()
{
	
	var ref=document.referrer
	if(ref!='')
	{
		if(ref.indexOf('www.')>-1)ref=ref.replace('www.','')
		if(ref.indexOf('https://')>-1)ref=ref.replace('https://','')
		if(ref.indexOf('http://')>-1)ref=ref.replace('http://','')	
		var ref1=ref.split('/');
		var refdom=ref1[0];
		
	var filter =s.linkInternalFilters.split(',')
	
		for(i=0;i<filter.length; i++)
		{
		if(refdom.indexOf(filter[i])>-1)return true;
		}
	}	

		return false;
}

function changeCookiePeriods(host){
//if more than "ford.co" or "ford.com" - return true
	var hostArray = new Array();
	hostArray = host.split('.');
	for (i=0; i < hostArray.length; i++) {
		if (hostArray[i] == 'ford' || hostArray[i] == 'fordpartner' || hostArray[i] == 'fordfranchise' || hostArray[i] == 'mazda' || hostArray[i] == 'lincoln' || hostArray[i] == 'motocraft' || hostArray[i] == 'fordcaminhoes' || hostArray[i] == 'myford'){
			var maxlength = i + 2;
			if (hostArray.length > maxlength) return true;
		}
	}
}

//List of plugins
s.doPlugins=s_doPlugins
/************************** PLUGINS SECTION *************************/
/* You may insert any plugins you wish to use here.                 */

/*
 * Plugin Utility: Replace v1.0
 */
s.repl=new Function("x","o","n",""
+"var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x."
+"substring(i+o.length);i=x.indexOf(o,i+l)}return x");

/*
 * Plugin: socialPlatforms v1.1
 */
s.socialPlatforms=new Function("a",""
+"var s=this,g,K,D,E,F,i;g=s.referrer?s.referrer:document.referrer;g=g."
+"toLowerCase();K=s.split(s.socPlatList,'|');for(i=0;i<K.length;i++){"
+"D=s.split(K[i],'>');if(g.indexOf(D[0])!=-1){s.contextData['a.socialcontentprovider']=D[1];}}");
 
s.socPlatList="facebook.com>Facebook|twitter.com>Twitter|t.co/>Twitter|youtube.com>Youtube|clipmarks.com>Clipmarks|dailymotion.com>Dailymotion|delicious.com>Delicious|digg.com>Digg|diigo.com>Diigo|flickr.com>Flickr|flixster.com>Flixster|fotolog.com>Fotolog|friendfeed.com>FriendFeed|google.com/buzz>Google Buzz|buzz.googleapis.com>Google Buzz|plus.google.com>Google+|hulu.com>Hulu|identi.ca>identi.ca|ilike.com>iLike|intensedebate.com>IntenseDebate|myspace.com>MySpace|newsgator.com>Newsgator|photobucket.com>Photobucket|plurk.com>Plurk|slideshare.net>SlideShare|smugmug.com>SmugMug|stumbleupon.com>StumbleUpon|tumblr.com>Tumblr|vimeo.com>Vimeo|wordpress.com>WordPress|xanga.com>Xanga|metacafe.com>Metacafe|pinterest.com>Pinterest";

/*  
 * socialAuthors v1.5.2
 */
s.socialAuthors=new Function("",""
+"var s=this,g;g=s.referrer?s.referrer:document.referrer;if(g.indexOf"
+"('http://t.co/')===0||g.indexOf('https://t.co/')===0||g.indexOf('pi"
+"nterest.com/pin')!==-1||g.indexOf('tumblr.com')!==-1||g.indexOf('yo"
+"utube.com')!==-1){s.Integrate.add('SocialAuthor');s.Integrate.Socia"
+"lAuthor.tEvar='reserved';s.Integrate.SocialAuthor.get('http://sa-se"
+"rvices.social.omniture.com/author/name?var=[VAR]&callback=s.socialA"
+"uthorSearch&rs='+encodeURIComponent(s_account)+'&q='+encodeURICompo"
+"nent(g));s.Integrate.SocialAuthor.delay();s.Integrate.SocialAuthor."
+"setVars=function(s,p){if(p.tEvar==='reserved'){s.contextData['a.soc"
+"ialauthor']=s.user;}else{s[p.tEvar]=s.user;}}}");
s.socialAuthorSearch=new Function("obj",""
+"var s=this;if(typeof obj==='undefined'||typeof obj.author==='undefi"
+"ned'){s.user='Not Found';}else{s.user=obj.author;}s.Integrate.Socia"
+"lAuthor.ready();");

/*
* Plugin Utility: apl v1.1
*/
s.apl = new Function("l", "v", "d", "u", ""
+ "var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a."
+ "length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"
+ "e()));}}if(!m)l=l?l+d+v:v;return l");

/*
* Utility Function: split v1.5 (JS 1.0 compatible)
*/
s.split = new Function("l", "d", ""
+ "var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"
+ "++]=l.substring(0,i);l=l.substring(i+d.length);}return a");

/*
 * Plugin: getQueryParam 2.3
 */
s.getQueryParam=new Function("p","d","u",""
+"var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.locati"
+"on);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p"
+".length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-"
+"1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i="
+"=p.length?i:i+1)}return v");
s.p_gpv=new Function("k","u",""
+"var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v"
+"=s.pt(q,'&','p_gvf',k)}return v");
s.p_gvf=new Function("t","k",""
+"if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'T"
+"rue':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s."
+"epa(v)}return ''");

/*
 * Plugin: Set Suite
 */
s.setSuite=new Function("v","c","e",""
+"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime("
+")+1800000);s.c_w(c,v,a);}else{v='novalue';a.setTime(a.getTime()+1800000);s.c_w(c,v,a);}");

/*
 * Plugin: getAndPersistValue 0.3 - get a value on every page
 */
s.getAndPersistValue=new Function("v","c","e",""
+"var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if("
+"v)s.c_w(c,v,e?a:0);return s.c_r(c);");



/*
 * Plugin: getCustomValOnce 
 */
s.getCustomValOnce=new Function("v","c","e",""
+"var s=this,k=s.c_r(c),a=new Date;e=e?e:0;if(v){a.setTime(a.getTime("
+")+1800000);if(!s.c_w(c,v,a))s.c_w(c,v,0);}else{a.setTime(a.getTime()+1800000);v=s.c_r(c);if(!s.c_w(c,v,a))s.c_w(c,v,a);}return v==k?'':v");


s.join = new Function("v","p",""
+"var s = this;var f,b,d,w;if(p){f=p.front?p.front:'';b=p.back?p.back"
+":'';d=p.delim?p.delim:'';w=p.wrap?p.wrap:'';}var str='';for(var x=0"
+";x<v.length;x++){if(typeof(v[x])=='object' )str+=s.join( v[x],p);el"
+"se str+=w+v[x]+w;if(x<v.length-1)str+=d;}return f+str+b;");

/*
 * Plugin: getVisitStart v2.0 - returns 1 on first page of visit
 * otherwise 0
 */
s.getVisitStart=new Function("c",""
+"var s=this,v=1,t=new Date;t.setTime(t.getTime()+1800000);if(s.c_r(c"
+")){v=0}if(!s.c_w(c,1,t)){s.c_w(c,1,0)}if(!s.c_r(c)){v=0}return v;"); 

function fnGetDomain(url) {
return (url.match(/:\/\/(.[^/]+)/)[1]);
}

/* Configure Modules and Plugins */

s.maxDelay='3000';//max time to wait for 3rd party api response in milliseconds
s.loadModule("Integrate")
s.Integrate.onLoad=function(s,m){
	s.socialAuthors();
	//add other integration module dependent functions here
 };


/* WARNING: Changing any of the below variables will cause drastic
changes to how your visitor data is collected.  Changes should only be
made when instructed to do so by your account manager.*/

s.trackingServer="fordap.sc.omtrdc.net"
s.trackingServerSecure="fordap.sc.omtrdc.net"

/************* Modules **************/

/* Module: Integrate */
s.m_Integrate_c="var m=s.m_i('Integrate');m.add=function(n,o){var m=this,p;if(!o)o='s_Integrate_'+n;if(!m.s.wd[o])m.s.wd[o]=new Object;m[n]=new Object;p=m[n];p._n=n;p._m=m;p._c=0;p._d=0;p.disable=0;p"
+".get=m.get;p.delay=m.delay;p.ready=m.ready;p.beacon=m.beacon;p.script=m.script;m.l[m.l.length]=n};m._g=function(t){var m=this,s=m.s,i,p,f=(t?'use':'set')+'Vars',tcf;for(i=0;i<m.l.length;i++){p=m[m."
+"l[i]];if(p&&!p.disable&&p[f]){if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','p','f','var e;try{p[f](s,p)}catch(e){}');tcf(s,p,f)}else p[f](s,p)}}};m._t=function(){this._g(1)};m._fu=func"
+"tion(p,u){var m=this,s=m.s,v,x,y,z,tm=new Date;if(u.toLowerCase().substring(0,4) != 'http')u='http://'+u;if(s.ssl)u=s.rep(u,'http:','https:');p.RAND=Math&&Math.random?Math.floor(Math.random()*10000"
+"000000000):tm.getTime();p.RAND+=Math.floor(tm.getTime()/10800000)%10;x=0;while(x>=0){x=u.indexOf('[',x);if(x>=0){y=u.indexOf(']',x);if(y>x){z=u.substring(x+1,y);if(z.length>2&&z.substring(0,2)=='s."
+"'){v=s[z.substring(2)];if(!v)v=''}else{v=''+p[z];if(!(v==p[z]||parseFloat(v)==p[z]))z=0}if(z) {u=u.substring(0,x)+s.rep(escape(v),'+','%2B')+u.substring(y+1);x=y-(z.length-v.length+1)} else {x=y}}}"
+"}return u};m.get=function(u,v){var p=this,m=p._m;if(!p.disable){if(!v)v='s_'+m._in+'_Integrate_'+p._n+'_get_'+p._c;p._c++;p.VAR=v;p._d++;m.s.loadModule('Integrate:'+v,m._fu(p,u),0,1,p._n)}};m.delay"
+"=function(){var p=this;if(p._d<=0)p._d=1};m.ready=function(){var p=this,m=p._m;p._d=0;if(!p.disable)m.s.dlt()};m._d=function(){var m=this,i,p;for(i=0;i<m.l.length;i++){p=m[m.l[i]];if(p&&!p.disable&"
+"&p._d>0)return 1}return 0};m._x=function(d,n){var p=this[n],x;if(!p.disable){for(x in d)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))p[x]=d[x];p._d--}};m.beacon=function(u){var p=this,m"
+"=p._m,s=m.s,imn='s_i_'+m._in+'_Integrate_'+p._n+'_'+p._c,im;if(!p.disable&&s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){p._c++;im=s.wd[imn]=new Image;im.src=m._fu(p,u)}};m.s"
+"cript=function(u){var p=this,m=p._m;if(!p.disable)m.s.loadModule(0,m._fu(p,u),0,1)};m.l=new Array;if(m.onLoad)m.onLoad(s,m)";
s.m_i("Integrate");


/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code='',s_objectID;function s_gi(un,pg,ss){var c="s.version='H.27.3';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(s.rep(m,\"\\\\\",\"\\\\"
+"\\\\\"),\"\\n\",\"\\\\n\"),\"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}retur"
+"n y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;ret"
+"urn 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent("
+"x);for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.su"
+"bstring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+"
+"','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00"
+"'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unesc"
+"ape(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r"
+";z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring("
+"0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf'"
+",f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visi"
+"bilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){whil"
+"e(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\")"
+";s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.li"
+"nkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostnam"
+"e,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'"
+".','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<"
+"0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-6"
+"0);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':''"
+");return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i"
+";l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tc"
+"f=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s"
+".wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0"
+";return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return "
+"s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)fo"
+"r(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackin"
+"gServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+s._in+'_'+un,im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLow"
+"erCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.vers"
+"ion+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if"
+"(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]"
+"=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd["
+"imn];if(!im)im=s.wd[imn]=new Image;im.alt=\"\";im.s_l=0;im.onload=im.onerror=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!"
+"s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window"
+".s_c_il)window.s_c_il['+s._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e"
+".getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'"
+"+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,"
+"l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='ht"
+"tps://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l="
+"',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'"
+"+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextDat"
+"a\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(n"
+"fn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){n"
+"k=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLi"
+"ghtData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(s"
+"p=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return "
+"qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe"
+"=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if"
+"(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv|"
+"|fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='supplementalDataID')q='sdid';else if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';e"
+"lse if(k=='marketingCloudVisitorID')q='mid';else if(k=='analyticsVisitorID')q='aid';else if(k=='audienceManagerLocationHint')q='aamlh';else if(k=='audienceManagerBlob')q='aamb';else if(k=='authStat"
+"e')q='as';else if(k=='pageURL'){q='g';if(v.length>255){s.pageURLRest=v.substring(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if"
+"(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&"
+"s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainP"
+"eriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=="
+"'campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='brows"
+"erWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v"
+",fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}el"
+"se if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLig"
+"htProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape("
+"q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?'),hi=h.indexOf('#');if(qi>=0){if(hi>=0&&hi<qi)qi=hi;}e"
+"lse qi=hi;h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)ret"
+"urn 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLi"
+"nks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt"
+"(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var "
+"s=this;if(s.bct&&s.bce)s.bct.dispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&"
+"e.s_fe)return;var s=s_c_il['+s._in+'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener(\"cli"
+"ck\",s.bc,true);s.bbc=s.useForcedLinkTracking=0;return}else s.b.removeEventListener(\"click\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLin"
+"kTracking&&e.target){a=e.target;while(a&&a!=s.b&&a.tagName.toUpperCase()!=\"A\"&&a.tagName.toUpperCase()!=\"AREA\")a=a.parentNode;if(a){h=a.href;if(h.indexOf(\"#\")==0||h.indexOf(\"about:\")==0||h."
+"indexOf(\"javascript:\")==0)h=0;t=a.target;if(e.target.dispatchEvent&&h&&(!t||t==\"_self\"||t==\"_top\"||t==\"_parent\"||(s.wd.name&&t==s.wd.name))){tcf=new Function(\"s\",\"var x;try{n=s.d.createE"
+"vent(\\\\\"MouseEvents\\\\\")}catch(x){n=new MouseEvent}return n\");n=tcf(s);if(n){tcf=new Function(\"n\",\"e\",\"var x;try{n.initMouseEvent(\\\\\"click\\\\\",e.bubbles,e.cancelable,e.view,e.detail"
+",e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(x){n=0}return n\");n=tcf(n,e);if(n){n.s_fe=1;e.stopPropagation();if (e.stopImmediate"
+"Propagation) {e.stopImmediatePropagation();}e.preventDefault();s.bct=e.target;s.bce=n}}}}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?')"
+";k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host"
+"?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&"
+"&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var "
+"s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.r"
+"ep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.s"
+"rc&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&("
+"','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c"
+"<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);re"
+"turn 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','"
+"sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype["
+"x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for("
+"i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s."
+"wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&((s.n.userAgent.indexOf('WebK"
+"it')>=0&&s.d.createEvent)||(s.n.userAgent.indexOf('Firefox/2')>=0&&s.wd.MouseEvent))){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,fal"
+"se)}else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<19"
+"00?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t"
+"?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountL"
+"ist,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.i"
+"ndexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=',"
+"'+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_"
+"m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l"
+"[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=ne"
+"w Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)"
+"));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m."
+"_d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).index"
+"Of('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]("
+")}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var"
+" s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement"
+"){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)c"
+"learTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b"
+"+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o"
+".l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s"
+".m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]"
+"){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo,onlySet){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s"
+"[k];if(!onlySet&&!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s."
+"maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new O"
+"bject;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s._waitingForMarketingCloudVisitorID = false;s._doneWaitingForMarketingClou"
+"dVisitorID = false;s._marketingCloudVisitorIDCallback=function(marketingCloudVisitorID) {var s=this;s.marketingCloudVisitorID = marketingCloudVisitorID;s._doneWaitingForMarketingCloudVisitorID = tr"
+"ue;s._callbackWhenReadyToTrackCheck();};s._waitingForAnalyticsVisitorID = false;s._doneWaitingForAnalyticsVisitorID = false;s._analyticsVisitorIDCallback=function(analyticsVisitorID) {var s=this;s."
+"analyticsVisitorID = analyticsVisitorID;s._doneWaitingForAnalyticsVisitorID = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerLocationHint = false;s._doneWaitingForAudienceMan"
+"agerLocationHint = false;s._audienceManagerLocationHintCallback=function(audienceManagerLocationHint) {var s=this;s.audienceManagerLocationHint = audienceManagerLocationHint;s._doneWaitingForAudien"
+"ceManagerLocationHint = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerBlob = false;s._doneWaitingForAudienceManagerBlob = false;s._audienceManagerBlobCallback=function(audie"
+"nceManagerBlob) {var s=this;s.audienceManagerBlob = audienceManagerBlob;s._doneWaitingForAudienceManagerBlob = true;s._callbackWhenReadyToTrackCheck();};s.isReadyToTrack=function() {var s=this,read"
+"yToTrack = true,visitor = s.visitor;if ((visitor) && (visitor.isAllowed())) {if ((!s._waitingForMarketingCloudVisitorID) && (!s.marketingCloudVisitorID) && (visitor.getMarketingCloudVisitorID)) {s."
+"_waitingForMarketingCloudVisitorID = true;s.marketingCloudVisitorID = visitor.getMarketingCloudVisitorID([s,s._marketingCloudVisitorIDCallback]);if (s.marketingCloudVisitorID) {s._doneWaitingForMar"
+"ketingCloudVisitorID = true;}}if ((!s._waitingForAnalyticsVisitorID) && (!s.analyticsVisitorID) && (visitor.getAnalyticsVisitorID)) {s._waitingForAnalyticsVisitorID = true;s.analyticsVisitorID = vi"
+"sitor.getAnalyticsVisitorID([s,s._analyticsVisitorIDCallback]);if (s.analyticsVisitorID) {s._doneWaitingForAnalyticsVisitorID = true;}}if ((!s._waitingForAudienceManagerLocationHint) && (!s.audienc"
+"eManagerLocationHint) && (visitor.getAudienceManagerLocationHint)) {s._waitingForAudienceManagerLocationHint = true;s.audienceManagerLocationHint = visitor.getAudienceManagerLocationHint([s,s._audi"
+"enceManagerLocationHintCallback]);if (s.audienceManagerLocationHint) {s._doneWaitingForAudienceManagerLocationHint = true;}}if ((!s._waitingForAudienceManagerBlob) && (!s.audienceManagerBlob) && (v"
+"isitor.getAudienceManagerBlob)) {s._waitingForAudienceManagerBlob = true;s.audienceManagerBlob = visitor.getAudienceManagerBlob([s,s._audienceManagerBlobCallback]);if (s.audienceManagerBlob) {s._do"
+"neWaitingForAudienceManagerBlob = true;}}if (((s._waitingForMarketingCloudVisitorID)     && (!s._doneWaitingForMarketingCloudVisitorID)     && (!s.marketingCloudVisitorID)) ||((s._waitingForAnalyti"
+"csVisitorID)          && (!s._doneWaitingForAnalyticsVisitorID)          && (!s.analyticsVisitorID)) ||((s._waitingForAudienceManagerLocationHint) && (!s._doneWaitingForAudienceManagerLocationHint)"
+" && (!s.audienceManagerLocationHint)) ||((s._waitingForAudienceManagerBlob)         && (!s._doneWaitingForAudienceManagerBlob)         && (!s.audienceManagerBlob))) {readyToTrack = false;}}return r"
+"eadyToTrack;};s._callbackWhenReadyToTrackQueue = null;s._callbackWhenReadyToTrackInterval = 0;s.callbackWhenReadyToTrack=function(callbackThis,callback,args) {var s=this,callbackInfo;callbackInfo ="
+" {};callbackInfo.callbackThis = callbackThis;callbackInfo.callback     = callback;callbackInfo.args         = args;if (s._callbackWhenReadyToTrackQueue == null) {s._callbackWhenReadyToTrackQueue = "
+"[];}s._callbackWhenReadyToTrackQueue.push(callbackInfo);if (s._callbackWhenReadyToTrackInterval == 0) {s._callbackWhenReadyToTrackInterval = setInterval(s._callbackWhenReadyToTrackCheck,100);}};s._"
+"callbackWhenReadyToTrackCheck=new Function('var s=s_c_il['+s._in+'],callbackNum,callbackInfo;if (s.isReadyToTrack()) {if (s._callbackWhenReadyToTrackInterval) {clearInterval(s._callbackWhenReadyToT"
+"rackInterval);s._callbackWhenReadyToTrackInterval = 0;}if (s._callbackWhenReadyToTrackQueue != null) {while (s._callbackWhenReadyToTrackQueue.length > 0) {callbackInfo = s._callbackWhenReadyToTrack"
+"Queue.shift();callbackInfo.callback.apply(callbackInfo.callbackThis,callbackInfo.args);}}}');s._handleNotReadyToTrack=function(variableOverrides) {var s=this,args,varKey,variableOverridesCopy = nul"
+"l,setVariables = null;if (!s.isReadyToTrack()) {args = [];if (variableOverrides != null) {variableOverridesCopy = {};for (varKey in variableOverrides) {variableOverridesCopy[varKey] = variableOverr"
+"ides[varKey];}}setVariables = {};s.vob(setVariables,true);args.push(variableOverridesCopy);args.push(setVariables);s.callbackWhenReadyToTrack(s,s.track,args);return true;}return false;};s.gfid=func"
+"tion(){var s=this,d='0123456789ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j"
+"=Math.floor(Math.random()*n);l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.track=s.t=function(vo,setVariables){var s="
+"this,notReadyToTrack,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'"
+"/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;i"
+"f (s.visitor) {if (s.visitor.getAuthState) {s.authState = s.visitor.getAuthState();}if ((!s.supplementalDataID) && (s.visitor.getSupplementalDataID)) {s.supplementalDataID = s.visitor.getSupplement"
+"alDataID(\"AppMeasurement:\" + s._in,(s.expectSupplementalData ? false : true));}}if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();notReadyToTrack = s._handleNotReadyToTrack(vo);if (!no"
+"tReadyToTrack) {if (setVariables) {s.voa(setVariables);}if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&S"
+"tring.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Fun"
+"ction('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}"
+"if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins"
+"}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function("
+"'s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#"
+"clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.co"
+"lorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if(!s.analyt"
+"icsVisitorID&&!s.marketingCloudVisitorID)s.fid=s.gfid();if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL="
+"l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s"
+".eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>="
+"0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowe"
+"rCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if("
+"o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useFor"
+"cedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb)"
+")>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\"\\\\\")ocx=!ocx;else ocx=0;}else"
+"{ocq=oc.charAt(oce);if(ocq!='\"'&&ocq!=\"'\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID'"
+")){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampl"
+"ed=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.delet"
+"eLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);}s.abort=0;s.supplementalDataID=s.pageURLRest=s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.p"
+"g)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight"
+"=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.le"
+"ngth;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x"
+".u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++"
+"){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;"
+"s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n."
+"userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Inte"
+"rnet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s."
+"apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharC"
+"ode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='supplementalDataID,timestamp,dynamicVariablePrefix,visitorID,marketingCloudVisitorID,analyticsVi"
+"sitorID,audienceManagerLocationHint,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,"
+"referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp"
+",charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID"
+",purchaseID,campaign,state,zip,events,events2,products,audienceManagerBlob,authState,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5"
+";n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,bro"
+"wserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableB"
+"ufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryStrin"
+"g,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextD"
+"ata=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",
w=window,l=w.s_c_il,n=navigator,u=n.userAgent,v=n.appVersion,e=v.indexOf('MSIE '),m=u.indexOf('Netscape6/'),a,i,j,x,s;if(un){un=un.toLowerCase();if(l)for(j=0;j<2;j++)for(i=0;i<l.length;i++){s=l[i];x=s._c;if((!x||x=='s_c'||(j>0&&x=='s_l'))&&(s.oun==un||(s.fs&&s.sa&&s.fs(s.oun,un)))){if(s.sa)s.sa(un);if(x=='s_c')return s}else s=0}}w.s_an='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
w.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.subst"
+"ring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a");
w.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x");
w.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)");
w.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d"
+"=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn("
+"x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x");
w.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")");
w.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':"
+"a");
w.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){i"
+"f(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")"
+"'+c.substring(e+1);s=c.indexOf('=function(')}return c;");
c=s_d(c);if(e>0){a=parseInt(i=v.substring(e+5));if(a>3)a=parseFloat(i)}else if(m>0)a=parseFloat(u.substring(m+10));else a=parseFloat(v);if(a<5||v.indexOf('Opera')>=0||u.indexOf('Opera')>=0)c=s_ft(c);if(!s){s=new Object;if(!w.s_c_in){w.s_c_il=new Array;w.s_c_in=0}s._il=w.s_c_il;s._in=w.s_c_in;s._il[s._in]=s;w.s_c_in++;}s._c='s_c';(new Function("s","un","pg","ss",c))(s,un,pg,ss);return s}
function s_giqf(){var w=window,q=w.s_giq,i,t,s;if(q)for(i=0;i<q.length;i++){t=q[i];s=s_gi(t.oun);s.sa(t.un);s.setTagContainer(t.tagContainerName)}w.s_giq=0}s_giqf();


//Ford chooses to use jQuery tmpl and its associated components under the MIT License.
(function(a){var r=a.fn.domManip,d="_tmplitem",q=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,b={},f={},e,p={key:0,data:{}},h=0,c=0,l=[];function g(e,d,g,i){var c={data:i||(d?d.data:{}),_wrap:d?d._wrap:null,tmpl:null,parent:d||null,nodes:[],calls:u,nest:w,wrap:x,html:v,update:t};e&&a.extend(c,e,{nodes:[],parent:d});if(g){c.tmpl=g;c._ctnt=c._ctnt||c.tmpl(a,c);c.key=++h;(l.length?f:b)[h]=c}return c}a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,d){a.fn[f]=function(n){var g=[],i=a(n),k,h,m,l,j=this.length===1&&this[0].parentNode;e=b||{};if(j&&j.nodeType===11&&j.childNodes.length===1&&i.length===1){i[d](this[0]);g=this}else{for(h=0,m=i.length;h<m;h++){c=h;k=(h>0?this.clone(true):this).get();a.fn[d].apply(a(i[h]),k);g=g.concat(k)}c=0;g=this.pushStack(g,f,i.selector)}l=e;e=null;a.tmpl.complete(l);return g}});a.fn.extend({tmpl:function(d,c,b){return a.tmpl(this[0],d,c,b)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(d,l,j){if(d[0]&&d[0].nodeType){var f=a.makeArray(arguments),g=d.length,i=0,h;while(i<g&&!(h=a.data(d[i++],"tmplItem")));if(g>1)f[0]=[a.makeArray(d)];if(h&&c)f[2]=function(b){a.tmpl.afterManip(this,b,j)};r.apply(this,f)}else r.apply(this,arguments);c=0;!e&&a.tmpl.complete(b);return this}});a.extend({tmpl:function(d,h,e,c){var j,k=!c;if(k){c=p;d=a.template[d]||a.template(null,d);f={}}else if(!d){d=c.tmpl;b[c.key]=c;c.nodes=[];c.wrapped&&n(c,c.wrapped);return a(i(c,null,c.tmpl(a,c)))}if(!d)return[];if(typeof h==="function")h=h.call(c||{});e&&e.wrapped&&n(e,e.wrapped);j=a.isArray(h)?a.map(h,function(a){return a?g(e,c,d,a):null}):[g(e,c,d,h)];return k?a(i(c,null,j)):j},tmplItem:function(b){var c;if(b instanceof a)b=b[0];while(b&&b.nodeType===1&&!(c=a.data(b,"tmplItem"))&&(b=b.parentNode));return c||p},template:function(c,b){if(b){if(typeof b==="string")b=o(b);else if(b instanceof a)b=b[0]||{};if(b.nodeType)b=a.data(b,"tmpl")||a.data(b,"tmpl",o(b.innerHTML));return typeof c==="string"?(a.template[c]=b):b}return c?typeof c!=="string"?a.template(null,c):a.template[c]||a.template(null,q.test(c)?c:a(c)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){b={}},afterManip:function(f,b,d){var e=b.nodeType===11?a.makeArray(b.childNodes):b.nodeType===1?[b]:[];d.call(f,b);m(e);c++}});function i(e,g,f){var b,c=f?a.map(f,function(a){return typeof a==="string"?e.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+d+'="'+e.key+'" $2'):a:i(a,e,a._ctnt)}):e;if(g)return c;c=c.join("");c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(f,c,e,d){b=a(e).get();m(b);if(c)b=j(c).concat(b);if(d)b=b.concat(j(d))});return b?b:j(c)}function j(c){var b=document.createElement("div");b.innerHTML=c;return a.makeArray(b.childNodes)}function o(b){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(m,l,j,d,b,c,e){var i=a.tmpl.tag[j],h,f,g;h=i._default||[];if(c&&!/\w$/.test(b)){b+=c;c=""}if(b){b=k(b);e=e?","+k(e)+")":c?")":"";f=c?b.indexOf(".")>-1?b+c:"("+b+").call($item"+e:b;g=c?f:"(typeof("+b+")==='function'?("+b+").call($item):("+b+"))"}else g=f=h.$1||"null";d=k(d);return"');"+i[l?"close":"open"].split("$notnull_1").join(b?"typeof("+b+")!=='undefined' && ("+b+")!=null":"true").split("$1a").join(g).split("$1").join(f).split("$2").join(d?d.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(d,c,b,a){a=a?","+a+")":b?")":"";return a?"("+c+").call($item"+a:d}):h.$2||"")+"_.push('"})+"');}return _;")}function n(c,b){c._wrap=i(c,true,a.isArray(b)?b:[q.test(b)?b:a(b).html()]).join("")}function k(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function s(b){var a=document.createElement("div");a.appendChild(b.cloneNode(true));return a.innerHTML}function m(o){var n="_"+c,k,j,l={},e,p,i;for(e=0,p=o.length;e<p;e++){if((k=o[e]).nodeType!==1)continue;j=k.getElementsByTagName("*");for(i=j.length-1;i>=0;i--)m(j[i]);m(k)}function m(j){var p,i=j,k,e,m;if(m=j.getAttribute(d)){while(i.parentNode&&(i=i.parentNode).nodeType===1&&!(p=i.getAttribute(d)));if(p!==m){i=i.parentNode?i.nodeType===11?0:i.getAttribute(d)||0:0;if(!(e=b[m])){e=f[m];e=g(e,b[i]||f[i],null,true);e.key=++h;b[h]=e}c&&o(m)}j.removeAttribute(d)}else if(c&&(e=a.data(j,"tmplItem"))){o(e.key);b[e.key]=e;i=a.data(j.parentNode,"tmplItem");i=i?i.key:0}if(e){k=e;while(k&&k.key!=i){k.nodes.push(j);k=k.parent}delete e._ctnt;delete e._wrap;a.data(j,"tmplItem",e)}function o(a){a=a+n;e=l[a]=l[a]||g(e,b[e.parent.key+n]||e.parent,null,true)}}}function u(a,d,c,b){if(!a)return l.pop();l.push({_:a,tmpl:d,item:this,data:c,options:b})}function w(d,c,b){return a.tmpl(a.template(d),c,b,this)}function x(b,d){var c=b.options||{};c.wrapped=d;return a.tmpl(a.template(b.tmpl),b.data,c,b.item)}function v(d,c){var b=this._wrap;return a.map(a(a.isArray(b)?b.join(""):b).filter(d||"*"),function(a){return c?a.innerText||a.textContent:a.outerHTML||s(a)})}function t(){var b=this.nodes;a.tmpl(null,null,null,this).insertBefore(b[0]);a(b).remove()}})(jQuery);


if(!this.JSON)this.JSON={};
(function(){function k(a){return a<10?"0"+a:a}function n(a){o.lastIndex=0;return o.test(a)?'"'+a.replace(o,function(c){var d=q[c];return typeof d==="string"?d:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function l(a,c){var d,f,i=g,e,b=c[a];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(a);if(typeof j==="function")b=j.call(c,a,b);switch(typeof b){case "string":return n(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);case "object":if(!b)return"null";
g+=m;e=[];if(Object.prototype.toString.apply(b)==="[object Array]"){f=b.length;for(a=0;a<f;a+=1)e[a]=l(a,b)||"null";c=e.length===0?"[]":g?"[\n"+g+e.join(",\n"+g)+"\n"+i+"]":"["+e.join(",")+"]";g=i;return c}if(j&&typeof j==="object"){f=j.length;for(a=0;a<f;a+=1){d=j[a];if(typeof d==="string")if(c=l(d,b))e.push(n(d)+(g?": ":":")+c)}}else for(d in b)if(Object.hasOwnProperty.call(b,d))if(c=l(d,b))e.push(n(d)+(g?": ":":")+c);c=e.length===0?"{}":g?"{\n"+g+e.join(",\n"+g)+"\n"+i+"}":"{"+e.join(",")+"}";
g=i;return c}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+k(this.getUTCMonth()+1)+"-"+k(this.getUTCDate())+"T"+k(this.getUTCHours())+":"+k(this.getUTCMinutes())+":"+k(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var p=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,m,q={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;if(typeof JSON.stringify!=="function")JSON.stringify=function(a,c,d){var f;m=g="";if(typeof d==="number")for(f=0;f<d;f+=1)m+=" ";else if(typeof d==="string")m=d;if((j=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!=="number"))throw new Error("JSON.stringify");return l("",
{"":a})};if(typeof JSON.parse!=="function")JSON.parse=function(a,c){function d(f,i){var e,b,h=f[i];if(h&&typeof h==="object")for(e in h)if(Object.hasOwnProperty.call(h,e)){b=d(h,e);if(b!==undefined)h[e]=b;else delete h[e]}return c.call(f,i,h)}a=String(a);p.lastIndex=0;if(p.test(a))a=a.replace(p,function(f){return"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){a=eval("("+a+")");return typeof c==="function"?d({"":a},""):a}throw new SyntaxError("JSON.parse");}})();

(function(b){if(typeof define==="function"&&define.amd)define(["jquery"],b);else typeof exports==="object"?b(require("jquery")):b(jQuery)})(function(b){function j(a){return e.raw?a:encodeURIComponent(a)}function m(a){return e.raw?a:decodeURIComponent(a)}function n(a){return j(e.json?JSON.stringify(a):String(a))}function o(a){if(a.indexOf('"')===0)a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");try{a=decodeURIComponent(a.replace(p," "));return e.json?JSON.parse(a):a}catch(d){}}function k(a,
d){a=e.raw?a:o(a);return b.isFunction(d)?d(a):a}var p=/\+/g,e=b.cookie=function(a,d,c){if(arguments.length>1&&!b.isFunction(d)){c=b.extend({},e.defaults,c);if(typeof c.expires==="number"){var g=c.expires,h=c.expires=new Date;h.setTime(+h+g*864E5)}return document.cookie=[j(a),"=",n(d),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}g=a?undefined:{};h=document.cookie?document.cookie.split("; "):[];for(var i=
0,q=h.length;i<q;i++){var f=h[i].split("="),l=m(f.shift());f=f.join("=");if(a&&a===l){g=k(f,d);break}if(!a&&(f=k(f))!==undefined)g[l]=f}return g};e.defaults={};b.removeCookie=function(a,d){if(b.cookie(a)===undefined)return false;b.cookie(a,"",b.extend({},d,{expires:-1}));return!b.cookie(a)}});

(function(c){function g(a){var b=a||window.event,i=[].slice.call(arguments,1),e=0,h=0,f=0;a=c.event.fix(b);a.type="mousewheel";if(b.wheelDelta)e=b.wheelDelta/120;if(b.detail)e=-b.detail/3;f=e;if(b.axis!==undefined&&b.axis===b.HORIZONTAL_AXIS){f=0;h=-1*e}if(b.wheelDeltaY!==undefined)f=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)h=-1*b.wheelDeltaX/120;i.unshift(a,e,h,f);return(c.event.dispatch||c.event.handle).apply(this,i)}var d=["DOMMouseScroll","mousewheel"];if(c.event.fixHooks)for(var j=d.length;j;)c.event.fixHooks[d[--j]]=
c.event.mouseHooks;c.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=d.length;a;)this.addEventListener(d[--a],g,false);else this.onmousewheel=g},teardown:function(){if(this.removeEventListener)for(var a=d.length;a;)this.removeEventListener(d[--a],g,false);else this.onmousewheel=null}};c.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);

(function(e,Qa,D){e.fn.jScrollPane=function(L){function xa(g,P){function ha(a){var b,c,f,h,i,j=false,q=false;d=a;if(k===D){h=g.scrollTop();i=g.scrollLeft();g.css({overflow:"hidden",padding:0});n=g.innerWidth()+M;m=g.innerHeight();g.width(n);k=e('<div class="jspPane" />').css("padding",oa).append(g.children());l=e('<div class="jspContainer" />').css({width:n+"px",height:m+"px"}).append(k).appendTo(g)}else{g.css("width","");j=d.stickToBottom&&ya();q=d.stickToRight&&za();if(f=g.innerWidth()+M!=n||g.outerHeight()!=
m){n=g.innerWidth()+M;m=g.innerHeight();l.css({width:n+"px",height:m+"px"})}if(!f&&pa==u&&k.outerHeight()==t){g.width(n);return}pa=u;k.css("width","");g.width(n);l.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}k.css("overflow","auto");u=a.contentWidth?a.contentWidth:k[0].scrollWidth;t=k[0].scrollHeight;k.css("overflow","");ia=u/n;$=t/m;y=$>1;if((z=ia>1)||y){g.addClass("jspScrollable");if(a=d.maintainPosition&&(r||s)){b=E();c=F()}Aa();Ba();Ca();if(a){Q(q?u-n:b,false);G(j?t-m:c,false)}Da();
Ea();Fa();d.enableKeyboardNavigation&&Ga();d.clickOnTrack&&Ha();Ia();d.hijackInternalLinks&&qa()}else{g.removeClass("jspScrollable");k.css({top:0,width:l.width()-M});Ja();Ka();La();ra();sa()}if(d.autoReinitialise&&!aa)aa=setInterval(function(){ha(d)},d.autoReinitialiseDelay);else!d.autoReinitialise&&aa&&clearInterval(aa);h&&g.scrollTop(0)&&G(h,false);i&&g.scrollLeft(0)&&Q(i,false);g.trigger("jsp-initialised",[z||y])}function Aa(){if(y){l.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),
e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />')));ba=l.find(">.jspVerticalBar");A=ba.find(">.jspTrack");v=A.find(">.jspDrag");if(d.showArrows){V=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",H(0,-1)).bind("click.jsp",R);W=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",H(0,1)).bind("click.jsp",R);if(d.arrowScrollOnHover){V.bind("mouseover.jsp",
H(0,-1,V));W.bind("mouseover.jsp",H(0,1,W))}ta(A,d.verticalArrowPositions,V,W)}S=m;l.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){S-=e(this).outerHeight()});v.hover(function(){v.addClass("jspHover")},function(){v.removeClass("jspHover")}).bind("mousedown.jsp",function(a){e("html").bind("dragstart.jsp selectstart.jsp",R);v.addClass("jspActive");var b=a.pageY-v.position().top;e("html").bind("mousemove.jsp",function(c){N(c.pageY-b,false)}).bind("mouseup.jsp mouseleave.jsp",
ua);return false});va()}}function va(){A.height(S+"px");r=0;ja=d.verticalGutter+A.outerWidth();k.width(n-ja-M);try{ba.position().left===0&&k.css("margin-left",ja+"px")}catch(a){}}function Ba(){if(z){l.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />')));ca=l.find(">.jspHorizontalBar");
B=ca.find(">.jspTrack");w=B.find(">.jspDrag");if(d.showArrows){X=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",H(-1,0)).bind("click.jsp",R);Y=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",H(1,0)).bind("click.jsp",R);if(d.arrowScrollOnHover){X.bind("mouseover.jsp",H(-1,0,X));Y.bind("mouseover.jsp",H(1,0,Y))}ta(B,d.horizontalArrowPositions,X,Y)}w.hover(function(){w.addClass("jspHover")},function(){w.removeClass("jspHover")}).bind("mousedown.jsp",function(a){e("html").bind("dragstart.jsp selectstart.jsp",
R);w.addClass("jspActive");var b=a.pageX-w.position().left;e("html").bind("mousemove.jsp",function(c){T(c.pageX-b,false)}).bind("mouseup.jsp mouseleave.jsp",ua);return false});O=l.innerWidth();wa()}}function wa(){l.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){O-=e(this).outerWidth()});B.width(O+"px");s=0}function Ca(){if(z&&y){var a=B.outerHeight(),b=A.outerWidth();S-=a;e(ca).find(">.jspCap:visible,>.jspArrow").each(function(){O+=e(this).outerWidth()});O-=
b;m-=b;n-=a;B.parent().append(e('<div class="jspCorner" />').css("width",a+"px"));va();wa()}z&&k.width(l.outerWidth()-M+"px");t=k.outerHeight();$=t/m;if(z){I=Math.ceil(1/ia*O);if(I>d.horizontalDragMaxWidth)I=d.horizontalDragMaxWidth;else if(I<d.horizontalDragMinWidth)I=d.horizontalDragMinWidth;w.width(I+"px");J=O-I;ka(s)}if(y){K=Math.ceil(1/$*S);if(K>d.verticalDragMaxHeight)K=d.verticalDragMaxHeight;else if(K<d.verticalDragMinHeight)K=d.verticalDragMinHeight;v.height(K+"px");C=S-K;la(r)}}function ta(a,
b,c,f){var h="before",i="after";if(b=="os")b=/Mac/.test(navigator.platform)?"after":"split";if(b==h)i=b;else if(b==i){h=b;b=c;c=f;f=b}a[h](c)[i](f)}function H(a,b,c){return function(){Ma(a,b,this,c);this.blur();return false}}function Ma(a,b,c,f){c=e(c).addClass("jspActive");var h,i,j=true,q=function(){a!==0&&p.scrollByX(a*d.arrowButtonSpeed);b!==0&&p.scrollByY(b*d.arrowButtonSpeed);i=setTimeout(q,j?d.initialDelay:d.arrowRepeatFreq);j=false};q();h=f?"mouseout.jsp":"mouseup.jsp";f=f||e("html");f.bind(h,
function(){c.removeClass("jspActive");i&&clearTimeout(i);i=null;f.unbind(h)})}function Ha(){ra();y&&A.bind("mousedown.jsp",function(a){if(a.originalTarget===D||a.originalTarget==a.currentTarget){var b=e(this),c=b.offset(),f=a.pageY-c.top-r,h,i=true,j=function(){var o=b.offset();o=a.pageY-o.top-K/2;var x=m*d.scrollPagePercent,U=C*x/(t-m);if(f<0)r-U>o?p.scrollByY(-x):N(o);else if(f>0)r+U<o?p.scrollByY(x):N(o);else{q();return}h=setTimeout(j,i?d.initialDelay:d.trackClickRepeatFreq);i=false},q=function(){h&&
clearTimeout(h);h=null;e(document).unbind("mouseup.jsp",q)};j();e(document).bind("mouseup.jsp",q);return false}});z&&B.bind("mousedown.jsp",function(a){if(a.originalTarget===D||a.originalTarget==a.currentTarget){var b=e(this),c=b.offset(),f=a.pageX-c.left-s,h,i=true,j=function(){var o=b.offset();o=a.pageX-o.left-I/2;var x=n*d.scrollPagePercent,U=J*x/(u-n);if(f<0)s-U>o?p.scrollByX(-x):T(o);else if(f>0)s+U<o?p.scrollByX(x):T(o);else{q();return}h=setTimeout(j,i?d.initialDelay:d.trackClickRepeatFreq);
i=false},q=function(){h&&clearTimeout(h);h=null;e(document).unbind("mouseup.jsp",q)};j();e(document).bind("mouseup.jsp",q);return false}})}function ra(){B&&B.unbind("mousedown.jsp");A&&A.unbind("mousedown.jsp")}function ua(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");v&&v.removeClass("jspActive");w&&w.removeClass("jspActive")}function N(a,b){if(y){if(a<0)a=0;else if(a>C)a=C;if(b===D)b=d.animateScroll;if(b)p.animate(v,"top",a,la);else{v.css("top",a);
la(a)}}}function la(a){if(a===D)a=v.position().top;l.scrollTop(0);r=a;var b=r===0,c=r==C;a=-(a/C)*(t-m);if(da!=b||ea!=c){da=b;ea=c;g.trigger("jsp-arrow-change",[da,ea,fa,ga])}Na(b,c);k.css("top",a);g.trigger("jsp-scroll-y",[-a,b,c]).trigger("scroll")}function T(a,b){if(z){if(a<0)a=0;else if(a>J)a=J;if(b===D)b=d.animateScroll;if(b)p.animate(w,"left",a,ka);else{w.css("left",a);ka(a)}}}function ka(a){if(a===D)a=w.position().left;l.scrollTop(0);s=a;var b=s===0,c=s==J;a=-(a/J)*(u-n);if(fa!=b||ga!=c){fa=
b;ga=c;g.trigger("jsp-arrow-change",[da,ea,fa,ga])}Oa(b,c);k.css("left",a);g.trigger("jsp-scroll-x",[-a,b,c]).trigger("scroll")}function Na(a,b){if(d.showArrows){V[a?"addClass":"removeClass"]("jspDisabled");W[b?"addClass":"removeClass"]("jspDisabled")}}function Oa(a,b){if(d.showArrows){X[a?"addClass":"removeClass"]("jspDisabled");Y[b?"addClass":"removeClass"]("jspDisabled")}}function G(a,b){N(a/(t-m)*C,b)}function Q(a,b){T(a/(u-n)*J,b)}function Z(a,b,c){var f,h,i=0,j=0,q,o,x;try{f=e(a)}catch(U){return}h=
f.outerHeight();a=f.outerWidth();l.scrollTop(0);for(l.scrollLeft(0);!f.is(".jspPane");){i+=f.position().top;j+=f.position().left;f=f.offsetParent();if(/^body|html$/i.test(f[0].nodeName))return}f=F();q=f+m;if(i<f||b)o=i-d.verticalGutter;else if(i+h>q)o=i-m+h+d.verticalGutter;o&&G(o,c);i=E();o=i+n;if(j<i||b)x=j-d.horizontalGutter;else if(j+a>o)x=j-n+a+d.horizontalGutter;x&&Q(x,c)}function E(){return-k.position().left}function F(){return-k.position().top}function ya(){var a=t-m;return a>20&&a-F()<10}
function za(){var a=u-n;return a>20&&a-E()<10}function Ea(){l.unbind(ma).bind(ma,function(a,b,c,f){a=s;b=r;p.scrollBy(c*d.mouseWheelSpeed,-f*d.mouseWheelSpeed,false);return a==s&&b==r})}function Ja(){l.unbind(ma)}function R(){return false}function Da(){k.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){Z(a.target,false)})}function Ka(){k.find(":input,a").unbind("focus.jsp")}function Ga(){function a(){var h=s,i=r;switch(b){case 40:p.scrollByY(d.keyboardSpeed,false);break;case 38:p.scrollByY(-d.keyboardSpeed,
false);break;case 34:case 32:p.scrollByY(m*d.scrollPagePercent,false);break;case 33:p.scrollByY(-m*d.scrollPagePercent,false);break;case 39:p.scrollByX(d.keyboardSpeed,false);break;case 37:p.scrollByX(-d.keyboardSpeed,false);break}return c=h!=s||i!=r}var b,c,f=[];z&&f.push(ca[0]);y&&f.push(ba[0]);k.focus(function(){g.focus()});g.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(h){if(!(h.target!==this&&!(f.length&&e(h.target).closest(f).length))){var i=s,j=r;switch(h.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:b=
h.keyCode;a();break;case 35:G(t-m);b=null;break;case 36:G(0);b=null;break}c=h.keyCode==b&&i!=s||j!=r;return!c}}).bind("keypress.jsp",function(h){h.keyCode==b&&a();return!c});if(d.hideFocus){g.css("outline","none");"hideFocus"in l[0]&&g.attr("hideFocus",true)}else{g.css("outline","");"hideFocus"in l[0]&&g.attr("hideFocus",false)}}function La(){g.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function Ia(){if(location.hash&&location.hash.length>1){var a,b,c=escape(location.hash);
try{a=e(c)}catch(f){return}if(a.length&&k.find(c))if(l.scrollTop()===0)b=setInterval(function(){if(l.scrollTop()>0){Z(c,true);e(document).scrollTop(l.position().top);clearInterval(b)}},50);else{Z(c,true);e(document).scrollTop(l.position().top)}}}function sa(){e("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function qa(){sa();e("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var a=this.href.split("#");if(a.length>1){a=a[1];if(a.length>0&&k.find("#"+a).length>
0){Z("#"+a,true);return false}}})}function Fa(){var a,b,c,f,h,i=false;l.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(j){j=j.originalEvent.touches[0];a=E();b=F();c=j.pageX;f=j.pageY;h=false;i=true}).bind("touchmove.jsp",function(j){if(i){j=j.originalEvent.touches[0];var q=s,o=r;p.scrollTo(a+c-j.pageX,b+f-j.pageY);h=h||Math.abs(c-j.pageX)>5||Math.abs(f-j.pageY)>5;return q==s&&o==r}}).bind("touchend.jsp",function(){i=false}).bind("click.jsp-touchclick",
function(){if(h)return h=false})}function Pa(){var a=F(),b=E();g.removeClass("jspScrollable").unbind(".jsp");g.replaceWith(na.append(k.children()));na.scrollTop(a);na.scrollLeft(b)}var d,p=this,k,n,m,l,u,t,ia,$,y,z,v,C,r,w,J,s,ba,A,ja,S,K,V,W,ca,B,O,I,X,Y,aa,oa,M,pa,da=true,fa=true,ea=false,ga=false,na=g.clone(false,false).empty(),ma=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";oa=g.css("paddingTop")+" "+g.css("paddingRight")+" "+g.css("paddingBottom")+" "+g.css("paddingLeft");M=(parseInt(g.css("paddingLeft"),
10)||0)+(parseInt(g.css("paddingRight"),10)||0);e.extend(p,{reinitialise:function(a){a=e.extend({},d,a);ha(a)},scrollToElement:function(a,b,c){Z(a,b,c)},scrollTo:function(a,b,c){Q(a,c);G(b,c)},scrollToX:function(a,b){Q(a,b)},scrollToY:function(a,b){G(a,b)},scrollToPercentX:function(a,b){Q(a*(u-n),b)},scrollToPercentY:function(a,b){G(a*(t-m),b)},scrollBy:function(a,b,c){p.scrollByX(a,c);p.scrollByY(b,c)},scrollByX:function(a,b){a=(E()+Math[a<0?"floor":"ceil"](a))/(u-n);T(a*J,b)},scrollByY:function(a,
b){a=(F()+Math[a<0?"floor":"ceil"](a))/(t-m);N(a*C,b)},positionDragX:function(a,b){T(a,b)},positionDragY:function(a,b){N(a,b)},animate:function(a,b,c,f){var h={};h[b]=c;a.animate(h,{duration:d.animateDuration,easing:d.animateEase,queue:false,step:f})},getContentPositionX:function(){return E()},getContentPositionY:function(){return F()},getContentWidth:function(){return u},getContentHeight:function(){return t},getPercentScrolledX:function(){return E()/(u-n)},getPercentScrolledY:function(){return F()/
(t-m)},getIsScrollableH:function(){return z},getIsScrollableV:function(){return y},getContentPane:function(){return k},scrollToBottom:function(a){N(C,a)},hijackInternalLinks:function(){qa()},destroy:function(){Pa()}});ha(P)}L=e.extend({},e.fn.jScrollPane.defaults,L);e.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){L[this]=L[this]||L.speed});return this.each(function(){var g=e(this),P=g.data("jsp");if(P)P.reinitialise(L);else{P=new xa(g,L);g.data("jsp",P)}})};
e.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:D,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,
trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);

(function(){function x(a,b,c){var d=b&&c||0,e=0;b=b||[];for(a.toLowerCase().replace(/[0-9a-f]{2}/g,function(f){if(e<16)b[d+e++]=q[f]});e<16;)b[d+e++]=0;return b}function m(a,b){b=b||0;var c=n;return c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+"-"+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]+c[a[b++]]}function y(a,b,c){c=b&&c||0;var d=b||[];a=a||{};var e=a.clockseq!=null?a.clockseq:r,f=a.msecs!=null?a.msecs:(new Date).getTime(),
h=a.nsecs!=null?a.nsecs:o+1,s=f-p+(h-o)/1E4;if(s<0&&a.clockseq==null)e=e+1&16383;if((s<0||f>p)&&a.nsecs==null)h=0;if(h>=1E4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=f;o=h;r=e;f+=122192928E5;h=((f&268435455)*1E4+h)%4294967296;d[c++]=h>>>24&255;d[c++]=h>>>16&255;d[c++]=h>>>8&255;d[c++]=h&255;f=f/4294967296*1E4&268435455;d[c++]=f>>>8&255;d[c++]=f&255;d[c++]=f>>>24&15|16;d[c++]=f>>>16&255;d[c++]=e>>>8|128;d[c++]=e&255;a=a.node||z;for(e=0;e<6;e++)d[c+e]=a[e];return b?b:m(d)}
function g(a,b,c){c=b&&c||0;if(typeof a=="string"){b=a=="binary"?new t(16):null;a=null}a=a||{};a=a.random||(a.rng||j)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b)for(var d=0;d<16;d++)b[c+d]=a[d];return b||m(a)}var l=this,j;if(typeof require=="function")try{var u=require("crypto").randomBytes;j=u&&function(){return u(16)}}catch(B){}if(!j&&l.crypto&&crypto.getRandomValues){var v=new Uint8Array(16);j=function(){crypto.getRandomValues(v);return v}}if(!j){var w=new Array(16);j=function(){for(var a=0,b;a<16;a++){if((a&
3)===0)b=Math.random()*4294967296;w[a]=b>>>((a&3)<<3)&255}return w}}for(var t=typeof Buffer=="function"?Buffer:Array,n=[],q={},k=0;k<256;k++){n[k]=(k+256).toString(16).substr(1);q[n[k]]=k}var i=j(),z=[i[0]|1,i[1],i[2],i[3],i[4],i[5]],r=(i[6]<<8|i[7])&16383,p=0,o=0;g.v1=y;g.v4=g;g.parse=x;g.unparse=m;g.BufferClass=t;if(typeof define==="function"&&define.amd)define(function(){return g});else if(typeof module!="undefined"&&module.exports)module.exports=g;else{var A=l.uuid;g.noConflict=function(){l.uuid=
A;return g};l.uuid=g}}).call(this);

(function(c,d,g){var e=d.ND=d.ND||{};e.API=e.api||{};e.cacheStore={get:function(){var a=c.trim(c.cookie(this.key));try{return a?JSON.parse(a):""}catch(b){return a||""}},set:function(a){a=c.isPlainObject(a)?JSON.stringify(a):a;if(this.get()!==a){var b={path:"/"};if(this.expires)b.expires=this.expires;if(this.domain)b.domain=this.domain;c.cookie(this.key,a||null,b)}},is:function(){return this.get()!=null?this.get().toString().length>0:false},contains:function(a){return this.get().indexOf(a)>-1}};e.deferred=
function(){var a,b,f=function(){a&&a.call()};return{resolve:function(){b=true;f()},done:function(h){a=h;b&&f()}}};if(d.$wait===g)d.$wait=function(a){a()}})(jQuery,window);

(function(c){c.fn.embeddedData=function(b){var d=this.data("x-json");if(!d&&this.attr("type")==="text/x-json"){d=c.parseJSON(this.html());this.data("x-json",d)}return b?d[b]||null:d||{}};c.fn.doOnce=function(b){this.length&&b.apply(this);return this};c.fn.forEach=function(b){this.length&&this.each(b);return this};c.fn.killFlash=function(){this.length&&this.each(function(){var b=c(this).flash();b.remove&&b.remove()});return this};c.fn.metaBasedFlash=function(){var b={},d=function(a){return(a=a.length>
0?a.metadata({type:"class"}):0)&&"swf"in a?a:0};return function(a){this.length&&this.each(function(){var e=c(this),f=d(e);a=c.extend(b,a);if(f){f=c.extend(true,f,a.swfobject);e.flash(f);e.addClass("flash-loaded");a.success&&a.success.apply(this)}});return this}}();c.fn.lazyLoadImages=function(){var b={},d=function(a){return(a=a.length>0?a.metadata({type:"class"}):0)&&"src"in a?a:0};return function(a){this.length&&this.each(function(){var e=c(this),f=d(e);a=c.extend(b,a);if(f){e.attr("src",f.src);
a.success&&a.success.apply(this)}});return this}}();c.extend({getQueryVariable:function(b,d){var a=b.indexOf("?");if(a!=-1){b=b.substring(a+1).split("&");if(d)for(a=0;a<b.length;a++){var e=b[a].split("=");if(e[0]===d)return decodeURI(e[1])}else return b}return false}})})(jQuery,window,document);

(function(i,m){var e=(i.ND=i.ND||{}).selectCity={init:function(a,b,d){var f=$(b)[0],j=$(d);a=$("#cityDropdownData");var g;if(a.length>0)g=JSON.parse(a.html());if(g&&f){var k={},c,l;e.clearOption(f);c=0;for(leni=g.list.length;c<leni;c++){a=g.list[c].states;b=0;for(lenj=a.length;b<lenj;b++){d=a[b][0];k[d]=a[b][1].cities;e.addOption(f,d,d)}}f.onchange=function(){var h=k[f.value];e.clearOption(j[0]);if(h){c=0;for(l=h.length;c<l;c++)e.addOption(j[0],h[c][0],h[c][0])}};e.selected(f);i.setTimeout(function(){e.selected(j)},
300)}},addOption:function(a,b,d){if(a&&a.options){a=a.options;a[a.length]=new Option(b,d)}},clearOption:function(a){if(a&&a.options)a.options.length=1},selected:function(a){a=$(a);var b=a.attr("data");b!=a.val()&&a.val(b).trigger("change")}};$(m).ready(function(){e.init("cities","#state","#city")})})(window,document);

(function(e){var x={},u={mode:"horizontal",slideSelector:"",infiniteLoop:true,hideControlOnEnd:false,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,adaptiveHeightSpeed:500,video:false,useCSS:true,preloadImages:"visible",touchEnabled:true,swipeThreshold:50,oneToOneTouch:true,preventDefaultSwipeX:true,preventDefaultSwipeY:false,pager:true,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,
pagerCustom:null,controls:true,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:false,startText:"Start",stopText:"Stop",autoControlsCombine:false,autoControlsSelector:null,auto:false,pause:4E3,autoStart:true,autoDirection:"next",autoHover:false,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};e.fn.bxSlider=function(p){if(this.length!=
0){if(this.length>1){this.each(function(){e(this).bxSlider(p)});return this}var a={},d=this;x.el=this;var q=e(window).width(),m=e(window).height(),v=function(){a.settings=e.extend({},u,p);a.settings.slideWidth=parseInt(a.settings.slideWidth);a.children=d.children(a.settings.slideSelector);if(a.children.length<a.settings.minSlides)a.settings.minSlides=a.children.length;if(a.children.length<a.settings.maxSlides)a.settings.maxSlides=a.children.length;if(a.settings.randomStart)a.settings.startSlide=Math.floor(Math.random()*
a.children.length);a.active={index:a.settings.startSlide};a.carousel=a.settings.minSlides>1||a.settings.maxSlides>1;if(a.carousel)a.settings.preloadImages="all";a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin;a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin;a.working=false;a.controls={};a.interval=null;a.animProp=a.settings.mode=="vertical"?"top":"left";a.usingCSS=a.settings.useCSS&&
a.settings.mode!="fade"&&function(){var b=document.createElement("div"),c=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var g in c)if(b.style[c[g]]!==undefined){a.cssPrefix=c[g].replace("Perspective","").toLowerCase();a.animProp="-"+a.cssPrefix+"-transform";return true}return false}();if(a.settings.mode=="vertical")a.settings.maxSlides=a.settings.minSlides;n()},n=function(){d.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>');a.viewport=d.parent();a.loader=
e('<div class="bx-loading" />');a.viewport.prepend(a.loader);d.css({width:a.settings.mode=="horizontal"?a.children.length*215+"%":"auto",position:"relative"});if(a.usingCSS&&a.settings.easing)d.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing);else if(!a.settings.easing)a.settings.easing="swing";f();a.viewport.css({width:"100%",overflow:"hidden",position:"relative"});a.viewport.parent().css({maxWidth:s()});a.children.css({"float":a.settings.mode=="horizontal"?"left":"none",listStyle:"none",
position:"relative"});a.children.width(h());a.settings.mode=="horizontal"&&a.settings.slideMargin>0&&a.children.css("marginRight",a.settings.slideMargin);a.settings.mode=="vertical"&&a.settings.slideMargin>0&&a.children.css("marginBottom",a.settings.slideMargin);if(a.settings.mode=="fade"){a.children.css({position:"absolute",zIndex:0,display:"none"});a.children.eq(a.settings.startSlide).css({zIndex:50,display:"block"})}a.controls.el=e('<div class="bx-controls" />');a.settings.captions&&I();if(a.settings.infiniteLoop&&
a.settings.mode!="fade"&&!a.settings.ticker){var b=a.settings.mode=="vertical"?a.settings.minSlides:a.settings.maxSlides,c=a.children.slice(0,b).clone().addClass("bx-clone");b=a.children.slice(-b).clone().addClass("bx-clone");d.append(c).prepend(b)}a.active.last=a.settings.startSlide==j()-1;a.settings.video&&d.fitVids();c=a.children.eq(a.settings.startSlide);if(a.settings.preloadImages=="all")c=d.children();if(!a.settings.ticker){a.settings.pager&&J();a.settings.controls&&K();a.settings.auto&&a.settings.autoControls&&
L();if(a.settings.controls||a.settings.autoControls||a.settings.pager)a.viewport.after(a.controls.el)}c.imagesLoaded(t)},t=function(){a.loader.remove();C();if(a.settings.mode=="vertical")a.settings.adaptiveHeight=true;a.viewport.height(o());d.redrawSlider();a.settings.onSliderLoad(a.active.index);a.initialized=true;e(window).bind("resize",D);a.settings.auto&&a.settings.autoStart&&M();a.settings.ticker&&N();a.settings.pager&&y(a.settings.startSlide);a.settings.controls&&E();a.settings.touchEnabled&&
!a.settings.ticker&&O()},o=function(){var b=0,c=e();if(a.settings.mode!="vertical"&&!a.settings.adaptiveHeight)c=a.children;else if(a.carousel){var g=a.settings.moveSlides==1?a.active.index:a.active.index*r();c=a.children.eq(g);for(i=1;i<=a.settings.maxSlides-1;i++)c=g+i>=a.children.length?c.add(a.children.eq(i-1)):c.add(a.children.eq(g+i))}else c=a.children.eq(a.active.index);if(a.settings.mode=="vertical"){c.each(function(){b+=e(this).outerHeight()});if(a.settings.slideMargin>0)b+=a.settings.slideMargin*
(a.settings.minSlides-1)}else b=Math.max.apply(Math,c.map(function(){return e(this).outerHeight(false)}).get());return b},s=function(){var b="100%";if(a.settings.slideWidth>0)b=a.settings.mode=="horizontal"?a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin:a.settings.slideWidth;return b},h=function(){var b=a.settings.slideWidth,c=a.viewport.width();if(a.settings.slideWidth==0||a.settings.slideWidth>c&&!a.carousel||a.settings.mode=="vertical")b=c;else if(a.settings.maxSlides>
1&&a.settings.mode=="horizontal")if(!(c>a.maxThreshold))if(c<a.minThreshold)b=(c-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides;return b},f=function(){var b=1;if(a.settings.mode=="horizontal"&&a.settings.slideWidth>0)if(a.viewport.width()<a.minThreshold)b=a.settings.minSlides;else if(a.viewport.width()>a.maxThreshold)b=a.settings.maxSlides;else{b=a.children.first().width();b=Math.floor(a.viewport.width()/b)}else if(a.settings.mode=="vertical")b=a.settings.minSlides;return b},
j=function(){var b=0;if(a.settings.moveSlides>0)if(a.settings.infiniteLoop)b=a.children.length/r();else for(var c=0,g=0;c<a.children.length;){++b;c=g+f();g+=a.settings.moveSlides<=f()?a.settings.moveSlides:f()}else b=Math.ceil(a.children.length/f());return b},r=function(){if(a.settings.moveSlides>0&&a.settings.moveSlides<=f())return a.settings.moveSlides;return f()},C=function(){if(a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop)if(a.settings.mode=="horizontal"){var b=
a.children.last(),c=b.position();l(-(c.left-(a.viewport.width()-b.width())),"reset",0)}else{if(a.settings.mode=="vertical"){c=a.children.eq(a.children.length-a.settings.minSlides).position();l(-c.top,"reset",0)}}else{c=a.children.eq(a.active.index*r()).position();if(a.active.index==j()-1)a.active.last=true;if(c!=undefined)if(a.settings.mode=="horizontal")l(-c.left,"reset",0);else a.settings.mode=="vertical"&&l(-c.top,"reset",0)}},l=function(b,c,g,k){if(a.usingCSS){b=a.settings.mode=="vertical"?"translate3d(0, "+
b+"px, 0)":"translate3d("+b+"px, 0, 0)";d.css("-"+a.cssPrefix+"-transition-duration",g/1E3+"s");if(c=="slide"){d.css(a.animProp,b);a.working=false;d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");z()})}else if(c=="reset")d.css(a.animProp,b);else if(c=="ticker"){d.css("-"+a.cssPrefix+"-transition-timing-function","linear");d.css(a.animProp,b);d.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",
function(){d.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");l(k.resetValue,"reset",0);w()})}}else{var A={};A[a.animProp]=b;if(c=="slide")d.animate(A,g,a.settings.easing,function(){z()});else if(c=="reset")d.css(a.animProp,b);else c=="ticker"&&d.animate(A,speed,"linear",function(){l(k.resetValue,"reset",0);w()})}},F=function(){var b="";pagerQty=j();for(var c=0;c<pagerQty;c++){var g="";if(a.settings.buildPager&&e.isFunction(a.settings.buildPager)){g=a.settings.buildPager(c);
a.pagerEl.addClass("bx-custom-pager")}else{g=c+1;a.pagerEl.addClass("bx-default-pager")}b+='<div class="bx-pager-item"><a href="" data-slide-index="'+c+'" class="bx-pager-link">'+g+"</a></div>"}a.pagerEl.html(b)},J=function(){if(a.settings.pagerCustom)a.pagerEl=e(a.settings.pagerCustom);else{a.pagerEl=e('<div class="bx-pager" />');a.settings.pagerSelector?e(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl);F()}a.pagerEl.delegate("a","click",P)},K=function(){a.controls.next=
e('<a class="bx-next" href="">'+a.settings.nextText+"</a>");a.controls.prev=e('<a class="bx-prev" href="">'+a.settings.prevText+"</a>");a.controls.next.bind("click",Q);a.controls.prev.bind("click",R);a.settings.nextSelector&&e(a.settings.nextSelector).append(a.controls.next);a.settings.prevSelector&&e(a.settings.prevSelector).append(a.controls.prev);if(!a.settings.nextSelector&&!a.settings.prevSelector){a.controls.directionEl=e('<div class="bx-controls-direction" />');a.controls.directionEl.append(a.controls.prev).append(a.controls.next);
a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl)}},L=function(){a.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>");a.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>");a.controls.autoEl=e('<div class="bx-controls-auto" />');a.controls.autoEl.delegate(".bx-start","click",S);a.controls.autoEl.delegate(".bx-stop","click",T);a.settings.autoControlsCombine?
a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop);a.settings.autoControlsSelector?e(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl);B(a.settings.autoStart?"stop":"start")},I=function(){a.children.each(function(){var b=e(this).find("img:first").attr("title");b!=undefined&&e(this).append('<div class="bx-caption"><span>'+b+"</span></div>")})},Q=function(b){a.settings.auto&&
d.stopAuto();d.goToNextSlide();b.preventDefault()},R=function(b){a.settings.auto&&d.stopAuto();d.goToPrevSlide();b.preventDefault()},S=function(b){d.startAuto();b.preventDefault()},T=function(b){d.stopAuto();b.preventDefault()},P=function(b){a.settings.auto&&d.stopAuto();var c=e(b.currentTarget);c=parseInt(c.attr("data-slide-index"));c!=a.active.index&&d.goToSlide(c);b.preventDefault()},y=function(b){if(a.settings.pagerType=="short")a.pagerEl.html(b+1+a.settings.pagerShortSeparator+a.children.length);
else{a.pagerEl.find("a").removeClass("active");a.pagerEl.each(function(c,g){e(g).find("a").eq(b).addClass("active")})}},z=function(){if(a.settings.infiniteLoop){var b="";if(a.active.index==0)b=a.children.eq(0).position();else if(a.active.index==j()-1&&a.carousel)b=a.children.eq((j()-1)*r()).position();else if(a.active.index==a.children.length-1)b=a.children.eq(a.children.length-1).position();if(a.settings.mode=="horizontal")l(-b.left,"reset",0);else a.settings.mode=="vertical"&&l(-b.top,"reset",0)}a.working=
false;a.settings.onSlideAfter(a.children.eq(a.active.index),a.oldIndex,a.active.index)},B=function(b){if(a.settings.autoControlsCombine)a.controls.autoEl.html(a.controls[b]);else{a.controls.autoEl.find("a").removeClass("active");a.controls.autoEl.find("a:not(.bx-"+b+")").addClass("active")}},E=function(){if(!a.settings.infiniteLoop&&a.settings.hideControlOnEnd)if(a.active.index==0){a.controls.prev.addClass("disabled");a.controls.next.removeClass("disabled")}else if(a.active.index==j()-1){a.controls.next.addClass("disabled");
a.controls.prev.removeClass("disabled")}else{a.controls.prev.removeClass("disabled");a.controls.next.removeClass("disabled")}else if(j()==1){a.controls.prev.addClass("disabled");a.controls.next.addClass("disabled")}},M=function(){a.settings.autoDelay>0?setTimeout(d.startAuto,a.settings.autoDelay):d.startAuto();a.settings.autoHover&&d.hover(function(){if(a.interval){d.stopAuto(true);a.autoPaused=true}},function(){if(a.autoPaused){d.startAuto(true);a.autoPaused=null}})},N=function(){var b=0;if(a.settings.autoDirection==
"next")d.append(a.children.clone().addClass("bx-clone"));else{d.prepend(a.children.clone().addClass("bx-clone"));b=a.children.first().position();b=a.settings.mode=="horizontal"?-b.left:-b.top}l(b,"reset",0);a.settings.pager=false;a.settings.controls=false;a.settings.autoControls=false;a.settings.tickerHover&&!a.usingCSS&&a.viewport.hover(function(){d.stop()},function(){var c=0;a.children.each(function(){c+=a.settings.mode=="horizontal"?e(this).outerWidth(true):e(this).outerHeight(true)});var g=a.settings.speed/
c*(c-Math.abs(parseInt(d.css(a.settings.mode=="horizontal"?"left":"top"))));w(g)});w()},w=function(b){speed=b?b:a.settings.speed;b={left:0,top:0};var c={left:0,top:0};if(a.settings.autoDirection=="next")b=d.find(".bx-clone").first().position();else c=a.children.first().position();l(a.settings.mode=="horizontal"?-b.left:-b.top,"ticker",speed,{resetValue:a.settings.mode=="horizontal"?-c.left:-c.top})},O=function(){a.touch={start:{x:0,y:0},end:{x:0,y:0}};a.viewport.bind("touchstart",U)},U=function(b){if(a.working)b.preventDefault();
else{a.touch.originalPos=d.position();b=b.originalEvent;a.touch.start.x=b.changedTouches[0].pageX;a.touch.start.y=b.changedTouches[0].pageY;a.viewport.bind("touchmove",G);a.viewport.bind("touchend",H)}},G=function(b){var c=b.originalEvent,g=Math.abs(c.changedTouches[0].pageX-a.touch.start.x),k=Math.abs(c.changedTouches[0].pageY-a.touch.start.y);if(g*3>k&&a.settings.preventDefaultSwipeX)b.preventDefault();else k*3>g&&a.settings.preventDefaultSwipeY&&b.preventDefault();if(a.settings.mode!="fade"&&a.settings.oneToOneTouch){b=
0;if(a.settings.mode=="horizontal"){c=c.changedTouches[0].pageX-a.touch.start.x;b=a.touch.originalPos.left+c}else{c=c.changedTouches[0].pageY-a.touch.start.y;b=a.touch.originalPos.top+c}l(b,"reset",0)}},H=function(b){a.viewport.unbind("touchmove",G);var c=b.originalEvent;b=0;a.touch.end.x=c.changedTouches[0].pageX;a.touch.end.y=c.changedTouches[0].pageY;if(a.settings.mode=="fade"){c=Math.abs(a.touch.start.x-a.touch.end.x);if(c>=a.settings.swipeThreshold){a.touch.start.x>a.touch.end.x?d.goToNextSlide():
d.goToPrevSlide();d.stopAuto()}}else{if(a.settings.mode=="horizontal"){c=a.touch.end.x-a.touch.start.x;b=a.touch.originalPos.left}else{c=a.touch.end.y-a.touch.start.y;b=a.touch.originalPos.top}if(!a.settings.infiniteLoop&&(a.active.index==0&&c>0||a.active.last&&c<0))l(b,"reset",200);else if(Math.abs(c)>=a.settings.swipeThreshold){c<0?d.goToNextSlide():d.goToPrevSlide();d.stopAuto()}else l(b,"reset",200)}a.viewport.unbind("touchend",H)},D=function(){var b=e(window).width(),c=e(window).height();if(q!=
b||m!=c){q=b;m=c;d.redrawSlider()}};d.goToSlide=function(b,c){if(!(a.working||a.active.index==b)){a.working=true;a.oldIndex=a.active.index;a.active.index=b<0?j()-1:b>=j()?0:b;a.settings.onSlideBefore(a.children.eq(a.active.index),a.oldIndex,a.active.index);if(c=="next")a.settings.onSlideNext(a.children.eq(a.active.index),a.oldIndex,a.active.index);else c=="prev"&&a.settings.onSlidePrev(a.children.eq(a.active.index),a.oldIndex,a.active.index);a.active.last=a.active.index>=j()-1;a.settings.pager&&y(a.active.index);
a.settings.controls&&E();if(a.settings.mode=="fade"){a.settings.adaptiveHeight&&a.viewport.height()!=o()&&a.viewport.animate({height:o()},a.settings.adaptiveHeightSpeed);a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0});a.children.eq(a.active.index).css("zIndex",51).fadeIn(a.settings.speed,function(){e(this).css("zIndex",50);z()})}else{a.settings.adaptiveHeight&&a.viewport.height()!=o()&&a.viewport.animate({height:o()},a.settings.adaptiveHeightSpeed);var g=0,k={left:0,top:0};
if(!a.settings.infiniteLoop&&a.carousel&&a.active.last)if(a.settings.mode=="horizontal"){b=a.children.eq(a.children.length-1);k=b.position();g=a.viewport.width()-b.width()}else k=a.children.eq(a.children.length-a.settings.minSlides).position();else if(a.carousel&&a.active.last&&c=="prev"){k=a.settings.moveSlides==1?a.settings.maxSlides-r():(j()-1)*r()-(a.children.length-a.settings.maxSlides);b=d.children(".bx-clone").eq(k);k=b.position()}else if(c=="next"&&a.active.index==0){k=d.find(".bx-clone").eq(a.settings.maxSlides).position();
a.active.last=false}else if(b>=0){k=b*r();k=a.children.eq(k).position()}l(a.settings.mode=="horizontal"?-(k.left-g):-k.top,"slide",a.settings.speed)}}};d.goToNextSlide=function(){if(!(!a.settings.infiniteLoop&&a.active.last)){var b=parseInt(a.active.index)+1;d.goToSlide(b,"next")}};d.goToPrevSlide=function(){if(!(!a.settings.infiniteLoop&&a.active.index==0)){var b=parseInt(a.active.index)-1;d.goToSlide(b,"prev")}};d.startAuto=function(b){if(!a.interval){a.interval=setInterval(function(){a.settings.autoDirection==
"next"?d.goToNextSlide():d.goToPrevSlide()},a.settings.pause);a.settings.autoControls&&b!=true&&B("stop")}};d.stopAuto=function(b){if(a.interval){clearInterval(a.interval);a.interval=null;a.settings.autoControls&&b!=true&&B("start")}};d.getCurrentSlide=function(){return a.active.index};d.getSlideCount=function(){return a.children.length};d.redrawSlider=function(){a.children.add(d.find(".bx-clone")).width(h());a.viewport.css("height",o());a.settings.ticker||C();if(a.active.last)a.active.index=j()-
1;if(a.active.index>=j())a.active.last=true;if(a.settings.pager&&!a.settings.pagerCustom){F();y(a.active.index)}};d.destroySlider=function(){if(a.initialized){a.initialized=false;e(".bx-clone",this).remove();a.children.removeAttr("style");this.removeAttr("style").unwrap().unwrap();a.controls.el&&a.controls.el.remove();a.controls.next&&a.controls.next.remove();a.controls.prev&&a.controls.prev.remove();a.pagerEl&&a.pagerEl.remove();e(".bx-caption",this).remove();a.controls.autoEl&&a.controls.autoEl.remove();
clearInterval(a.interval);e(window).unbind("resize",D)}};d.reloadSlider=function(b){if(b!=undefined)p=b;d.destroySlider();v()};v();return this}}})(jQuery);
(function(e,x){var u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(p){function a(){var h=e(o),f=e(s);m&&(s.length?m.reject(n,h,f):m.resolve(n));e.isFunction(p)&&p.call(q,n,h,f)}function d(h,f){h.src===u||-1!==e.inArray(h,t)||(t.push(h),f?s.push(h):o.push(h),e.data(h,"imagesLoaded",{isBroken:f,src:h.src}),v&&m.notifyWith(e(h),[f,n,e(o),e(s)]),n.length===t.length&&(setTimeout(a),n.unbind(".imagesLoaded")))}var q=this,m=e.isFunction(e.Deferred)?e.Deferred():
0,v=e.isFunction(m.notify),n=q.find("img").add(q.filter("img")),t=[],o=[],s=[];e.isPlainObject(p)&&e.each(p,function(h,f){if("callback"===h)p=f;else m&&m[h](f)});n.length?n.bind("load.imagesLoaded error.imagesLoaded",function(h){d(h.target,"error"===h.type)}).each(function(h,f){h=f.src;var j=e.data(f,"imagesLoaded");if(j&&j.src===h)d(f,j.isBroken);else if(f.complete&&f.naturalWidth!==x)d(f,0===f.naturalWidth||0===f.naturalHeight);else if(f.readyState||f.complete){f.src=u;f.src=h}}):a();return m?m.promise(q):
q}})(jQuery);

(function(c,o){function v(a){return typeof a==="string"}function m(a){var b=D.call(arguments,1);return function(){return a.apply(this,b.concat(D.call(arguments)))}}function E(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function H(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function t(a,b,d,e,f){var h;if(e!==i){b=d.match(a?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);d=b[3]||"";if(f===2&&v(e))e=e.replace(a?J:K,"");else{h=j(b[2]);e=v(e)?j[a?w:A](e):e;e=f===2?e:f===1?c.extend({},e,h):c.extend({},
h,e);e=p(e);if(a)e=e.replace(L,q)}a=b[1]+(a?"#":e||!b[1]?"?":"")+e+d}else a=b(d!==i?d:o[I][B]);return a}function x(a,b,d){if(b===i||typeof b==="boolean"){d=b;b=p[a?w:A]()}else b=v(b)?b.replace(a?J:K,""):b;return j(b,d)}function F(a,b,d,e){if(!v(d)&&typeof d!=="object"){e=d;d=b;b=i}return this.each(function(){var f=c(this),h=b||G()[(this.nodeName||"").toLowerCase()]||"",g=h&&f.attr(h)||"";f.attr(h,p[a](g,d,e))})}var i,D=Array.prototype.slice,q=decodeURIComponent,p=c.param,n,j,r,y=c.bbq=c.bbq||{},l,
s,G,C=c.event.special,A="querystring",w="fragment",I="location",B="href",K=/^.*\?|#.*$/g,J=/^.*\#/,L,M={};p[A]=m(t,0,H);p[w]=n=m(t,1,E);n.noEscape=function(a){a=a||"";a=c.map(a.split(""),encodeURIComponent);L=new RegExp(a.join("|"),"g")};n.noEscape(",/");c.deparam=j=function(a,b){var d={},e={"true":true,"false":false,"null":null};c.each(a.replace(/\+/g," ").split("&"),function(f,h){var g=h.split("=");f=q(g[0]);h=d;var z=0,k=f.split("]["),u=k.length-1;if(/\[/.test(k[0])&&/\]$/.test(k[u])){k[u]=k[u].replace(/\]$/,
"");k=k.shift().split("[").concat(k);u=k.length-1}else u=0;if(g.length===2){g=q(g[1]);if(b)g=g&&!isNaN(g)?+g:g==="undefined"?i:e[g]!==i?e[g]:g;if(u)for(;z<=u;z++){f=k[z]===""?h.length:k[z];h=h[f]=z<u?h[f]||(k[z+1]&&isNaN(k[z+1])?{}:[]):g}else if(c.isArray(d[f]))d[f].push(g);else d[f]=d[f]!==i?[d[f],g]:g}else if(f)d[f]=b?i:""});return d};j[A]=m(x,0);j[w]=r=m(x,1);c.elemUrlAttr||(c.elemUrlAttr=function(a){return c.extend(M,a)})({a:B,base:B,iframe:"src",img:"src",input:"src",form:"action",link:B,script:"src"});
G=c.elemUrlAttr;c.fn[A]=m(F,A);c.fn[w]=m(F,w);y.pushState=l=function(a,b){if(v(a)&&/^#/.test(a)&&b===i)b=2;var d=a!==i;a=n(o[I][B],d?a:{},d?b:2);o[I][B]=a+(/#/.test(a)?"":"#")};y.getState=s=function(a,b){return a===i||typeof a==="boolean"?r(a):r(b)[a]};y.removeState=function(a){var b={};if(a!==i){b=s();c.each(c.isArray(a)?a:arguments,function(d,e){delete b[e]})}l(b,2)};C.hashchange=c.extend(C.hashchange,{add:function(a){function b(e){var f=e[w]=n();e.getState=function(h,g){return h===i||typeof h===
"boolean"?j(f,h):j(f,g)[h]};d.apply(this,arguments)}var d;if(c.isFunction(a)){d=a;return b}else{d=a.handler;a.handler=b}}})})(jQuery,this);
(function(c,o,v){function m(q){q=q||o[t][x];return q.replace(/^[^#]*#?(.*)$/,"$1")}var E,H=c.event.special,t="location",x="href",F=document.documentMode,i=c.browser.msie&&(F===v||F<8),D="onhashchange"in o&&!i;c.hashchangeDelay=100;H.hashchange=c.extend(H.hashchange,{setup:function(){if(D)return false;c(E.start)},teardown:function(){if(D)return false;c(E.stop)}});E=function(){function q(){r=y=function(l){return l};if(i){j=c('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;
y=function(){return m(j.document[t][x])};r=function(l,s){if(l!==s){s=j.document;s.open().close();s[t].hash="#"+l}};r(m())}}var p={},n,j,r,y;p.start=function(){if(!n){var l=m();r||q();(function s(){var G=m(),C=y(l);if(G!==l){r(l=G,C);c(o).trigger("hashchange")}else if(C!==l)o[t][x]=o[t][x].replace(/#.*/,"")+"#"+C;n=setTimeout(s,c.hashchangeDelay)})()}};p.stop=function(){if(!j){n&&clearTimeout(n);n=0}};return p}()})(jQuery,this);

ND=window.ND=window.ND||{};
(function(b){ND.detectMobile={init:function(){var a=navigator.userAgent||navigator.vendor||window.opera,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a);a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4));
return c||a?true:false}};b(function(){ND.detectMobile.init()})})(jQuery);

ND=window.ND=window.ND||{};(function(){ND.detectDevice={isAndroid:function(){return/Android/i.test(navigator.userAgent)},isIOS:function(){return/iPhone|iPad|iPod|Mac OS X/i.test(navigator.userAgent)}}})(jQuery);

(function(a){var d=function(c){var b=this;b.container=c;b.timeout=100;b.interval=100;b.sensitivity=2;a("ul#nav > li").attr("title","");this.showMenu=function(){a(b.container).addClass("active")};this.hideMenu=function(){a(b.container).removeClass("active")};this.init=function(){a(this.container).hoverIntent({over:this.showMenu,out:this.hideMenu,interval:this.interval,sensitivity:this.sensitivity,timeout:this.timeout});a("DIV.close-button A").bind("click",function(){b.hideMenu();return false})}};a(function(){var c=
function(){a(".top-level-menu ul#nav > li").each(function(){if(a(this).children("div.mega-menu").size()>0&&a(window).width()>976)(new d(this)).init();else a(this).children("div.menu").size()>0&&a(window).width()>976&&a(this).hover(function(){a(this).addClass("active")},function(){a(this).removeClass("active")})})};c();a(window).on("resize",function(){c()})})})(jQuery);

var Translator=function(d){var b={};return{translate:function(c){var a=d("#translations");if(a.length>0)b=a.embeddedData();a=b[c];if(a==null)a=c;return a}}}(jQuery);

(function(f){var i=window.ND=window.ND||{},b,h=i.video={deepLink:1,fromLink:0,defaults:{width:593,height:348,modes:[{type:"html5",config:{skin:"/themes/ftd/skin/glow/glow.xml"}},{type:"flash",src:"/themes/ftd/swf/player.swf",config:{skin:"/themes/ftd/skin/glow.zip"}}],track:"00000",play:false},init:function(a){b=f.extend({},h.defaults,a);h.load("jwplayer-js","/themes/ftd/js/lib/jwplayer.js");$ready("jwplayer",h.setup)},load:function(a,j){if(!document.getElementById(a)){var e,l=document.getElementsByTagName("script")[0];
e=document.createElement("script");e.id=a;e.src=j;l.parentNode.insertBefore(e,l)}},setup:function(){if(!h.fromLink){var a={image:f(".video-image img").attr("src"),modes:b.modes,levels:[{type:"video/mp4",file:b.file}],width:b.width,height:b.height,plugins:{}};if(b.controlbar)a.controlbar="none";if(b.caption)a.plugins["captions-2"]={file:b.caption};jwplayer("video-inner").setup(a);b.track!="00000"&&h.track(b);b.play&&jwplayer().play()}},track:function(a){var j={"0":1,"0.2":1,"0.5":1,"0.7":1,"0.8":1},
e=a.title||"",l=a.url||"",o=a.pname||"",p=a.hier||"";jwplayer().onTime(function(c){var g=Math.round(c.position/c.duration*10)/10,d,k,m;if(j[g]){switch(g){case 0:if(a.track.charAt(0)=="1"){d="Play";k="video start";m="event56"}break;case 0.2:if(a.track.charAt(1)=="1")d="Play 25";break;case 0.5:if(a.track.charAt(2)=="1")d="Play 50";break;case 0.7:if(a.track.charAt(3)=="1")d="Play 75";break;case 0.8:if(a.track.charAt(4)=="1"){d="Finish";k="video finish";m="event57"}break}j[g]=0;if(k&&m)if(window._da&&
window._da.om&&i&&i.omniture){g=a.clip_n||e;f.publish("/analytics/link/",{link:true,onclicks:k,events:m,type:"o",content:g,title:k,nameplate:"none",pname:o,hier1:p})}if(d){g=a.clip_n||e+(c.duration>>0);i.analytics._tag.dcsMultiTrack("WT.ti",e+d,"DCS.dcsuri",(l+d.replace(/ /g,"")).toLowerCase().replace(/ /g,"-"),"WT.clip_ev",d.replace(/ /g,""),"WT.clip_n",g,"WT.dl",7)}}});jwplayer().onComplete(function(){j={"0":1,"0.2":1,"0.5":1,"0.7":1,"0.8":1}});var n=true;jwplayer().onFullscreen(function(c){c=f("#"+
c.id).closest(".full-screen-trackable");if(n&&c.length>0){i.omniture.trackLink({link:true,onclicks:c.attr("data-onclicks"),type:"o",title:c.attr("data-title"),nameplate:c.attr("data-nameplate"),pname:c.attr("data-pname")});n=false}})}};f(function(){if(f("#video-config").size()){var a=f("#video-config").embeddedData();h.init(a)}})})(jQuery);

if(window.isWindowLoaded===undefined)window.isWindowLoaded=false;
(function(b,d,k){function l(){c.fblike.load()}var c=d.ND=d.ND||{};c.API=c.api||{};d.SiteConf=d.SiteConf||{};c.urlParams=function(){var a=function(g){var h=g.match(/[\%][a-fA-F0-9]{2}/g);for(o=0;h&&o<h.length;o++){var m=/[\%]([a-fA-F0-9]{2})/i.exec(h[o]).pop();g=g.replace(h[o],String.fromCharCode(parseInt(m,16)))}return g};if(!d.location.param)d.location.param={};var f=d.location.href.match(/([^?=&]+)(=([^&#]*))?/g);for(i=0;i<f.length;i++)if(f[i].indexOf("=")>-1){var e=f[i].split("="),j=e.pop();e=
e.pop();d.location.param[e]=a(j)}};c.urlParams();c.pad=function(a,f){for(a=a+"";a.length<f;)a="0"+a;return a};c.selectCurrent={init:function(){var a=b("#nav, #subnav, #leftnav"),f=function(e){a.each(function(){var j=b(this);(!j.is("UL")?j.children("UL"):j).children("LI").each(function(){var g=b(this).children("A"),h=b(this).attr("title");b(g).attr("href");if(h!==""&&h==e){b(this).addClass("current");return false}})})};(function(){b("#breadcrumb LI").each(function(e){if(e!==0){e=b(this).attr("id");
e!==k&&f(e)}})})()}};c.delegate={init:function(){b(document).delegate(".clickable","click",function(a){var f=b(this);b(a.target).is("a,a *")||f.find("A:eq(0)").trigger("click","_sna")}).delegate("a","click",function(a,f){if(b(this).hasClass("external")){d.open(this.href);a.stopPropagation();a.stopImmediatePropagation();a.preventDefault()}else if(f==="_sna")d.location=this.href})}};c.videoLoad={init:function(){if(b(".inner-video").size()){var a=b("#video-config").embeddedData();c.video.init(a)}}};
c.lang={init:function(){b("#lang-toggle")&&b("#lang-toggle").change(function(){d.location.href=jQuery("#lang-toggle option:selected").val()})}};c.fblike={load:function(){function a(){if(!g){e.parent().find(".social-widget").fadeIn(200);g=true}}var f=b("#facebook-page-like"),e=f.parent(),j=d.location.href,g;if(f.size()&&e.size()){e.html(f.val().replace("##REPLACEURL##",escape(j.split("#")[0]).replace("/","%2F","g")));e.find("iframe").bind("load",a);setTimeout(a,2E3)}}};isWindowLoaded?l():b(d).bind("load",
l);b(document).ready(function(){if(typeof Number!=="function")d.Number=function(a){return parseInt(a)};c.rtl=b("BODY").hasClass("rtl");c.ltr=!c.rtl;c.selectCurrent.init();c.delegate.init();c.lang.init();c.videoLoad.init()});b(function(){b(".print").click(function(){d.print()})});if(d.$wait===k)d.$wait=function(a){a()}})(jQuery,window);

(function(c,f,a){f.fbAsyncInit=function(){FB.init({appId:"277451909039945",channelUrl:"//WWW.YOUR_DOMAIN.COM/channel.html",status:false,cookie:true,xfbml:true});master=ND.analytics.grabber()({meta:"meta[name='dfy.title']"});FB.Event.subscribe("edge.create",function(){c.publish("/analytics/social/",{title:"Facebook",uri:"/like/facebook",socialId:"Facebook"})})};var g={init:function(){if(!a.getElementById("facebook-jssdk")){var d=c(".fb-like").eq(0).attr("title");if(!(!d||d=="")){var b,e=a.getElementsByTagName("script")[0];
b=a.createElement("script");b.id="facebook-jssdk";b.src=d;e.parentNode.insertBefore(b,e)}}}};c(a).ready(function(){g.init()})})(jQuery,window,document);

var fordRad=fordRad||{};
fordRad.modules=function(){var g=$("#subnav > ul").height(),b=$(window).width(),h=false,e=null,j=$("body").hasClass("rtl");this.init=function(){this.commonConfig();this.loadImages();this.deviceClass();this.clearme();this.subnav();this.vehicleToggle();this.dealerToggle();this.centerToolbar();this.triggerMenu();if($(".widgets").length>0){this.widgetsInit();this.widgets()}if(this.checkDataSnippet("#user")&&($(".dashboard-banner").length>0||$(".content-banner").length>0))this.bannerInfo();this.fblike();
this.flyoutMenus();$(document).ready(function(){$("body.ie8").css("visibility","visible");$("#toolbar").css("visibility","visible");$(".smobile ul#toolbar > li > div > ul").each(function(){var a=b;$(this).css("width",a);a=$(this).height();$(this).css("height",a)});$(".smobile ul#toolbar > li > div > ul, .tablet ul#toolbar > li > div > ul").css("width",b)})};this.triggerMenu=function(){$(function(){b<993&&$(".top-level-menu > .js-reveal").trigger("click")})};this.themeCheck=function(a){return $("body").hasClass(a)?
true:false};this.deviceClass=function(){if(b>976)$("body").removeClass("tablet").removeClass("smobile").addClass("desktop");else if(b<977&&b>767)$("body").removeClass("desktop").removeClass("smobile").addClass("tablet");else b<768?$("body").removeClass("desktop").removeClass("tablet").addClass("smobile"):$("body").removeClass("desktop").removeClass("tablet").removeClass("smobile")};this.checkSiteType=function(){var a=this.serviceLocator("common.user-agent");return $.ajax({type:"GET",url:a,async:true,
dataType:"json"})};this.isDesktop=function(){return $("body").hasClass("desktop")?true:false};this.isMobile=function(){return $("body").hasClass("smobile")?true:false};this.isTablet=function(){return $("body").hasClass("tablet")?true:false};this.resizeWin=function(){b=$(window).width();this.deviceClass();this.loadImages();$("#toolbar").children("li").children("div").removeClass("no-divide");if($(".widgets").length>0)if($("body").hasClass("tablet")||$("body").hasClass("desktop"))this.widgetsInit();
else{$(".widgets-wrap li .content").removeClass("open").addClass("closed").parents("li").removeClass("active");$(".widgets > ul > li").css({position:"static",left:"auto",top:"auto"}).parents(".widgets, .widgets-wrap").css({height:"auto"})}if(this.isDesktop()){$("#subnav .revealed").hide(0,function(){$(this).removeClass("revealed");$(this).parent().removeClass("reveal-open")});$("#subnav ul").show();$("#header").css("height","");$("ul#toolbar ul").css({top:"",width:""});$("ul#toolbar div.search-wrap ul").css({visibility:"visible",
width:""});$("ul#toolbar > li").first().css("margin-left","");$("ul#toolbar > li").first().css("margin-right","");$("ul#nav").css({visibility:"visible",overflow:"",width:"",height:"auto"}).find(".menu ul").css({display:"",width:""});$(".desktop #subnav > ul").css({height:"36px",overflow:"visible"});$(".desktop #subnav > ul > li > ul").css({display:"none",right:"",left:""});$(".desktop #subnav > ul").find(".reveal-open").length===0&&$(".subnav-level2").removeClass("subnav-open");$(".desktop #subnav > ul > li > ul.full-width").css({"margin-left":"-406px",
"text-align":"center",width:"960px"})}else{$(".smobile #subnav > ul, .tablet #subnav > ul").css("height","auto");$("#subnav ul").hasClass("revealed")||$("#subnav ul").hide();g=$("#subnav > ul").height();$("#subnav > ul > li > ul.full-width").css({"margin-left":"","text-align":"left",width:""});$("ul#toolbar > li > div > ul").css({visibility:"hidden",width:b});$("#header").css("height","");$("ul#toolbar > li > div").removeClass("opened").css("height","");this.centerToolbar()}};this.clearme=function(){$("input.clearme").focus(function(){var a=
$(this).attr("title");$(this).blur(function(){$(this).val()===""&&$(this).val(a)});if($(this).val()===""||$(this).val()===a)$(this).val("")})};this.loadImages=function(){if(b>767&&h==false){for(var a=$("img.lazy"),c=0;c<a.length;c++)a[c].getAttribute("data-hires")&&a[c].setAttribute("src",a[c].getAttribute("data-hires"));h=true}};this.flyoutMenus=function(){var a=$("#toolbar").hasClass("icon-text");e=null;$("#toolbar > li").each(function(){e+=$(this).width()});$("#nav li:odd").each(function(){$(this).addClass("alt")});
$("span.js-reveal").live("click",function(c){c.preventDefault();c=a?$(this).next().height()+76:$(this).next().height()+52;$(this).parent().parent().siblings().children("div").removeClass("no-divide");$(this).parent().hasClass("opened")||$(this).parent().parent().next().children("div").addClass("no-divide");$(this).parent().parent().siblings().find(".opened").removeClass("opened").children("ul").css("visibility","hidden").parents("#header").css("height","");if($(this).parent().hasClass("opened"))$(this).parent().removeClass("opened").children("ul").css("visibility",
"hidden").parents("#header").css("height","");else if(b>976)$(this).parent().addClass("opened").children("ul").css("visibility","visible").parents("#header").css("height","");else b>e?$(this).parent().addClass("opened").children("ul").css({visibility:"visible",top:""}).parents("#header").css("height",c+70):$(this).parent().addClass("opened").children("ul").css({visibility:"visible",top:a?140:90}).parents("#header").css("height",a?c+120:c+94)})};this.centerToolbar=function(){e=null;$("#toolbar > li").each(function(){var a=
$(this);a.hasClass("social-share")||(e+=a.width())});if(b>e)if(j)$(".smobile #toolbar > li, .tablet #toolbar > li").first().css("margin-right",b/2-e/2);else this.themeCheck("apa")||$(".smobile #toolbar > li, .tablet #toolbar > li").first().css("margin-left",b/2-e/2);else{$(".smobile #toolbar > li, .tablet #toolbar > li").first().css("margin-left","");$(".smobile #toolbar > li, .tablet #toolbar > li").first().css("margin-right","")}};this.subnav=function(){$(document).on("click",".smobile #subnav .subnav-btn, .tablet #subnav .subnav-btn",
function(a){a.preventDefault();a=$(this).parent().find("ul").eq(0);if(a.hasClass("revealed"))a.slideUp(200,function(){$(this).removeClass("revealed");$(this).parent().removeClass("reveal-open").parent().removeClass("sub-opened")});else{$(this).parent().addClass("reveal-open").parent().addClass("sub-opened");a.slideDown(200,function(){$(this).addClass("revealed")})}});$(document).on("click",".smobile #subnav > ul > li > a, .tablet #subnav > ul > li > a",function(a){if($(this).parent().find("ul").length>
0){a.preventDefault();a=$(this).parent().children("ul").height();$(this).parent().parent().animate({height:a});$(this).parent().children("ul").css({display:"block",right:-b});$(this).parent().children("ul").animate({right:10})}});$(document).on("click",".smobile #subnav ul li ul > li.title a, .tablet #subnav ul li ul > li.title a",function(a){a.preventDefault();$(this).parent().parent().animate({right:-b},function(){$(this).parent().parent().animate({height:g},250,function(){$(this).find("ul").css({display:"none"})})})});
if(b>976)$(".desktop #subnav > ul > li > ul.full-width").css({"margin-left":"-406px","text-align":"center",width:"960px"});else{$(".desktop #subnav > ul > li > ul.full-width").css({"margin-left":"",width:""});$(".desktop #subnav > ul > li > ul.full-width").css({"margin-right":"",width:""})}if(Modernizr.touch)$(document).on("click",".desktop #subnav > ul > li > a",function(a){if($(this).parent().find("ul").length!==0){a.preventDefault();a=$(this).parent().find("ul");$(this).parent().position();if(a.hasClass("revealed")){a.fadeOut(0,
function(){$(this).removeClass("revealed")});$(".desktop .subnav-level2").removeClass("subnav-open");$(this).parent().removeClass("reveal-open")}else{a.addClass("align-right");$(this).parent().siblings(".reveal-open").find("ul").removeClass("revealed").hide().parent().removeClass("reveal-open");$(".desktop .subnav-level2").addClass("subnav-open");$(this).parent().addClass("reveal-open");a.fadeIn(0,function(){$(this).addClass("revealed")})}}});else{$(document).on("mouseenter",".desktop #subnav > ul > li",
function(a){if($(this).find("ul").length!==0){a.preventDefault();a=$(this).find("ul");$(this).position();if(navigator.userAgent.indexOf("MSIE")>0){navigator.userAgent.indexOf("MSIE 9.0")>0&&$("body").addClass("ie9");navigator.userAgent.indexOf("MSIE 10.0")>0&&$("body").addClass("ie9")}a.addClass("align-right");$(this).siblings(".reveal-open").find("ul").removeClass("revealed").hide().removeClass("reveal-open");$(".desktop .subnav-level2").addClass("subnav-open");$(this).addClass("reveal-open");a.fadeIn(0,
function(){$(this).addClass("revealed")})}});$(document).on("mouseleave",".desktop #subnav > ul > li",function(a){if($(this).find("ul").length!==0){a.preventDefault();a=$(this).find("ul");$(this).position();a.fadeOut(0,function(){$(this).removeClass("revealed")});$(".desktop .subnav-level2").removeClass("subnav-open");$(this).removeClass("reveal-open")}})}};this.vehicleToggle=function(){$(".mobile-banner .change-btn, .smobile .content-banner .change-btn").live("click",function(a){a.preventDefault();
$(this).parent().toggleClass("toggle-open")});$(".js-change-slider .change-btn").live("click",function(a){a.preventDefault();$slider=$(this).parent().find(".thumb-wrap > div");$sliderWrap=$slider.parent().parent();parseInt($slider.css("right"),10)===0?$sliderWrap.removeClass("js-slider-open"):$sliderWrap.addClass("js-slider-open");$slider.animate({right:parseInt($slider.css("right"),10)===0?-$slider.outerWidth():0},function(){})})};this.dealerToggle=function(){$(".locator .fbform").css("display",
"none");$(".locator .mini-dealer-form h2").on("click",function(a){a.preventDefault();$(this).hasClass("open")?$(this).removeClass("open").next().css("display","none"):$(this).addClass("open").next().css("display","block")})};this.widgetsInit=function(){if(b>=320&&b<768){$(".widgets-wrap li .content").removeClass("open").addClass("closed");$(".widgets > ul > li").css({position:"static",left:"auto",top:"auto"}).parents(".widgets, .widgets-wrap").css({height:"auto"})}else if(b>=768){$(".widgets-wrap li .content").removeClass("closed").find(".content-inside").css("display",
"");var a={container:$(".widgets"),offset:20};function c(){var d=$(".widgets > ul > li");$(".widgets ul").imagesLoaded(function(){d.wookmark(a)});d.wookmark(a);var f=$(".widgets").height();$(".widgets-wrap").css("height",f+68)}$(".widgets ul img").length>0?$(".widgets ul").imagesLoaded(c()):c()}};this.widgets=function(){$(".widgets h2 > a").live("touchstart, click",function(a){if(a.target==this)$(this).parent().parent().hasClass("open")?$(this).parent().parent().removeClass("open").addClass("closed"):
$(this).parent().parent().removeClass("closed").addClass("open");a.preventDefault();a.stopPropagation()})};this.fblike=function(){function a(){if(!i){d.parent().find(".social-widget").fadeIn(200);i=true}}var c=$("#facebook-page-like"),d=c.parent(),f=window.location.href,i;if(c.size()&&d.size()){d.html(c.val().replace("##REPLACEURL##",escape(f.split("#")[0]).replace("/","%2F","g")));d.find("iframe").bind("load",a);setTimeout(a,2E3)}};this.commonConfig=function(){if(fordRad.modules.commonConfiture===
undefined)fordRad.modules.commonConfiture=$("#common-config").embeddedData();return fordRad.modules.commonConfiture};this.serviceLocator=function(a){if(fordRad.modules.restServicesConfig==null){if(!$("#rest-services").size())return;fordRad.modules.restServicesConfig=$("#rest-services").embeddedData()}if(fordRad.modules.restServicesConfig[a])return fordRad.modules.restServicesConfig[a].replace("{site}",this.commonConfig().site).replace("{locale}",this.commonConfig().locale)};this.bannerInfo=function(){var a=
$("#user").embeddedData(),c=$(".dashboard-banner"),d=$(".content-banner"),f=$(".intro",c);if(c.length>0&&f.length>0){$("#intro-template").tmpl(a).prependTo(f);$(".desktop-banner .details").prepend($("#intro-detail-template").tmpl(a));$(".mobile-banner .details").append($("#intro-detail-template").tmpl(a));if(a.numberOfVehicles>1){$("#vehicles-template").tmpl(a).appendTo($(".dashboard-banner.desktop-banner"));$("#vehicles-template").tmpl(a).appendTo($(".dashboard-banner.mobile-banner div.details"));
$(".dashboard-banner.desktop-banner").find(".change").addClass("js-change-slider");$(".change",c).css("display","block")}}if(d.length>0){$(".details",d).prepend($("#user-detail-template").tmpl(a));if(a.numberOfVehicles>=1){$("#vehicles-template").tmpl(a).appendTo($(".content-banner .details"));$(".content-banner .details").find(".change").addClass("js-change-slider");$(".change",c).css("display","block")}}};this.checkUserLogin=function(){var a=this.serviceLocator("owner.status");return $.ajax({url:a,
async:true,dataType:"json"})};this.checkDataSnippet=function(a){return $(a).size()&&$(a).html()!==""}};var instance=null;$(function(){instance=new fordRad.modules;instance.init();var g=$(window).width();$(window).on("resize",function(){var b=$(window).width();b!==g&&instance.resizeWin();g=b})});

ND.FormBuilder=window.ND.FormBuilder||{};
(function(d){ND.FormBuilder.styleSelectOptions=function(a){if(typeof a==="undefined"||a==null||a.length===0)a=d("select");a=a.children();a.length>0&&a.each(function(){var b=d(this),c=b.text(),e=c.length,f=parseInt(b.parent().parent().width());if(!b.parent().hasClass("remove-select-fix"))if(e>16&&f<290)b.text(c.slice(0,16)+"...");else if(e>30&&f<350)b.text(c.slice(0,30)+"...");else if(e>35&&f<450)b.text(c.slice(0,35)+"...");else if(e>40&&f<550)b.text(c.slice(0,50)+"...");else e>55&&f<620&&b.text(c.slice(0,
55)+"...")})};d(window).on("resize",function(){ND.FormBuilder.styleSelectOptions()});d(function(){d("select").bind("focus",function(){ND.FormBuilder.styleSelectOptions()})})})(jQuery);

(function(b){if(window.jQuery){b(jQuery);b=jQuery.noop}typeof define==="function"&&define.amd&&define.amd.jQuery&&define("polyfiller",["jquery"],b)})(function(b){var D=b(document.scripts||"script"),r=b.event.special,E=b([]),j=window.Modernizr,v=window.asyncWebshims,z=j.addTest,t=window.Object,H=window.html5||{};j.advancedObjectProperties=j.objectAccessor=j.ES5=!!("create"in t&&"seal"in t);if(j.ES5&&!("toJSON"in Date.prototype))j.ES5=false;var h={version:"1.11.1",cfg:{waitReady:true,loadStyles:true,
disableShivMethods:true,wspopover:{appendTo:"body",hideOnBlur:true},basePath:function(){var a=D.filter('[src*="polyfiller.js"]');a=a[0]||a.end()[a.end().length-1];a=(!("hrefNormalized"in b.support)||b.support.hrefNormalized?a.src:a.getAttribute("src",4)).split("?")[0];return a=a.slice(0,a.lastIndexOf("/")+1)+"shims/"}()},bugs:{},modules:{},features:{},featureList:[],setOptions:function(a,d){if(typeof a=="string"&&d!==undefined)o[a]=!b.isPlainObject(d)?d:b.extend(true,o[a]||{},d);else typeof a=="object"&&
b.extend(true,o,a)},addPolyfill:function(a,d){d=d||{};var c=d.f||a;if(!q[c]){q[c]=[];h.featureList.push(c);o[c]={}}!q[c].failedM&&d.nM&&b.each(d.nM.split(" "),function(g,e){if(!(e in j)){q[c].failedM=e;return false}});if(q[c].failedM)d.test=function(){h.error("webshims needs Modernizr."+q[c].failedM+" to implement feature: "+c);return true};q[c].push(a);d.options=b.extend(o[c],d.options);w(a,d);d.methodNames&&b.each(d.methodNames,function(g,e){h.addMethodName(e)})},polyfill:function(){var a={};return function(d){if(!d){d=
h.featureList;h.info("loading all features without specifing might be bad for performance")}if(typeof d=="string")d=d.split(" ");for(var c=0;c<d.length;c++){a[d[c]]&&h.error(d[c]+" already loaded, you might want to use updatePolyfill instead? see: bit.ly/12BtXX3");a[d[c]]=true}return h._polyfill(d)}}(),_polyfill:function(){var a=function(c){var g=[],e;if(o.disableShivMethods)H.shivMethods=false;var f=function(){b("html").removeClass("loading-polyfills long-loading-polyfills");b(window).unbind(".lP");
clearTimeout(e)};g.push("loading-polyfills");e=setTimeout(function(){b("html").addClass("long-loading-polyfills");e=setTimeout(f,300)},300);b(window).on("load.lP error.lP",f);o.waitReady&&b.isReady&&h.warn("Call webshims.polyfill before DOM-Ready or set waitReady to false.");u(c,f);g[0]&&b("html").addClass(g.join(" "));o.loadStyles&&x.loadCSS("styles/shim.css");a=b.noop},d;return function(c){var g=[];if(!d){d=b.inArray("forms",c)!==-1;if(!d&&b.inArray("forms-ext",c)!==-1){c.push("forms");d=true}}if(o.waitReady){b.readyWait++;
u(c,function(){b.ready(true)})}b.each(c,function(e,f){if(q[f]){f!==q[f][0]&&u(q[f],function(){s(f,true)});g=g.concat(q[f])}else{h.error("could not find webshims-feature (aborted): "+f);s(f,true)}});a(c);F(g)}}(),reTest:function(){var a,d=function(c,g){c=l[g];var e=g+"Ready";if(c&&!c.loaded&&!(c.test&&b.isFunction(c.test)?c.test([]):c.test)){r[e]&&delete r[e];a.push(g)}};return function(c){if(typeof c=="string")c=c.split(" ");a=[];b.each(c,d);F(a)}}(),isReady:function(a,d){a+="Ready";if(d){if(r[a]&&
r[a].add)return true;r[a]=b.extend(r[a]||{},{add:function(c){c.handler.call(this,a)}});b(document).triggerHandler(a)}return!!(r[a]&&r[a].add)||false},ready:function(a,d,c){if(typeof a=="string")a=a.split(" ");c||(a=b.map(b.grep(a,function(g){return!s(g)}),function(g){return g+"Ready"}));if(a.length){c=a.shift();b(document).one(c,function(){u(a,d,true)})}else d(b,h,window,document)},capturingEvents:function(a,d){if(document.addEventListener){if(typeof a=="string")a=[a];b.each(a,function(c,g){var e=
function(f){f=b.event.fix(f);d&&h.capturingEventPrevented&&h.capturingEventPrevented(f);return b.event.dispatch.call(this,f)};r[g]=r[g]||{};r[g].setup||r[g].teardown||b.extend(r[g],{setup:function(){this.addEventListener(g,e,true)},teardown:function(){this.removeEventListener(g,e,true)}})})}},register:function(a,d){var c=l[a];if(c){if(c.noAutoCallback){var g=function(){d(b,h,window,document,undefined,c.options);s(a,true)};c.d&&c.d.length?u(c.d,g):g()}}else h.error("can't find module: "+a)},c:{},loader:{addModule:function(a,
d){l[a]=d;d.name=d.name||a;if(!d.c)d.c=[];b.each(d.c,function(c,g){h.c[g]||(h.c[g]=[]);h.c[g].push(a)})},loadList:function(){var a=[],d=function(e,f){if(typeof f=="string")f=[f];b.merge(a,f);x.loadScript(e,false,f)},c=function(e,f){if(s(e)||b.inArray(e,a)!=-1)return true;var i=l[e];if(i)if(f=i.test&&b.isFunction(i.test)?i.test(f):i.test){s(e,true);return true}else return false;return true},g=function(e,f){if(e.d&&e.d.length){var i=function(n,k){!c(k,f)&&b.inArray(k,f)==-1&&f.push(k)};b.each(e.d,function(n,
k){if(l[k])i(n,k);else if(q[k]){b.each(q[k],i);u(q[k],function(){s(k,true)})}});if(!e.noAutoCallback)e.noAutoCallback=true}};return function(e){var f,i=[],n,k,p=function(y,B){k=B;b.each(h.c[B],function(C,G){if(b.inArray(G,i)==-1||b.inArray(G,a)!=-1)return k=false});if(k){d("combos/"+k,h.c[k]);return false}};for(n=0;n<e.length;n++){f=l[e[n]];if(!f||c(f.name,e))f||h.warn("could not find: "+e[n]);else{f.css&&x.loadCSS(f.css);f.loadInit&&f.loadInit();f.loaded=true;g(f,e);i.push(f.name)}}n=0;for(e=i.length;n<
e;n++){k=false;f=i[n];if(b.inArray(f,a)==-1){h.debug!="noCombo"&&b.each(l[f].c,p);k||d(l[f].src||f,f)}}}}(),makePath:function(a){if(a.indexOf("//")!=-1||a.indexOf("/")===0)return a;if(a.indexOf(".")==-1)a+=".js";if(o.addCacheBuster)a+=o.addCacheBuster;return o.basePath+a},loadCSS:function(){var a,d=[];return function(c){c=this.makePath(c);if(b.inArray(c,d)==-1){a=a||b("link, style")[0]||b("script")[0];d.push(c);b('<link rel="stylesheet" />').insertBefore(a).attr({href:c})}}}(),loadScript:function(){var a=
[];return function(d,c,g){d=x.makePath(d);if(b.inArray(d,a)==-1){var e=function(){e=null;c&&c();if(g){if(typeof g=="string")g=g.split(" ");b.each(g,function(f,i){if(l[i]){l[i].afterLoad&&l[i].afterLoad();s(!l[i].noAutoCallback?i:i+"FileLoaded",true)}})}};a.push(d);if(window.require&&window.define&&window.define.amd)require([d],e);else if(window.sssl)sssl(d,e);else if(window.yepnope)yepnope.injectJs(d,e);else window.steal&&steal(d).then(e)}}}()}};b.webshims=h;var o=h.cfg,q=h.features,s=h.isReady,u=
h.ready,m=h.addPolyfill,l=h.modules,x=h.loader,F=x.loadList,w=x.addModule,A=h.bugs,I={warn:1,error:1};h.addMethodName=function(a){a=a.split(":");var d=a[1];if(a.length==1)d=a[0];a=a[0];b.fn[a]=function(){return this.callProp(d,arguments)}};b.fn.callProp=function(a,d){var c;d||(d=[]);this.each(function(){var g=b.prop(this,a);if(g&&g.apply){c=g.apply(this,d);if(c!==undefined)return false}else h.warn(a+" is not a method of "+this)});return c!==undefined?c:this};h.activeLang=function(){var a=navigator.browserLanguage||
navigator.language||"";u("webshimLocalization",function(){h.activeLang(a)});return function(d){if(d)if(typeof d=="string")a=d;else if(typeof d=="object"){var c=arguments,g=this;u("webshimLocalization",function(){h.activeLang.apply(g,c)})}return a}}();h.errorLog=[];b.each(["log","error","warn","info"],function(a,d){h[d]=function(c){if(I[d]&&h.debug!==false||h.debug){h.errorLog.push(c);if(window.console&&console.log)console[console[d]?d:"log"](c)}}});(function(){b.isDOMReady=b.isReady;var a=function(){b.isDOMReady=
true;s("DOM",true);setTimeout(function(){s("WINDOWLOAD",true)},9999)};if(b.isDOMReady)a();else{var d=b.ready;b.ready=function(c){if(c!==true&&document.body){a();b.ready=d}return d.apply(this,arguments)};b.ready.promise=d.promise}b(a);b(window).load(function(){a();setTimeout(function(){s("WINDOWLOAD",true)},9)})})();(function(){var a=[],d=function(){this.nodeType==1&&h.triggerDomUpdate(this)};b.extend(h,{addReady:function(c){var g=function(e,f){h.ready("DOM",function(){c(e,f)})};a.push(g);g(document,
E)},triggerDomUpdate:function(c){if(!c||!c.nodeType)c&&c.jquery&&c.each(function(){h.triggerDomUpdate(this)});else{var g=c.nodeType;if(!(g!=1&&g!=9)){var e=c!==document?b(c):E;b.each(a,function(f,i){i(c,e)})}}}});b.fn.htmlPolyfill=function(c){c=b.fn.html.call(this,c);c===this&&b.isDOMReady&&this.each(d);return c};b.fn.jProp=function(){return b(b.fn.prop.apply(this,arguments)||[])};b.each(["after","before","append","prepend","replaceWith"],function(c,g){b.fn[g+"Polyfill"]=function(e){e=b(e);b.fn[g].call(this,
e);b.isDOMReady&&e.each(d);return this}});b.each(["insertAfter","insertBefore","appendTo","prependTo","replaceAll"],function(c,g){b.fn[g.replace(/[A-Z]/,function(e){return"Polyfill"+e})]=function(){b.fn[g].apply(this,arguments);b.isDOMReady&&h.triggerDomUpdate(this);return this}});b.fn.updatePolyfill=function(){b.isDOMReady&&h.triggerDomUpdate(this);return this};b.each(["getNativeElement","getShadowElement","getShadowFocusElement"],function(c,g){b.fn[g]=function(){return this.pushStack(this)}})})();
(function(){var a=t.prototype.hasOwnProperty,d=["configurable","enumerable","writable"],c=function(e){for(var f=0;f<3;f++)if(e[d[f]]===undefined&&(d[f]!=="writable"||e.value!==undefined))e[d[f]]=true},g=function(e){if(e)for(var f in e)a.call(e,f)&&c(e[f])};if(t.create)h.objectCreate=function(e,f,i){g(f);e=t.create(e,f);if(i){e.options=b.extend(true,{},e.options||{},i);i=e.options}e._create&&b.isFunction(e._create)&&e._create(i);return e};if(t.defineProperty)h.defineProperty=function(e,f,i){c(i);return t.defineProperty(e,
f,i)};if(t.defineProperties)h.defineProperties=function(e,f){g(f);return t.defineProperties(e,f)};h.getOwnPropertyDescriptor=t.getOwnPropertyDescriptor;h.getPrototypeOf=t.getPrototypeOf})();w("swfmini",{test:function(){if(window.swfobject&&!window.swfmini)window.swfmini=window.swfobject;return"swfmini"in window},c:[16,7,2,8,1,12,19,25,23,27]});l.swfmini.test();m("es5",{test:!!(j.ES5&&Function.prototype.bind),c:[14,18,19,25,20]});m("dom-extend",{f:"dom-support",noAutoCallback:true,d:["es5"],c:[16,
7,2,15,30,3,8,4,9,10,14,25,19,20,26,28,31]});m("json-storage",{test:j.localstorage&&"sessionStorage"in window&&"JSON"in window,d:["swfmini"],noAutoCallback:true,c:[14],nM:"localstorage"});m("geolocation",{test:j.geolocation,options:{destroyWrite:true},d:["json-storage"],c:[21],nM:"geolocation"});(function(){var a;m("canvas",{src:"excanvas",test:j.canvas,options:{type:"flash"},noAutoCallback:true,loadInit:function(){var d=this.options.type;if(d&&d.indexOf("flash")!==-1&&(!l.swfmini.test()||swfmini.hasFlashPlayerVersion("9.0.0"))){window.FlashCanvasOptions=
window.FlashCanvasOptions||{};a=FlashCanvasOptions;if(d=="flash"){b.extend(a,{swfPath:o.basePath+"FlashCanvas/"});this.src="FlashCanvas/flashcanvas"}else{b.extend(a,{swfPath:o.basePath+"FlashCanvasPro/"});this.src="FlashCanvasPro/flashcanvas"}}},afterLoad:function(){h.addReady(function(d,c){d==document&&window.G_vmlCanvasManager&&G_vmlCanvasManager.init_&&G_vmlCanvasManager.init_(document);b("canvas",d).add(c.filter("canvas")).each(function(){!this.getContext&&window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this)});
d==document&&s("canvas",true)})},methodNames:["getContext"],d:["dom-support"],nM:"canvas"})})();(function(){var a,d,c,g=j.input,e=j.inputtypes,f=b('<select required="" name="a"><option disabled="" /></select>')[0],i=false,n=false,k=function(){if(!k.run){z("formvalidation",function(){return!!(g.required&&g.pattern)});z("fieldsetdisabled",function(){var p=b("<fieldset />")[0];return"elements"in p&&"disabled"in p});e&&z("styleableinputrange",function(){return e.range&&!window.opera});if(j.formvalidation){n=
window.opera||j.formattribute===false||!j.fieldsetdisabled||!("value"in document.createElement("progress"))||!("value"in document.createElement("output"))||!(b('<input type="date" value="1488-12-11" />')[0].validity||{valid:true}).valid||!("required"in f)||(f.validity||{}).valid;A.bustedValidity=i=n||!g.list}a=j.formvalidation&&!i?"form-native-extend":"form-shim-extend"}k.run=true;return false};g&&e&&k();document.createElement("datalist");h.formcfg=[];h.validationMessages=h.validityMessages=[];h.inputTypes=
{};m("form-core",{f:"forms",d:["es5"],test:k,options:{placeholderType:"value",langSrc:"i18n/formcfg-",messagePopover:{},datalistPopover:{constrainWidth:true},iVal:{handleBubble:true,sel:".ws-instantvalidation",recheckDelay:400},availabeLangs:["ar","ch-ZN","el","es","fr","he","hi","hu","it","ja","lt","nl","pl","pt-PT","ru","sv"]},methodNames:["setCustomValidity","checkValidity"],c:[16,7,2,8,1,15,30,3,31],nM:"input"});d=o.forms;m("form-native-extend",{f:"forms",test:function(p){return!j.formvalidation||
i||b.inArray("form-number-date-api",p||[])==-1||l["form-number-date-api"].test()},d:["form-core","dom-support","form-message"],c:[6,5]});m("form-shim-extend",{f:"forms",test:function(){return j.formvalidation&&!i},d:["form-core","dom-support"],c:[16,15]});m("form-message",{f:"forms",test:function(p){return!(d.customMessages||!j.formvalidation||i||!l[a].test(p))},d:["dom-support"],c:[16,7,15,30,3,8,4]});c={noAutoCallback:true,options:d,c:[24]};w("form-validation",b.extend({d:["form-message","form-core"]},
c));w("form-validators",b.extend({},c));m("form-number-date-api",{f:"forms-ext",options:{types:"datetime-local month date time range number"},test:function(){var p=true,y=this.options;if(!y._types)y._types=y.types.split(" ");k();b.each(y._types,function(B,C){if(C in e&&!e[C])return p=false});return p},methodNames:["stepUp","stepDown"],d:["forms","dom-support"],c:[6,5,18,17],nM:"input inputtypes"});w("range-ui",{options:{},noAutoCallback:true,test:function(){return!!b.fn.rangeUI},d:["es5"],c:[6,5,
9,10,18,17,11]});m("form-number-date-ui",{f:"forms-ext",test:function(){var p=this.options;k();if(n&&!p.replaceUI&&/Android/i.test(navigator.userAgent))p.replaceUI=true;return!p.replaceUI&&l["form-number-date-api"].test()},d:["forms","dom-support","form-number-date-api","range-ui"],options:{widgets:{calculateWidth:true,monthNames:"monthNamesShort",monthNamesHead:"monthNames"}},c:[6,5,9,10,18,17,11]});m("form-datalist",{f:"forms",test:function(){k();return g.list&&!d.fD},d:["form-core","dom-support"],
c:[16,7,6,2,9,15,30,31]})})();m("filereader",{test:"FileReader"in window,d:["swfmini","dom-support"],c:[25,26,27]});"details"in j||z("details",function(){return"open"in document.createElement("details")});m("details",{test:j.details,d:["dom-support"],options:{text:"Details"},c:[21,22]});(function(){h.mediaelement={};m("mediaelement-core",{f:"mediaelement",noAutoCallback:true,options:{preferFlash:false,player:"jaris",vars:{},params:{},attrs:{},changeSWF:b.noop},methodNames:["play","pause","canPlayType",
"mediaLoad:load"],d:["swfmini"],c:[16,7,2,8,1,12,13,19,25,20,23],nM:"audio video texttrackapi"});m("mediaelement-jaris",{f:"mediaelement",d:["swfmini","dom-support"],test:function(){if(!j.audio||!j.video||h.mediaelement.loadSwf)return false;var a=this.options;if(a.preferFlash&&!l.swfmini.test())a.preferFlash=false;return!(a.preferFlash&&window.swfmini.hasFlashPlayerVersion("9.0.115"))},c:[21,19,25,20,28]});A.track=j.track&&(!j.texttrackapi||typeof(document.createElement("track").track||{}).mode!=
"string");m("track",{options:{positionDisplay:true,override:A.track},test:function(){return j.track&&!this.options.override&&!A.track},d:["mediaelement","dom-support"],methodNames:["addTextTrack"],c:[21,12,13,22,29],nM:"texttrackapi"});w("track-ui",{d:["track","dom-support"],c:[29]})})();m("feature-dummy",{test:true,loaded:true,c:[]});h.$=b;h.M=j;window.webshims=h;D.filter("[data-polyfill-cfg]").each(function(){try{h.setOptions(b(this).data("polyfillCfg"))}catch(a){h.warn("error parsing polyfill cfg: "+
a)}}).end().filter("[data-polyfill]").each(function(){h.polyfill(b.trim(b(this).data("polyfill")||""))});if(v){v.cfg&&h.setOptions(v.cfg);v.lang&&h.activeLang(v.lang);"polyfill"in v&&h.polyfill(v.polyfill)}return h});

(function(a){var f={recallsInit:function(){if(a(".recalls.content-inside").size()){var b=a(".widgets .content-inside.recalls"),c=a("#recalls-template").html(),d="";instance.checkUserLogin().success(function(g){if(g.loggedin==="true"){var e=a("#user").embeddedData();if(g=e.vin?f.getRecallsUrl(e.vin):null)a.ajax({type:"GET",url:g,dataType:"json",success:function(h){d=h;d.rVin=e.vin;d.showForm=false;a.template("userTemplate",c);a(".widgets .content-inside.recalls").html(a.tmpl("userTemplate",d));a(".loading",
b).hide();instance.isMobile()||setTimeout("instance.widgetsInit()",4E3);a("#recallsvin").length!=0&&f.queryForm();a.publish("apa-recalls",[b,d,c])}});else{a(".alert-text",b).css("display","block");instance.isMobile()||instance.widgetsInit()}}else{a.publish("apa-recalls-render",[b,c]);f.renderRecallsForm(c,b)}})}},renderRecallsForm:function(b,c){var d={};d.showForm=true;d.items=false;a.template("userTemplate",b);a(".widgets .content-inside.recalls").html(a.tmpl("userTemplate",d));a(".loading",c).hide();
instance.isMobile()||instance.widgetsInit();f.queryForm();a(".findVin a",c).length>0&&f.messageToggle(c)},messageToggle:function(b){b=a(".findVin a",b);if(b.length>0){b.click(function(c){c.preventDefault();a(this).parent().next().slideToggle(function(){instance.isMobile()||instance.widgetsInit()})});return false}},getRecallsUrl:function(b){var c=instance.commonConfig(),d=instance.serviceLocator("recalls.vin");return d=d.replace("{vin}",b).replace("{site}",c.site)},queryForm:function(){a("div.content-inside.recalls .recalls-query").on("click",
function(b){b.preventDefault();var c=a(".widgets .content-inside.recalls"),d=a("#recallsvin").val();if(d.length==17){a(".loading",c).show();var g=a("#recalls-template").html();b=f.getRecallsUrl(d);a.ajax({type:"GET",url:b,dataType:"json",success:function(e){e.rVin=d;e.showForm=false;a.template("userTemplate",g);a(".widgets .content-inside.recalls").html(a.tmpl("userTemplate",e));a(".loading",c).hide();instance.isMobile()||instance.widgetsInit();a("#recallsvin").length!=0&&f.queryForm();a.publish("apa-recalls",
[c,e,g])},error:function(e,h,i){if(i==="Not Found"){a(".loading",c).hide();a(".alert-text",c).show()}}})}else{a("div.content-inside.recalls p.error").show();instance.isMobile()||instance.widgetsInit();return false}})}};a(function(){f.recallsInit()})})(jQuery);

(function(a){var g={manualsInit:function(){if(!(!a(".manuals.content-inside").size()||a("body").hasClass("apa"))){container=a(".widgets .content-inside.manuals");var f=a("#manuals-template").html(),b="";if(a("body").hasClass("forceshowform")==true){g.islogin=false;g.renderManualsForm()}else instance.checkUserLogin().success(function(c){if(c.loggedin==="true"){var d=a("#user").embeddedData();c=d.vin?g.getManualsDetailsByVinUrl(d.vin):null;g.islogin=true;if(c)a.ajax({type:"GET",url:c,dataType:"json",
success:function(i){b={};b.items=i;b.mYear="";b.mModel="";b.mVin=d.vin;b.mName=d.vehicleNickname;b.showForm=b.items.length>0?false:true;a.template("manualsTemplate",f);a.tmpl("manualsTemplate",b).appendTo(container);b.showForm&&g.manualSelect();a(".loading",container).hide();instance.isMobile()||instance.widgetsInit()},error:function(i){i.status==404&&g.renderManualsForm()}});else{a(".alert-text",container).css("display","block");instance.isMobile()||instance.widgetsInit()}}else{g.islogin=false;g.renderManualsForm()}})}},
islogin:false,renderManualsForm:function(){var f=a("#manuals-template").html(),b={};b.showForm=true;b.login=g.islogin;var c=a(".widgets .content-inside.manuals");a.template("manualsTemplate",f);a.tmpl("manualsTemplate",b).appendTo(a(".manuals.content-inside"));a(".loading",c).hide();instance.isMobile()||instance.widgetsInit();g.manualSelect();a(".findVin a",c).length>0&&g.messageToggle(c)},getManualsDetailsByVinUrl:function(f){var b=instance.commonConfig(),c=instance.serviceLocator("pts.vin");c=c.replace("{vin}",
f).replace("{locale}",b.locale);if(b.locale==="")c=c.substring(0,c.length-1);return c},getManualsSelectUrl:function(){var f=instance.commonConfig(),b=instance.serviceLocator("pts.yearmodel");b=b.replace("{locale}",f.locale);if(f.locale==="")b=b.substring(0,b.length-1);return b},getManualsDetailsByYearUrl:function(f,b){var c=instance.commonConfig(),d=instance.serviceLocator("pts.yearvehicle");d=d.replace("{year}",f).replace("{model}",b).replace("{locale}",c.locale);if(c.locale==="")d=d.substring(0,
d.length-1);return d},manualSelect:function(){var f=g.getManualsSelectUrl();a("#modelyear").append('<option value="" class="loading"></option>');a.ajax({type:"GET",url:f,dataType:"json",success:function(b){var c="";a.each(b,function(d,i){d=i.year;c+="<option value='"+d+"'>"+d+"</option>"});a("#modelyear .loading").remove();a("#modelyear").append(c);a("#modelyear").on("change",function(){var d=a(this).val();d.length?a.each(b,function(i,e){if(e.year==d){var h="";a.each(e.models,function(k,j){h+="<option value='"+
j.model+"'>"+j.model+"</option>"});a("#modelnameplate").html(h)}}):a("#modelnameplate").html("<option value=''>Select</option>")})}});g.queryForm()},queryForm:function(){a("div.content-inside.manuals .manuals-query").on("click",function(f){f.preventDefault();var b=a("#modelyear").val(),c=a("#modelnameplate").val(),d=a("#manualsvin").val();a("div.content-inside.manuals p.alert-text");if(d.length==17){a("div.content-inside.manuals span.loading").show();instance.isMobile()||instance.widgetsInit();var i=
a("#manuals-template").html();f=g.getManualsDetailsByVinUrl(d);a.ajax({type:"GET",url:f,dataType:"json",success:function(e){var h={};h.items=e;h.mYear=b;h.mModel=c;h.mVin=d;a.template("manualsTemplate",i);a("div.content-inside.manuals").html(a.tmpl("manualsTemplate",h));a("div.content-inside.manuals span.loading").hide();instance.isMobile()||instance.widgetsInit()},error:function(e){if(e.status==404){e={};e.items=false;e.mYear=b;e.mModel=c;e.mVin=d;a.template("manualsTemplate",i);a("div.content-inside.manuals").html(a.tmpl("manualsTemplate",
e));a("div.content-inside.manuals span.loading").hide();a("div.content-inside.manuals p.alert-text").show();instance.isMobile()||instance.widgetsInit()}}})}else if(c.length){a("div.content-inside.manuals span.loading").show();instance.isMobile()||instance.widgetsInit();i=a("#manuals-template").html();f=g.getManualsDetailsByYearUrl(b,c);a.getJSON(f,function(e){var h={};h.items=e;h.mYear=b;h.mModel=c;h.mVin=d;h.showForm=h.items.length>0?false:true;a.template("manualsTemplate",i);a("div.content-inside.manuals").html(a.tmpl("manualsTemplate",
h));instance.isMobile()||instance.widgetsInit()}).fail(function(){var e={};e.items=false;e.mYear=b;e.mModel=c;e.mVin=d;a.template("manualsTemplate",i);a("div.content-inside.manuals").html(a.tmpl("manualsTemplate",e));a("div.content-inside.manuals span.loading").hide();a("div.content-inside.manuals p.alert-text").show();instance.isMobile()||instance.widgetsInit()})}else{a("div.content-inside.manuals p.error").show();instance.isMobile()||instance.widgetsInit()}})}};a(function(){g.manualsInit();a("form.manuals-search").size()&&
g.renderManualsForm()})})(jQuery);

(function(a){var g={couponsInit:function(){if(a(".coupons-widget.content").size()){var c=a(".coupons-widget.content"),h='<li><div><div class="content coupons-widget">'+a("#coupons-template").html()+"</div></div></li>",f=c.parent().parent().parent();instance.checkUserLogin().success(function(e){if(e.loggedin==="true"){e=g.getCouponsUrl();a.ajax({type:"GET",url:e,dataType:"json",success:function(b){if(b.length>0){c.parent().parent("li").remove();a.each(b,function(d){a.template("manualsTemplate",h);
f.append(a.tmpl("manualsTemplate",b[d]))});a(window).width()>767&&a.each(a("img.lazy",f),function(){var d=a(this),i=d.attr("data-hires");d.attr("src",i)})}else c.parent().parent("li").remove();instance.widgetsInit()},error:function(b){if(b.status==404){c.parent().parent("li").remove();instance.widgetsInit()}}})}else a(".widget-coupons").remove()})}},getCouponsUrl:function(){return instance.serviceLocator("owner.campaign")}};a(function(){g.couponsInit()})})(jQuery);

(function(a){var d={fetchAndDisplayDealerDetails:function(b){if(typeof b!==undefined)if(url=d.setupDealerDetailsUrl(b))data=d.fetchData(url,function(c){d.renderTemplate(c,true)},function(){d.renderTemplate(data,false)});else d.renderTemplate(data,false);else d.renderTemplate(data,false)},dealerInit:function(){if(!(a("#dealer-template").length==0&&a("#dealer-template-not-loggedin").length==0)){var b=null,c=null,e=Object.create(ND.cacheStore);e.key="dfy.dl";e.expires=365;e.domain=instance.commonConfig().cookieDomain;
if(e.is()){c=a.trim(a.cookie(e.key));d.fetchAndDisplayDealerDetails(c)}else instance.checkUserLogin().success(function(g){if(g.loggedin==="true")(b=d.setupOwnerDealerUrl())?d.fetchData(b,function(f){if(typeof f!=="undefined"&&a(f).length!=0&&typeof f.dealercode!=="undefined"&&f.dealercode.length>0){c=f.dealercode;d.storeCookie(e,c);d.fetchAndDisplayDealerDetails(c)}else d.renderTemplate(f,false)},function(){d.renderTemplate(g,false)}):d.renderTemplate(g,false);else d.notLoggedInTemp()})}},setupDealerDetailsUrl:function(b){var c=
instance.serviceLocator("dealer.code");return c=c.replace("{code}",b)},setupOwnerDealerUrl:function(){return instance.serviceLocator("owner.dealer")},fetchData:function(b,c,e){a.ajax({url:b,async:true,dataType:"json",success:function(g){c(g)},error:function(g,f){e(b,g,f)}})},storeCookie:function(b,c){b.set(c)},renderTemplate:function(b,c){if(a(".widgets").length>0)var e=a(".widgets .dealer");if(a(".dealer-results .preferred-dealer").length>0)e=a(".dealer-results .preferred-dealer .dealer");if(c){c=
a("#dealer-template").html();a.template("dealerTemplate",c);a.tmpl("dealerTemplate",b).appendTo(e);a(".loading",e).hide();instance.isMobile()||instance.widgetsInit();e.length>0&&a.publish("apa-dealer",[e,b,c]);a(".dealer-results .preferred-dealer").length>0&&a.publish("apa-preferred-dealer-mapPin",[b])}else{a(".loading",e).hide();d.notLoggedInTemp()}},notLoggedInTemp:function(){var b=a(".widgets .dealer"),c=a("#dealer-template-not-loggedin").html();a(c).appendTo(b);a(".loading",b).hide();b.length>
0&&a.publish("apa-dealer-notLoggedIn",[b]);instance.isMobile()||instance.widgetsInit();a(".dealer-results .preferred-dealer").length>0&&a.publish("apa-preferred-dealer-mapPin-notLoggedIn")}};a(function(){d.dealerInit()})})(jQuery);

(function(a){var e={init:function(){a(".account-menu").size()&&a("#avatar-dropdown").size()&&instance.checkUserLogin().success(function(b){if(b.loggedin==="true"){var c=a("div.account-menu.list-items"),d=a("#avatar-dropdown");c.html("");a.template("avatarDropdown",d);a.tmpl("avatarDropdown",b).appendTo(c);a("#toolbar .signup").length>0&&a("#toolbar .signup").hide()}})}};a(function(){e.init()})})(jQuery);

(function(a){var e={setPreferedDealer:function(){a(".set-preferred").click(function(b){b.preventDefault();var c=a(this);b=c.parents(".dealer").attr("id");c=c.parents(".dealer").attr("data-region");var d=Object.create(ND.cacheStore);d.key="dfy.dl";d.expires=365;d.domain=instance.commonConfig().cookieDomain;d.set(b);a("#successful-content").foundation("reveal","open",{animationSpeed:110});if(window._da&&window._da.om&&ND&&ND.omniture){_da.events=undefined;_da.tool=undefined;_da.onclicks=undefined;_da.funnel.stepname=
"preferred dealer";if(c)_da.region=c;_da.dealer={code:b};ND.analyticsTag.trackOmniturePage()}});a("#successful-content .close-reveal-modal, .reveal-modal-bg").live("click",function(b){b.preventDefault();a("#successful-content").foundation("reveal","close");a(".dealer-map-pagination").length>0&&location.reload()})},showOrHideDealerBtn:function(){instance.checkUserLogin().success(function(b){b.loggedin==="true"&&a(".set-preferred").css("visibility","visible")})}};a(function(){if(a(".set-preferred").size()){e.showOrHideDealerBtn();
e.setPreferedDealer()}})})(jQuery);

(function(c){var d={init:function(){var a=Object.create(ND.cacheStore);a.key="dfy.st";a.expires=30;a.domain=instance.commonConfig().cookieDomain;if(a.is())this.multiPlatformLinks(a.get());else{var b=instance.checkSiteType();b.success(function(e){a.set(e.siteType);d.multiPlatformLinks(e.siteType)});b.error(function(){})}},updateLink:function(a,b){b=a.attr("data-href"+b);typeof b!=="undefined"&&b!=""&&a.attr("href",b)},multiPlatformLinks:function(a){a!=="web"&&c("a.multiplatform").each(function(){if(a==
"smob"||a=="mob")d.updateLink(c(this),a)})}};c(function(){d.init()})})(jQuery);

(function(a){a(function(){a(".reveal-link").size()&&a(document).foundation("reveal",{animationSpeed:250})})})(jQuery);

window.resolve$wait&&resolve$wait();

(function(q,s){var l=q.ND=q.ND||{},r=l.ExpandBox=function(b){r.expand=function(f,c){var a=f.closest(".group");if(arguments.length<2)a.toggleClass("close");else c?a.removeClass("close"):a.addClass("close")};b.live("click",function(f){f.preventDefault();f.stopPropagation();l.ExpandBox.expand($(this))})},t=l.Validate=function(){var b=this,f;b.result=true;b.array=[];b.isExist=function(c){c.each(function(){var a=$(this),g=a.data("vtip"),h=a.data("vchk"),e=a.data("vamsg"),d=a.data("vjson");a.keyup(function(){h.removeClass("hide").addClass("icon-check");
e.addClass("hide")});var j=function(){if(!($(".alert:visible",a.parent()).size()>0)){var i={},m=h.attr("href"),k=d.data.split(",");for(var o in k)i[k[o]]=$("[name='"+k[o]+"']",f).val();m&&$.ajax({type:"POST",url:m,data:i,dataType:"json",success:function(p){if(p)if(p.valid){h.addClass("hide");e.addClass("hide")}else{h.removeClass("hide");g.addClass("icon-wrong");b.result=false;l.ExpandBox.expand(a,true);p.message&&e.removeClass("hide").addClass("tips").text(p.message)}},error:function(){}})}},n=function(i){i.preventDefault();
setTimeout(function(){j(i)},100)};a.focusout(n);h.click(n)})};b.isMatch=function(c){c.focusout(function(){var a=$(this),g=a.data("vjson"),h=a.data("vtip"),e=a.data("vmsg"),d=new RegExp(g.reg);if(a.val()!=""&&!d.test(a.val())||g.required=="true"&&a.val()==""){h.removeClass("icon-right hide").addClass("icon-wrong");e.removeClass("hide");e.html(g.regmsg);a.css("border","1px solid red");b.result=false;l.ExpandBox.expand(a,true)}else{h.removeClass("icon-wrong hide").addClass("icon-right");e.addClass("hide");
a.css("border","")}});b.array.push([c,"focusout"])};b.isEqual=function(c){c.focusout(function(){var a=$(this),g=a.data("vjson"),h=a.data("tags")||[],e=a.closest("form").find("input[name='"+g.target+"']"),d=a.data("vtip"),j=a.data("vmsg");if(!($(".alert:visible",a.parent()).size()&&h.join().indexOf("fields")>=0))if(function(){if(g.different)return a.val()==e.val();return a.val()!=e.val()}()||e.val()==""){d.removeClass("icon-right hide").addClass("icon-wrong");j.removeClass("hide");j.html(g.eqmsg);
b.result=false;l.ExpandBox.expand(a,true)}else{d.removeClass("icon-wrong hide").addClass("icon-right");j.addClass("hide")}});b.array.push([c,"focusout"])};b.isAccepted=function(c){c.change(function(a){a=$(a.target);var g=a.data("vmsg"),h=a.data("vjson");if(a.attr("checked")=="checked")g.addClass("hide");else{g.html(h.acpmsg);g.removeClass("hide");b.result=false}});b.array.push([c,"change"])};b.flexfield=function(c){var a=function(g){g.preventDefault();var h={};g={};var e,d;for(e in c){h=c[e];d=h.url}var j=
$(this).closest(".flexfield");h=$("input[name^='"+h.data+"']",j);var n=$("p.alert",j),i=$(".icon-check",j),m=$(".icon-wrong, .icon-right",j);g[e]=h.val();d&&h.val()&&$.ajax({type:"POST",url:d,data:g,dataType:"json",success:function(k){if(k)if(k.valid){i.addClass("hide");m.removeClass("icon-wrong hide").addClass("icon-right");n.addClass("hide")}else{i.removeClass("hide");m.removeClass("icon-right hide").addClass("icon-wrong");b.result=false;k.message&&n.removeClass("hide").addClass("tips").text(k.message)}},
error:function(){}})};$(".double",f).delegate(".icon-check","click",a).delegate("input[name^='vehicle_vin']","focusout",a)};b.check=function(){b.result=true;for(var c=b.array.length;c--;)b.array[c][0].trigger(b.array[c][1]);return b.result};b.prepare=function(c,a,g,h){for(var e in c){var d=$("[name='"+e+"']",f),j=d.data("vtip"),n=d.data("vmsg"),i=d.data("vchk"),m=d.data("vamsg");if(d.size()){var k=d.data("vjson")||{},o=d.data("tags")||[];$.extend(k,c[e]);o.push(h);d.data({vjson:k,tags:o});if(typeof i==
"undefined")if(a&100){i=$('<a class="icon-check" href="{0}"></a>'.replace("{0}",c[e].url));d.after(i);d.data({vchk:i})}if(typeof j=="undefined")if(a&10){i=$('<a class="icon-wrong hide"></a>');d.after(i);d.data({vtip:i})}if(typeof n=="undefined")if(a&1){i=$('<p class="alert hide"></p>');d.parent().append(i);d.data({vmsg:i})}if(typeof m=="undefined")if(a&1E3){i=$('<p class="alert hide"></p>');d.parent().append(i);d.data({vamsg:i})}g(d)}}};b.parseJson=function(c){c.ajax&&b.prepare(c.ajax,"1110",b.isExist,
"ajax");c.fields&&b.prepare(c.fields,"0011",b.isMatch,"fields");c.equal&&b.prepare(c.equal,"0011",b.isEqual,"equal");c.accept&&b.prepare(c.accept,"0001",b.isAccepted,"accept");c.flexfield&&b.flexfield(c.flexfield)};b.parseConfig=function(c){switch(typeof c){case "object":b.parseJson(c);break;case "string":$.ajax({type:"GET",data:{},url:c,dataType:"json",success:function(a){b.parseJson(a)},error:function(){}});break}};b.init=function(c){f=$(c);var a=false;if(c=q[f.attr("name")]){b.parseConfig(c);$("input[type='submit']",
f).mousedown(function(){b.check();if($(".alert:visible",f).size()<1){$(".flexfield.grey:visible").remove();a=false;f.submit()}a=true});f.submit(function(g){if(a){g.preventDefault();g.stopPropagation();return false}else return true});$("input[type='reset']",f).mousedown(function(){$(".alert:visible",f).each(function(){$(this).addClass("hide")});f[0].reset&&f[0].reset()})}}},u=l.FlexField=function(){var b=this;b.defaults={container:"form .double",fieldsTmpl:".flexfield.tmpl",addBtn:".icon-add",removeBtn:".icon-remove"};
b.init=function(f){f=$.extend(b.defaults,f);var c=$(f.fieldsTmpl).first(),a=$(f.container),g=c.clone().removeClass("tmpl"),h=$(f.addBtn).click(function(e){e.preventDefault();e=$(this).closest(".double").find(".flexfield");e.size()<10&&g.clone().insertBefore(h.parent());e=$(this).closest(".double").find(".flexfield");for(var d=2;d<=e.size();d++)$("input",e.eq(d-1)).each(function(){var j=$(this);j.attr({name:j.attr("name").replace(/\d+$/g,d)})})});a.delegate("input","click",function(){var e=$(this).closest(".flexfield");
if(e.hasClass("grey")){e.removeClass("grey");$("input",e).val("")}});a.delegate(f.removeBtn,"click",function(e){e.preventDefault();$(this).parents(".flexfield").remove()})}};$(function(){new r($(".ibtn"));(new u).init();$(s).ready(function(){$(".validate").each(function(){(new t).init($(this))})})})})(window,document);

(function(){jQuery.fn.totalValString=function(){var c="";this.each(function(){c+=jQuery(this).val().replace(/[\s\t\n]/g,"")});return c}})(jQuery);
(function(c){var l=window.ND||{};l.loadScript=function(a,b){var d=document.createElement("script");d.type="text/javascript";if(d.readyState)d.onreadystatechange=function(){if(d.readyState=="loaded"||d.readyState=="complete"){d.onreadystatechange=null;b()}};else d.onload=function(){b()};d.src=a;document.body.appendChild(d)};var k=function(a){(typeof Microsoft=="undefined"||typeof Microsoft.Maps=="undefined")&&c.browser&&c.browser.mozilla?$ready("document.attachEvent",a):a()};l.dealerLocator={data:[],
dl:[],init:function(a,b,d,f,e){var g=this,h=arguments;k(function(){g.dl=h.length>0?new p({mapId:"dealer-map",lng:b,lat:d,zoom:a,key:f,country:e}):new p({mapId:"dealer-map",lng:0,lat:0,zoom:0});g.dl.setSearch(g.data);g.domInit()})},directions:function(a,b){var d=this,f=false;k(function(){c(function(){var e=document.createElement("div");e.innerHTML=document.getElementById("get_directions").innerHTML;e=c(e);var g=c(".mini-dealer-form");if(c(".owner-map").size()){e.addClass("dealer-route");g=c(".dealer-details")}e.insertAfter(g);
e.find("form").submit(function(h){var j=c(this),i=c("#map-directions-start"),m=j.find(".message").length>0?j.find(".message"):c('<p class="message">'+c("#directions-failed-message").val()+"</p>");if(i.val().length>0){m.hide(0);if(!f){f=true;d.dl.findRoute(i.val(),a,b,function(){f=false})}}else{j.prepend(m.hide(0));m.slideDown()}h.preventDefault()});c("a.VE_PlaceList_Close").live("click",function(){c("#map-directions-panel").parent().removeClass("loading");f=false})})})},add:function(a){var b=this;
b.data.push(a);b.dl.setSearch&&a.islast&&a.islast=="true"&&b.dl.setSearch(b.data)},domInit:function(){c(function(){$dealerResultsMap=c("#dealer-results-map");$dealerResultsMap.each(function(){lastSelected=c("");c(this).find("TBODY TR.dealer TD").hover(function(){c(this).closest("TR").addClass("hover")},function(){c(this).closest("TR").removeClass("hover")})});c("#dl_location").each(function(){var a=c(this);a.each(function(){c.trim(a.val())===""&&c.publish("shopping.pref.retrieve",function(b,d){d&&
d.postcode&&a.val(d.postcode)})})});c("#dealer-search-button").each(function(){c("div.webshim-validation").size()==0&&c("#dragonflyform").submit(function(a){var b=c(this);if(c("INPUT[type=text], SELECT",b).totalValString().length<1){var d=b.find(".message").length>0?b.find(".message"):c('<p class="message">'+c("#submission-failed-message").val()+"</p>");b.prepend(d.hide(0));d.slideDown();a.preventDefault()}})});c("#submit-dealer").each(function(){c("#dragonflyform").submit(function(a){if(c(this).find("INPUT:checked").length<=
0){c("#dealer-error").hide().addClass("error").fadeIn("slow");a.preventDefault();return false}})});$dealerResultsMap.find("TBODY TR").click(function(a){var b=this.nodeName=="INPUT"?this:c("INPUT.dealerinfo",this);if(a.target.nodeName!="INPUT"&&a.target.nodeName!="LABEL"&&a.target.nodeName!="A")b.is(":checked")||b.attr("checked",true);if(b.is(":checked")){c(this).siblings(".selected").removeClass("selected");c(this).addClass("selected")}});$dealerResultsMap.find("INPUT.dealerinfo:checked").closest("TR").addClass("selected");
c(".dealer-popup").live("click",function(a){l.anchors.storage.popup.apply(this);a.preventDefault()});c(".dealer-external").live("click",function(a){l.anchors.storage.external.apply(this);a.preventDefault()})})},selectById:function(a,b){$tr=c("#"+a);$tr.siblings(".selected").removeClass("selected");$tr.addClass("selected");$input=c("#"+b);$input.attr("checked",true);a=$tr.offset().top-200;c("html,body").animate({scrollTop:a},1E3)}};var n=function(a){a.isVersion7?this.initV7(a):this.init(a)};n.prototype=
{initV7:function(a){this.country=a.country;this.resetMarkers();this.loadMapV7(a)},loadMapV7:function(a){this.map=new Microsoft.Maps.Map(document.getElementById(a.mapId),{credentials:a.key,center:new Microsoft.Maps.Location(a.lat,a.lng),zoom:parseInt(a.zoom),mapTypeId:Microsoft.Maps.MapTypeId.road,enableSearchLogo:false})},resetMarkers:function(){this.shapes={}},addMarkerV7:function(a,b){var d=this,f,e=c("#"+a.id),g=new Microsoft.Maps.Location(a.lat,a.lng),h={id:"infoDesc_"+a.pinid,width:265,showCloseButton:false,
offset:new Microsoft.Maps.Point(77,-117)};f=e.find(".dealer-icon").length>0?'<span class="'+e.find(".dealer-icon").attr("class")+" "+a.pinid+'">'+a.pinid+"</span>":'<span class="dealer-icon cat1 '+a.pinid+'">'+a.pinid+"</span>";f=new Microsoft.Maps.Pushpin(g,{htmlContent:f,width:20,typeName:"customDealerPin"});h.description=c(".owner-map").size()?'<div class="dealer-flyout" id="infoDesc_'+a.pinid+'">'+(b?'<p class="selectdealer"><a href="javascript:void(0)" onclick="ND.dealerLocator.selectById(\''+
a.id+"','"+a.dealerinfo+"')\">"+a.selectDealer+"</a></p>":"")+"<h3>"+e.find(".dealername").html()+"</h3><p>"+e.find(".address").html()+"</p><p>"+e.find(".contact").html()+"</p></div>":c(".dealer-map-pagination").size()?'<div class="dealer-flyout" id="infoDesc_'+a.pinid+'">'+(b?'<p class="selectdealer"><a href="javascript:void(0)" onclick="ND.dealerLocator.selectById(\''+a.id+"','"+a.dealerinfo+"')\">"+a.selectDealer+"</a></p>":"")+e.find(".dealername").html()+e.find(".contact").html()+"</div>":'<div class="dealer-flyout" id="infoDesc_'+
a.pinid+'">'+(b?'<p class="selectdealer"><a href="javascript:void(0)" onclick="ND.dealerLocator.selectById(\''+a.id+"','"+a.dealerinfo+"')\">"+a.selectDealer+"</a></p>":"")+"<h3>"+e.find(".dealername").html()+"</h3><p>"+e.find(".contact").html()+"</p></div>";b=new Microsoft.Maps.Infobox(g,h);d.displayInfobox(f,b,g,a.pinid);d.map.entities.push(b);d.map.entities.push(f);d.shapes[a.pinid]=a},displayInfobox:function(a,b,d,f){var e=this,g={};Microsoft.Maps.Events.addHandler(a,"mouseover",function(){b.setLocation(d);
g=c(".MicrosoftMap #infoDesc_"+f).closest(".Infobox");var h=e.map.tryLocationToPixel(e.map.getCenter(),Microsoft.Maps.PixelReference.control),j=e.map.tryLocationToPixel(a.getLocation(),Microsoft.Maps.PixelReference.control),i=b.getLocation();i=e.map.tryLocationToPixel(i,Microsoft.Maps.PixelReference.control);var m=g.find(".infobox-stalk").outerWidth(),r=a.getWidth(),s=g.outerWidth(),o=false,q=false,t=g.outerHeight();if(j.x>h.x){i.x=i.x-m-r-s-24;o=e.map.tryPixelToLocation(new Microsoft.Maps.Point(i.x,
i.y),Microsoft.Maps.PixelReference.control);b.setLocation(o);o=true}if(j.y>h.y){i.y=i.y-t+55;h=e.map.tryPixelToLocation(new Microsoft.Maps.Point(i.x,i.y),Microsoft.Maps.PixelReference.control);b.setLocation(h);q=true}o&&g.addClass("left");q&&g.addClass("top");g.css("visibility","visible")});Microsoft.Maps.Events.addHandler(a,"mouseout",function(){g.css("visibility","hidden")});Microsoft.Maps.Events.addHandler(b,"mouseenter",function(){g.css("visibility","visible")});Microsoft.Maps.Events.addHandler(b,
"mouseleave",function(){g.css("visibility","hidden")});Microsoft.Maps.Events.addHandler(e.map,"viewchangestart",function(){c(".MicrosoftMap .Infobox").css("visibility","hidden")})},setMapViewV7:function(a){for(var b=[],d=0;d<a.length;d++)b.push(new Microsoft.Maps.Location(a[d].lat,a[d].lng));if(b.length==1)this.map.setView({center:b[0],zoom:16});else b.length>1&&this.map.setView({bounds:Microsoft.Maps.LocationRect.fromLocations(b)})},loadRouteV7:function(a,b,d,f){c("#map-direction-list").html("");
var e=this,g={avoidTraffic:true,routeDraggable:false},h={itineraryContainer:document.getElementById("map-direction-list"),displayManeuverIcons:false,displayPostItineraryItemHints:false,displayPreItineraryItemHints:false,displayRouteSelector:false,displayStepWarnings:false,displayTrafficAvoidanceOption:false,displayWalkingWarning:false};Microsoft.Maps.loadModule("Microsoft.Maps.Directions",{callback:function(){if(!e.directionsManager)e.directionsManager=new Microsoft.Maps.Directions.DirectionsManager(e.map);
e.directionsManager.resetDirections();var j=new Microsoft.Maps.Directions.Waypoint({address:a+" "+e.country}),i=new Microsoft.Maps.Directions.Waypoint({location:new Microsoft.Maps.Location(b.lat,b.lng)});e.directionsManager.addWaypoint(j);e.directionsManager.addWaypoint(i);d.unit=c("#dealer-locator-maps").embeddedData()["xhr-distance-unit"]=="miles"?"mi":"km";g.distanceUnit=d.unit=="mi"?Microsoft.Maps.Directions.DistanceUnit.miles:Microsoft.Maps.Directions.DistanceUnit.kilometers;e.directionsManager.setRequestOptions(g);
e.directionsManager.setRenderOptions(h);Microsoft.Maps.Events.addHandler(e.directionsManager,"directionsError",function(){alert(d.fail)});e.directionsManager.calculateDirections();f()}})},loadDirections:function(a,b){var d=a.RouteLegs,f='<tr><td class="total" colspan="3"><span>'+b.total+"</span> "+a.Distance.toFixed(1)+" "+b.unit+"</td></tr>",e=0,g=null;if(d.length>60||a.Distance>1E3){this.map.DeleteRoute();this.map.ShowMessage(b.tofar)}else if(d.length>0){for(a=0;a<d.length;a++){g=d[a];var h=null;
f+="<tr>";for(var j=0;j<g.Itinerary.Items.length;j++){h=g.Itinerary.Items[j];f+='<td class="num">'+(e==0?"":e)+"</td>";f+="<td>"+h.Text+"</td>";f+='<td class="dist">'+h.Distance.toFixed(1)+" "+b.unit+"</td>";if(j+1<g.Itinerary.Items.length)f+="<tr></tr>";e++}f+="</tr>"}c("#map-direction-list").html('<table class="map-directions">'+f+"</table>")}else this.map.ShowMessage(b.fail)},init:function(a){this.country=a.country;var b=this.map=new VEMap(a.mapId);this.resetMarkers();a.key!=undefined&&b.SetCredentials(a.key);
this.unit=c("#dealer-locator-maps").embeddedData()["xhr-distance-unit"]=="miles"?VEDistanceUnit.Miles:VEDistanceUnit.Kilometers;b.SetDashboardSize(VEDashboardSize.Small);b.LoadMap(new VELatLong(a.lat,a.lng),a.zoom,VEMapStyle.road,false);b.SetScaleBarDistanceUnit(this.unit)},loadMap:function(a){this.map.LoadMap(new VELatLong(a.lat,a.lng),a.zoom,VEMapStyle.road,false)},addMarker:function(a,b){var d=c("#"+a.id),f=new VEShape(VEShapeType.Pushpin,new VELatLong(a.lat,a.lng));d.find(".dealer-icon").length>
0?f.SetCustomIcon('<span class="'+d.find(".dealer-icon").attr("class")+" "+a.pinid+'">'+a.pinid+"</span>"):f.SetCustomIcon('<span class="dealer-icon '+a.pinid+'">'+a.pinid+"</span>");if(c(".owner-map").size())f.SetDescription('<div class="dealer-flyout">'+(b?'<p class="selectdealer"><a href="javascript:void(0)" onclick="ND.dealerLocator.selectById(\''+a.id+"','"+a.dealerinfo+"')\">"+a.selectDealer+"</a></p>":"")+"<h3>"+d.find(".dealername").html()+"</h3><p>"+d.find(".address").html()+"</p><p>"+d.find(".contact").html()+
"</p></div>");else c(".dealer-map-pagination").size()?f.SetDescription('<div class="dealer-flyout">'+(b?'<p class="selectdealer"><a href="javascript:void(0)" onclick="ND.dealerLocator.selectById(\''+a.id+"','"+a.dealerinfo+"')\">"+a.selectDealer+"</a></p>":"")+d.find(".dealername").html()+d.find(".contact").html()+"</div>"):f.SetDescription('<div class="dealer-flyout">'+(b?'<p class="selectdealer"><a href="javascript:void(0)" onclick="ND.dealerLocator.selectById(\''+a.id+"','"+a.dealerinfo+"')\">"+
a.selectDealer+"</a></p>":"")+"<h3>"+d.find(".dealername").html()+"</h3><p>"+d.find(".contact").html()+"</p></div>");this.map.AddShape(f);this.shapes[f.GetID()]=a},setMapView:function(a){for(var b=[],d=0;d<a.length;d++)b.push(new VELatLong(a[d].lat,a[d].lng));b.length!=0&&this.map.SetMapView(b)},loadRoute:function(a,b,d,f){c("#map-direction-list").html("");c("#map-directions-panel").parent().addClass("loading");var e=this,g=new VERouteOptions;d.unit=c("#dealer-locator-maps").embeddedData()["xhr-distance-unit"]==
"miles"?"mi":"km";g.DistanceUnit=d.unit=="mi"?VERouteDistanceUnit.Kilometer:VERouteDistanceUnit.Kilometer;g.RouteColor=new VEColor(0,55,134,1);g.RouteWeight=3;g.RouteCallback=function(h){c("#map-directions-panel").parent().removeClass("loading");h!=undefined&&e.loadDirections.apply(e,[h,d]);f.call()};this.map.GetDirections([a+" "+this.country,new VELatLong(b.lat,b.lng)],g)}};var p=function(a){this.init(a)};p.prototype={init:function(a){this.isVersion7=true;if(typeof Microsoft=="undefined"||typeof Microsoft.Maps==
"undefined")this.isVersion7=false;a.isVersion7=this.isVersion7;this.options=a;this.load()},load:function(){this.map=new n(this.options)},setSearch:function(a){if(a.length>0){this.load();this.map.resetMarkers();this.isVersion7?this.map.setMapViewV7(a):this.map.setMapView(a);for(var b=a.length>1,d=0;d<a.length;d++)this.addDealer(a[d],b)}},addDealer:function(a,b){a.selectDealer="Select this dealer";if(c("#dealer-translations").length>0){var d=c("#dealer-translations").embeddedData().SelectThisDealer;
if(d)a.selectDealer=d}this.isVersion7?this.map.addMarkerV7(a,b):this.map.addMarker(a,b)},findRoute:function(a,b,d,f){if(a!=undefined&&b!=undefined)this.isVersion7?this.map.loadRouteV7(a,b,d,f):this.map.loadRoute(a,b,d,f)}}})(jQuery);
(function(c){var l=function(){var k=c.getQueryVariable(window.location.href,"serviceType");k&&c(".dealer-form-siderbar select[name='specialities']").val(k)};c(function(){c(".dealer-form-siderbar select[name='specialities']").length>0&&l();var k=c(".content-high > .hardpanel + .dealer-results-map > .print");dealerRsIllustrator=c(".content-high > .hardpanel .dealer-results-illustrator");if(k.length>0&&dealerRsIllustrator.length>0){var n=dealerRsIllustrator.outerHeight(true);k.css("top","-="+n)}})})(jQuery);

(function(g,k){var h=(g.ND=g.ND||{}).selectOption={init:function(a,d){var c=$(d.parentSelector)[0],i=$(d.childrenSelector);a=g[a];if(c&&a){var j={},b,e;a=a.list;b=0;for(e=a.length;b<e;b++)j[a[b].code]=a[b].states;c.onchange=function(){h.clearOption(i[0]);var f=j[c.value];if(f){b=0;for(e=f.length;b<e;b++)h.addOption(i[0],f[b].name,f[b].code)}}}},addOption:function(a,d,c){if(a&&a.options){a=a.options;a[a.length]=new Option(d,c)}},clearOption:function(a){if(a&&a.options)a.options.length=1}};$(k).ready(function(){h.init("countryStates",
{parentSelector:"#country",childrenSelector:"#state"})})})(window,document);

(function(b){var r=function(){var e=this,j=[],m,n=b("#common-config").embeddedData(),l=n.cookieDomain,o=n.locale;e.checkLocale=function(){var a=this,d=window.location.href,g=[];if(b.cookie("dfy.fme.locale")){g=b.cookie("dfy.fme.locale").split("-");if(d.indexOf(g[1])<0){e.clearFPSinfo();e.setGTUID()}d.indexOf(e[2])==="1"?a.updateCookie(d,true):a.updateCookie(d,false)}else a.updateCookie(d,false)};e.checkCookie=function(a){if(a=b.cookie("dfy.fme.locale"))j=a.split("-");var d=b("#locale-data").embeddedData();
a=d["locale-overlay"];m=d.domain;j[2]!="1"&&a&&b.publish("overlay.launch",{url:a,success:function(){e.bindOverlay()}})};e.bindOverlay=function(){b("#overlay .controls").size()&&b("#overlay .controls").hide();b(".country-overlay select").change(function(){b(this).parent("form").attr({action:b(this).val()})}).trigger("change");b(".country-overlay form").submit(function(d){var g=b(this),c=b("select",g).val();g.attr("action")&&g.attr({action:c});c.indexOf(o)<0&&e.clearFPSinfo();if(!e.updateCookie(c,true)){d.preventDefault();
b.publish("overlay.hide");return false}});var a=j[1];a&&b(".country-overlay select option").each(function(){var d=b(this),g=d.attr("value");g&&g.indexOf(a)>0&&d.attr({selected:"selected"})})};e.initMenu=function(){var a=b(".countrytab .current"),d=b(".country li a");if(j[2]=="1"){var g=j.slice(0,2).join("/");d.each(function(){var c=b(this);c.attr("href").indexOf(g)>-1&&a.text(c.text())})}d.click(function(c){var f=b(this).attr("href");if(!e.updateCookie(f)){f.indexOf(o)<0&&e.clearFPSinfo();e.updateCookie(f,
true)||c.preventDefault()}})};e.updateCookie=function(a,d){if(a){var g=location.host,c=a.indexOf(g);a=c>0?a.substr(c+g.length):a;a=a.charAt(0)=="/"?a.substr(1):a;a=a.split("/").slice(0,2);a[2]=d?"1":"0";b.cookie("dfy.fme.locale",a.join("-"),{expires:365,path:"/",domain:m});if(location.href.indexOf("/"+a.slice(0,2).join("/"))>0)return 0}return 1};e.clearFPSinfo=function(){b.cookie("dfy.uuid")&&b.removeCookie("dfy.uuid",{path:"/",domain:l});if(b.cookie("gt_uid")){var a=[];a=l.split(".");b.removeCookie("gt_uid",
{path:"/",domain:"."+a[a.length-2]+"."+a[a.length-1]})}b.cookie("dfy.p")&&b.removeCookie("dfy.p",{path:"/",domain:l});sessionStorage.getItem("dfy.p")!==null&&sessionStorage.removeItem("dfy.p")};e.setGTUID=function(){var a=function c(f){return f?(f^Math.random()*16>>f/4).toString(16):([1E7]+-1000+-4000+-8000+-100000000000).replace(/[018]/g,c)};a=function(c){c=c+"=";for(var f=document.cookie.split(";"),i=0;i<f.length;i++){for(var h=f[i];h.charAt(0)==" ";)h=h.substring(1,h.length);if(h.indexOf(c)==0)return h.substring(c.length,
h.length)}return null}("gt_uid")||a();var d=new Date,g=function(){for(var c=0,f=document.domain,i=f.split("."),h="_gd"+d.getTime();c<i.length-1&&document.cookie.indexOf(h+"="+h)==-1;){f=i.slice(-1-++c).join(".");document.cookie=h+"="+h+";domain="+f+";"}document.cookie=h+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+f+";";return f}();(function(c,f,i,h,p,q){if(!c||/^(?:expires|max\-age|path|domain|secure)$/i.test(c))return false;var k="";if(i)switch(i.constructor){case Number:k=i===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":
"; max-age="+i;break;case String:k="; expires="+i;break;case Date:k="; expires="+i.toUTCString();break}document.cookie=encodeURIComponent(c)+"="+encodeURIComponent(f)+k+(p?"; domain="+p:"")+(h?"; path="+h:"")+(q?"; secure":"");return true})("gt_uid",a,new Date(d.getTime()+31536E6),"/",g)};e.init=function(){e.checkLocale();e.checkCookie();e.initMenu()}};b(document).ready(function(){b("#locale-data").size()&&window.setTimeout(function(){(new r).init()},1E3)})})(jQuery);

(function(a){var j={init:function(){if(a(".video-list").size()){var e=a(".video-list").find(".video-link").eq(0),h=e.find(".video-config").embeddedData(),f=0,g=a(".video-list").find(".columns.large-6").eq(1).find("img.video-img");g.each(function(c,b){a(this);if(b.complete){f++;if(f==g.size()){c=e.width();b=e.parent(".columns.large-6").height();c=a.extend({},h,{width:c,height:b,play:false});ND.video.init(c)}}else b.onload=function(){f++;if(f==g.size()){var d=e.width(),i=e.parent(".columns.large-6").height();
d=a.extend({},h,{width:d,height:i,play:false});ND.video.init(d)}}});a("div.video-link a.play-video").click(function(c){var b=a(this),d=a(".video-list").offset().top;a("html,body").animate({scrollTop:d},300);c.preventDefault();jwplayer("video-inner").remove();c=b.next(".video-config").embeddedData();d=b.parent(".video-link").width();b=b.parents(".columns.large-6").eq(0).height();b=a.extend({},c,{width:d,height:b,play:true});ND.video.init(b)})}}};a(function(){j.init()})})(jQuery);

(function(a){var d={resizeMap:function(b){if(a(window).width()<960){var c=a(window).width()*0.485;a("#dealer-map").css({height:c,width:a(window).width()})}else a("#dealer-map").css({height:415,width:960});if(d.isEmptyObject(b))a("body").hasClass("ie8")&&typeof Microsoft!="undefined"&&typeof Microsoft.Maps!="undefined"?setTimeout("ND.dealerLocator.init()",2E3):ND.dealerLocator.init();else a("body").hasClass("ie8")&&typeof Microsoft!="undefined"&&typeof Microsoft.Maps!="undefined"?setTimeout("ND.dealerLocator.init('"+
b.zoomLevel+"','"+b.lng+"','"+b.lat+"','"+b.key+"','"+b.country+"')",2E3):ND.dealerLocator.init(b.zoomLevel,b.lng,b.lat,b.key,b.country)},isEmptyObject:function(b){for(var c in b)return false;return true}};a(function(){if(!a(".dealer-map-pagination").size())if(a(".dealer-map").size()){var b=a("#map-data").size()?a("#map-data").embeddedData():{},c=a("#pins-data").size()?a("#pins-data").embeddedData():{},e=a("#directions-data").size()?a("#directions-data").embeddedData():{};c.length>0&&!d.isEmptyObject(c)&&
a.each(c,function(h,f){ND.dealerLocator.add(f)});d.isEmptyObject(e)||ND.dealerLocator.directions(e.endPoint,e.information);d.resizeMap(b);var g=a(window).width();windowHeight=a(window).height();a(window).on("resize",function(){if(a(window).width()!=g||a(window).height()!=windowHeight)d.resizeMap(b)})}})})(jQuery);

(function(a){var c={setPrimary:function(){a(".set-primary").size()&&a(".flexfield input.set-primary").live("change",function(){var b=a(this);if(b.prop("checked")){a(".flexfield input.set-primary").prop("checked",false);b.prop("checked",true)}})}};a(function(){c.setPrimary()})})(jQuery);

ND=window.ND=window.ND||{};
(function(a){ND.accordionMod={init:function(){var c=a(".accordion-panel ul li").index(a("li.active"))+1,d=c+1,e=c-1;if(a(".accordion-active").size()){a("div.accordion-active > UL > LI > DIV.dropdown").hide();a("div.accordion-active > UL > LI.active > DIV.dropdown").show();a("div.accordion-active > UL > LI > DIV.tab-area a").click(function(b){b.stopPropagation()});a("div.accordion-active > UL > LI > DIV.tab-area").each(function(){a(this).next().hasClass("dropdown")||a(this).addClass("no-dropdown")});a("div.accordion-active > UL > LI > DIV.tab-area").click(function(){var b=
a(this);if(a(".accordion-panel.single-open")[0]){if(b.parent("li").hasClass("active"))return;b.parents(".accordion-panel").find(".dropdown").slideUp(200).parent("li").removeClass("active");setTimeout(function(){a("html, body").animate({scrollTop:b.offset().top},150);a(".panel").length&&a("div.accordion-active .panel .dropdown").show()},250)}if(b.next().hasClass("dropdown")){if(b.parent("li").hasClass("active")){b.next("div.dropdown").slideUp(200);b.parent("li").removeClass("active")}else{b.next("div.dropdown").slideDown(200);
b.parent("li").addClass("active")}if(a(".single-open")[0]){d=a(".accordion-panel > ul > li").index(a("li.active"))+2;e=a(".accordion-panel > ul > li").index(a("li.active"))}}else{var f=b.find("a").attr("href");location.href=f}});if(a(".accordion-panel.single-open")[0]){a(".accordion-next").on("click",function(b){b.preventDefault();a("div.single-open > ul > li:nth-child("+d+") > DIV.tab-area").trigger("click")});a(".accordion-prev").on("click",function(b){if(!a(this).hasClass("islink")){b.preventDefault();
a("div.single-open > ul > li:nth-child("+e+") > DIV.tab-area").trigger("click")}})}}}};a(function(){ND.accordionMod.init()})})(jQuery);

ND.Context=function(h){var j={excludedModels:""},f={restServices:{fetchVOIData:function(a){f.restServices.ajaxCall(a,function(c){f.displayVehicleBanner(c);f.displayDisclaimer(c);f.populateModelDropdown(c);f.populateVehicleDropdown(c)})},fetchColorData:function(a,c){f.restServices.ajaxCall(a,function(b){var d=0,e=[];for(d=0;d<b.length;d++)e.push({name:b[d].name,order:b[d].order,code:b[d].code});c(e)})},ajaxCall:function(a,c){h.ajax({url:a,dataType:"json",success:function(b){typeof b!=="undefined"&&
b!=null&&c(b)},error:function(){}})}},extractContext:function(a,c){a+=4;var b=c.indexOf("&",a);return c.substring(a,b>a?b:c.length)},addContextToHref:function(a,c){var b=a.attr("href"),d;if(typeof b!=="undefined")if((d=b.indexOf("ctx="))>0){var e=b.lastIndexOf("&");if(e<d)e=b.length;d=b.substring(d,e);if(d!==c){b=b.replace(d,c);a.attr("href",b).attr("data-ajax","false")}}else if(b.length>1){b+=b.indexOf("?")>0?"&":"?";a.attr("href",b+c).attr("data-ajax","false")}},addDropdownChangeListeners:function(a,
c){var b=h("#voi-series-name"),d=h("#voi-colour-dd");if(b.length>0){var e;if(f.firstTime){e=b.html();f.firstTime=false}a.on("change",function(g){g.stopImmediatePropagation();g=f.findIdForName(a.val(),null,c);if(g.m!=null){f.setModelDropDownValue(g);f.populateSeriesDropdown(b,c[g.mIdx].derivatives,e,d)}else f.populateSeriesDropdown(b,[],e,d)});b.on("change",function(){var g=f.findIdForName(a.val(),b.val(),c);g.d!=null&&f.setDerivativeDropDownValue(g);d.length>0&&f.populateColorDropdown(b,h("#voi-colour-dd"))});
d.length>0&&d.on("change",function(){f.setColorDropDownValue(d)})}},addDealerDropDownListeners:function(a,c){var b=h("#FormSales_Derivative"),d=h("#FormSales_Color"),e=b.html();a.on("change",function(){if(a.get(0).selectedIndex!==0)b.parent().css("display","block");else{b.parent().css("display","none");d.parent().css("display","none")}var g=f.findIdForName(a.val(),null,c);g.m!=null?f.populateSeriesDropdown(b,c[g.mIdx].derivatives,e,d):f.populateSeriesDropdown(b,[],e,d)});b.on("change",function(){b.get(0).selectedIndex!==
0?d.parent().css("display","block"):d.parent().css("display","none");f.findIdForName(a.val(),b.val(),c);d.length>0&&f.populateColorDropdown(b,d)});d.length>0&&d.on("change",function(){f.setColorDropDownValue(d)})},findIdForName:function(a,c,b){var d,e,g={m:null,d:null,mIdx:-1,dIdx:-1,dy:null,dcks:null,mcks:null,dqcode:null,dtdcode:null,dbcode:null};for(d=0;d<b.length;d++)if(a===b[d].name){g.m=b[d].id;g.mcks=b[d].modelCode;g.mIdx=d;if(c!=null)for(a=0;a<b[d].derivatives.length;a++){e=b[d].derivatives[a];
if(c===e.name){g.dcks=e.derivativeCode;g.dy=e.year;g.d=e.id;g.dIdx=a;g.dqcode=e.quoteFulfilmentCode;g.dtdcode=e.testdriveFulfilmentCode;g.dbcode=e.brochureFulfilmentCode;break}}break}return g},firstTime:true,displayVehicleBanner:function(a){var c=k.toJSONFromUrl();if(c!=null&&typeof c.m!=="undefined"&&c.m!=null){var b=h("#voi-banner"),d=h(".voi-banner"),e;if(b.length>0&&d.length>0)for(i=0;i<a.length;i++)if(c.m===a[i].id){e=a[i][j.formRequestType+"Banner"];if(typeof e!=="undefined"&&e!=null&&e!==""){d.each(function(){h(this).removeAttr("style")});
a=new Image;a.onload=function(){d.each(function(){h(this).find("img").attr("src",e)})};a.src=e}break}}},displayDisclaimer:function(a){var c=k.toJSONFromUrl();if(c!=null&&typeof c.m!=="undefined"&&c.m!=null){var b=h("#voi-disclaimer"),d=null,e=false,g;if(b.length>0)for(g=0;g<a.length;g++)if(c.m===a[g].id){if(typeof c.d!=="undefined"&&c.d!=null)for(d=0;d<a[g].derivatives.length;d++)if(c.d===a[g].derivatives[d].id){d=a[g].derivatives[d]["derivative"+j.formRequestTypeUppercase+"Disclaimer"];if(typeof d!==
"undefined"&&d!=null){b.hide().html(d).fadeIn("fast");e=true}break}if(!e){d=a[g][j.formRequestType+"Disclaimer"];typeof d!=="undefined"&&d!=null&&b.hide().html(d).fadeIn("fast")}}}},populateModelDropdown:function(a){var c=h("#voi-model-name");if(c.length>0){var b=[],d=h("#modelseries"),e=[],g=a.slice(0);if(d.length>0)if((d=h.parseJSON(d.html()).excludedModels)&&d.length>0){d=d.split(",");for(var l=0;l<a.length;l++){var n=0;if(d&&d instanceof Array&&d.length>0){for(var m=0;m<d.length;m++)h.trim(a[l].name)==
h.trim(d[m])&&n++;n==0&&e.push(a[l])}}}if(e.length>0)g=e.slice(0);for(e=0;e<g.length;e++)b.push('<option value="'+g[e].name+'">'+g[e].name+"</options>");c.append(b.join(""));ND.FormBuilder&&ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(c);f.addDropdownChangeListeners(c,a);b=k.toJSONFromUrl();if(b!=null&&typeof b.m!=="undefined"&&b.m!=null)for(e=0;e<a.length;e++)if(b.m===a[e].id){c.val(a[e].name);f.setModelDropDownValue(b);c.trigger("change");break}f.refreshMobileDropdown(c)}},
populateVehicleDropdown:function(a){for(var c=h("#FormSales_Model"),b=[],d=a.slice(0),e=0;e<d.length;e++)b.push('<option value="'+d[e].name+'">'+d[e].name+"</option>");c.append(b.join(""));f.addDealerDropDownListeners(c,a)},setHiddenInputValue:function(a,c){if(c!=undefined){a=h(a);a.length>0&&a.val(c)}},setModelDropDownValue:function(a){f.setHiddenInputValue("#voi-model-id",a.m);f.setHiddenInputValue("#voi-model-cks-code",a.mcks)},populateSeriesDropdown:function(a,c,b,d){if(typeof c!=="undefined"&&
c!=null&&c.length>0){var e=[],g;for(g=0;g<c.length;g++)e.push('<option value="'+c[g].name+'" data-derivativeid="'+c[g].id+'">'+c[g].name+"</options>");a.empty().html(b).append(e.join(""));ND.FormBuilder&&ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(a);b=k.toJSONFromUrl();if(b!=null&&typeof b.d!=="undefined"&&b.d!=null)for(g=0;g<c.length;g++){d=c[g];if(b.d===d.id){a.val(d.name);f.setDerivativeDropDownValue(b);a.trigger("change");break}}else f.populateColorDropdown(a,d)}else{a.html(b);
f.populateColorDropdown(a,d)}f.refreshMobileDropdown(a)},setDerivativeDropDownValue:function(a){f.setHiddenInputValue("#voi-series-id",a.d);f.setHiddenInputValue("#voi-series-cks-code",a.dcks);f.setHiddenInputValue("#voi-series-year",a.dy);f.setHiddenInputValue("#voi-series-quote-code",a.dqcode);f.setHiddenInputValue("#voi-series-brochure-code",a.dbcode);f.setHiddenInputValue("#voi-series-testdrive-code",a.dtdcode)},colorDropdownFirstOption:null,populateColorDropdown:function(a,c){if(c.length>0){if(f.colorDropdownFirstOption==
null)f.colorDropdownFirstOption=c.html();a=a.find(":selected").data("derivativeid");if(typeof a!=="undefined"&&a!=null){a=j.colorUrl.replace("{site}",j.site).replace("{priceZone}",j.priceZone).replace("{derivative}",a);c.empty().html('<option value="">'+j.pleaseWaitMsg+"</options>");f.restServices.fetchColorData(a,function(b){var d=[],e;for(e=0;e<b.length;e++)d.push('<option value="'+b[e].code+'">'+b[e].name+"</options>");c.empty().html(f.colorDropdownFirstOption).append(d.join(""));ND.FormBuilder&&
ND.FormBuilder.styleSelectOptions&&ND.FormBuilder.styleSelectOptions(c);f.refreshMobileDropdown(c)})}else c.empty().html(f.colorDropdownFirstOption);f.refreshMobileDropdown(c)}},refreshMobileDropdown:function(a){h.mobile&&a.selectmenu("refresh",true)},setColorDropDownValue:function(a){f.setHiddenInputValue("#voi-colour-code",a.find(":selected").val());f.setHiddenInputValue("#voi-colour-name",a.find(":selected").text())},init:function(){var a=h("#rest-services"),c=h("#modelseries"),b=h("#common-config");
h("#FormSales_Derivative").parent().css("display","none");h("#FormSales_Color").parent().css("display","none");k.legacyDisplayVehicleBanner();k.legacyDisplayVehicleDisclaimer();if(a.length>0&&c.length>0){h.extend(j,JSON.parse(c.html()),JSON.parse(a.html()),JSON.parse(b.html()));if(j.formRequestType){a=j.formRequestType.charAt(0);j.formRequestTypeUppercase=j.formRequestType;j.formRequestType=j.formRequestType.replace(a,a.toLowerCase())}j.voiUrl=j.voiUrl.replace("{site}",j.site).replace("{makeName}",
j.make);j.voiUrl+=j.excludedModels;f.restServices.fetchVOIData(j.voiUrl)}}},k={isContextInitialised:false,startUp:function(){if(!k.isContextInitialised){k.addContextToLinks();k.addPostcodeContextToLinks();f.init();k.isContextInitialised=true}},toJSON:function(a){var c={};if(typeof a!=="undefined"){params=a.split(";");for(a=0;a<params.length;a++){var b=params[a].split(":");if(b.length==2)c[b[0]]=b[1]}}return c},buildContext:function(a){var c=[];typeof _da!=="undefined"&&typeof _da.nameplate!=="undefined"&&
typeof _da.nameplate.id!=="undefined"&&_da.nameplate.id!=""&&c.push("m:"+_da.nameplate.id);typeof _da!=="undefined"&&typeof _da.der!=="undefined"&&typeof _da.der.id!=="undefined"&&_da.der.id!=""&&c.push("d:"+_da.der.id);if(typeof a!=="undefined"&&a!=null)for(key in a)c.push(key+":"+a[key]);return c.length>0?"ctx="+c.join(";"):""},toJSONFromUrl:function(a){a=decodeURIComponent(a||window.location.href);var c=a.indexOf("ctx="),b=null;if(c>0)b=f.extractContext(c,a);else{var d=c=null;if((d=h('div[data-role="page"]').filter(":visible"))!=
null&&(c=d.attr("data-url"))!=null)if((c=c.indexOf("ctx="))>0)b=f.extractContext(c,a)}if(b!=null)b=k.toJSON(b);return b},addContextToLinks:function(){var a=k.buildContext();h("a.ctx-voi").each(function(){f.addContextToHref(h(this),a)})},addPostcodeContextToLinks:function(){h.publish("shopping.pref.retrieve",function(a,c){if(typeof c!=="undefined"&&c!=null&&typeof c.postcode!=="undefined"&&c.postcode!=null){var b=k.buildContext({pc:c.postcode});h("a.ctx-pc").each(function(){var d=h(this);if(!d.hasClass("ctx-pc-added")){f.addContextToHref(d,
b);d.attr("data-ajax","false")}})}})},legacyDisplayVehicleBanner:function(){var a=k.toJSONFromUrl();if(a!=null&&typeof a.m!=="undefined"&&a.m!=null){var c=h("#voi-banner"),b=h("#model-context-banner");if(c.size()&&b.size()){b=JSON.parse(b.html());typeof b[a.m]!=="undefined"&&c.html('<img src="'+b[a.m]+'" />')}}},legacyDisplayVehicleDisclaimer:function(){var a=k.toJSONFromUrl(),c=h("#voi-disclaimer");if(a!=null&&c.size()){var b=h("#derivative-context-disclaimer");if(typeof a.d!=="undefined"&&a.d!=
null&&b.size()){b=b.embeddedData();if(b[a.d]!=null){a=b[a.d];c.hide().html(a).fadeIn("fast")}else k.legacyDisplayNameplateDisclaimer(a,c)}else k.legacyDisplayNameplateDisclaimer(a,c)}},legacyDisplayNameplateDisclaimer:function(a,c){var b=h("#model-context-disclaimer");if(typeof a.m!=="undefined"&&a.m!=null&&b.size()){b=b.embeddedData();if(b[a.m]!=null){a=b[a.m];c.hide().html(a).fadeIn("fast")}}},legacyPopulateModelDropdown:function(a,c,b){var d=k.toJSONFromUrl();a=h("#"+a);if(d!=null&&typeof d.m!==
"undefined"&&d.m!=null&&a.length>0)if((b=b[d.m])&&b!=null){a.val(b);a.trigger("change");c=h("#"+c);c.size()&&c.val(d.m)}},legacyPopulateSeriesDropdown:function(a,c,b){var d=k.toJSONFromUrl();a=h("#"+a);if(d!=null&&typeof d.d!=="undefined"&&d.d!=null&&a.length>0)if((b=b[d.d])&&b!=null){a.val(b);a.trigger("change");c=h("#"+c);c.size()&&c.val(d.d)}}};h(document).ready(k.startUp);return k}(jQuery);

(function(b){BB={config:{bkBtnCookieName:"dfy.pg.bkbtn",bkBtnId:"#page-back-btn",bkBtnClass:".formbuilder-close"},store:null,$bkBtn:null,prepareBBCookie:function(){var a=BB.store=Object.create(ND.cacheStore),c="";a.key=BB.config.bkBtnCookieName;if(a.is())c=a.get();else a.expires=365;return c},init:function(){var a=b("#form-config");if(a.length>0){a=b.extend(BB.config,JSON.parse(a.html()));if(typeof a.isform!=="undefined"&&(a.isform==="false"||a.isform===false))BB.addPageToCookie(BB.prepareBBCookie());
BB.$bkBtn=b(BB.config.bkBtnClass);BB.$bkBtn.length>0&&BB.addListeners()}},addPageToCookie:function(a){var c=encodeURI(window.location.href);a!==c&&BB.store.set(c)},handleBkBtnEvent:function(a){a.stopPropagation();a=BB.prepareBBCookie();var c=null;if(a!=null&&a.length>0){c=a;BB.store.set(null)}else if(typeof BB.config.homepage!=="undefined"&&BB.config.homepage!==""&&!b("body").hasClass("apaform"))c=BB.config.homepage;else if(b("body").hasClass("apaform")&&BB.config.dashboardpage!=="")c=BB.config.dashboardpage;
else console.error("homepage data attribute is missing, can't go back");if(c!=null){var d=decodeURI(c);BB.$bkBtn.each(function(){b(this).attr("href",d)})}},addListeners:function(){b("body").hasClass("confirm-alert")?b(document).on("click","#confirmPopup .formbuilder-close",BB.handleBkBtnEvent):b(document).on("click",BB.config.bkBtnClass,BB.handleBkBtnEvent)},destroy:function(){if(BB.$bkBtn==null)BB.$bkBtn=b(BB.config.bkBtnClass);BB.$bkBtn.length>0&&b(document).off("click",BB.config.bkBtnClass)}};
b(document).ready(BB.init);b(document).on("pagechange",function(){BB.destroy();BB.init()})})(jQuery);

(function(a){var i={init:function(){var f;a("#displaypwd").click(function(){a("#password").hide();a("#passwordfake").show().val(a("#password").val()).attr("class",a("#password").attr("class"));a("#displaypwd").hide();a("#hidepwd").show()});a("#hidepwd").click(function(){a("#passwordfake").hide();a("#password").show().val(a("#passwordfake").val()).attr("class",a("#passwordfake").attr("class"));a("#displaypwd").show();a("#hidepwd").hide()});a("#passwordfake").change(function(){a("#password").val(a("#passwordfake").val()).attr("class",
a("#passwordfake").attr("class"))});a("#password").change(function(){a("#passwordfake").val(a("#password").val()).attr("class",a("#password").attr("class"))});a(".user-vehicle .edit").click(function(b){b.preventDefault();b.stopPropagation();a(".user-vehicle .state-readonly").hide();a(".user-vehicle .state-edit").show();b=a(this).parent().parent().children(":eq(0)").attr("for");f=a(".user-vehicle .state-edit").children();for(var c=0;c<f.size();c++)f.eq(c).children(":eq(0)").children(":eq(0)").children(":eq(0)").attr("name")==
b?f.eq(c).show():f.eq(c).hide()});a(".user-vehicle .icon-add").click(function(b){b.preventDefault();b=a(this).closest(".double").find(".flexfield");var c=a(".double").children().size();b=a(this).closest(".double").find(".flexfield");for(var d=1;d<=b.size();d++){a("input",b.eq(d)).each(function(){var e=a(this);e.attr({name:e.attr("name").replace(/\d+$/g,c-2+d),id:e.attr("id").replace(/\d+$/g,c-2+d)})});a("label",b.eq(d)).each(function(){var e=a(this);e.attr({"for":e.attr("for").replace(/\d+$/g,c-2+
d)})});a(".submitVehicleForm",b.eq(d)).each(function(){a(this).attr({"data-index":c-2+d})})}});a(".user-vehicle .cancel").live("click",function(b){b.preventDefault();b.stopPropagation();a(this).closest("form").get(0).reset();a(".user-vehicle .state-readonly").show();a(".user-vehicle .state-edit").hide()});a(".userdetail .edit").click(function(b){b.preventDefault();b.stopPropagation();a(".userdetail .state-readonly").hide();a(".userdetail .state-edit").show()});a(".userdetail .cancel").click(function(b){b.preventDefault();
b.stopPropagation();a(this).closest("form").get(0).reset();a(".userdetail .state-readonly").show();a(".userdetail .state-edit").hide()});a(".user-vehicle .cancelAddVehicle").live("click",function(b){b.preventDefault();b.stopPropagation();a(this).parent().parent().parent().remove()});a(".user-vehicle .icon-remove").click(function(b){b.preventDefault();b.stopPropagation();a("#deleteoverlay").show();a("body").addClass("noscroll");b=a(this).attr("data-delete");a("#deleteoverlay #bg #content input[id=delVehicle]").attr("name",
b);b=a("#deleteoverlay #bg #content input[name=confirmDelVehicle]").val().replace("%1",a("div fieldset div div.row label[for=firstname]").parent().find("h5").text()).replace("%2",a("div fieldset div div.row label[for=lastname]").parent().find("h5").text()).replace("%3",a(this).parent().parent().find("h5:first").text());a("#deleteoverlay #bg #content h3").text(b);a("#deleteoverlay #bg #content img").attr("src",a(this).parent().parent().parent().find("div div div img").attr("src"))});a(".state-edit .passwords-match").live("keyup",
function(){var b=a(".state-edit .passwords-match"),c=0;a.each(b,function(d){c+=b.eq(d).val().length});c>0?b.attr("required","true"):b.removeAttr("required");b.trigger("focusout")});a(".state-edit #password").live("keyup",function(){var b=a(".state-edit #oldpassword");a(this).val()!==""?b.attr("required","true"):b.removeAttr("required");b.trigger("focusout");a(this).trigger("focusout")});a("#deleteoverlay .cancel").click(function(b){b.preventDefault();b.stopPropagation();a("#deleteoverlay #bg #content input[id=delVehicle]").attr("name",
"delVehicle");a("#deleteoverlay").hide();a("body").removeClass("noscroll")});a("#deleteoverlay .delete").click(function(b){b.preventDefault();b.stopPropagation();b=a("#deleteoverlay #bg #content input[id=delVehicle]").attr("name");a(".user-vehicle .state-edit input[name="+b+"]").parent().parent().parent().remove();a(".user-vehicle .state-readonly label[for="+b+"]").parent().parent().remove();a("#deleteoverlay").hide()});a(".double div[class~=flexfield] div[class~=radio] div").live("click",function(){a(this).children("input[type=radio]:eq(0)").val("Y");
a(this).children("input[type=radio]:eq(1)").val("N")});a(".cancelPreference").live("click",function(b){b.preventDefault();b.stopPropagation();i.fillPreferenceVaules(a(this))});a(".submitForm").click(function(){var b=a(this).closest("form");if(b.checkValidity()){var c={},d=a("input,select,textarea",b);jQuery.each(d,function(){var e=a(this).val();if(a(this).attr("type")=="radio"||a(this).attr("type")=="checkbox")(e=a(this).filter(":checked").val())||(e="N");if(a(this).attr("type")!=="password"||a(this).attr("type")==
"password"&&e!==""&&e!==undefined){if(a.trim(e)==""||e==undefined){e="";a(this).val(e)}c[a(this).attr("name")]=e}});i.sendFormData(a(this),b,c)}});a(".delVehicleForm").click(function(){var b=a(this).closest("form"),c=a("#deleteoverlay #bg #content input[id=delVehicle]");if(c){var d={};d["user-profile-action"]="update-partial-user";d[c.attr("name")]=c.val();i.sendFormData(a(this),b,d)}});a(".submitVehicleForm").live("click",function(){var b=a(this).closest("form"),c={},d=a(this).attr("data-index");
if(d){c["user-profile-action"]="update-partial-user";var e=a(this).parent().parent();jQuery.each([{name:"vehicle_vin_X"},{name:"vehicle_nickname_X"},{name:"primary_vehicle_id_X"}],function(g,j){g=j.name.replace("X",d);if(a("input[name = "+g+"]",e).checkValidity()){j=a("input[name = "+g+"]",e).val();if(a("input[name = "+g+"]",e).attr("type")=="radio")j=a("input[name = "+g+"]",e).filter(":checked").val();c[g]=j}});i.sendFormData(a(this),b,c)}})},checkData:{},getPreferenceVaules:function(){if(a(".preferences").size()){var f=
a(".preferences .checkbox-image"),b="",c="N";a.each(f,function(d){b=f.eq(d).next().attr("id");c=f.eq(d).hasClass("checked")?"Y":"N";i.checkData[b]=c})}},trackpage:function(){window._da&&window._da.om&&ND&&ND.omniture&&ND.analyticsTag.trackOmniturePage({pname:_da.pname+" completed",hier:_da.hier})},fillPreferenceVaules:function(f){var b=a(".preferences .checkbox-image"),c="";if(f)var d=f.closest(".preferences").find(".opt-inout-checkbox .option-group");a.each(b,function(h){c=b.eq(h).next().attr("id");
if(i.checkData&&i.checkData[c])if(i.checkData[c]=="Y"){b.eq(h).addClass("checked");b.eq(h).siblings("input[type=checkbox]").prop("checked",true)}else{b.eq(h).removeClass("checked");b.eq(h).siblings("input[type=checkbox]").prop("checked",false)}});if(d&&d.length>0){var e=d.siblings(".checkbox-image"),g=d.find(".checkbox-image"),j=0;if(g.length>0){g.each(function(){a(this).hasClass("checked")&&j++});if(e.hasClass("checked")){d.slideUp();f.closest(".preferences").find(".opt-inout-checkbox").removeClass("showErr");
d.find("input[type=checkbox]").each(function(){a(this).prop("required",false)})}else j>0&&d.is(":hidden")&&d.slideDown()}}},sendFormData:function(f,b,c){if(!(a(b).find(".ws-invalid").length>0)){var d=null;a.each(a(".state-readonly div div .columns-vehicle label[for^=primary_vehicle_id_]"),function(h,k){if(a(k).text()==="true")d=a(k)});var e=d.parent().find("label[for^=vehicle_vin_]"),g=d.parent().find("label[for^=vehicle_nickname_]");if(e.length>0&&g.length>0&&!c[e.attr("for")]){c[e.attr("for")]=
e.next().text();c[g.attr("for")]=g.next().text()}var j=a(b).find(".state-readonly")[0];a(b).find(".columns.error").empty();a.ajax({type:"post",url:a(b).attr("action"),contentType:"application/json; charset=UTF-8",data:JSON.stringify(c),dataType:"json",success:function(h){if(h.success==="true"){h=a("a.savechange").index(a(f));if(a(f).attr("data-index"))h=a(f).attr("data-index");a.cookie("postsuccess",h);i.trackpage();location.reload(true)}else if(h.errors.length>0){var k="";a.each(h.errors,function(l,
m){l=a("[name="+m.field+"]").prev("label").text();if(!l)l=m.field;k+=m.translation?l+": "+m.translation+"<br/>":l+": "+m.translationKey+"<br/>"});a(j).before("<div class='large-10 large-centered columns error'><p style='color:#f00'>"+k+"</p></div>")}}})}},getpostsuccessmeg:function(){if(a.cookie("postsuccess")){var f=a.cookie("postsuccess");a("p.successtips").show();f!=-1&&a("h5.savedtext").eq(f).show();a.cookie("postsuccess",null)}else{a("p.successtips").hide();a("h5.savedtext").hide()}}};a(window).load(function(){i.getPreferenceVaules()});
a(function(){i.getpostsuccessmeg();i.init()})})(jQuery);

$(document).ready(function(){var b=window.location.href;if(b.indexOf("?uar=false")>0||b.indexOf("&uar=false")>0)$("a").each(function(){if($(this).hasClass("external-disclaimer")==false){var a=$(this).attr("href");if(a.indexOf("http")==0){a+=a.indexOf("?")>0?"&uar=false":"?uar=false";$(this).attr("href",a)}}})});

(function(a){a(function(){a(".auto-download").size()&&a("img").imagesLoaded(function(){a(".auto-download")[0].click()})})})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(b){guxPersonalisation.psn={uuid:{},profile:{},init:function(){var a,c;b.subscribe("profile-done",function(){typeof guxPersonalisation.components!=="undefined"&&guxPersonalisation.components.execute()});a=function(i){guxPersonalisation.psn.setProfile(i)};c=function(){};typeof FPS!=="undefined"&&FPS.get([{KBA:{}},{LastViewedVehicle:{}},{RecentlyViewedVehicles:{}},{PreferredDealer:{}}],{success:a,error:c})},setUUID:function(){if(b.cookie("dfy.uuid"))guxPersonalisation.psn.uuid=b.parseJSON(JSON.stringify(b.cookie("dfy.uuid")));
else if(typeof uuid!=="undefined"){var a=guxPersonalisation.psn.commonConfig(),c=window.location.host;if(a!==null&&a.cookieDomain)c=a.cookieDomain;guxPersonalisation.psn.uuid={id:uuid.v1()};b.cookie("dfy.uuid",JSON.stringify(guxPersonalisation.psn.uuid),{expires:1825,path:"/",domain:c})}},setProfile:function(a){if(typeof sessionStorage!=="undefined")if(sessionStorage.getItem("dfy.p")===null){sessionStorage.setItem("dfy.p",JSON.stringify(this.fillProfile(a)));guxPersonalisation.psn.setUUID()}else{guxPersonalisation.psn.setUUID();
sessionStorage.setItem("dfy.p",JSON.stringify(this.fillProfile(a)))}else if(b.cookie("dfy.p")){guxPersonalisation.psn.setUUID();b.cookie("dfy.p",JSON.stringify(this.fillProfile(a)),{path:"/",domain:i})}else{var c=guxPersonalisation.psn.commonConfig(),i=window.location.host;if(c!==null&&c.cookieDomain)i=c.cookieDomain;b.cookie("dfy.p",JSON.stringify(this.fillProfile(a)),{path:"/",domain:i});guxPersonalisation.psn.setUUID()}},fillProfile:function(a){function c(l){for(var o in l)if(l.hasOwnProperty(o))return false;
return true}function i(l){return l.sort(function(o,s){var t=o.on,u=s.on;return t<=u?-1:1}).reverse()}var e=guxPersonalisation.psn.commonConfig(),j=null,d=null,k=null;if(b.cookie("dfy.uuid"))j=b.parseJSON(b.cookie("dfy.uuid"));if(b.cookie("dfy.u"))d=b.parseJSON(b.cookie("dfy.u"));if(b.cookie("dfy.dl"))k=b.cookie("dfy.dl");var r="NoVehicle",p="",m=[];k=k!=null?k:"";if(typeof a!=="undefined"&&a!==null&&!c(a)){var h=a[0].KBA,n=a[1].LastViewedVehicle,g=a[2].RecentlyViewedVehicles;a=a[3].PreferredDealer;
if(typeof h!=="undefined"&&!c(h)){p="#";for(var f in h)if(h.hasOwnProperty(f))p+=h[f]._KBA+"#"}if(typeof g!=="undefined"&&!c(g)){n=i(g);r=n[0]._nameplate.split(":")[1];for(f in g)g.hasOwnProperty(f)&&m.push({_nameplate:g[f]._nameplate});m=JSON.stringify(m)}if(typeof a!=="undefined"&&!c(a)){a=i(a);k=a[0]._paCode}}h=a=f="";n=j?j.id:"";var q=g="";if(this.viewport()==="mobile")if(d!==null){a=d.s;h=d.now;g=d.authid;q=d.fn}else if(j===null){a="FS";if(e!=null&&e.smobFsTools)f=e.smobFsTools}else{if(j!=null&&
d===null){a="AN";if(e!=null&&e.smobAnTools)f=e.smobAnTools}}else if(d!==null){a=d.s;h=d.now;g=d.authid;q=d.fn}else if(j===null){a="FS";if(e!=null&&e.fsTools)f=e.fsTools}else if(j!=null&&d===null){a="AN";if(e!=null&&e.anTools)f=e.anTools}guxPersonalisation.psn.profile={authState:a,now:h,noi:r,id:n,authid:g,tools:f,kba:p,fn:q,f:"",rvv:m,dc:k};b.publish("profile-done");return guxPersonalisation.psn.profile},commonConfig:function(){return b("#common-config").length?b("#common-config").embeddedData():
null},viewport:function(){this.view=b(window).width()<768?"mobile":"tablet";return""}};b(function(){guxPersonalisation.psn.init()})})(jQuery);

(function(){var k=(window.ND=window.ND||{}).fps={_init:function(a){this._fpstag=a},pageClicks:{},trackPageView:function(a){k.trackFps(a)},trackLink:function(a){k.trackFps(a)},trackFps:function(a){var e="",j={},l={},m={},n={},o={},p={},q={},c="",f="",g="",h="",d="",i="",b=false;if(typeof a!=="undefined"&&typeof a.nameplate!=="undefined"){if(typeof _da!=="undefined"&&typeof _da.nameplate!=="undefined")if(a.nameplate==_da.nameplate.name){if(typeof _da.om.site!=="undefined")g=_da.om.site;if(typeof _da.nameplate!==
"undefined"){if(typeof _da.nameplate.name!=="undefined")d=_da.nameplate.name;if(typeof _da.nameplate.id!=="undefined")i=_da.nameplate.id;if(typeof _da.nameplate.year!=="undefined")h=_da.nameplate.year}if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")c=_da.der.name;if(typeof _da.der.id!=="undefined")f=_da.der.id}if(d!=""){j={ViewedVehicle:{_year:h,_brand:g,_nameplate:i+":"+d,_trim:f+":"+c,_interior:"",_exterior:""},metadata:{active:"true"}};b=true}}}else if(typeof _da!=="undefined"){if(typeof _da.om.site!==
"undefined")g=_da.om.site;if(typeof _da.nameplate!=="undefined"){if(typeof _da.nameplate.name!=="undefined")d=_da.nameplate.name;if(typeof _da.nameplate.id!=="undefined")i=_da.nameplate.id;if(typeof _da.nameplate.year!=="undefined")h=_da.nameplate.year}if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")c=_da.der.name;if(typeof _da.der.id!=="undefined")f=_da.der.id}if(d!=""){j={ViewedVehicle:{_year:h,_brand:g,_nameplate:i+":"+d,_trim:f+":"+c,_interior:"",_exterior:""},metadata:{active:"true"}};
b=true}}if(typeof _da.events!=="undefined"){if(typeof guxPersonalisation!=="undefined")if(typeof guxPersonalisation.psn.profile.kba!=="undefined")e=guxPersonalisation.psn.profile.kba;for(c=0;c<_da.events.length;c++){a=_da.events[c];if(a=="event2")if(e.search("BAPC")==-1){p={KBAEvent:{_KBA:"BAPC"},metadata:{active:"true"}};b=true}if(a=="event3")if(e.search("RAQC")==-1){q={KBAEvent:{_KBA:"RAQC"},metadata:{active:"true"}};b=true}if(a=="event15")if(e.search("BRQC")==-1){o={KBAEvent:{_KBA:"BRQC"},metadata:{active:"true"}};
b=true}if(a=="event20")if(e.search("RTDC")==-1){n={KBAEvent:{_KBA:"RTDC"},metadata:{active:"true"}};b=true}}}if(typeof guxPersonalisation!=="undefined"){if(typeof guxPersonalisation.psn.profile.authid!=="undefined"){m={ExternalRef:{_type:"DFL",_id:guxPersonalisation.psn.profile.authid},metadata:{active:"true"}};b=true}if(typeof guxPersonalisation.psn.profile.id!=="undefined"){l={ExternalRef:{_type:"DFLA",_id:guxPersonalisation.psn.profile.id},metadata:{active:"true"}};b=true}}typeof FPS!=="undefined"&&
b&&FPS.set([j,p,o,n,q,m,l])},trackEvent:function(a){a.type=="fav-dealer"&&typeof FPS!=="undefined"&&FPS.set([{PreferredDealer:{_paCode:a.code},metadata:{active:"true"}}])},trackSocial:function(){},trackField:function(){},preCollection:function(){}}})();

(function(){var b=(window.ND=window.ND||{}).omniture={_init:function(a){this._omtag=a},pageClicks:{},moduleTypes:{},trackPageView:function(a){if(typeof a.login!=="undefined")s.eVar42="x"},createHier1:function(a){s.hier1=typeof a!=="undefined"?a:_da.hier;if(typeof _da.nameplate!=="undefined")s.hier1=s.hier1+":"+_da.nameplate.year+":"+_da.nameplate.cat+":"+_da.nameplate.name},createPageName:function(a){s.pageName=typeof a!=="undefined"&&a!==""?(s.eVar11=s.prop11=a):(s.eVar11=s.prop11=_da.pname);if(_da.funnel.stepname){s.pageName=
s.pageName+":"+_da.funnel.stepname;s.eVar11=s.eVar11+":"+_da.funnel.stepname;s.prop11=s.prop11+":"+_da.funnel.stepname}if(_da.pagenumber){s.pageName+=_da.pagenumber;s.eVar11+=_da.pagenumber;s.prop11+=_da.pagenumber}if(typeof _da.sync!=="undefined")if(typeof _da.sync.version!=="undefined"){s.pageName=s.pageName+":"+_da.sync.version;s.eVar11=s.eVar11+":"+_da.sync.version;s.prop11=s.prop11+":"+_da.sync.version}if(typeof _da.prefix!=="undefined"){s.pageName=_da.prefix+":"+s.pageName;s.eVar11=_da.prefix+
":"+s.eVar11;s.prop11=_da.prefix+":"+s.prop11}if(typeof _da.nameplate!=="undefined")s.pageName=s.pageName+":"+_da.nameplate.name;if(typeof _da.radui!=="undefined"){a=_da.radui;var c=$(window).width();a=a.split("|");if(c>976)s.prop54=s.eVar54=a[0]+a[1];else if(c<977&&c>767)s.prop54=s.eVar54=a[0]+a[2];else if(c<768)s.prop54=s.eVar54=a[0]+a[3]}},setRegion:function(){s.prop2=typeof _da.region!=="undefined"?(s.eVar2=_da.region):(s.eVar2=undefined)},trackDerivativeDetails:function(){s.eVar18=s.eVar19=s.eVar20=
s.eVar21=s.eVar23=s.eVar24=s.eVar25=undefined;if(typeof _da.der!=="undefined"){if(typeof _da.der.name!=="undefined")s.eVar18=_da.der.name;if(typeof _da.der.colour!=="undefined"&&typeof _da.der.trim!=="undefined")s.eVar19=_da.der.colour+":"+_da.der.trim;if(typeof _da.der.features!=="undefined")s.eVar20=_da.der.features;if(typeof _da.der.options!=="undefined")s.eVar21=_da.der.options;if(typeof _da.der.optionpacks!=="undefined")s.eVar23=_da.der.optionpacks;if(typeof _da.der.engine!=="undefined")s.eVar24=
_da.der.engine;if(typeof _da.der.price!=="undefined")s.eVar25=_da.der.price}},trackLink:function(a){if(a!==undefined){s.channel=_da.funnel.name;s.eVar4=s.prop4=_da.om.lang;s.eVar14=s.prop14=_da.om.client;s.eVar15=s.prop15=_da.om.site;s.prop57=s.eVar57=undefined;s.prop55=s.eVar55=undefined;s.linkTrackVars=_da.om.linkTrackVars;s.linkTrackEvents=_da.om.linkTrackEvents;if(_da.nameplate&&_da.nameplate.name&&a.nameplate===undefined)a.nameplate=_da.nameplate.name;typeof a.pname!=="undefined"?b.createPageName(a.pname):
b.createPageName();typeof a.hier1!=="undefined"&&a.hier1!==""?b.createHier1(a.hier1):b.createHier1(_da.hier);if(a.intcmp)s.eVar13=s.prop13=a.intcmp;s.prop5=a.onclicks;s.prop18=a.leadtype;s.prop48=s.eVar48=a.tool;s.prop49=s.eVar49=a.tooldesc;if(typeof _da.deviceType!=="undefined")s.eVar54=_da.deviceType;s.events=a.events;if(a.year||typeof _da.nameplate!=="undefined"){if(a.year)s.prop12=s.eVar12=a.year;if(typeof _da.nameplate!=="undefined"&&!a.year)s.prop12=s.eVar12=_da.nameplate.year}else s.prop12=
s.eVar12=undefined;if(a.nameplate&&a.nameplate!=="none"){s.prop16=s.eVar16=a.nameplate;a.title=a.titleNameplate=="none"?a.title:a.title+":"+a.nameplate;b.trackDerivativeDetails()}else s.prop16=s.eVar16=undefined;if(a.content){s.prop56=s.eVar56=a.content;s.prop5=s.prop5=="video start"||s.prop5=="video finish"||s.prop5=="video complete"?s.prop5:s.prop5+":"+a.content}else s.prop56=s.eVar56=undefined;b.setRegion();s.prop24=typeof a.moduletype!=="undefined"?a.moduletype:undefined;s.prop25=typeof a.modulename!==
"undefined"?a.modulename:undefined;b.setModulePage(a.moduleaction);b.createSearchTag(a);var c=a.title;if(typeof _da.prefix!=="undefined"&&a.type!=="e")c=_da.prefix+":"+c;if(typeof a.freq==="undefined")s.tl(a.link,a.type,c);else if(a.freq=="page"&&!b.pageClicks[c]){s.tl(a.link,a.type,c);b.pageClicks[c]=c}else if(a.freq=="category"&&(!b.pageClicks[a.onclicks]||a.moduletype&&!b.moduleTypes[a.moduletype])){s.tl(a.link,a.type,c);b.pageClicks[a.onclicks]=a.onclicks;if(a.moduletype)b.moduleTypes[a.moduletype]=
a.moduletype}}},trackMedia:function(a){s.prop56=a.content?(s.eVar56=a.content):(s.eVar56=undefined);s.prop57=a.progress&&a.content?(s.eVar57=a.content+":"+a.progress):(s.eVar57=undefined);s.eVar55=a.segment?a.segment:undefined;s.prop55=a.content&&s.pageName?a.content+":"+s.pageName:undefined;s.pev3=a.mediaType?a.mediaType:undefined;s.pe=a.linkType?a.linkType:undefined;s.events=a.events?a.events:undefined;s.prop5=a.onclicks?a.onclicks:undefined;s.prop24=typeof a.moduletype!=="undefined"?a.moduletype:
undefined;s.prop25=typeof a.modulename!=="undefined"?a.modulename:undefined;b.setModulePage(a.moduleaction);s.t()},trackEvent:function(){},trackSocial:function(){},trackField:function(){},createSearchTag:function(a){if(typeof a!=="undefined"&&a.search=="none"){s.eVar22=s.prop22=undefined;s.eVar35=s.prop21=undefined}else{s.eVar22=typeof _da.searchKeyword!=="undefined"?(s.prop22=_da.searchKeyword):(s.prop22=undefined);s.eVar35=typeof a!=="undefined"&&typeof a.totalresult!=="undefined"&&typeof a.resultnumber!==
"undefined"?(s.prop21=a.resultnumber+":"+a.totalresult):typeof _da.totalresult!=="undefined"?typeof _da.resultnumber!=="undefined"?(s.prop21=_da.resultnumber+":"+_da.totalresult):(s.prop21=_da.totalresult):(s.prop21=undefined)}},setModulePage:function(a){if(typeof a!=="undefined"&&typeof _da.module!=="undefined"&&typeof _da.module.page!=="undefined"&&typeof _da.module.template!=="undefined"){moduleAction=a;s.prop23=_da.module.page+":"+_da.module.template+":"+moduleAction}else s.prop23=undefined},
preCollection:function(a,c){s.eVar4=s.prop4=_da.om.lang;s.eVar14=s.prop14=_da.om.client;s.eVar15=s.prop15=_da.om.site;s.prop56=s.eVar56=undefined;if(typeof c!=="undefined"){b.createPageName(c.pname);b.createHier1(c.hier)}else{b.createPageName(undefined);b.createHier1(undefined)}s.channel=_da.funnel.name;s.prop39=s.prop5=undefined;if(typeof _da.nameplate!=="undefined"){s.prop16=s.eVar16=_da.nameplate.name;s.prop12=s.eVar12=_da.nameplate.year}else{s.prop12=s.eVar12=s.prop16=s.eVar16=undefined;s.prop36=
s.eVar34=undefined}b.trackDerivativeDetails();if(typeof c!=="undefined"&&c.tool!=="undefined"){s.prop48=s.eVar48=c.tool;if(c.tooldesc!=="undefined")s.prop49=s.eVar49=c.tooldesc}else if(typeof _da.tool!=="undefined"){s.prop48=s.eVar48=_da.tool.name;s.prop49=_da.tool.descriptor?(s.eVar49=_da.tool.descriptor):(s.eVar49=undefined)}else s.prop49=s.eVar49=s.prop48=s.eVar48=undefined;if(typeof _da.lead!=="undefined"){s.prop18=s.eVar28=_da.lead.type;s.prop20=_da.lead.optins?_da.lead.optins:undefined}else s.prop18=
s.eVar28=s.prop20=undefined;b.setRegion();if(typeof _da.events!=="undefined"){s.events="";for(a=0;a<_da.events.length;a++)s.events+=s.events.length===0?_da.events[a]:","+_da.events[a]}else s.events="";s.prop1=typeof _da.dealer!=="undefined"&&typeof _da.dealer.code!=="undefined"?(s.eVar1=_da.dealer.code):(s.eVar1=undefined);s.prop42=typeof _da.user!=="undefined"&&typeof _da.user.loggedin!=="undefined"?(s.eVar42=_da.user.loggedin):(s.eVar42=undefined);s.prop45=typeof _da.user!=="undefined"&&typeof _da.user.registered!==
"undefined"?(s.eVar45=_da.user.registered):(s.eVar45=undefined);s.prop5=typeof _da.onclicks!=="undefined"?_da.onclicks:undefined;b.createSearchTag();b.setModulePage("impress")}}})();

var ND=function(l,e){var h={},j=[];h.omniture=ND.omniture;h.fps=ND.fps;h.webtrends=function(){function d(a,b){b=b||[];a.dcsMultiTrack.apply(a,b)}var c={each:function(a,b,f){e.each(a.split(","),function(g,k){c[k].apply(this,[b,f])})},title:function(a,b){b&&"title"in b&&e.merge(a,["WT.ti",b.title])},funnel:function(a,b){b&&"funnel"in b&&e.merge(a,["WT.si_n",b.funnel])},step:function(a,b){b&&"step"in b&&e.merge(a,["WT.si_p",b.step])},event:function(a){e.merge(a,["WT.dl","99"])},link:function(a){e.merge(a,
["WT.dl","0"])},share:function(a,b){b&&"socialId"in b&&e.merge(a,["WT.z_share",b.socialId])},uri:function(a,b){b&&"uri"in b&&e.merge(a,["DCS.dcsuri",b.uri])},field:function(a,b){if(b&&"field"in b){var f=b.field;if(f.name)e.merge(a,["DCSext."+b.field.name,b.field.value||""]);else if(f.constructor==Array){b=[];for(var g=f.length;--g>-1;)f[g].name&&b.push("DCSext."+f[g].name,f[g].value||"");e.merge(a,b)}}},meta:function(a,b){return e(['<meta name="',a,'" content="',b,'"/>'].join(""))}};return{_init:function(a){this._tag=
a},trackPageView:function(a){var b=[];c.each("title,uri",b,a);d(this._tag,b)},trackLink:function(a){var b=[];c.each("title,uri,link",b,a);d(this._tag,b)},trackEvent:function(a){var b=[];c.each("event,title,uri",b,a);d(this._tag,b)},trackSocial:function(a){var b=[];c.each("event,title,uri,share",b,a);d(this._tag,b)},trackField:function(a){var b=[];c.each("event,field,funnel,step",b,a);d(this._tag,b)},preCollection:function(a){a=a.funnel||false;var b=e("meta:last");a&&a.name&&b.after(c.meta("WT.si_n",
a.name));a&&a.stepname&&b.after(c.meta("WT.si_p",a.stepname))}}}();l.analytics={create:function(d,c){function a(){}a.prototype=h[d];var b=new a;b._init(c);delete b._init;b.name=d;return b},register:function(d){if(d){for(i=0;i<j.length;i++)if(d.name===j[i].name)return;e.each({pageview:"trackPageView",link:"trackLink",social:"trackSocial",event:"trackEvent",field:"trackField",media:"trackMedia"},function(c,a){a in d&&e.subscribe("/analytics/"+c+"/",function(b,f){return function(g,k){f.apply(b,[k])}}(d,
d[a]))});j.push(d)}},grabber:function(){function d(c){return c=(c||"").toLowerCase().replace(/[\s'"!@#$%\^\&\*\(\),\.<>;:\[\]{}?+/\\-_=]/g,"-").replace(/(-){2,}/g,"-").replace(/^-|-$/g,"")}return function(c){var a,b;if(c.link){a=e(c.link);a=a.attr("data-tracking-value")||a.attr("title")||a.text()||"";b=d(a)}if(c.meta){a=e(c.meta);a=a.attr("content")||"";b=d(a)}if(c.inner){a=e(c.inner);a=a.text()||"";b=d(a)}if(c.name){a=c.name;b=d(c.name)}return{value:a,url:b}}}};return l}(window.ND||{},jQuery);

var ND=function(A,b,q,w){trackWebtrendFields=function(){var f=q._da;if(f!==undefined){var u=f.trackFields;if(u!==undefined){var x=[],v;for(v in u)x.push({name:v,value:u[v]});b.publish("/analytics/field/",{field:x})}}};A.analyticsBinder={bind:function(){b(w).ready(function(){var f=ND.analytics.grabber();master=f({meta:"meta[name='dfy.title']"});b(".socialmedia-wrapper").delegate(".socialmedia a","click",function(){var a=f({link:this});b.publish("/analytics/social/",{title:"Follow "+master.value+" on "+
a.value,uri:"/follow/"+a.url})});b.subscribe("overlay.done",function(a,c){var d,e,g;d={};a=true;if(c&&c.contents&&b(".country-overlay",c.contents).size()<1){d=c.contents?f({link:c.contents.find(".head h1")}):{};e=f({link:c.anchor});g=f({name:c.name});a=!d.value&&!e.value&&!g.value&&!c.assetid;d={title:master.value+" | "+(g.value||d.value||e.value||c.assetid),uri:"/"+master.url+"/overlay/"+(g.url||d.url||e.url||c.assetid)};if(a)d={title:master.value+" | Overlay",uri:"/"+master.url+"/overlay"};b.publish("/analytics/event/",
d)}});b(".rss").delegate("a","click",function(){var a={title:"RSS",uri:f({link:this}).url};b.publish("/analytics/event/",a)});b(w).delegate(".at_item","click",function(){var a=f({link:this});b.publish("/analytics/social/",{title:" Send to "+a.value,uri:"/share/"+a.url,socialId:a.value})});b(w).delegate(".addlist a","click",function(){var a=f({link:this});b.publish("/analytics/social/",{title:" Send to "+a.value,uri:"/share/"+a.url,socialId:a.value})});b("#dragonflyform").delegate(".ff-track-drop-off",
"focusout",function(){var a=b(this);a={field:{name:a.attr("name")||this.id,value:a.val()}};b.publish("/analytics/field/",a)});b("#dragonflyform").submit(function(){var a=b("#VOI_ModelSeries_Model",d),c=b("#VOI_ModelSeries_Series",d);if(a.size()||c.size()){var d=b(this);a={field:[{name:"model",value:a.val()},{name:"series",value:c.val()}]};b.publish("/analytics/field/",a)}});b(".view360-button a").click(function(){var a=f({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,
uri:"/"+master.url+"/360-view"})});b("#car-swapper a").click(function(){var a=f({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,uri:"/"+master.url+"/switch-to-super-cab"})});b(".slider .next, .slider .prev").click(function(){var a=f({link:this});b.publish("/analytics/event/",{title:master.value+" | "+a.value,uri:"/"+master.url+"/switch-to-banner"})});b(".download").click(function(){data={title:"this is my link",link:this,type:"d"};b.publish("/analytics/link/",data)});
b(".trackable,.external-disclaimer").live("mouseup",function(a){if(!(b(".staging-wrap .trackable").size()>0)){if(!a.target||!a.target.tagName||a.target.tagName!="OPTION"||!a.target.parentElement||!a.target.parentElement.tagName||a.target.parentElement.tagName!="SELECT")a.preventDefault();!b(this).hasClass("overlay")&&!b(this).closest("ul").hasClass("gallery")&&!b(this).hasClass("service-booking-overlay")&&!b(this).hasClass("open-video-flip")&&!b(this).hasClass("collapse-btn")&&!b(this).hasClass("save-dealer-btn")&&
!b(this).hasClass("bing-directions")&&!b(this).hasClass("filter-toggler")&&!b(this).hasClass("viewSaved")&&!b(this).hasClass("accordion-next")&&!b(this).hasClass("open-vid")&&!b(this).hasClass("open-modal")&&!b(this).hasClass("save-continue")&&!b(this).hasClass("pdf-btn")&&!b(this).hasClass("finish-btn")&&!b(this).hasClass("tab-area")&&!b(this).closest(".predelivery-new")&&b(this).trigger("click");a=b(this);var c,d,e,g,h,i,j,k,l,m,n,o,p,r,t,z,y,B;if((d=a.attr("data-name"))&&(e=a.attr("data-type"))){g=
a.attr("data-onclicks");h=a.attr("data-nameplate");l=a.attr("data-nameplate-year");i=a.attr("data-leadtype");j=a.attr("data-tool");p=a.attr("data-tooldesc");k=a.attr("data-events");m=a.attr("data-pname");n=a.attr("data-intcmp");o=a.attr("data-hier");r=a.attr("data-content");t=a.attr("data-freq");z=a.attr("data-moduletype");y=a.attr("data-modulename")}else if((c=a.find("img").first())&&(d=c.attr("data-name"))&&(e=c.attr("data-type"))){g=c.attr("data-onclicks");h=c.attr("data-nameplate");l=c.attr("data-nameplate-year");
i=c.attr("data-leadtype");j=c.attr("data-tool");p=c.attr("data-tooldesc");k=c.attr("data-events");m=c.attr("data-pname");n=c.attr("data-intcmp");o=c.attr("data-hier");r=c.attr("data-content");t=c.attr("data-freq");z=a.attr("data-moduletype");y=a.attr("data-modulename")}if(a.hasClass("external-disclaimer"))e="e";if(!d)d=f({link:this}).value;if(!b(this).hasClass("open-video-flip")&&(a.closest("section").hasClass("personalisation")||a.closest("section").hasClass("smartnextsteps")))B="click";if(a.closest("section").data("psn-module")==
"knowvehicle"||a.closest("section").data("psn-module")=="accessories"){if(typeof b.cookie("dfy.u")!=="undefined"&&typeof b.cookie("dfy.u")!=="function")cookieUser=JSON.parse(b.cookie("dfy.u"));if(cookieUser!=null)y=cookieUser.now}b.publish("/analytics/link/",{title:d,link:this,type:e,onclicks:g,leadtype:i,tool:j,tooldesc:p,events:k,year:l,nameplate:h,pname:m,intcmp:n,hier1:o,content:r,freq:t,moduletype:z,modulename:y,moduleaction:B})}});b(".billboard  .flex-next,.billboard .flex-prev,.billboard .flex-control-paging a").live("click",
function(){var a=b(this);if(!(typeof _da!=="undefined"&&_da.om.mobileApp==true&&(b(this).hasClass("flex-prev")||b(this).hasClass("flex-next")))){var c,d,e;e=a.closest("section");a=e.data("name");c=e.data("onclicks");d=e.data("modulename");e=e.data("moduletype");b.publish("/analytics/link/",{title:a,link:this,type:"o",onclicks:c,moduletype:d,modulename:e,moduleaction:"click"})}});b(".view-all-dealers",b("section.dealer-locator")).live("mouseup",function(a){a.preventDefault();b(this).trigger("click");
if(q._da&&q._da.om&&ND&&ND.omniture){_da.funnel.stepname="results";_da.events="event1,event43".split(",");_da.dealer={}}});b.subscribe("dealers-done",function(){if(q._da&&q._da.om&&ND&&ND.omniture){_da.funnel.stepname="results";_da.events="event1,event43".split(",");_da.dealer={};var a=b(".dealer-result-container .count .num").text();if(a){a=Number(a);a=Math.floor((a+5-1)/5);var c=b(".dealer-result-container .result-list .dealer-result:first-child").data("postcode");_da.region=c;ND.analyticsTag.trackOmniturePage({tool:"event:find dealer",
tooldesc:"find dealer:1 of "+a})}b.unsubscribe("dealers-done")}});b("section.dealer-locator .dealer-result .dealer-heading a,section.dealer-locator .dealer-result .details").live("click",function(){var a=b(this).closest(".dealer-result").data("dealerid"),c=b(this).closest(".dealer-result").data("postcode");if(q._da&&q._da.om&&ND&&ND.omniture){_da.funnel.stepname="dealer:info";_da.events="";_da.dealer={code:a};_da.region=c;ND.analyticsTag.trackOmniturePage()}});b("#overlay .vr-container .360trackable").live("slide",
function(a){if(!(b(".staging-wrap .trackable").size()>0)){a.preventDefault();b(this).trigger("click");a=b(this);var c,d,e,g,h,i,j,k,l,m,n,o,p,r,t;if((d=a.attr("data-name"))&&(e=a.attr("data-type"))){g=a.attr("data-onclicks");h=a.attr("data-nameplate");l=a.attr("data-nameplate-year");i=a.attr("data-leadtype");j=a.attr("data-tool");p=a.attr("data-tooldesc");k=a.attr("data-events");m=a.attr("data-pname");n=a.attr("data-intcmp");o=a.attr("data-hier");r=a.attr("data-content");t=a.attr("data-freq")}else if((c=
a.find("img").first())&&(d=c.attr("data-name"))&&(e=c.attr("data-type"))){g=c.attr("data-onclicks");h=c.attr("data-nameplate");l=c.attr("data-nameplate-year");i=c.attr("data-leadtype");j=c.attr("data-tool");p=c.attr("data-tooldesc");k=c.attr("data-events");m=c.attr("data-pname");n=c.attr("data-intcmp");o=c.attr("data-hier");r=c.attr("data-content");t=c.attr("data-freq")}if(a.hasClass("external-disclaimer"))e="e";if(!d)d=f({link:this}).value;b.publish("/analytics/link/",{title:d,link:this,type:e,onclicks:g,
leadtype:i,tool:j,tooldesc:p,events:k,year:l,nameplate:h,pname:m,intcmp:n,hier1:o,content:r,freq:t});b("#overlay .vr-container .360trackable").die("slide")}});var u=function(){var a=b(this).closest(".panel"),c,d;c=a.data("name");d=a.data("onclicks");a=a.data("pname");b.publish("/analytics/link/",{title:c,link:this,type:"o",onclicks:d,pname:a,moduleaction:"click",freq:"category"})};b(".predelivery-new .last-step .panel").on("click","input,select,textarea",u);b(".predelivery-new .last-step .color-palette a").on("click",
u);b(".staging-wrap .trackable, .staging-wrap .external-disclaimer").live("click",function(){var a=b(this),c,d,e,g,h,i,j,k,l,m,n,o,p;if((d=a.attr("data-name"))&&(e=a.attr("data-type"))){g=a.attr("data-onclicks");h=a.attr("data-nameplate");l=a.attr("data-nameplate-year");i=a.attr("data-leadtype");j=a.attr("data-tool");p=a.attr("data-tooldesc");k=a.attr("data-events");m=a.attr("data-pname");n=a.attr("data-intcmp");o=a.attr("data-hier")}else if((c=a.find("img").first())&&(d=c.attr("data-name"))&&(e=
c.attr("data-type"))){g=c.attr("data-onclicks");h=c.attr("data-nameplate");l=c.attr("data-nameplate-year");i=c.attr("data-leadtype");j=c.attr("data-tool");p=c.attr("data-tooldesc");k=c.attr("data-events");m=c.attr("data-pname");n=c.attr("data-intcmp");o=a.attr("data-hier")}if(a.hasClass("external-disclaimer"))e="e";if(!d)d=f({link:this}).value;b.publish("/analytics/link/",{title:d,link:this,type:e,onclicks:g,leadtype:i,tool:j,tooldesc:p,events:k,year:l,nameplate:h,pname:m,intcmp:n,hier1:o})});var x=
function(a){a=a.target.href||"";anchorFormat=a.toLowerCase();if(a&&anchorFormat.indexOf("mailto:")>-1){anchorFormat=anchorFormat.replace(/[^\w]+/g,"-");b.publish("/analytics/event/",{title:a+" | Email",uri:"/"+master.url+"/email/"+anchorFormat})}},v=function(a){a=a.target;var c=a.className;if(c&&typeof c==="string"&&(c.indexOf("external")>-1||c.indexOf("external-disclaimer ")>-1)){a=b(a).attr("href");c="";if(typeof a!="undefined")c=a.replace(/[^\w]+/g,"-");b.publish("/analytics/event/",{title:"Offsite:"+
a,uri:"/"+master.url+"/external/"+c})}},C=function(a){(a=a.target.className)&&typeof a==="string"&&a.indexOf("btn-fullscreen")>-1&&b.publish("/analytics/link/",{title:s.eVar11+":full screen",link:this,type:"o",onclicks:"view full screen"})};if(_da.nameplate!==undefined&&_da.nameplate.id!==undefined||_da.derivative!==undefined&&_da.derivative.id!==undefined)ND.Context.addContextToLinks();b(w).bind("click","a",function(a){if(a&&a.target){v(a);x(a);C(a)}});trackWebtrendFields()})}};return A}(window.ND||
{},jQuery,window,document);

(function(a,b){var j=function(){if(!a._da||!a.ND||!a.ND.analytics)return false;return true},r=function(){if(a._tag&&a._da.wt&&a._tag===a._da.wt&&a.WebTrends)return true;return false},p=function(){if(a._da.om&&(typeof a._da.om.singlePageApp==="undefined"||a._da.om.singlePageApp===false)&&(a._da.om.mobileApp===undefined||a._da.om.mobileApp===false))return true;return false},q=function(){if(!j())return false;if(a._da.om&&a._da.om.singlePageApp===true)return true;return false},t=function(){if(!j())return false;
if(a._da.om&&a._da.om.mobileApp===true)return true;return false},g=function(c){if(_da.skipTracking==undefined||a._da.skipTracking===false){var d=ND.analytics.create("fps",s);ND.analytics.register(d);d.preCollection(_da,c);d.trackPageView(c)}},u=function(c,d,e){c=new WebTrends;b.extend(c,d);c.dcsGetId();e=ND.analytics.create("webtrends",c);ND.analytics.register(e);d=b.extend({},_da);delete d.wt;e.preCollection(d);c.dcsCollect();ND.analytics._tag=c},i=function(c){if(_da.skipTracking==undefined||a._da.skipTracking===
false){var d=ND.analytics.create("omniture",s);ND.analytics.register(d);var e=b(".searchresults-list .no-of-results");if(e.length>0)_da.pname=_da.pname+":"+b.trim(e.html());if(typeof _da.module!=="undefined"&&typeof _da.module.page!=="undefined"&&typeof _da.module.template=="undefined"){var k=null,l=null,f=null;if(b.cookie("dfy.u"))k=b.parseJSON(b.cookie("dfy.u"));if(b.cookie("dfy.uuid"))l=b.parseJSON(b.cookie("dfy.uuid"));if(k!==null)f="owner";else if(l===null)f="new";else if(l!=null&&k===null)f=
"return";if(f!=null){_da.module.template=f;b("section.personalisation a[href*='intcmp='],section.smartnextsteps a[href*='intcmp='],section.personalisation form[action*='intcmp=']").each(function(){var m="",h="",n=b(this).attr("href"),o=b(this).attr("action");if(n!=null&&typeof n!=="undefined"){m="href";h=n}else if(o!=null&&typeof o!=="undefined"){m="action";h=o}h.indexOf("STATUS")!=-1&&b(this).attr(m,h.replace("STATUS",f))})}}d.preCollection(_da,c);s.t()}},v=function(){if(j()){if(r()){var c,d=a._tag,
e;b(document).ready(function(){u(c,d,e);ND.analyticsBinder.bind()});a._tag=a._da.wt=c}if(p()){b(document).ready(function(){if(p()){i();g();ND.analyticsBinder.bind()}});a._tag_om=a._da.om}t()&&b(document).bind("mobileinit",function(){b(document).bind("pagechange",function(){i();g();ND.analyticsBinder.bind()});a._tag_om=a._da.om})}};v();ND.analyticsTag=ND.analyticsTag||{trackOmnitureSinglePageApp:function(){if(q()){i();g();if(ND.analyticsTag._setOnce!==undefined){ND.analyticsTag._setOnce();delete ND.analyticsTag._setOnce}}},
trackOmniturePage:function(c){i(c);g(c)},_setOnce:function(){a._tag_om=a._da.om;ND.analyticsBinder.bind()},isSinglePageAppOmnitureConfigured:q}})(window,jQuery);

(function(e,t){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function s(e,t,n){var s,a;for(s in n)n.hasOwnProperty(s)&&(a=s.replace(/ |$/g,t.eventNamespace),e.bind(a,n[s]))}function a(e,t,n){s(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass),t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(n.activeClass)},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function i(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function r(e,t,n){n?e.addClass(t):e.removeClass(t)}function l(e,t,n){var s="checked",a=t.is(":"+s);t.prop?t.prop(s,a):a?t.attr(s,s):t.removeAttr(s),r(e,n.checkedClass,a)}function u(e,t,n){r(e,n.disabledClass,t.is(":disabled"))}function o(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function c(t,s,a){var i,r,l;return a||(a={}),a=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},a),i=e("<div />"),r=e("<span />"),s.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&i.hide(),a.divClass&&i.addClass(a.divClass),s.wrapperClass&&i.addClass(s.wrapperClass),a.spanClass&&r.addClass(a.spanClass),l=n(t,"id"),s.useID&&l&&n(i,"id",s.idPrefix+"-"+l),a.spanHtml&&r.html(a.spanHtml),i=o(t,i,a.divWrap),r=o(t,r,a.spanWrap),u(i,t,s),{div:i,span:r}}function d(t,n){var s;return n.wrapperClass?(s=e("<span />").addClass(n.wrapperClass),s=o(t,s,"wrap")):null}function f(){var t,n,s,a;return a="rgb(120,2,153)",n=e('<div style="width:0;height:0;color:'+a+'">'),e("body").append(n),s=n.get(0),t=window.getComputedStyle?window.getComputedStyle(s,"").color:(s.currentStyle||s.style||{}).color,n.remove(),t.replace(/ /g,"")!==a}function p(t){return t?e("<span />").text(t).html():""}function m(){return navigator.cpuClass&&!navigator.product}function v(){return window.XMLHttpRequest!==void 0?!0:!1}function h(e){var t;return e[0].multiple?!0:(t=n(e,"size"),!t||1>=t?!1:!0)}function C(){return!1}function w(e,t){var n="none";s(e,t,{"selectstart dragstart mousedown":C}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function b(e,t,n){var s=e.val();""===s?s=n.fileDefaultHtml:(s=s.split(/[\/\\]+/),s=s[s.length-1]),t.text(s)}function y(e,t,n){var s,a;for(s=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),n();s.length;)a=s.pop(),a.el.style[a.name]=a.old}function g(e,t){var n;n=e.parents(),n.push(e[0]),n=n.not(":visible"),y(n,{visibility:"hidden",display:"block",position:"absolute"},t)}function k(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var H=!0,x=!1,A=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,t){var r,l,o,d,f;return l=t.submitDefaultHtml,e.is(":reset")&&(l=t.resetDefaultHtml),d=e.is("a, button")?function(){return e.html()||l}:function(){return p(n(e,"value"))||l},o=c(e,t,{divClass:t.buttonClass,spanHtml:d()}),r=o.div,a(e,r,t),f=!1,s(r,t,{"click touchend":function(){var t,s,a,i;f||e.is(":disabled")||(f=!0,e[0].dispatchEvent?(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0),s=e[0].dispatchEvent(t),e.is("a")&&s&&(a=n(e,"target"),i=n(e,"href"),a&&"_self"!==a?window.open(i,a):document.location.href=i)):e.click(),f=!1)}}),w(r,t),{remove:function(){return r.after(e),r.remove(),e.unbind(t.eventNamespace),e},update:function(){i(r,t),u(r,e,t),e.detach(),o.span.html(d()).append(e)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,r,o;return n=c(e,t,{divClass:t.checkboxClass}),r=n.div,o=n.span,a(e,r,t),s(e,t,{"click touchend":function(){l(o,e,t)}}),l(o,e,t),{remove:k(e,t),update:function(){i(r,t),o.removeClass(t.checkedClass),l(o,e,t),u(r,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(t,r){function l(){b(t,p,r)}var d,f,p,v;return d=c(t,r,{divClass:r.fileClass,spanClass:r.fileButtonClass,spanHtml:r.fileButtonHtml,spanWrap:"after"}),f=d.div,v=d.span,p=e("<span />").html(r.fileDefaultHtml),p.addClass(r.filenameClass),p=o(t,p,"after"),n(t,"size")||n(t,"size",f.width()/10),a(t,f,r),l(),m()?s(t,r,{click:function(){t.trigger("change"),setTimeout(l,0)}}):s(t,r,{change:l}),w(p,r),w(v,r),{remove:function(){return p.remove(),v.remove(),t.unwrap().unbind(r.eventNamespace)},update:function(){i(f,r),b(t,p,r),u(f,t,r)}}}},{match:function(e){if(e.is("input")){var t=(" "+n(e,"type")+" ").toLowerCase(),s=" color date datetime datetime-local email month number password search tel text time url week ";return s.indexOf(t)>=0}return!1},apply:function(e,t){var s,i;return s=n(e,"type"),e.addClass(t.inputClass),i=d(e,t),a(e,e,t),t.inputAddTypeAsClass&&e.addClass(s),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(s),i&&e.unwrap()},update:C}}},{match:function(e){return e.is(":radio")},apply:function(t,r){var o,d,f;return o=c(t,r,{divClass:r.radioClass}),d=o.div,f=o.span,a(t,d,r),s(t,r,{"click touchend":function(){e.uniform.update(e(':radio[name="'+n(t,"name")+'"]'))}}),l(f,t,r),{remove:k(t,r),update:function(){i(d,r),l(f,t,r),u(d,t,r)}}}},{match:function(e){return e.is("select")&&!h(e)?!0:!1},apply:function(t,n){var r,l,o,d;return n.selectAutoWidth&&g(t,function(){d=t.width()}),r=c(t,n,{divClass:n.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),l=r.div,o=r.span,n.selectAutoWidth?g(t,function(){y(e([o[0],l[0]]),{display:"block"},function(){var e;e=o.outerWidth()-o.width(),l.width(d+e),o.width(d)})}):l.addClass("fixedWidth"),a(t,l,n),s(t,n,{change:function(){o.html(t.find(":selected").html()),l.removeClass(n.activeClass)},"click touchend":function(){var e=t.find(":selected").html();o.html()!==e&&t.trigger("change")},keyup:function(){o.html(t.find(":selected").html())}}),w(o,n),{remove:function(){return o.remove(),t.unwrap().unbind(n.eventNamespace),t},update:function(){n.selectAutoWidth?(e.uniform.restore(t),t.uniform(n)):(i(l,n),o.html(t.find(":selected").html()),u(l,t,n))}}}},{match:function(e){return e.is("select")&&h(e)?!0:!1},apply:function(e,t){var n;return e.addClass(t.selectMultiClass),n=d(e,t),a(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),n&&e.unwrap()},update:C}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;return e.addClass(t.textareaClass),n=d(e,t),a(e,e,t),{remove:function(){e.removeClass(t.textareaClass),n&&e.unwrap()},update:C}}}];m()&&!v()&&(H=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},e.fn.uniform=function(t){var n=this;return t=e.extend({},e.uniform.defaults,t),x||(x=!0,f()&&(H=!1)),H?(t.resetSelector&&e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(n)},10)}),this.each(function(){var n,s,a,i=e(this);if(i.data("uniformed"))return e.uniform.update(i),void 0;for(n=0;A.length>n;n+=1)if(s=A[n],s.match(i,t))return a=s.apply(i,t),i.data("uniformed",a),e.uniform.elements.push(i.get(0)),void 0})):this},e.uniform.restore=e.fn.uniform.restore=function(n){n===t&&(n=e.uniform.elements),e(n).each(function(){var t,n,s=e(this);n=s.data("uniformed"),n&&(n.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),s.removeData("uniformed"))})},e.uniform.update=e.fn.uniform.update=function(n){n===t&&(n=e.uniform.elements),e(n).each(function(){var t,n=e(this);t=n.data("uniformed"),t&&t.update(n,t.options)})}})(jQuery);


(function(){var v=this,R=v._,r={},l=Array.prototype,s=Object.prototype,D=l.push,j=l.slice,t=l.concat,o=s.toString,S=s.hasOwnProperty,E=l.forEach,F=l.map,G=l.reduce,H=l.reduceRight,I=l.filter,J=l.every,K=l.some,u=l.indexOf,L=l.lastIndexOf;s=Array.isArray;var M=Object.keys,w=Function.prototype.bind,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this._wrapped=a};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports)exports=module.exports=c;
exports._=c}else v._=c;c.VERSION="1.6.0";var k=c.each=c.forEach=function(a,b,d){if(a==null)return a;if(E&&a.forEach===E)a.forEach(b,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f;e++){if(b.call(d,a[e],e,a)===r)return}else{var g=c.keys(a);e=0;for(f=g.length;e<f;e++)if(b.call(d,a[g[e]],g[e],a)===r)return}return a};c.map=c.collect=function(a,b,d){var e=[];if(a==null)return e;if(F&&a.map===F)return a.map(b,d);k(a,function(f,g,h){e.push(b.call(d,f,g,h))});return e};c.reduce=c.foldl=c.inject=
function(a,b,d,e){var f=arguments.length>2;if(a==null)a=[];if(G&&a.reduce===G){if(e)b=c.bind(b,e);return f?a.reduce(b,d):a.reduce(b)}k(a,function(g,h,i){if(f)d=b.call(e,d,g,h,i);else{d=g;f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};c.reduceRight=c.foldr=function(a,b,d,e){var f=arguments.length>2;if(a==null)a=[];if(H&&a.reduceRight===H){if(e)b=c.bind(b,e);return f?a.reduceRight(b,d):a.reduceRight(b)}var g=a.length;if(g!==+g){var h=c.keys(a);g=h.length}k(a,
function(i,m,n){m=h?h[--g]:--g;if(f)d=b.call(e,d,a[m],m,n);else{d=a[m];f=true}});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d};c.find=c.detect=function(a,b,d){var e;N(a,function(f,g,h){if(b.call(d,f,g,h)){e=f;return true}});return e};c.filter=c.select=function(a,b,d){var e=[];if(a==null)return e;if(I&&a.filter===I)return a.filter(b,d);k(a,function(f,g,h){b.call(d,f,g,h)&&e.push(f)});return e};c.reject=function(a,b,d){return c.filter(a,function(e,f,g){return!b.call(d,
e,f,g)},d)};c.every=c.all=function(a,b,d){b||(b=c.identity);var e=true;if(a==null)return e;if(J&&a.every===J)return a.every(b,d);k(a,function(f,g,h){if(!(e=e&&b.call(d,f,g,h)))return r});return!!e};var N=c.some=c.any=function(a,b,d){b||(b=c.identity);var e=false;if(a==null)return e;if(K&&a.some===K)return a.some(b,d);k(a,function(f,g,h){if(e||(e=b.call(d,f,g,h)))return r});return!!e};c.contains=c.include=function(a,b){if(a==null)return false;if(u&&a.indexOf===u)return a.indexOf(b)!=-1;return N(a,
function(d){return d===b})};c.invoke=function(a,b){var d=j.call(arguments,2),e=c.isFunction(b);return c.map(a,function(f){return(e?b:f[b]).apply(f,d)})};c.pluck=function(a,b){return c.map(a,c.property(b))};c.where=function(a,b){return c.filter(a,c.matches(b))};c.findWhere=function(a,b){return c.find(a,c.matches(b))};c.max=function(a,b,d){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var e=-Infinity,f=-Infinity;k(a,function(g,h,i){h=b?b.call(d,g,h,i):g;if(h>f){e=g;
f=h}});return e};c.min=function(a,b,d){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var e=Infinity,f=Infinity;k(a,function(g,h,i){h=b?b.call(d,g,h,i):g;if(h<f){e=g;f=h}});return e};c.shuffle=function(a){var b,d=0,e=[];k(a,function(f){b=c.random(d++);e[d-1]=e[b];e[b]=f});return e};c.sample=function(a,b,d){if(b==null||d){if(a.length!==+a.length)a=c.values(a);return a[c.random(a.length-1)]}return c.shuffle(a).slice(0,Math.max(0,b))};var x=function(a){if(a==null)return c.identity;
if(c.isFunction(a))return a;return c.property(a)};c.sortBy=function(a,b,d){b=x(b);return c.pluck(c.map(a,function(e,f,g){return{value:e,index:f,criteria:b.call(d,e,f,g)}}).sort(function(e,f){var g=e.criteria,h=f.criteria;if(g!==h){if(g>h||g===void 0)return 1;if(g<h||h===void 0)return-1}return e.index-f.index}),"value")};var y=function(a){return function(b,d,e){var f={};d=x(d);k(b,function(g,h){h=d.call(e,g,h,b);a(f,h,g)});return f}};c.groupBy=y(function(a,b,d){c.has(a,b)?a[b].push(d):(a[b]=[d])});
c.indexBy=y(function(a,b,d){a[b]=d});c.countBy=y(function(a,b){c.has(a,b)?a[b]++:(a[b]=1)});c.sortedIndex=function(a,b,d,e){d=x(d);b=d.call(e,b);for(var f=0,g=a.length;f<g;){var h=f+g>>>1;d.call(e,a[h])<b?(f=h+1):(g=h)}return f};c.toArray=function(a){if(!a)return[];if(c.isArray(a))return j.call(a);if(a.length===+a.length)return c.map(a,c.identity);return c.values(a)};c.size=function(a){if(a==null)return 0;return a.length===+a.length?a.length:c.keys(a).length};c.first=c.head=c.take=function(a,b,d){if(a!=
null){if(b==null||d)return a[0];if(b<0)return[];return j.call(a,0,b)}};c.initial=function(a,b,d){return j.call(a,0,a.length-(b==null||d?1:b))};c.last=function(a,b,d){if(a!=null){if(b==null||d)return a[a.length-1];return j.call(a,Math.max(a.length-b,0))}};c.rest=c.tail=c.drop=function(a,b,d){return j.call(a,b==null||d?1:b)};c.compact=function(a){return c.filter(a,c.identity)};var O=function(a,b,d){if(b&&c.every(a,c.isArray))return t.apply(d,a);k(a,function(e){if(c.isArray(e)||c.isArguments(e))b?D.apply(d,
e):O(e,b,d);else d.push(e)});return d};c.flatten=function(a,b){return O(a,b,[])};c.without=function(a){return c.difference(a,j.call(arguments,1))};c.partition=function(a,b){var d=[],e=[];k(a,function(f){(b(f)?d:e).push(f)});return[d,e]};c.uniq=c.unique=function(a,b,d,e){if(c.isFunction(b)){e=d;d=b;b=false}d=d?c.map(a,d,e):a;var f=[],g=[];k(d,function(h,i){if(b?!i||g[g.length-1]!==h:!c.contains(g,h)){g.push(h);f.push(a[i])}});return f};c.union=function(){return c.uniq(c.flatten(arguments,true))};c.intersection=
function(a){var b=j.call(arguments,1);return c.filter(c.uniq(a),function(d){return c.every(b,function(e){return c.contains(e,d)})})};c.difference=function(a){var b=t.apply(l,j.call(arguments,1));return c.filter(a,function(d){return!c.contains(b,d)})};c.zip=function(){for(var a=c.max(c.pluck(arguments,"length").concat(0)),b=new Array(a),d=0;d<a;d++)b[d]=c.pluck(arguments,""+d);return b};c.object=function(a,b){if(a==null)return{};for(var d={},e=0,f=a.length;e<f;e++)if(b)d[a[e]]=b[e];else d[a[e][0]]=
a[e][1];return d};c.indexOf=function(a,b,d){if(a==null)return-1;var e=0,f=a.length;if(d)if(typeof d=="number")e=d<0?Math.max(0,f+d):d;else{e=c.sortedIndex(a,b);return a[e]===b?e:-1}if(u&&a.indexOf===u)return a.indexOf(b,d);for(;e<f;e++)if(a[e]===b)return e;return-1};c.lastIndexOf=function(a,b,d){if(a==null)return-1;var e=d!=null;if(L&&a.lastIndexOf===L)return e?a.lastIndexOf(b,d):a.lastIndexOf(b);for(d=e?d:a.length;d--;)if(a[d]===b)return d;return-1};c.range=function(a,b,d){if(arguments.length<=1){b=
a||0;a=0}d=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/d),0),f=0,g=new Array(e);f<e;){g[f++]=a;a+=d}return g};var z=function(){};c.bind=function(a,b){var d,e;if(w&&a.bind===w)return w.apply(a,j.call(arguments,1));if(!c.isFunction(a))throw new TypeError;d=j.call(arguments,2);return e=function(){if(!(this instanceof e))return a.apply(b,d.concat(j.call(arguments)));z.prototype=a.prototype;var f=new z;z.prototype=null;var g=a.apply(f,d.concat(j.call(arguments)));if(Object(g)===g)return g;return f}};
c.partial=function(a){var b=j.call(arguments,1);return function(){for(var d=0,e=b.slice(),f=0,g=e.length;f<g;f++)if(e[f]===c)e[f]=arguments[d++];for(;d<arguments.length;)e.push(arguments[d++]);return a.apply(this,e)}};c.bindAll=function(a){var b=j.call(arguments,1);if(b.length===0)throw new Error("bindAll must be passed function names");k(b,function(d){a[d]=c.bind(a[d],a)});return a};c.memoize=function(a,b){var d={};b||(b=c.identity);return function(){var e=b.apply(this,arguments);return c.has(d,
e)?d[e]:(d[e]=a.apply(this,arguments))}};c.delay=function(a,b){var d=j.call(arguments,2);return setTimeout(function(){return a.apply(null,d)},b)};c.defer=function(a){return c.delay.apply(c,[a,1].concat(j.call(arguments,1)))};c.throttle=function(a,b,d){var e,f,g,h=null,i=0;d||(d={});var m=function(){i=d.leading===false?0:c.now();h=null;g=a.apply(e,f);e=f=null};return function(){var n=c.now();if(!i&&d.leading===false)i=n;var p=b-(n-i);e=this;f=arguments;if(p<=0){clearTimeout(h);h=null;i=n;g=a.apply(e,
f);e=f=null}else if(!h&&d.trailing!==false)h=setTimeout(m,p);return g}};c.debounce=function(a,b,d){var e,f,g,h,i,m=function(){var n=c.now()-h;if(n<b)e=setTimeout(m,b-n);else{e=null;if(!d){i=a.apply(g,f);g=f=null}}};return function(){g=this;f=arguments;h=c.now();var n=d&&!e;e||(e=setTimeout(m,b));if(n){i=a.apply(g,f);g=f=null}return i}};c.once=function(a){var b=false,d;return function(){if(b)return d;b=true;d=a.apply(this,arguments);a=null;return d}};c.wrap=function(a,b){return c.partial(b,a)};c.compose=
function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};c.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};c.keys=function(a){if(!c.isObject(a))return[];if(M)return M(a);var b=[];for(var d in a)c.has(a,d)&&b.push(d);return b};c.values=function(a){for(var b=c.keys(a),d=b.length,e=new Array(d),f=0;f<d;f++)e[f]=a[b[f]];return e};c.pairs=function(a){for(var b=c.keys(a),d=b.length,e=new Array(d),f=0;f<d;f++)e[f]=
[b[f],a[b[f]]];return e};c.invert=function(a){for(var b={},d=c.keys(a),e=0,f=d.length;e<f;e++)b[a[d[e]]]=d[e];return b};c.functions=c.methods=function(a){var b=[];for(var d in a)c.isFunction(a[d])&&b.push(d);return b.sort()};c.extend=function(a){k(j.call(arguments,1),function(b){if(b)for(var d in b)a[d]=b[d]});return a};c.pick=function(a){var b={},d=t.apply(l,j.call(arguments,1));k(d,function(e){if(e in a)b[e]=a[e]});return b};c.omit=function(a){var b={},d=t.apply(l,j.call(arguments,1));for(var e in a)c.contains(d,
e)||(b[e]=a[e]);return b};c.defaults=function(a){k(j.call(arguments,1),function(b){if(b)for(var d in b)if(a[d]===void 0)a[d]=b[d]});return a};c.clone=function(a){if(!c.isObject(a))return a;return c.isArray(a)?a.slice():c.extend({},a)};c.tap=function(a,b){b(a);return a};var A=function(a,b,d,e){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof c)a=a._wrapped;if(b instanceof c)b=b._wrapped;var f=o.call(a);if(f!=o.call(b))return false;switch(f){case "[object String]":return a==
String(b);case "[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;for(var g=d.length;g--;)if(d[g]==a)return e[g]==b;g=a.constructor;var h=b.constructor;if(g!==h&&!(c.isFunction(g)&&g instanceof g&&c.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in
b)return false;d.push(a);e.push(b);g=0;h=true;if(f=="[object Array]"){g=a.length;if(h=g==b.length)for(;g--;)if(!(h=A(a[g],b[g],d,e)))break}else{for(var i in a)if(c.has(a,i)){g++;if(!(h=c.has(b,i)&&A(a[i],b[i],d,e)))break}if(h){for(i in b)if(c.has(b,i)&&!g--)break;h=!g}}d.pop();e.pop();return h};c.isEqual=function(a,b){return A(a,b,[],[])};c.isEmpty=function(a){if(a==null)return true;if(c.isArray(a)||c.isString(a))return a.length===0;for(var b in a)if(c.has(a,b))return false;return true};c.isElement=
function(a){return!!(a&&a.nodeType===1)};c.isArray=s||function(a){return o.call(a)=="[object Array]"};c.isObject=function(a){return a===Object(a)};k(["Arguments","Function","String","Number","Date","RegExp"],function(a){c["is"+a]=function(b){return o.call(b)=="[object "+a+"]"}});if(!c.isArguments(arguments))c.isArguments=function(a){return!!(a&&c.has(a,"callee"))};if(typeof/./!=="function")c.isFunction=function(a){return typeof a==="function"};c.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};
c.isNaN=function(a){return c.isNumber(a)&&a!=+a};c.isBoolean=function(a){return a===true||a===false||o.call(a)=="[object Boolean]"};c.isNull=function(a){return a===null};c.isUndefined=function(a){return a===void 0};c.has=function(a,b){return S.call(a,b)};c.noConflict=function(){v._=R;return this};c.identity=function(a){return a};c.constant=function(a){return function(){return a}};c.property=function(a){return function(b){return b[a]}};c.matches=function(a){return function(b){if(b===a)return true;
for(var d in a)if(a[d]!==b[d])return false;return true}};c.times=function(a,b,d){for(var e=Array(Math.max(0,a)),f=0;f<a;f++)e[f]=b.call(d,f);return e};c.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};c.now=Date.now||function(){return(new Date).getTime()};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=c.invert(q.escape);var T={escape:new RegExp("["+c.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+c.keys(q.unescape).join("|")+
")","g")};c.each(["escape","unescape"],function(a){c[a]=function(b){if(b==null)return"";return(""+b).replace(T[a],function(d){return q[a][d]})}});c.result=function(a,b){if(a!=null){b=a[b];return c.isFunction(b)?b.call(a):b}};c.mixin=function(a){k(c.functions(a),function(b){var d=c[b]=a[b];c.prototype[b]=function(){var e=[this._wrapped];D.apply(e,arguments);return B.call(this,d.apply(c,e))}})};var U=0;c.uniqueId=function(a){var b=++U+"";return a?a+b:b};c.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\t|\u2028|\u2029/g;c.template=function(a,b,d){var e;d=c.defaults({},d,c.templateSettings);var f=new RegExp([(d.escape||C).source,(d.interpolate||C).source,(d.evaluate||C).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(f,function(m,n,p,P,Q){h+=a.slice(g,Q).replace(W,function(X){return"\\"+V[X]});if(n)h+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'";
if(p)h+="'+\n((__t=("+p+"))==null?'':__t)+\n'";if(P)h+="';\n"+P+"\n__p+='";g=Q+m.length;return m});h+="';\n";d.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{e=new Function(d.variable||"obj","_",h)}catch(i){i.source=h;throw i;}if(b)return e(b,c);b=function(m){return e.call(this,m,c)};b.source="function("+(d.variable||"obj")+"){\n"+h+"}";return b};c.chain=function(a){return c(a).chain()};var B=
function(a){return this._chain?c(a).chain():a};c.mixin(c);k(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=l[a];c.prototype[a]=function(){var d=this._wrapped;b.apply(d,arguments);if((a=="shift"||a=="splice")&&d.length===0)delete d[0];return B.call(this,d)}});k(["concat","join","slice"],function(a){var b=l[a];c.prototype[a]=function(){return B.call(this,b.apply(this._wrapped,arguments))}});c.extend(c.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}});
typeof define==="function"&&define.amd&&define("underscore",[],function(){return c})}).call(this);

var guxApp=guxApp||{};
(function(e){guxApp.cookie={get:function(a,c,b){if(!a)return null;var f=this;return(a=guxApp.tools.decode(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+guxApp.tools.encode(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null)&&c&&b?f.getCookieVal(a,c,b):a},set:function(a,c,b,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return false;var g=typeof e("#common-config")!="undefined"&&e("#common-config").length>0?e("#common-config").embeddedData():null,d=
"",h="";if(b)switch(b.constructor){case Number:d=b===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+b;break;case String:d="; expires="+b;break;case Date:d="; expires="+b.toUTCString();break}if(g!=null&&g.cookieDomain)h=g.cookieDomain;document.cookie=guxApp.tools.encode(a)+"="+guxApp.tools.encode(c)+d+(h?"; domain="+h:"")+"; path=/"+(f?"; secure":"");return true},del:function(a){if(!this.hasItem(a))return false;var c=typeof e("#common-config")!="undefined"&&e("#common-config").length>
0?e("#common-config").embeddedData():null,b="";if(c!=null&&c.cookieDomain)b=c.cookieDomain;document.cookie=guxApp.tools.encode(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain="+b:"")+"; path=/";return true},hasItem:function(a){if(!a)return false;return(new RegExp("(?:^|;\\s*)"+guxApp.tools.encode(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},isJsonStr:function(a){try{e.parseJSON(a)}catch(c){return false}return true},getCookieVal:function(a,c,b){var f={},g=c.length;
if(this.isJsonStr(a)){b=e.parseJSON(a);for(var d in b)for(a=0;a<g;a++)if(d==c[a])f[c[a]]=b[d]}else{b=a.split(b);var h=b.length;for(d=0;d<h;d++)for(a=0;a<g;a++)if(b[d].indexOf(c[a])!=-1)f[c[a]]=b[d].substring(c[a].length+1,b[d].length)}return f}}})(jQuery);

function googleMapsApi(j){function f(a,b){var c=this;b.streetViewControl=false;if(b.center&&b.zoom)this.map=new google.maps.Map(a,b);else{this.map=new google.maps.Map(a,b);this.setBounds(r)}b.enableZoom||this.map.setOptions({scrollwheel:false});b.disableBusinessPOI&&this.map.setOptions({styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",stylers:[{visibility:"on"}]},{featureType:"poi.government",stylers:[{visibility:"on"}]},{featureType:"poi.medical",
stylers:[{visibility:"on"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"on"}]},{featureType:"poi.school",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]}]});this.map.setOptions({zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}});this.markers=[];this.autocompleteTimeout=null;this.directionsService=new google.maps.DirectionsService;
this.directionsDisplay=new google.maps.DirectionsRenderer({suppressMarkers:true});this.offsetByPixels=function(d,e){var g=this.map.getProjection(),o=1<<this.map.getZoom();d=new google.maps.LatLng(d.lat,d.lng);d=g.fromLatLngToPoint(d);d.x+=e/o;e=g.fromPointToLatLng(d);return{lat:e.lat(),lng:e.lng()}}}function B(a,b,c,d,e){this.position_=a;this.map_=b;this.label_=c;this.content_=d;this.icon=this.div_=null;this.callback=e;this.infoWindow=null;this.setMap(b)}function F(a,b,c){this.position_=new google.maps.LatLng(a.lat,
a.lng);this.map_=b;this.content_=c;this.div_=null;this.setMap(b)}function J(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a);document.body.appendChild(b)}function Z(a,b,c,d){a=Math.PI*a/180;var e=Math.PI*c/180;d=Math.PI*d/180-Math.PI*b/180;c=e-a;b=Math.pow(Math.sin(c/2),2)+Math.cos(a)*Math.cos(e)*Math.pow(Math.sin(d/2),2);return 6371*2*Math.asin(Math.min(1,Math.sqrt(b)))}function T(a){return{"\u00b5":"\u03bc","\u00df":"ss","\u0130":"i\u0307",
"\u0149":"\u02bcn","\u017f":"s","\u01f0":"j\u030c","\u0345":"\u03b9","\u0390":"\u03b9\u0308\u0301","\u03b0":"\u03c5\u0308\u0301","\u03c2":"\u03c3","\u03d0":"\u03b2","\u03d1":"\u03b8","\u03d5":"\u03c6","\u03d6":"\u03c0","\u03f0":"\u03ba","\u03f1":"\u03c1","\u03f5":"\u03b5","\u0587":"\u0565\u0582","\u1e96":"h\u0331","\u1e97":"t\u0308","\u1e98":"w\u030a","\u1e99":"y\u030a","\u1e9a":"a\u02be","\u1e9b":"\u1e61","\u1e9e":"ss","\u1f50":"\u03c5\u0313","\u1f52":"\u03c5\u0313\u0300","\u1f54":"\u03c5\u0313\u0301",
"\u1f56":"\u03c5\u0313\u0342","\u1f80":"\u1f00\u03b9","\u1f81":"\u1f01\u03b9","\u1f82":"\u1f02\u03b9","\u1f83":"\u1f03\u03b9","\u1f84":"\u1f04\u03b9","\u1f85":"\u1f05\u03b9","\u1f86":"\u1f06\u03b9","\u1f87":"\u1f07\u03b9","\u1f88":"\u1f00\u03b9","\u1f89":"\u1f01\u03b9","\u1f8a":"\u1f02\u03b9","\u1f8b":"\u1f03\u03b9","\u1f8c":"\u1f04\u03b9","\u1f8d":"\u1f05\u03b9","\u1f8e":"\u1f06\u03b9","\u1f8f":"\u1f07\u03b9","\u1f90":"\u1f20\u03b9","\u1f91":"\u1f21\u03b9","\u1f92":"\u1f22\u03b9","\u1f93":"\u1f23\u03b9",
"\u1f94":"\u1f24\u03b9","\u1f95":"\u1f25\u03b9","\u1f96":"\u1f26\u03b9","\u1f97":"\u1f27\u03b9","\u1f98":"\u1f20\u03b9","\u1f99":"\u1f21\u03b9","\u1f9a":"\u1f22\u03b9","\u1f9b":"\u1f23\u03b9","\u1f9c":"\u1f24\u03b9","\u1f9d":"\u1f25\u03b9","\u1f9e":"\u1f26\u03b9","\u1f9f":"\u1f27\u03b9","\u1fa0":"\u1f60\u03b9","\u1fa1":"\u1f61\u03b9","\u1fa2":"\u1f62\u03b9","\u1fa3":"\u1f63\u03b9","\u1fa4":"\u1f64\u03b9","\u1fa5":"\u1f65\u03b9","\u1fa6":"\u1f66\u03b9","\u1fa7":"\u1f67\u03b9","\u1fa8":"\u1f60\u03b9",
"\u1fa9":"\u1f61\u03b9","\u1faa":"\u1f62\u03b9","\u1fab":"\u1f63\u03b9","\u1fac":"\u1f64\u03b9","\u1fad":"\u1f65\u03b9","\u1fae":"\u1f66\u03b9","\u1faf":"\u1f67\u03b9","\u1fb2":"\u1f70\u03b9","\u1fb3":"\u03b1\u03b9","\u1fb4":"\u03ac\u03b9","\u1fb6":"\u03b1\u0342","\u1fb7":"\u03b1\u0342\u03b9","\u1fbc":"\u03b1\u03b9","\u1fbe":"\u03b9","\u1fc2":"\u1f74\u03b9","\u1fc3":"\u03b7\u03b9","\u1fc4":"\u03ae\u03b9","\u1fc6":"\u03b7\u0342","\u1fc7":"\u03b7\u0342\u03b9","\u1fcc":"\u03b7\u03b9","\u1fd2":"\u03b9\u0308\u0300",
"\u1fd3":"\u03b9\u0308\u0301","\u1fd6":"\u03b9\u0342","\u1fd7":"\u03b9\u0308\u0342","\u1fe2":"\u03c5\u0308\u0300","\u1fe3":"\u03c5\u0308\u0301","\u1fe4":"\u03c1\u0313","\u1fe6":"\u03c5\u0342","\u1fe7":"\u03c5\u0308\u0342","\u1ff2":"\u1f7c\u03b9","\u1ff3":"\u03c9\u03b9","\u1ff4":"\u03ce\u03b9","\u1ff6":"\u03c9\u0342","\u1ff7":"\u03c9\u0342\u03b9","\u1ffc":"\u03c9\u03b9","\ufb00":"ff","\ufb01":"fi","\ufb02":"fl","\ufb03":"ffi","\ufb04":"ffl","\ufb05":"st","\ufb06":"st","\ufb13":"\u0574\u0576","\ufb14":"\u0574\u0565",
"\ufb15":"\u0574\u056b","\ufb16":"\u057e\u0576","\ufb17":"\u0574\u056d"}[a]||a}function K(a,b){b=b.toLowerCase().replace(U,"").replace(/\s+/g," ").replace(/./g,T);a=a.toLowerCase().replace(U,"").replace(/\s+/g," ").replace(/./g,T);return a.indexOf(b)}var N=j.language,O=j.countryCode,D=j.countryCodes?j.countryCodes.split(","):[O],H=j.imagePath,r=j.countryBounds;N=j.autocompleteCallbackURL;var X=j.autocompleteCallbackName,P="";D=j.countryCodes?j.countryCodes.split(","):[O];var V=j.apiKey?j.apiKey:"Al1EdZ_aW5T6XNlr-BJxCw1l4KaA0tmXFI_eTl1RITyYptWUS0qit_MprtcG7w2F",
W=j.dealerTableURL?j.dealerTableURL:"https://spatial.virtualearth.net/REST/v1/data/1652026ff3b247cd9d1f4cc12b9a080b/FordEuropeDealers_Transition/Dealer",z=[],U=/[\!"#\$%&'\(\)\*\+`\-\.\/\:;\<\=\>\?@\[\\\]\^_'\{\|\}~]/g;if(r){var G=[];for(j=0;j<r.length;j++)r[j].lat&&r[j].lng&&G.push(r[j].lng+" "+r[j].lat);r[0].lat===r[r.length-1].lat&&r[0].lng===r[r.length-1].lng||G.push(r[0].lng+" "+r[0].lat)}if(r){G=-91;var Q=91,R=-181,S=181;for(j=0;j<r.length;j++){var v=r[j];v.lat=Number(v.lat);v.lng=Number(v.lng);
if(v.lat!==""||v.lng!==""){if(v.lat>G)G=v.lat;if(v.lat<Q)Q=v.lat;if(v.lng>R)R=v.lng;if(v.lng<S)S=v.lng}}P="("+Q+","+S+","+G+","+R+")"}N&&J(N);window[X]=function(a){z=a};f.prototype.setCenter=function(a,b){var c=this;this.map.setCenter(a);if(b)var d=google.maps.event.addListener(this.map,"idle",function(){c.map.panBy(b,0);google.maps.event.removeListener(d)})};f.prototype.getCenter=function(){var a=this.map.getCenter();return{lat:a.lat(),lng:a.lng()}};f.prototype.panTo=function(a){this.map.panTo({lat:a.lat,
lng:a.lng})};f.prototype.setZoom=function(a){this.map.setZoom(a)};f.prototype.getZoom=function(){return this.map.getZoom()};f.prototype.setBounds=function(a,b){for(var c=new google.maps.LatLngBounds,d=this,e=0;e<a.length;e++)if(a[e].lat&&a[e].lng)c.extend(new google.maps.LatLng(a[e].lat,a[e].lng));else a[e].location&&a[e].location.lat&&a[e].location.lng&&c.extend(new google.maps.LatLng(a[e].location.lat,a[e].location.lng));if(a.length){this.map.fitBounds(c);if(b)var g=google.maps.event.addListener(this.map,
"idle",function(){var o=d.map.getZoom();d.map.setZoom(o-1);d.map.panBy(b,0);google.maps.event.removeListener(g)})}};f.prototype.getBounds=function(){var a=this.map.getBounds(),b=a.getNorthEast();a=a.getSouthWest();return{ne:{lat:b.lat(),lng:b.lng()},sw:{lat:a.lat(),lng:a.lng()}}};f.prototype.geocodeLocation=function(a,b){var c=[];(new google.maps.Geocoder).geocode({address:a,region:O},function(d){for(var e=false,g=0;g<d.length;g++){e=false;for(var o=0;o<d[g].address_components.length;o++)for(var s=
0;s<d[g].address_components[o].types.length;s++)if(d[g].address_components[o].types[s]==="country")for(var u=0;u<D.length;u++)if(d[g].address_components[o].short_name===D[u])e=true;e&&c.push({lat:d[g].geometry.location.lat(),lng:d[g].geometry.location.lng(),description:d[g].formatted_address,types:d[g].types,address_components:d[g].address_components})}b(c)})};f.prototype.reverseGeocode=function(a,b){(new google.maps.Geocoder).geocode({latLng:new google.maps.LatLng(a.lat,a.lng)},function(c,d){c[0]&&
b(c[0].formatted_address)})};f.prototype.addMarker=function(a){return new google.maps.Marker({position:a,map:this.map})};f.prototype.addGuxMarker=function(a,b,c,d){a=new B(new google.maps.LatLng(a.lat,a.lng),this.map,b,c,d);this.markers.unshift(a);return a};f.prototype.addListener=function(a,b,c){return google.maps.event.addListener(a,b,c)};f.prototype.removeListener=function(a){google.maps.event.removeListener(a)};f.prototype.trigger=function(a,b){google.maps.event.trigger(a,b)};f.prototype.clearMarkers=
function(a){for(var b=0;b<a.length;b++)a[b].setMap(null)};f.prototype.searchDealersByDistance=function(a,b,c,d,e,g){var o=W+"?",s=b?"spatialFilter=nearby("+a.lat+","+a.lng+","+b+")":"spatialFilter=bbox"+P,u=[],E=[],w=[];E="&$filter=";var A="&$top="+c,p="&key="+V;matchORClauses=[];matchNOTClauses=[];if(e&&e.OR_CLAUSES){for(var x=0;x<e.OR_CLAUSES.length;x++){orArr=[];for(var l in e.OR_CLAUSES[x])l.indexOf("!")===0?orArr.push(l.slice(1)+"%20Ne%20%27"+e.OR_CLAUSES[x][l]+"%27"):orArr.push(l+"%20Eq%20%27"+
e.OR_CLAUSES[x][l]+"%27");u.push("("+orArr.join("%20OR%20")+")")}delete e.OR_CLAUSES}if(e)for(var q in e)q.indexOf("!")===0?u.push(q.slice(1)+"%20Ne%20%27"+e[q]+"%27"):u.push(q+"%20Eq%20%27"+e[q]+"%27");if(u.length)E+=u.join("%20And%20");else throw new Error("Must specify at least one match parameter.");J(o+s+"&$select=*,__Distance"+E+A+"&$format=json"+p+"&Jsonp=processDealerResults");window.processDealerResults=function(i){for(var y,t=[],L=new google.maps.DistanceMatrixService,h=0;h<i.d.results.length;h++){y=
i.d.results[h];y.location={lat:i.d.results[h].Latitude,lng:i.d.results[h].Longitude};y.distance=i.d.results[h].__Distance*1E3;t.push(y)}destinationLatLngs=[];var k=filterDealers(t,g,100);for(h=0;h<k.length;h++)destinationLatLngs.push(new google.maps.LatLng(k[h].location.lat,k[h].location.lng));distanceResponses=new Array(Math.ceil(destinationLatLngs.length/25));if(k.length){i=function(m){return function(C){var Y=destinationLatLngs.slice(m*25,m*25+25).length,n;if(C)for(n=0;n<C.rows[0].elements.length;n++)if(C.rows[0].elements[n].status===
"OK"){k[m*25+n].distance=C.rows[0].elements[n].distance.value;k[m*25+n].drivingTime=C.rows[0].elements[n].duration.value;if(b)k[m*25+n].distance<=b*1E3&&w.push(k[m*25+n]);else w.push(k[m*25+n])}else{k[m*25+n].distanceError=C.rows[0].elements[n].status;k[m*25+n].distance=null;w.push(k[m*25+n])}else for(n=0;n<Y;n++){k[m*25+n].distanceError="DRIVING DISTANCE UNAVAILABLE";k[m*25+n].distance=null;w.push(k[m*25+n])}responsesReturned=distanceResponses[m]=true;for(C=0;C<distanceResponses.length;C++)distanceResponses[C]||
(responsesReturned=false);if(responsesReturned){t=w.sort(function(I,M){if(typeof I.distance==="number"&&typeof M.distance==="number")return I.distance-M.distance;else{if(typeof I.distance!=="number"&&typeof M.distance!=="number")return I.directDistance-M.directDistance;return typeof I.distance==="number"?-1:1}});d(t.slice(0,c))}}};for(h=0;h<destinationLatLngs.length/25;h++)L.getDistanceMatrix({origins:[a],destinations:destinationLatLngs.slice(h*25,h*25+25),travelMode:google.maps.TravelMode.DRIVING},
i(h))}else d(k)}};f.prototype.searchDealersByProperties=function(a,b,c,d){var e,g=W+"?",o="spatialFilter=bbox"+P,s=[],u="&$filter=",E="&$top="+a;key="&key="+V;jsonp="&Jsonp=processDealerResults";var w=[];if(c&&c.OR_CLAUSES){for(var A=0;A<c.OR_CLAUSES.length;A++){orArr=[];for(var p in c.OR_CLAUSES[A])p.indexOf("!")===0?orArr.push(p.slice(1)+"%20Ne%20%27"+c.OR_CLAUSES[A][p]+"%27"):orArr.push(p+"%20Eq%20%27"+c.OR_CLAUSES[A][p]+"%27");s.push("("+orArr.join("%20OR%20")+")")}delete c.OR_CLAUSES}if(c)for(var x in c)x.indexOf("!")===
0?s.push(x.slice(1)+"%20Ne%20%27"+c[x]+"%27"):s.push(x+"%20Eq%20%27"+c[x]+"%27");if(s.length)u+=s.join("%20And%20");else throw new Error("Must specify at least one match parameter.");var l=[],q;e=g+o+"&$select=*"+u+E+"&$inlinecount=allpages&$format=json"+key+jsonp;J(e);window.processDealerResults=function(i){q=i.d.__count;var y;for(t=0;t<q/250;t++)l.push(false);for(var t=0;t<i.d.results.length;t++){y=i.d.results[t];y.location={lat:i.d.results[t].Latitude,lng:i.d.results[t].Longitude};y.distance=i.d.results[t].__Distance*
1E3;w.push(y)}if(q>a){i=parseInt(a,10);var L=y=0;for(t=0;t<q/250;t++){y="&$skip="+i;e=g+o+"&$select=*"+u+y+"&$top=250&$format=json"+key+jsonp;i+=250;J(e);window.processDealerResults=function(h){for(var k,m=0;m<h.d.results.length;m++){k=h.d.results[m];k.location={lat:h.d.results[m].Latitude,lng:h.d.results[m].Longitude};k.distance=h.d.results[m].__Distance*1E3;w.push(k)}l[L]=true;L+=1;h=true;for(k=0;k<l.length;k++)if(l[k]==false)h=false;if(h==true){h=filterDealers(w,d,a);b(h)}}}}else{i=filterDealers(w,
d,a);b(i)}}};filterDealers=function(a,b,c){if(!b)return a;var d=[];if(a.length>0)for(var e=0;e<a.length;e++){var g=true;for(var o in b)if(b.hasOwnProperty(o))if(a[e][o].indexOf(b[o])===-1)g=false;g===true&&d.push(a[e])}a=[];return a=d.length>=c?d.slice(0,c):d};f.prototype.displayDealers=function(a){var b,c={};this.clearMarkers(this.markers);this.markers=[];for(var d=a.length-1;d>=0;d--){b=a[d].indexOverride||d+1;b=this.addGuxMarker({lat:a[d].location.lat,lng:a[d].location.lng},b,a[d].infoWindowMarkup,
a[d].callback);if(c[a[d].location.lat+","+a[d].location.lng])b.xOffset=12;c[a[d].location.lat+","+a[d].location.lng]=true}};f.prototype.clearDealers=function(){this.clearMarkers(this.markers);this.markers=[]};f.prototype.selectMarker=function(a,b){this.markers[a]&&this.markers[a].select(b)};f.prototype.deselectMarker=function(a){this.markers[a]&&this.markers[a].deselect()};f.prototype.deselectMarkers=function(){for(var a=0;a<this.markers.length;a++)this.markers[a].deselect()};f.prototype.autocomplete=
function(a,b,c,d){var e,g,o,s={dealers:[],locations:[]};o=this;var u=0,E={};this.autocompleteTimeout&&clearTimeout(this.autocompleteTimeout);if(d!=="dealers")e=new google.maps.places.AutocompleteService;this.autocompleteTimeout=setTimeout(function(){if(d==="dealers"){for(var w=[],A,p=0;p<z.length;p++)if(K(z[p].n,a)!==-1){A={DealerName:z[p].n,EntityID:z[p].e};K(z[p].n,a)===0?w.splice(0,0,A):w.push(A)}s.dealers=w.slice(0,b);c(s)}else for(p=0;p<D.length;p++)e.getPlacePredictions({input:a,componentRestrictions:{country:D[p]},
types:["geocode"]},function(x){return function(l,q){g=[];if(q==google.maps.places.PlacesServiceStatus.OK)for(q=0;q<l.length;q++)g.push(l[q].description);E[D[x]]=g;u++;if(u===D.length){for(l=0;l<D.length;l++)s.locations=s.locations.concat(E[D[l]]);if(d!=="locations"){l=[];for(var i=0;i<z.length;i++)if(K(z[i].n,a)!==-1){q={DealerName:z[i].n,EntityID:z[i].e};K(z[i].n,a)===0?l.splice(0,0,q):l.push(q)}s.dealers=l.slice(0,b)}c(s)}}}(p))},300)};f.prototype.displayRouteToDealer=function(a,b){var c=this;this.directionsDisplay.setMap(this.map);
this.directionsService.route({origin:a.lat+", "+a.lng,destination:b.location.lat+", "+b.location.lng,travelMode:google.maps.TravelMode.DRIVING},function(d,e){e==google.maps.DirectionsStatus.OK&&c.directionsDisplay.setDirections(d)})};f.prototype.clearRoutes=function(){this.directionsDisplay.setMap(null)};f.prototype.getDirectionsURL=function(a,b){return"https://maps.google.com?"+(b?"saddr="+b.lat+","+b.lng+"&":"")+("daddr="+a.lat+","+a.lng)};f.prototype.getAddressDirectionsURL=function(a,b,c){var d;
d=[];for(var e=0;e<b.length;e++)a[b[e]]&&d.push(a[b[e]]);a=c?"saddr="+c.description+"&":"";d="daddr="+d.join("+");return"https://maps.google.com?"+a+d+"&output=classic"};B.prototype=new google.maps.OverlayView;B.prototype.select=function(a){var b=this;if(b.icon&&b.div_){b.icon.src=H+"map-marker-active.png";b.div_.style.zIndex=100}else setTimeout(function(){if(b.icon&&b.div_){b.icon.src=H+"map-marker-active.png";b.div_.style.zIndex=100}},a||500)};B.prototype.deselect=function(a){var b=this;if(b.icon&&
b.div_){b.icon.src=H+"map-marker.png";b.div_.style.zIndex=1;b.infoWindow&&b.infoWindow.hide()}else setTimeout(function(){if(b.icon&&b.div_){b.icon.src=H+"map-marker.png";b.div_.style.zIndex=1;b.infoWindow&&b.infoWindow.hide()}},a||500)};B.prototype.onAdd=function(){var a=document.createElement("div"),b=this;a.className="map-marker";a.style.width="35px";a.style.height="46px";var c=document.createElement("img");c.src=H+"map-marker.png";this.icon=c;a.appendChild(c);if(this.label_){c=document.createElement("span");
c.innerHTML=this.label_;c.className="marker-label";a.appendChild(c)}this.div_=a;this.getPanes().overlayMouseTarget.appendChild(a);this.callback&&google.maps.event.addDomListener(a,"click",function(){b.callback()});this.content_&&google.maps.event.addDomListener(a,"click",function(){b.showInfoWindow()})};B.prototype.showInfoWindow=function(){var a=this;this.infoWindow&&this.infoWindow.hide();a.infoWindow=new F(a.getPosition(),a.map_,a.content_);if(a.xOffset)a.infoWindow.xOffset=a.xOffset};B.prototype.hideInfowindow=
function(){this.infoWindow&&this.infoWindow.hide()};B.prototype.draw=function(){var a=this.getProjection().fromLatLngToDivPixel(this.position_),b=this.xOffset||0,c=this.div_;c.style.position="absolute";c.style.left=a.x-(17+b)+"px";c.style.top=a.y-46+"px"};B.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_);this.div_=null;this.infoWindow&&this.infoWindow.hide()};B.prototype.getPosition=function(){return{lat:this.position_.lat(),lng:this.position_.lng()}};F.prototype=new google.maps.OverlayView;
F.prototype.onAdd=function(){var a=document.createElement("div");a.className="info-window";a.innerHTML=this.content_;this.div_=a;this.getPanes().overlayMouseTarget.appendChild(a);var b=this;google.maps.event.addListener(this.map_,"click",function(){b.setMap(null)});google.maps.event.addDomListener(a,"click",function(c){c.stopPropagation()})};F.prototype.draw=function(){var a=this.getProjection().fromLatLngToDivPixel(this.position_),b=this.xOffset||0,c=this.div_;c.style.position="absolute";c.style.left=
a.x+30-b+"px";c.style.top=a.y-60+"px"};F.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_);this.div_=null};F.prototype.hide=function(){this.setMap(null)};return{map:f}};

var guxApp=guxApp||{};
(function(a){guxApp.dealerLocator={init:function(){var b=a(".dealer-locator");if(!(!b.length||a(".dealer-unaware",b).hasClass("search-panel"))){var e=a(".dealer-locator"),c=this;c.colorLengend=c.colorLengend||a();b=a("#locator-config").embeddedData();c.mapController=guxApp.googleMapController;if(guxApp.tools.isAutoNaviMap())c.mapController=guxApp.autonaviMapController;c.filters=[];c.container=e;c.mapContainer=a(".dealer-map-field",c.container);c.dealerResultHolder=a(".dealer-list",e);c.config=c.mapController.config;
c.is_mobile=guxApp.viewport.view=="mobile";c.is_autoDetection=false;c.is_selectLocation=false;c.hideDistanceByLocation=!!c.config.hideDistanceByLocation;c.errorContainer=a(".error",c.container);c.config.dealerId.length==0&&a(".dealer-map-landing").removeClass("hide");a(".btn-search",e).on("click",function(d){if(a(this).is(".trackable")&&!d.originalEvent)return false});a(".filter-toggler",e).on("click",function(d){d.preventDefault();d=a(this).closest(".dealer-filter-bar");var g=d.siblings(".result-list");
if(d.hasClass("active"))c._LastHasCls?d.siblings(".result-list.selected").show():d.siblings(".result-list.selected").siblings(".result-list").show();else{c._LastHasCls=d.siblings(".result-list:visible").hasClass("selected")?true:false;g.hide()}a(".dealer-filter-bar").hasClass("active")&&a(this).removeClass("trackable");d=a(".viewSaved",e);c.getSavedDealer()?d.show():d.hide();a(".view-details",e).on("click",c.togglePopInfo);a(".dealer-filter-bar").toggleClass("active")});a(".filter-accordion",e).find(".control").on("click",
c.toggleAccordion);a(".filter-distance",e).find("dt a").on("click",c.showOptions);a(".group-list",e).on("click",".close-info",c.closePopInfo);a(".filter-clear",e).on("click",function(){var d=a(".group-list",e);d.find("input:checked").removeAttr("checked");d.find('span[class="checked"]').removeClass("checked")});a(".input-panel input[type=text]",e).on("focus",function(){var d=this,g=a(d).attr("placeholder");a(d).val();if(a(d).attr("placeholder")){a(d).data("placeholder",g);a(d).removeAttr("placeholder")}});
a(".input-panel input[type=text]",e).on("blur",function(){var d=this;a(d).attr("placeholder");a(d).val()||a(d).attr("placeholder",a(d).data("placeholder"))});a(".dealer-filter-bar",e).on("submit",".filter-accordion",function(d){d.preventDefault();d=a(this).serialize();var g=c.dealers||[],f={};c.filters=[];c.is_autoDetection=false;c.closeTabs();if(d){d=d.split("&");a.each(d,function(h,i){h=i.split("=");c.filters.push(h[0]);f[h[0]]=true});g=_.where(c.dealers,f);if(!g.length){c.loadedDealers=[];c.mapController.cleanMap();
a(".dealer-result-container .count .num").text("");a(".dealer-result-container .count .msg").text("");a(".result-list ul").empty().append(a('<li class="error" />').text(c.config.error_message.filtered_dealer_not_found));a(".result-list").not(".selected").find(".dealer-view-more").hide();return}}c.loadedDealers=[];c.mapController.cleanMap();c.processResults(g,"",true);return false});a(".viewSaved",e).on("click",function(d){d.preventDefault();c.closeTabs();c.showSavedDealer()});a(".show-list",e).on("click",
function(){c.closeTabs()});a(".dealer-result-container",e).on("click",".view-all-dealers",function(d){d.preventDefault();d.stopPropagation();var g=a("#dealer-translations").embeddedData();if(window.history.pushState&&!c.is_mobile){d=location.href;_.contains(d,"?");if(/(\?|\&)+(dealer)+\=/.test(d))d=d.split(/(\?|\&)+(dealer)+\=/)[0];else if(g.usePathUrl&&g.usePathUrl=="true"){g=d.split("/");g=g[g.length-3];if(a(".dealer-result-container").hasClass("detailed"))d=d.split(g)[0]}window.history.pushState("",
"",d)}a(this).parents(".dealer-result-container").removeClass("detailed");a(this).parents(".dealer-result-container").find(".filter-toggler").addClass("trackable");a(".dealer-filter-bar").is(".active")&&a(".filter-toggler",c.container).triggerHandler("click");a(".result-list",e).show().siblings(".selected").hide()});a(".dealer-unaware .btn-current",e).on("click",function(d){d.preventDefault();d.stopPropagation();c.getDealersFromCurrentLocation();c.is_selectLocation=false});a(".search-panel",e).on("submit",
function(d){d.preventDefault();c.getDealersByKeyword(a(".input-panel input[type=text]").val(),false);return false});a(".input-panel input[type=text]",e).on("keyup",c.autoCompleteTrigger);c=this;if(sessionStorage.dealers){c.processResults(JSON.parse(sessionStorage.dealers),sessionStorage.error_message);sessionStorage.search_keyword&&a(".input-panel input[type=text]",c.container).val(sessionStorage.search_keyword).blur();sessionStorage.removeItem("dealers");sessionStorage.removeItem("search_keyword");
sessionStorage.removeItem("error_message")}else b.dealerId.length!=0?c.mapController.searchDealersByProperties({DealerID:b.dealerId},{},function(d){if(d.length){c.processResults(d,null,null,true);a(".result-list.selected").show().siblings(".result-list").hide();a(".dealer-result-container").addClass("detailed").find(".filter-toggler").removeClass("trackable");c.showDealerCard(a(".dealer-result-container li.dealer-result"),true);guxApp.tools.isAutoNaviMap()&&c.mapController.map.panTo(d[0].location)}}):
guxApp.locationAware.locationDetection(function(d,g){d&&c.mapController.searchDealersByLocation(d,a(".input-panel input[type=text]",e),{},{},function(f){if(!f)return false;c.is_autoDetection=g;c.processResults(f)},"",g)})}},showNotification:function(){var b=a(".save-dealer",guxApp.dealerLocator.container);b.stop().slideDown();setTimeout(function(){b.stop().slideUp()},5E3)},hideNotification:function(){a(".save-dealer",guxApp.dealerLocator.container).stop().slideUp()},toggleAccordion:function(b){b.preventDefault();
if(a(this).is(".trackable")&&!b.originalEvent)return false;b=a(this);b.parent().toggleClass("active").siblings().removeClass("active");a(":first-child",b).toggleClass("trackable")},showOptions:function(b){b.preventDefault();a(this).parents(".values").toggleClass("active").siblings().removeClass("active")},togglePopInfo:function(b){b.preventDefault();b=a(this);var e=b.siblings(".popover");if(!b.is(".active")){a(".popover").hide();a(".view-details").removeClass("active")}b.toggleClass("active");e.toggle()},
closePopInfo:function(b){b.preventDefault();guxApp.dealerLocator.togglePopInfo(b)},getDealerServices:function(b){var e=a("#services-config").embeddedData(),c=[];a.each(e,function(d,g){b[d]&&c.push(g)});c.sort(function(d,g){return parseInt(d.order)-parseInt(g.order)});return c.length?c:false},showSavedDealer:function(){var b=guxApp.dealerLocator,e=b.getSavedDealer();b.loadedDealers=[];b.mapController.cleanMap();_.contains(_.pluck(b.dealers,"DealerID"),e)?b.processResults(b.dealers,null,null,null,true):
b.mapController.searchDealersByProperties({DealerID:e},{},function(c){b.processResults(_.union(c,b.dealers),null,null,null,true)})},removeSavedDealer:function(){var b=guxApp.dealerLocator,e=b.getSavedDealer();b.loadedDealers=[];b.mapController.cleanMap();_.contains(_.pluck(b.dealers,"DealerID"),e)&&b.dealers.splice(_.indexOf(b.dealer,e),1);b.processResults(b.dealers,null,null,null,true)},is_loggedin:function(){return guxPersonalisation.psn.profile.authState==="OW"},getSavedDealer:function(){return this.is_loggedin()?
guxApp.cookie.get("dfy.dl")||JSON.parse(sessionStorage["dfy.p"]).dc:guxApp.cookie.get("dfy.dl")},is_savedDealer:function(b){return b.DealerID==this.getSavedDealer()},showDealerCard:function(b,e){var c=this,d=a(b).data();b=guxApp.dealerLocator.getDealerServices(d);var g=guxPersonalisation.psn,f=guxApp.cookie,h=false;e=e||false;a.extend(d,{services:b});window.history.pushState&&!c.is_mobile&&!e&&window.history.pushState(d,d.DealerName,d.dealershipURL);a(".result-list.selected .dealer-result").html(_.template(a("#dealer-detail").html(),
d)).data(d);c.is_selectLocation&&c.hideDistanceByLocation&&a(".distance",a(".result-list.selected .dealer-result")).hide();a.publish("uniform",{el:a(".select-dept",c.container),el_type:"select"});if(c.is_savedDealer(d)){a(".save-dealer-btn",a(".result-list.selected")).addClass("saved");h=true}a(".save-dealer-btn em",c.container).html(h?c.config.translation.saved:c.config.translation.save);guxApp.tools.isAutoNaviMap()&&a(".dealer-locator .dealer-result-container .result-list.selected .dealer-result .dealer-num").addClass(d.DealerAffiliation);
a(".dealer-accordion").find(".control").on("click",c.toggleAccordion);a(".save-dealer-btn").on("click",function(i){i.preventDefault();i=a(this).attr("data-name");var l=a(this).attr("data-type"),j=a(this).attr("data-freq"),k="dealer info:save",n=this,o=a(".view-all-dealers",c.container),m=function(){a(".input-panel",c.container).is(".active")||o.data("dealerEvent")();o.unbind("click",m)};o.on("click",m);personalisation_data=JSON.parse(sessionStorage["dfy.p"]);if(a(this).is(".saved")){a(this).removeClass("saved");
k="dealer info:unsave";a.publish("/analytics/event/",{type:"fav-dealer",code:""});personalisation_data.dc="";g.profile=personalisation_data;sessionStorage["dfy.p"]=JSON.stringify(personalisation_data);f.hasItem("dfy.dl")&&f.del("dfy.dl");a(".dealer-result.preferred").removeClass("preferred");a("em",n).html(c.config.translation.save);c.hideNotification();o.data("dealerEvent",c.removeSavedDealer);a.publish("/analytics/link/",{title:i,link:this,type:l,onclicks:k,freq:j});return false}c.showNotification();
a.publish("/analytics/event/",{type:"fav-dealer",code:d.DealerID});if(c.is_loggedin()){personalisation_data.dc=d.DealerID;g.profile=personalisation_data;sessionStorage["dfy.p"]=JSON.stringify(personalisation_data)}f.set("dfy.dl",d.DealerID,Infinity);a(n).addClass("saved");a("em",n).html(c.config.translation.saved);o.data("dealerEvent",c.showSavedDealer);a.publish("/analytics/link/",{title:i,link:this,type:l,onclicks:k,freq:j})});a(".save-dealer .view-details").on("click",function(i){i.preventDefault();
a(this).parent().find(".popover").toggle()});a(".select-dept",c.container).on("change",function(){var i=a(this).val();a(this).closest(".dropdown").siblings(".hours-wrap").children(".sched").each(function(){a(this).hasClass(i)?a(this).show():a(this).hide()})});a(".result-list.selected",c.container).show().siblings(".result-list").hide();a(".dealer-result-container",c.container).addClass("detailed");a(".filter-toggler",c.container).removeClass("trackable")},scrollToDealer:function(b,e,c,d){var g=this;
b=b-1;var f=a(".result-list").not(".selected"),h=a("li",f).eq(b);b=g.mapController.map;guxApp.tools.isAutoNaviMap()?b.panTo(e.marker.getPosition()):b.panTo(e.getPosition());if(!h.is(".active")){if(g.is_mobile){c&&a("html,body").animate({scrollTop:a(".dealer-locator .dealer-unaware").offset().top});d&&!a(".dealer-result-container .result-list:visible").hasClass("selected")&&a("html,body").animate({scrollTop:h.offset().top-parseInt(h.css("margin-top"))})}else a(".result-list").not(".selected").animate({scrollTop:h.position().top});
b.markers.length&&b.deselectMarkers();guxApp.tools.isAutoNaviMap()||e.select(3E3);g.is_mobile||e.showInfoWindow();guxApp.tools.isAutoNaviMap()||h.addClass("active").siblings().removeClass("active");window.setTimeout(function(){a(".alt-theme .info-window .dealer-name").off("click").on("click",function(i){i.preventDefault();g.showDealerCard(h)})},500)}},addDealerToList:function(b,e,c,d,g,f,h){function i(m){var p="";if(m)if(a(".color-lengend ."+m).length)p=a(".color-lengend ."+m).parent().text();return p}
b.hours=f.getDeptSchedule(b);a.extend(b,{address:f.makeDealerAddress(b,d.config.addressFormat),dealershipURL:f.makeDealerURL(b),index:c,is_preferred:d.is_savedDealer(b),is_mobile:d.is_mobile,is_open:f.is_dealerOpen(b,d.day),closeTime:f.getCloseTime(b,d.day),govtTaxIDName:d.config.govtTaxIdName,mapURL:f.makeMapURL(b.location,f.currentLocationCoords)});b.day_str=[];b.day_str_translated=[];for(var l in d.config.translation.day_str){b.day_str.push(l);b.day_str_translated.push(d.config.translation.day_str[l])}b.nextOpenTime=
f.getNextOpenTime(b);f=f.scheduleString(b,b.hours,d.day);b.schedule=f.description;b.scheduleType=f.type;b.vehicleOffer=d.getVehiOffer(b);b.phoneNumbers=b.PrimaryPhone&&b.PrimaryPhone.length?b.PrimaryPhone.split(/[;,]/g):[];b.DealerAffiliation=b.DealerAffiliation||"";b.entityText=i(b.DealerAffiliation);b.dealerNewVehicle=b.DealerNewVehicle&&b.DealerNewVehicle.length?b.DealerNewVehicle.replace(/\s/g,"").split(/[;,]/g):[];if(guxApp.tools.isAutoNaviMap()){if(b.dealershipURL!=""&&b.dealershipURL.indexOf("http://")!=
0)b.dealershipURL="http://"+b.dealershipURL}else if(b.PrimaryURL!=""&&b.PrimaryURL.indexOf("http://")!=0)b.PrimaryURL="http://"+b.PrimaryURL;var j=a(_.template(a("#dealer-results").html(),b));f={};if(d.config.markerImages&&d.config.markerImagesAttribute)f=d.config.markerImages[b[d.config.markerImagesAttribute]];var k=g.addGuxMarker(b.location,b.index,_.template(a("#infobox-template").html(),b).toString(),function(){return function(){d.scrollToDealer(c,k,false,true)}}(b),f);a(e).append(j);d.is_selectLocation&&
d.hideDistanceByLocation&&a(".distance",j).hide();j.data(b);a(".dealer-icon .dealer-num",j).on("click",function(){a(j).is(".active")||d.scrollToDealer(c,k,a(this).hasClass("dealer-num")?true:false)});a(".details, .dealer-heading a",j).on("click",function(m){m.preventDefault();d.scrollToDealer(c,k);d.showDealerCard(j)});if(h){var n="idle";if(guxApp.tools.isAutoNaviMap())n="moveend";var o=g.addListener(g.map,n,function(){d.scrollToDealer(c,k);g.removeListener(o)});a(".save-dealer-btn.saved em",j).text(d.config.translation.saved)}},
loadDealers:function(b){var e=this,c=e.mapController.map,d=a(".result-list").find("> ul"),g=e.loadedDealers||[],f=g.length,h=b.slice(f,f+5);g=_.union(g,h);e.loadedDealers=g;a.each(h,function(l,j){l=l+f+1;e.addDealerToList(j,d,l,e,c,e.mapController,l==1)});a(".dealer-result-container").show();if(guxApp.tools.isAutoNaviMap()){var i=[];a.each(g,function(l,j){i[l]=j._location});c.setBounds(i,1)}else c.setBounds(g,1);_.size(b)<5&&c.setZoom(10);b.length>g.length?a(".result-list").not(".selected").find(".dealer-view-more").show():
a(".result-list").not(".selected").find(".dealer-view-more").hide()},autoCompleteTrigger:function(b){var e=guxApp.dealerLocator,c=a(this).val(),d=c.length,g=a(".search-panel"),f=e.config.auto_suggest_limit,h=null,i=!b.charCode?b.which:b.charCode;String.fromCharCode(i).valueOf();if(b.altKey||b.ctrlKey||i==17||i==18)return false;if(h){clearTimeout(h);h=null}if(i==38||i==40){switch(i){case 38:var l=true;break;case 40:l=false;break}a(".dealer-disambiguation",e.container).is(":visible")&&e.selectSuggestion(this,
l)}else if(c&&(/[A-Z]{2,}/.test(c)||d>=e.config.autocomplete_char_count))h=setTimeout(function(){if(a(".input-panel",e.container).is(".active"))return false;guxApp.googleMapController.map.autocomplete(c,f,function(j){var k=j.locations;j=_.pluck(j.dealers,"DealerName");if(k.length||j.length)guxApp.dealerLocator.showSuggestions(_.union(j,k),g)})},300)},selectSuggestion:function(b,e){var c=a(".search-panel .dealer-disambiguation"),d=a("li.active",c),g=d.next().length?d.next():a("li",c).eq(0);c=d.prev().length?
d.prev():a("li",c).eq(a("li",c).length-1);d=g;if(e)d=c;d.addClass("active").siblings().removeClass("active");a(b).val(a("a",d).text())},showSuggestions:function(b,e){a(".search-panel .error").hide();a(".dealer-result-container").hide();if(b.length){a(".dealer-disambiguation",e).show();a(".dealer-disambiguation ul",e).html(_.template(a("#dealer-disambiguation").html(),{suggestions:b}));a(".dealer-disambiguation a",a(e)).on("click",function(c){c.preventDefault();a(".input-panel input[type=text]",e).val(a(this).text());
a(".dealer-disambiguation",e).hide();a(e).trigger("submit")})}else a(".dealer-disambiguation",e).hide()},getDealersByKeyword:function(b){var e=this,c=e.mapController.map,d=e.config.error_message.dealer_not_found;e.is_autoDetection=false;e.filters=[];a(".error",e.container).hide();if(b==""||!b)e.showError(e.config.error_message.blank_field);else{if(a(".input-panel",e.container).is(".active"))return false;a(".input-panel",e.container).addClass("active");clearTimeout(c.autocompleteTimeout);c.autocompleteTimeout=
null;e.mapController.searchDealersByKeyword(b,a(".input-panel input[type=text]",e.container),e.processResults,d);e.loadedDealers=[];a(".input-panel input[type=text]",e.container).blur();e.closeTabs()}},showError:function(b){this.closeTabs();a(".dealer-result-container").hide();this.errorContainer.addClass("active").show().find(".text").text(b)},getDealersFromCurrentLocation:function(){var b=this,e=a(".input-panel input[type=text]",b.container),c=null;b.is_autoDetection=false;b.filters=[];b.closeTabs();
b.mapController.cleanMap();a(".error",b.container).hide();if(a(".input-panel",b.container).is(".active"))return false;a(".input-panel",b.container).addClass("active");c=setTimeout(function(){b.showError(b.config.error_message.geolocation_error_timeout);a(".input-panel",b.container).removeClass("active")},1E4);if(navigator.geolocation)navigator.geolocation.getCurrentPosition(function(d){var g=d.coords.latitude;d=d.coords.longitude;b.loadedDealers=[];clearTimeout(c);c=null;b.mapController.getAddressStringFromCoord({lat:g,
lng:d},function(f){e.val(f);b.mapController.searchDealersByLocation(f,e,{},{},b.processResults,b.config.error_message.location_not_found)})},function(d){clearTimeout(c);c=null;switch(d.code){case d.PERMISSION_DENIED:b.showError(b.config.error_message.geolocation_error_denied);break;case d.POSITION_UNAVAILABLE:b.showError(b.config.error_message.geolocation_error);break;case d.TIMEOUT:b.showError(b.config.error_message.geolocation_error_timeout);break}a(".input-panel",b.container).removeClass("active")},
{timeout:7E3});else{clearTimeout(c);c=null;b.showError(b.config.error_message.geolocation_error_denied);a(".input-panel",b.container).removeClass("active")}},processResults:function(b,e,c,d,g){var f=guxApp.dealerLocator,h=a(".sub-options",f.searchContainer),i=a(".dealer-result-container .filter-header");d?i.hide():i.show();a(".input-panel",f.container).removeClass("active");if(!b||!b.length){f.hasResults=false;f.colorLengend.removeClass("active");f.is_autoDetection||f.showError(e);h.show();return false}if(h.length>
0){f.hasResults=true;h.hide();a(".wrap .title",f.container).removeClass("active");f.colorLengend.addClass("active");f.errorContainer.removeClass("active");f.resultsContainer.removeClass("detailed");f.selResContainer.hide()}a(".dealer-map-field").addClass("show");a(".dealer-map-landing").addClass("hide");f.mapController.displayMap();_.each(b,function(k){_.defaults(k,{distance:"",ABN:""})});a(".result-list.selected",f.container).is(":hidden")&&a(".result-list").not(".selected").show();a(".dealer-disambiguation").hide();
a(".search-panel .error").hide();a(".result-list > ul").empty();if(!c)f.dealers=_.sortBy(b,"distance");e=_.find(b,function(k){return f.is_savedDealer(k)});if(_.size(e)){new_dealers=_.reject(b,function(k){return f.is_savedDealer(k)});b=_.union(e,new_dealers)}e="";d=f.config.dealer_count_message.no_dealer;if(b.length==1){e=b.length;d=" "+f.config.dealer_count_message.single_dealer}else if(b.length>1){e=b.length;d=" "+f.config.dealer_count_message.multiple_dealer}a(".dealer-result-container .count .num").text(e);
a(".dealer-result-container .count .msg").text(d);f.loadDealers(b);(g=g||false)||a.publish("dealers-done");var l=a("#services-config").embeddedData();g=f.filters||[];if(!c){f.services={};a.each(b,function(k,n){_.each(l,function(o,m){if(parseInt(n[m])||n[m]==="Y"||n[m]===true)f.services[m]=o})})}if(guxApp.tools.isEmpty(f.services))a(".filter-header .filter-toggler").hide();else{c=[];for(var j in f.services){c.push(f.services[j]);c[c.length-1].key=j}c.sort(function(k,n){return parseInt(k.order)-parseInt(n.order)});
a(".filter-services .group-list").html(_.template(a("#services-template").html(),{services:c,filters:g}));a(".filter-header .filter-toggler").is(":hidden")&&a(".filter-header .filter-toggler").show()}a.publish("uniform",{el:a(".filter-services input:checkbox",f.container),el_type:"rounded-checkbox"});a(".dealer-view-more",a(".result-list",f.container).not(".selected")).unbind().on("click",".button",function(k){a(".dealer-result");k.preventDefault();f.loadDealers(b)});a(".input-panel",f.container).removeClass("active")},
displayRouteToDealerTrigger:function(b){b.preventDefault();b=guxApp.dealerLocator;var e=b.mapController.map,c=a(this).parents(".dealer-result").data();e.displayRouteToDealer({lat:b.mapController.currentLat,lng:b.mapController.currentLong},c)},closeTabs:function(){var b=this;a(".view-all-dealers",b.container).trigger("click");a(".dealer-filter-bar").is(".active")&&a(".filter-toggler",b.container).triggerHandler("click");a(".dealer-disambiguation",b.container).hide();a(".error",b.container).removeClass("active")}};
a(function(){if(a(".dealer-locator").length){guxApp.dealerLocator.loading=true;var b=new Date;guxApp.dealerLocator.date=b;guxApp.dealerLocator.day=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][b.getDay()];a.subscribe("api-done",function(){guxApp.dealerLocator.init()})}});a(document).on("pageinit",function(){if(a(".dealer-locator").length){a(".dealer-locator .ui-link").removeClass("ui-link");if(!guxApp.dealerLocator.loading){a(".dealer-map-field").is(":hidden")&&a(".dealer-map-field").show();
a.subscribe("api-done",function(){guxApp.dealerLocator.init()})}}});a(document).on("pageshow",function(){guxApp.dealerLocator.loading=false})})(jQuery);

(function(b){guxApp.dealerLocator.resultsFiltering=function(a,f){var c=this;f=f||c.config.error_message.nearest_dealer_not_found;var e=b("input[type='text']",".name-search"),d=e.attr("placeholder-value"),i=e.val(),g=b("select",".vehicle-search").val(),l=[],j=[];if(d&&d==i)i="";if(i&&i.length>0){b.each(a,function(){if(guxApp.tools.isAutoNaviMap())this._name.indexOf(i)!=-1&&l.push(this);else this.DealerName.indexOf(i)!=-1&&l.push(this)});a=l}if(g&&g.length>0){b.each(a,function(){if(guxApp.tools.isAutoNaviMap())this.DealerNewVehicle.toString().indexOf(g)!=
-1&&j.push(this);else this.DealerRangeNew.indexOf(g)!=-1&&j.push(this)});a=j}c.processResults(a,f)};guxApp.dealerLocator.getOptData=function(){var a=this,f=b("#cityDropdownData"),c=[],e=b("select[name='province']",a.searchContainer),d=b("select[name='city']",a.searchContainer);d.prop("disabled","disabled").closest(".dropdown").addClass("disabled");if(f.length>0&&f.embeddedData().list&&f.embeddedData().list.length)c=f.embeddedData().list[0].states;c.length>0&&b.each(c,function(i,g){b("<option value='"+
g[1].name+"'>"+g[1].name+"</option>").appendTo(e)});e.on("change",function(){var i=b(this).val(),g=false;d.val("");d.uniform.update();b.each(c,function(l,j){if(i==j[1].name){d.children("option:gt(0)").remove();b.each(j[1].cities,function(k,h){b("<option value='"+h[1].name+"'>"+h[1].name+"</option>").appendTo(d)});g=true}if(g)return false});e.val()==""?d.prop("disabled","disabled").closest(".dropdown").addClass("disabled"):d.prop("disabled",false).closest(".dropdown").removeClass("disabled")})};guxApp.dealerLocator.getOptDataQL=
function(){var a=this,f=b("#countryCityDropdownData"),c=[],e=b("select[name='country']",a.searchContainer),d=b("select[name='statecity']",a.searchContainer);d.prop("disabled","disabled").closest(".dropdown").addClass("disabled");if(f.length>0&&f.embeddedData().list&&f.embeddedData().list.length)c=f.embeddedData().list[0].countries;c.length>0&&b.each(c,function(i,g){b("<option value='"+g[1].name+"'>"+g[1].name+"</option>").appendTo(e)});e.on("change",function(){var i=b(this).val(),g=false;d.val("");
d.uniform.update();b.each(c,function(l,j){if(i==j[1].name){d.children("option:gt(0)").remove();if(j[1].cities.length>0)b.each(j[1].cities,function(k,h){b("<option value=city>"+h[1].name+"</option>").appendTo(d)});else j[1].states.length>0&&b.each(j[1].states,function(k,h){b("<option value=state>"+h[1].name+"</option>").appendTo(d)});g=true}if(g)return false});e.val()==""?d.prop("disabled","disabled").closest(".dropdown").addClass("disabled"):d.prop("disabled",false).closest(".dropdown").removeClass("disabled")})};
guxApp.dealerLocator.getVehiOffer=function(a){var f=this,c={};a.PerOwnedVehicle="type1,type2";if(a.DealerRangeNew&&a.DealerRangeNew.length>0)c.newCars={name:f.config.newCars,value:a.DealerRangeNew.split(",")};if(a.PerOwnedVehicle&&a.PerOwnedVehicle.length>0)c.preOwnedCars={name:f.config.preOwnedCars,value:a.PerOwnedVehicle.split(",")};return c};b(function(){var a=guxApp.dealerLocator;a.mapWrapper=b(".dealer-locator.alt-theme");if(a.mapWrapper.length!=0){a=guxApp.dealerLocator;a.hasResults=false;a.mapController=
guxApp.googleMapController;a.searchContainer=b(".dealer-unaware",a.mapWrapper);a.resultsContainer=b(".dealer-result-container",a.mapWrapper);a.errorContainer=b(".error",".location-search",a.searchContainer);a.selResContainer=b(".selected",a.resultsContainer);a.colorLengend=b(".color-lengend",a.mapWrapper);!b(".store-locator-form").length||!b("#countryCityDropdownData").length?a.getOptData():a.getOptDataQL();b(".title",a.searchContainer).on("click",function(){var c=b(this),e=c.siblings(".sub-options");
if(a.hasResults)e.is(":visible")?a.resultsContainer.show():a.resultsContainer.hide();e.slideToggle(function(){e.is(":visible")?c.addClass("active"):c.removeClass("active")})});b(".sub-options label",a.searchContainer).on("click",function(c){if(c.target.tagName==="INPUT"){c=b(this);var e=c.siblings(".nested-options");e.is(":hidden")?c.addClass("active"):c.removeClass("active");e.slideToggle(function(){e.length>0&&e.is(":hidden")&&e.find("select,input[type='text']").val("").uniform.update()})}});b(".actions-bar .button",
a.searchContainer).on("click",function(c){var e=b("select",".location-search").serializeArray(),d=b("select[name='province']",a.searchContainer),i=b("select[name='city']",a.searchContainer),g="",l=b("select[name='country']",a.searchContainer),j=b("select[name='statecity']",a.searchContainer);a.filters=[];a.closeTabs();c.preventDefault();if(!b(".store-locator-form").length||!b("#countryCityDropdownData").length)if(d.val()==""||i.val()=="")d.closest(".location-search").find(".error").addClass("active").find(".text").text(a.config.error_message.isMandatory);
else{b.each(e,function(k,h){if(h.value!="")g+=h.value});a.loadedDealers=[];guxApp.tools.isAutoNaviMap()?a.mapController.searchDealersByLocation(g,false,{AdministrativeArea:d.val()||"",Locality:i.val()||""},{},function(k,h){a.is_selectLocation=true;a.resultsFiltering(k,h)}):a.mapController.searchDealersByProperties({AdministrativeArea:d.val(),Locality:i.val()},{},function(k,h){a.is_selectLocation=true;a.resultsFiltering(k,h)})}else if(l.val()==""||j.val()=="")d.closest(".location-search").find(".error").addClass("active").find(".text").text(a.config.error_message.isMandatory);
else{a.loadedDealers=[];if(j.val()=="city")a.mapController.searchDealersByProperties({Country:l.val(),Locality:b("select[name='statecity'] option:selected").text()},{},function(k,h){a.is_selectLocation=true;a.resultsFiltering(k,h)});else j.val()=="state"&&a.mapController.searchDealersByProperties({Country:l.val(),AdministrativeArea:b("select[name='statecity'] option:selected").text()},{},function(k,h){a.is_selectLocation=true;a.resultsFiltering(k,h)})}});if(sessionStorage.search_province){b("select[name=province]",
a.searchContainer).val(sessionStorage.search_province).blur();b("select[name=province]",a.searchContainer).change();b("select[name=province]",a.searchContainer).uniform.update();sessionStorage.removeItem("search_province")}if(sessionStorage.search_city){b("select[name=city]",a.searchContainer).val(sessionStorage.search_city).blur();b("select[name=city]",a.searchContainer).uniform.update();sessionStorage.removeItem("search_city")}if(sessionStorage.search_vehicle){b("select[name=vehicle]",a.searchContainer).val(sessionStorage.search_vehicle).blur();
b("select[name=vehicle]",a.searchContainer).uniform.update();sessionStorage.removeItem("search_vehicle")}if(sessionStorage.search_location){b("input[name=location]",a.searchContainer).val(sessionStorage.search_location).blur();sessionStorage.removeItem("search_location")}b.urlParam=function(c){c=(new RegExp("[?&]"+c+"=([^&#]*)")).exec(window.location.href);return c==null?null:c[1]||0};var f=b.urlParam("specialities")?decodeURI(b.urlParam("specialities")):"";if(guxApp.tools.isAutoNaviMap()){b(".vehicle-search label",
a.searchContainer).addClass("active").siblings(".nested-options").slideToggle();b("#vehicle-search").attr("checked","true");b("#uniform-vehicle-search").children("span").addClass("checked");b(".name-search label",a.searchContainer).addClass("active").siblings(".nested-options").slideToggle();b("#name-search").attr("checked","true");b("#uniform-name-search").children("span").addClass("checked");f.length!=0&&b(".vehicle-search label",a.searchContainer).siblings(".nested-options").length>0&&b(".vehicle-search label").siblings(".nested-options").find("select").find("option[value='"+
f+"']").attr("selected","true").click()}}})})(jQuery);

var guxApp=guxApp||{};
(function(d){guxApp.googleMapController={init:function(){var a=this;a.mapAPI=new googleMapsApi({language:a.config.localisation,countryCode:a.config.country_code,countryCodes:a.config.country_code,imagePath:a.config.marker_image_path,countryBounds:a.config.country_bounds,autocompleteCallbackName:"googleAutocompleteCallbackName",dealerTableURL:a.config.dealer_table});if(d(".dealer-locator").length)a.mapContainer=d(".dealer-map-field")[0];else if(d(".mini-dealer").length)a.mapContainer=d("#map-container")[0];
!a.map&&a.mapContainer&&a.loadMap(a.mapContainer);d.publish("api-done")},loadMap:function(a){var b=this;a=new b.mapAPI.map(a,{center:{lat:b.config.currentLat,lng:b.config.currentLong},scrollwheel:false,mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.RIGHT_BOTTOM},panControl:true,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:true,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},
scaleControl:true,streetViewControl:false,supressInfoWindows:true,zoom:parseInt(b.config.zoom_level)});b.map=a;d(".map-default",d(".dealer-locator")).length&&d(".map-default",d(".dealer-locator")).remove();d.publish("map-api-done")},getCoordsFromAddressString:function(a,b){this.map.geocodeLocation(a,b)},getAddressStringFromCoord:function(a,b){this.map.reverseGeocode(a,b)},searchDealersByKeyword:function(a,b,c,g){guxApp.commonMapController.searchDealersByKeyword.call(this,a,b,c,g)},searchDealersByProperties:function(a,
b,c,g){var f=this,i=f.map;a=a||{};b=b||null;f.cleanMap();f.currentLocationCoords=null;if(f.config.langFilter)a.Language=f.config.langFilter;if(f.config.brandFilter)a.Brand=f.config.brandFilter;i.searchDealersByProperties(f.config.limit,function(j){c(j,g)},a,b)},searchDealersByLocation:function(a,b,c,g,f,i,j){var e=this,l=this.map;c=c||{};g=g||null;e.currentLocationCoords=null;var k=function(m){l.geocodeLocation(m,function(h){if(h=h[0]){if(_.contains(h.types,"country")&&h.description.toLowerCase()!=
m.toLowerCase()){f(false,e.config.error_message.location_not_found);return false}}else{f(false,i);return false}j&&b.val(h.description);e.currentLocationCoords={lat:h.lat,lng:h.lng};e.searchForDealers(h,e.config.radius,e.config.limit,c,g,f,e.config.error_message.nearest_dealer_not_found)})};typeof a=="object"?l.reverseGeocode(a,function(m){k(m.address)}):k(a)},searchForDealers:function(a,b,c,g,f,i,j){var e=this,l=e.map;g=g||{};f=f||null;e.reiterate=null;e.cleanMap();if(e.config.langFilter)g.Language=
e.config.langFilter;if(e.config.brandFilter)g.Brand=e.config.brandFilter;l.searchDealersByDistance(a,b,c,function(k){if(k.length)i(k);else if(b<=e.config.max_radius)e.reiterate=setTimeout(function(){e.searchForDealers(a,b+50,c,g,f,i,j)},1E3);else i(false,j)},g,f)},makeMapURL:function(a,b){return this.map.getDirectionsURL(a,b)},makeDealerURL:function(a){return guxApp.commonMapController.makeDealerURL.call(this,a)},makeDealerAddress:function(a,b){return guxApp.commonMapController.makeDealerAddress.call(this,
a,b)},displayMap:function(){google.maps.event.trigger(this.map.map,"resize")},cleanMap:function(){var a=this.map;a.deselectMarkers();a.clearMarkers(a.markers);a.clearRoutes();a.clearDealers()},open_dept:function(a){return guxApp.commonMapController.open_dept.call(this,a)},capitalize:function(a){return guxApp.commonMapController.capitalize.call(this,a)},is_dealerOpen:function(a,b){return guxApp.commonMapController.is_dealerOpen.call(this,a,b)},filterData:function(a,b){return guxApp.commonMapController.filterData.call(this,
a,b)},getDeptSchedule:function(a){return guxApp.commonMapController.getDeptSchedule.call(this,a,guxApp.googleMapController)},strTotime:function(a,b){return guxApp.commonMapController.strTotime.call(this,a,b)},getCloseTime:function(a,b){return guxApp.commonMapController.getCloseTime.call(this,a,b)},getNextOpenTime:function(a){return guxApp.commonMapController.getNextOpenTime.call(this,a)},scheduleString:function(a,b,c){return guxApp.commonMapController.scheduleString.call(this,a,b,c)}};d(function(){if(!(d(".dealer-locator").length==
0&&d(".mini-dealer").length==0||guxApp.tools.isAutoNaviMap())){var a=d("#locator-config").embeddedData(),b=d("#common-config").embeddedData(),c=guxApp.googleMapController;c.config=a;if(b.multiLanguage==true&&b.language)c.config.langFilter=b.language;c.config.brandFilter=b.brand?b.brand:"Ford";c.config.countryCodeFilter=b.iso2country;c.map_loaded=false;c.currentLocationCoords=null;c=document.createElement("script");c.type="text/javascript";c.src="https://maps.googleapis.com/maps/api/js?"+(!b.apiClient?
"client_id":b.apiClient)+"=gme-fordmotorcompany2&libraries=places&language="+a.localisation+"&callback=guxApp.googleMapController.init";document.body.appendChild(c);c.onerror=function(){var g=g||undefined;d(".error",d(".dealer-locator, .mini-dealer")).show().find(".text").text(a.error_message.map_not_loaded)};c.onreadystatechange=function(){if(this.readyState=="loaded")window.google||d(".error",d(".dealer-locator, .mini-dealer")).show().find(".text").text(a.error_message.map_not_loaded)}}})})(jQuery);

var guxApp=guxApp||{};
(function(c){guxApp.tools={encode:function(a){if(!a)return null;return encodeURIComponent(a)||null},decode:function(a){if(!a)return null;return decodeURIComponent(a)||null},restServicesData:function(){return c("#rest-services").length?c("#rest-services").embeddedData():null},commonConfigData:function(){return c("#common-config").length?c("#common-config").embeddedData():null},getEmbeddedData:function(a){return c(a).length?c(a).embeddedData():null},getObjectLength:function(a){var b=0;for(var d in a)a.hasOwnProperty(d)&&
b++;return b},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return false;return true},cleanData:function(a){var b=[];for(var d in a){var e=d.match(/\d/);b[e]||(b[e]={});b[e][d]=a[d]}return b},slugify:function(a){a=c.trim(a.replace(/([~!@#$%^&*()_-]+)(\s)?/g,""));return a.toLowerCase().replace(/\s/g,"-")},isIE:function(a,b){var d="IE",e=document.createElement("B"),f=document.documentElement;if(a){d+=" "+a;if(b)d=b+" "+d}e.innerHTML="<!--[if "+d+']><b id="iecctest"></b><![endif]--\>';f.appendChild(e);
a=!!document.getElementById("iecctest");f.removeChild(e);return a},detectIE:function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(a.indexOf("Trident/")>0){b=a.indexOf("rv:");return parseInt(a.substring(b+3,a.indexOf(".",b)),10)}b=a.indexOf("Edge/");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);return false},loader:function(a){a.prev(".loading").remove();a.removeClass("module-loader")},imageLoader:function(a,
b){imagesLoaded(a).on("always",function(){guxApp.viewport.view!=="mobile"&&c(".flex-direction-nav",a).length>0&&c(".flex-direction-nav",a).show();typeof b==="function"&&b()}).promise().done(function(){guxApp.billboardCarousel.init()})},isBingMap:function(){if(typeof Microsoft!="undefined"&&typeof Microsoft.Maps!="undefined")return true;return false},isAutoNaviMap:function(){if(typeof AMap!="undefined"&&typeof AMap.Map!="undefined")return true;return false},isIOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},
getMonth:function(){return(new Date).getMonth()+1},getYear:function(){return(new Date).getFullYear()},numberCommas:function(a){a=a.toString().replace(/,/g,"");return a.replace(/\B(?=(\d{3})+(?!\d))/g,",")},removeCommas:function(a){a=a.replace(/,/g,"");return parseFloat(a,10)},equalHeight:function(){var a=0;c(arguments).each(function(){var b=c(this);if(b.outerHeight(true)>a)a=b.outerHeight(true)});return a},isMobile:function(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)},
isRTL:function(){return c("body").hasClass("rtl")}}})(jQuery);

var guxApp=guxApp||{};(function(a){guxApp.viewport={view:"",init:function(){guxApp.viewport.view=a(window).width()<768?"mobile":"tablet";this.resize()},resize:function(){a(window).on("resize",function(){guxApp.viewport.view=a(window).width()<768?"mobile":"tablet"})}};a(function(){guxApp.viewport.init()})})(jQuery);

var guxApp=guxApp||{};
(function(e){guxApp.locationAware={locationDetection:function(f){var g=guxApp.googleMapController,i=e(".search-panel .input-panel input[type=text]"),b={"dfy.u":{key:["pc"]},userInfo:{key:["country_code","latitude","longitude"],seperator:"#"}};if(guxApp.tools.isAutoNaviMap())g=guxApp.autonaviMapController;var j=setInterval(function(){if(g.mapAPI){clearInterval(j);var c={};for(var a in b){if(guxApp.cookie.get(a))c=guxApp.cookie.getCookieVal(guxApp.cookie.get(a),b[a].key,b[a].seperator);else if(typeof sessionStorage!=
"undefined"&&sessionStorage.getItem(a)!=null)c=guxApp.cookie.getCookieVal(sessionStorage.getItem(a),b[a].key,b[a].seperator);if(b[a].key.length==1)var d=c[b[a].key[0]];else{var h=e("#common-config").embeddedData().iso2country;if(a=="userInfo"&&c.country_code&&h&&c.country_code==h){d={lat:c.latitude,lng:c.longitude};i.addClass("isIpDetection")}}if(d)break}f&&f(d,true)}},1E3)}}})(jQuery);

var guxApp=guxApp||{};
(function(j){guxApp.commonMapController={searchDealersByKeyword:function(a,b,c,d){var e=this,f=this.map,g=/^\d/.test(a),i=/[@#$%^*()_+]+/.test(a);j("dealer-locator,mini-dealer");if(g)e.searchDealersByLocation(a,b,null,null,c,d);else{if(i)a="@";e.searchDealersByProperties({},{DealerNameSearch:a.toLowerCase()},function(h){h.length?c(h):f.geocodeLocation(a,function(k){(k=k[0])&&_.contains(k.types,"country")?e.searchDealersByProperties({},{Country:k.description},function(l){l.length?c(l):setTimeout(function(){e.searchDealersByLocation(a,
b,null,null,c,d)},1E3)}):setTimeout(function(){e.searchDealersByLocation(a,b,null,null,c,d)},1E3)})})}},makeDealerURL:function(a){var b=a.DealerID,c=this.config.lad_url||location.href,d=_.contains(c,"?"),e=/(\?|\&)+(dealer)+\=/.test(c),f=j("#dealer-translations").embeddedData();if(f.usePathUrl&&f.usePathUrl=="true"){if(guxApp.tools.isAutoNaviMap()){b=guxApp.tools.slugify(a._name)+"-"+b;b=(a._address?guxApp.tools.slugify(a._address)+"/":"")+b;b=(a.Province?guxApp.tools.slugify(a.Province)+"/":"")+
b}else{b=guxApp.tools.slugify(a.DealerName)+"-"+b;b=(a.Locality?guxApp.tools.slugify(a.Locality)+"/":"")+b;b=(a.AdministrativeArea?guxApp.tools.slugify(a.AdministrativeArea)+"/":"")+b}if(d){a=c.split("?");return a[0]+"/"+b+"?"+a[1]}return c+"/"+b}else{if(guxApp.tools.isAutoNaviMap()){b=guxApp.tools.slugify(a._name)+"-"+b;b=(a._address?guxApp.tools.slugify(a._address)+"-":"")+b;b=(a.Province?guxApp.tools.slugify(a.Province)+"-":"")+b}else{b=guxApp.tools.slugify(a.DealerName)+"-"+b;b=(a.Locality?guxApp.tools.slugify(a.Locality)+
"-":"")+b;b=(a.AdministrativeArea?guxApp.tools.slugify(a.AdministrativeArea)+"-":"")+b}if(d&&e){c=c.split(/(\?|\&)+(dealer)+\=/)[0];d=_.contains(c,"?")}if(_da&&_da.module&&_da.module.template&&c.indexOf("intcmp")!=-1)if(c.indexOf("STATUS")!=-1)c=c.replace(/STATUS/,_da.module.template);return c+(d?"&":"?")+"dealer="+b}},makeDealerAddress:function(a,b){var c=this,d=(b||"a l L A C p").split(/\s/),e={a:_.reduce([a.AddressLine1,a.AddressLine2,a.AddressLine3],function(f,g){return f+(g?" "+g:"")}),l:a.SubLocality?
a.SubLocality:"",L:a.Locality?a.Locality:"",A:a.AdministrativeArea?a.AdministrativeArea:"",C:a.Country?a.Country:"",p:a.PostCode?a.PostCode:""};_.each(d,function(f,g){var i=f.replace(/\W/g,""),h=e[i];if(h){if(g<d.length-1)h+=",";if(c.config.display_country&&c.config.display_country=="N"&&i=="C")h="";f=f.replace(i.toString(),h);d.splice(g,1,f)}else d.splice(g,1," ")});return d.join(" ")},open_dept:function(a){var b=false;for(key in a){b=a[key];break}return b},capitalize:function(a){if(a)return a.charAt(0).toUpperCase()+
a.slice(1)},is_dealerOpen:function(a,b){var c=this,d=false,e=new Date;if(a.hours){var f=c.open_dept(a.hours);f=c.capitalize(f.key);if(parseInt(a[f+b+"Open"])||a[f+b+"Open"]==="Y"){a=c.strTotime(a[f+b+"CloseTime"],true);d=Date.parse(e)<=Date.parse(a)}}return d},filterData:function(a,b){var c=false;for(var d in a)if(b.test(d)&&a[d]!=""){c||(c={});c[d]=a[d]}return c},getDeptSchedule:function(a,b){var c=this,d={sales:{pattern:/^Sales+\w+(Time|Open|Comments)$/,keys:["HasSalesDepartmentPV","HasSalesDepartmentCV",
"Used","ApprovedUsed"]},service:{pattern:/^Service+\w+(Time|Open|Comments)$/,keys:["HasServiceDepartmentPV","HasServiceDepartmentCV"]},parts:{pattern:/^Parts+\w+(Time|Open|Comments)$/,keys:["HasPartsDepartment"]}},e=false,f=false;if(j("#mocked-api").length==1)a=j("#mocked-api").embeddedData();for(var g in d){f=false;j.each(d[g].keys,function(k,l){f=a[l]=="Y"||a[l]=="1"?true:f});if(f){var i=c.filterData(a,d[g].pattern);e||(e={});for(var h in i){e.hasOwnProperty(g)||(e[g]={name:c.config.translation[g],
key:g});e[g][h]=(h.indexOf("OpenTime")!=-1||h.indexOf("CloseTime")!=-1)&&(/^\d{4}$/.test(i[h])||/\d{2}\:\d{2}/.test(i[h]))?b.strTotime(i[h]):i[h]}}}return e},strTotime:function(a,b){if(a){a=a.replace(":","");var c=this,d=new Date,e=parseInt(a,10)/100;a=parseInt(a,10)%100;time=null;time=new Date(d.getFullYear(),d.getMonth(),d.getDate(),e,a,0,0);if(b)return time;e=time.getHours();a=time.getMinutes().toString();return(e>12?e-12:e==0?12:e)+":"+(a.length<=1?"0"+a:a)+(e>=12?c.config.translation.evening_suffix:
c.config.translation.morning_suffix)}},getCloseTime:function(a,b){var c=this,d=false;if(a.hours){d=c.open_dept(a.hours);d=c.strTotime(a[c.capitalize(d.key)+b+"CloseTime"])}return d},getNextOpenTime:function(a){var b=this,c=(new Date).getDay(),d="";if(a.hours){var e=b.open_dept(a.hours);e=b.capitalize(e.key);c=c+1;for(var f=0;f<7;f++){if(parseInt(a[e+a.day_str[c]+"Open"])||a[e+a.day_str[c]+"Open"]==="Y"){d=a.day_str_translated[c]+" "+b.strTotime(a[e+a.day_str[c]+"OpenTime"]);break}c=c>=6?0:c+1}}return d},
scheduleString:function(a,b,c){var d=this,e=new Date;e=parseInt(e.getHours().toString()+e.getMinutes().toString());var f={type:"",description:d.config.translation.closed_str};if(a.hours){var g=d.open_dept(b);b=d.capitalize(g.key);g=d.capitalize(g.name);var i=a[b+c+"CloseTime"]?parseInt(a[b+c+"CloseTime"],10):2459;if((parseInt(a[b+c+"Open"])||a[b+c+"Open"]==="Y")&&e<i)if(a.closeTime){f.type=g+" ";f.description=d.config.translation.open_until+a.closeTime}else f.description="";else if(a.nextOpenTime){f.type=
g+" ";f.description=d.config.translation.reopen_on+a.nextOpenTime}}return f}}})(jQuery);

var guxApp=guxApp||{};
(function(d){var f={init:function(){var b=this;wrapper=".uniform";elementObj={select:"select",checkbox:"input[type=checkbox]","radio-round":"input[type=radio].round","radio-square":"input[type=radio].square"};for(var c in elementObj)b.bindTo(d(wrapper+" "+elementObj[c]),c);d.subscribe("uniform",function(e,a){b.bindTo(a.el,a.el_type)})},bindTo:function(b,c){var e=this,a={};switch(c){case "select":a.selectAutoWidth=false;a.selectClass="dropdown";break;case "radio-square":a.radioClass="radio square";
break}b.uniform(e.isEmptyObject(a)?null:a)},isEmptyObject:function(b){for(var c in b)return false;return true}};d(function(){f.init()})})(jQuery);

var guxApp=guxApp||{};(function(a){guxApp.interpolate={init:function(){_.templateSettings={interpolate:/\<\@\=(.+?)\@\>/gim,evaluate:/\<\@([\s\S]+?)\@\>/gim,escape:/\<\@\-(.+?)\@\>/gim}}};a(function(){guxApp.interpolate.init()})})(jQuery);

(function(b){var c={init:function(){if(!Modernizr.input.placeholder){b("[placeholder]").focus(function(){var a=b(this);if(a.val()==a.attr("placeholder-value")){a.val("");a.removeClass("placeholder")}}).blur(function(){var a=b(this);a.attr("placeholder-value")||a.attr("placeholder-value",a.attr("placeholder"));if(a.val()==""||a.val()==a.attr("placeholder-value")){a.addClass("placeholder");a.val(a.attr("placeholder-value"))}}).blur();b("[placeholder]").parents("form").submit(function(){b(this).find(".placeholder").each(function(){var a=
b(this);a.val()==a.attr("placeholder-value")&&a.val("")})})}}};b(function(){c.init()})})(jQuery);

var guxApp=guxApp||{};
(function(b){guxApp.mapController={init:function(){if(b("#map-container").length){var a=b("#map-container"),c=b(window).width(),d=c*0.37;if(b(window).width()<1024)d=c*0.8;a.css("height",d);if(b("#map-options").length)mapOptions=b("#map-options").embeddedData();map=new Microsoft.Maps.Map(document.getElementById("map-container"),{credentials:mapOptions.credentials,center:new Microsoft.Maps.Location(mapOptions.lat,mapOptions.lng),mapTypeId:Microsoft.Maps.MapTypeId.road,showMapTypeSelector:mapOptions.showMapTypeSelector,zoom:mapOptions.zoom});
dataLayer=new Microsoft.Maps.EntityCollection;map.entities.push(dataLayer);infoboxLayer=new Microsoft.Maps.EntityCollection;map.entities.push(infoboxLayer);infobox=new Microsoft.Maps.Infobox(new Microsoft.Maps.Location(0,0),{visible:false,offset:new Microsoft.Maps.Point(0,20)});infoboxLayer.push(infobox);guxApp.mapController.dropPins()}},dropPins:function(){if(b("#pins-data").length)var a=b("#pins-data").embeddedData();var c={icon:""},d=[];for(var e in a){c.text=String(parseInt(e)+1);c.typeName=a[e].id;
c.id=a[e].id;var f=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(a[e].latitude,a[e].longitude),c);Microsoft.Maps.Events.addHandler(f,"click",guxApp.mapController.displayInfobox);d.push(f.getLocation());dataLayer.push(f)}a=Microsoft.Maps.LocationRect.fromLocations(d);map.setView({bounds:a})},displayInfobox:function(a){if(a.targetType=="pushpin"){infobox.setLocation(a.target.getLocation());if(b("#pins-data").length)var c=b("#pins-data").embeddedData();var d=_.template(guxApp.mapController.template);
a=a.target._text-1;infobox.setOptions({visible:true,htmlContent:d(c[a]),offset:new Microsoft.Maps.Point(28,-174)});b(".infobox").find(".directions a").attr("href","http://www.bing.com/maps/default.aspx?rtp=pos."+guxApp.mapController.currentLat+"_"+guxApp.mapController.currentLong+"~pos."+c[a].latitude+"_"+c[a].longitude+"&style=r")}},addDirections:function(){if(b("#pins-data").length)var a=b("#pins-data").embeddedData();var c=b(".dealer-items .slides > li:not('.clone')"),d="http://www.bing.com/maps/default.aspx?rtp=pos."+
guxApp.mapController.currentLat+"_"+guxApp.mapController.currentLong+"~pos."+a[0].latitude+"_"+a[0].longitude+"&style=r";b(".preferred-dealer, .bing-directions").attr("href",d);c.each(function(e,f){b(f).find("a.bing-directions").attr("href","http://www.bing.com/maps/default.aspx?rtp=pos."+guxApp.mapController.currentLat+"_"+guxApp.mapController.currentLong+"~pos."+a[e].latitude+"_"+a[e].longitude+"&style=r")})}};b(function(){guxApp.mapController.currentLat=-33.874001;guxApp.mapController.currentLong=
151.203003;guxApp.mapController.template=b("#infobox-template").html();b(".mini-dealer .revealer-open").on("click",function(){b(this).hasClass("active")&&guxApp.mapController.init()});b("#pins-data").length&&guxApp.mapController.addDirections()})})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(a){guxPersonalisation.locatedealer={init:function(d){a(d).hide();var c=this,b=guxApp.tools.isAutoNaviMap()?guxApp.autonaviMapController:guxApp.googleMapController,f=a(".input-panel input[type=text]",d);d.hide();c.container=d;c.config=b.config;c.mapContainer=a("#map-container")[0];c.mapController=b;c.day=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()];this.ruleEngine(d);c.is_mobile=guxApp.viewport.view=="mobile";a(".search-panel .btn-current",
d).on("click",function(e){e.preventDefault();c.searchByPosition(f)});a(".search-panel",d).on("submit",function(e){e.preventDefault();c.searchDealersByKeyword(a(".keyword-field",d).val(),false);return false});a(".btn-search",d).on("click",function(e){if(a(this).is(".trackable")&&!e.originalEvent)return false});f.on("focus",function(){var e=this,h=a(e).attr("placeholder");a(e).val();if(a(e).attr("placeholder")){a(e).data("placeholder",h);a(e).removeAttr("placeholder")}});f.on("blur",function(){var e=
this;a(e).attr("placeholder");a(e).val()||a(e).attr("placeholder",a(e).data("placeholder"))});a(".input-panel input[type=text]",d).on("keyup",c.autoCompleteTrigger);guxPersonalisation.locatedealeralt&&guxPersonalisation.locatedealeralt.init(c)},ruleEngine:function(d){var c=this,b=c.mapController;guxPersonalisation.rest.loader(d);guxPersonalisation.psn.profile.authState==="AN"&&guxApp.locationAware.locationDetection(function(f,e){!guxApp.tools.isAutoNaviMap()&&f?b.searchDealersByLocation(f,a(".input-panel input[type=text]",
c.container),{},{},function(h,m){if(!h){c.showError(m?m:c.config.error_message.location_not_found);return false}c.is_autoDetection=e;c.processResults(h)},null,true):d.show()})},selectMarker:function(d,c){var b=this,f=b.mapController.map;f.deselectMarkers();guxApp.tools.isAutoNaviMap()||d.select();f.panTo(d.getPosition());b.is_mobile||d.showInfoWindow();a(".listing-number.active",b.container).removeClass("active");c.addClass("active")},initMarkerIcon:function(d,c,b){var f=this;a(f.container);var e;
e=f.mapController.map.addGuxMarker(d.location,c,_.template(a("#infobox-template").html(),d),function(){return function(){f.selectMarker(e,b)}}(d));b.on("click",function(){f.selectMarker(e,b)});return e},processResults:function(d,c){var b=guxPersonalisation.locatedealer,f=a(b.container),e=b.mapController,h=e.map,m=false,l=a(".slides",f);if(d.length){c=d.slice(0,5);a.each(c,function(i,g){g.hours=e.getDeptSchedule(g);var o=i;a.extend(g,{address:e.makeDealerAddress(g,b.config.addressFormat),dealershipURL:e.makeDealerURL(g),
index:o,is_mobile:b.is_mobile,is_open:e.is_dealerOpen(g,b.day),closeTime:e.getCloseTime(g,b.day),mapURL:e.makeMapURL(g.location,e.currentLocationCoords)});g.day_str=[];g.day_str_translated=[];for(i in b.config.translation.day_str){g.day_str.push(i);g.day_str_translated.push(b.config.translation.day_str[i])}if(g.PrimaryURL!=""&&g.PrimaryURL.indexOf("http://")!=0)g.PrimaryURL="http://"+g.PrimaryURL;g.distance||(g.distance="");g.nextOpenTime=e.getNextOpenTime(g);i=e.scheduleString(g,g.hours,b.day);g.schedule=
i.description;g.scheduleType=i.type;g.phoneNumbers=g.PrimaryPhone&&g.PrimaryPhone.length?g.PrimaryPhone.split(";"):[];g.dealerNewVehicle=g.DealerNewVehicle&&g.DealerNewVehicle.length?g.DealerNewVehicle.replace(/\s/g,"").split(/[;,]/g):[]});var j=c[0];c=_.rest(c);var k=_.template(a("#preferred-dealer-template").html(),j);k=a(".preferred-dealer",f).html(k);k=a(".listing-number",k);a(".slides .preferred .item",f).html(_.template(a("#preferred-dealer-mobile-template").html(),j));k.addClass("active");
var n=b.initMarkerIcon(j,1,k,true);_.each(c,function(i,g){g=g+2;i.index=g;var o=a(_.template(a("#other-dealers-template").html(),i)),p=a(".listing-number",o);l.append(o);b.initMarkerIcon(i,g,p)});_da&&_da.module&&_da.module.template&&a("section.personalisation a[href*='intcmp='],section.smartnextsteps a[href*='intcmp=']").each(function(){var i=a(this).attr("href");i.indexOf("STATUS")!=-1&&a(this).attr("href",i.replace("STATUS",_da.module.template))});b.container.show();b.showLocationAwarePanel();
a(".revealer-open",f).on("click",function(i){e.displayMap();h.setCenter({lat:j.location.lat,lng:j.location.lng});if(!m){n.select();b.is_mobile||n.showInfoWindow();m=true;h.setZoom(10)}i.preventDefault();return false});a(".link-search",f).on("click",function(){sessionStorage.dealers=JSON.stringify(d);sessionStorage.search_keyword=a(".input-panel").find(".keyword-field").val()});a(".input-panel",b.container).removeClass("active");guxApp.billboardCarousel.init()}else{b.showError(c);a(".input-panel",
b.container).removeClass("active")}},searchByPosition:function(d,c){var b=this,f=b.mapController,e=null;a(".error",b.container).hide();if(a(".input-panel",b.container).is(".active"))return false;a(".input-panel",b.container).addClass("active");if(navigator.geolocation)navigator.geolocation.getCurrentPosition(function(h){var m=h.coords.latitude;h=h.coords.longitude;clearTimeout(e);e=null;f.getAddressStringFromCoord({lat:m,lng:h},function(l){d.val(l);c&&a.isFunction(c)?f.searchDealersByLocation(l,d,
{},{},function(j,k){c(j,k)}):f.searchDealersByLocation(l,d,{},{},b.processResults,b.config.error_message.location_not_found)})},function(h){clearTimeout(e);e=null;c&&a.isFunction(c)&&c(false,h);switch(h.code){case h.PERMISSION_DENIED:b.showError(b.config.error_message.geolocation_error_denied);break;case h.POSITION_UNAVAILABLE:b.showError(b.config.error_message.geolocation_error);break;case h.TIMEOUT:b.showError(b.config.error_message.geolocation_error_timeout);break}a(".input-panel",b.container).removeClass("active")},
{timeout:7E3});else{clearTimeout(e);e=null;b.showError(b.config.error_message.geolocation_error_denied);a(".input-panel",b.container).removeClass("active")}e=setTimeout(function(){b.showError(b.config.error_message.geolocation_error_timeout);a(".input-panel",b.container).removeClass("active")},7E3)},searchDealersByKeyword:function(d,c){var b=this,f=b.mapController;/^\d/.test(d);var e=b.config.error_message.dealer_not_found;c=c||{};b.is_autoDetection=false;b.filters=[];a(".error",b.container).hide();
if(a(".input-panel",b.container).is(".active"))return false;a(".input-panel",b.container).addClass("active");if(d==""||!d){b.showError(b.config.error_message.blank_field);a(".input-panel",b.container).removeClass("active")}else{setTimeout(function(){f.searchDealersByKeyword(d,a(".input-panel input[type=text]",b.container),b.processResults,e)},3E3);b.loadedDealers=[]}},autoCompleteTrigger:function(d){var c=guxPersonalisation.locatedealer,b=c.mapController,f=a(this).val(),e=f.length,h=a(".search-panel"),
m=c.config.auto_suggest_limit,l=null,j=!d.charCode?d.which:d.charCode;String.fromCharCode(j).valueOf();if(d.altKey||d.ctrlKey||j==17||j==18)return false;if(l){clearTimeout(l);l=null}if(j==38||j==40){switch(j){case 38:var k=true;break;case 40:k=false;break}a(".dealer-disambiguation",c.container).is(":visible")&&c.selectSuggestion(this,k)}else if(f&&(/[A-Z]{2,}/.test(f)||e>=c.config.autocomplete_char_count))l=setTimeout(function(){if(a(".input-panel",c.container).is(".active"))return false;b.map.autocomplete(f,
m,function(n){var i=n.locations;n=_.pluck(n.dealers,"DealerName");if(i.length||n.length)c.showSuggestions(_.union(n,i),h)})},300)},selectSuggestion:function(d,c){var b=a(".search-panel .dealer-disambiguation"),f=a("li.active",b),e=f.next().length?f.next():a("li",b).eq(0);b=f.prev().length?f.prev():a("li",b).eq(a("li",b).length-1);f=e;if(c)f=b;f.addClass("active").siblings().removeClass("active");a(d).val(a("a",f).text())},showSuggestions:function(d,c){a(".search-panel .error").hide();if(d.length){a(".dealer-disambiguation",
c).show();a(".dealer-disambiguation ul",c).html(_.template(a("#dealer-disambiguation").html(),{suggestions:d}));a(".dealer-disambiguation a",a(c)).on("click",function(b){b.preventDefault();a(".input-panel input[type=text]",c).val(a(this).text());a(".dealer-disambiguation",c).hide();a(c).trigger("submit")})}else a(".dealer-disambiguation",c).hide()},showLocationAwarePanel:function(){var d=a(this.container);a(".dealer-unaware",d).hide();a(".location-aware",d).show()},showError:function(d){a(".error",
this.container).show().find(".text").text(d);a(".dealer-disambiguation",self.container).hide()}}})(jQuery);

var guxPersonalisation=guxPersonalisation||{};
(function(b){guxPersonalisation.locatedealeralt={init:function(k){var a=this;a.locatedealer=k;a.altThemeContainer=a.locatedealer.container.hasClass("alt-theme")?a.locatedealer.container:[];a.searchbtn=b(".actions-bar .button",a.altThemeContainer);a.searchContainer=b(".search-panel",a.altThemeContainer);a.vehicle=b("select[name='vehicle']",a.searchContainer);a.location=b("input[name='location']",a.searchContainer);if(a.altThemeContainer.length){a.vehicle&&a.vehicle.length&&a.vehicle.val("")&&a.vehicle.uniform.update();
a.location&&a.location.length&&a.location.val("");a.getOptData();a.searchbtn.on("click",function(f){f.preventDefault();f=b("select, input",a.searchContainer).serializeArray();var d=b("select[name='province']",a.searchContainer),c=b("select[name='city']",a.searchContainer),g=b("select[name='vehicle']",a.searchContainer),e=b("input[name='location']",a.searchContainer),l="",j={},m={};a.searchbtn.siblings(".error").removeClass("active");if(d.val().length&&c.val().length){b.each(f,function(i,h){if(h.value!=
"")l+=h.value});a.locatedealer.loadedDealers=[];if(guxApp.tools.isAutoNaviMap()){j={AdministrativeArea:d.val()||"",Locality:c.val()||""};m={_name:e.val()||"",DealerNewVehicle:g.val()||""};a.locatedealer.mapController.searchDealersByLocation(l,false,j,m,function(i,h){h=h||(guxPersonalisation.locatedealer.config.error_message?guxPersonalisation.locatedealer.config.error_message.dealer_not_found:"No results were Found. Please try a different search.");sessionStorage.dealers=JSON.stringify(i);sessionStorage.search_province=
d.val();sessionStorage.search_city=c.val();sessionStorage.error_message=h;e.length&&e.val().length&&(sessionStorage.search_location=e.val());g.length&&g.val().length&&(sessionStorage.search_vehicle=g.val());window.history.pushState&&window.history.pushState("","",window.location.href);window.location.href=a.searchContainer.attr("action")})}else a.locatedealer.mapController.searchDealersByProperties({AdministrativeArea:d.val(),Locality:c.val()},{},function(i,h){h=h||(guxPersonalisation.locatedealer.config.error_message?
guxPersonalisation.locatedealer.config.error_message.dealer_not_found:"No results were Found. Please try a different search.");sessionStorage.dealers=JSON.stringify(i);sessionStorage.search_province=d.val();sessionStorage.search_city=c.val();sessionStorage.error_message=h;e.length&&e.val().length&&(sessionStorage.search_location=e.val());g.length&&g.val().length&&(sessionStorage.search_vehicle=g.val());window.history.pushState&&window.history.pushState("","",window.location.href);window.location.href=
a.searchContainer.attr("action")})}else a.searchbtn.siblings(".error").addClass("active").find(".text").text(a.locatedealer.mapController.config.error_message.isMandatory);return false});b(".btn-current",a.searchContainer).off("click").on("click",function(f){f.preventDefault();a.locatedealer.searchByPosition(b("input[name='location']",a.searchContainer),function(d){if(d){sessionStorage.dealers=JSON.stringify(d);window.location.href=a.searchContainer.attr("action")}})})}},getOptData:function(){var k=
this,a=b("#cityDropdownData"),f=[],d=b("select[name='province']",k.altThemeContainer),c=b("select[name='city']",k.altThemeContainer);c.prop("disabled","disabled").closest(".dropdown").addClass("disabled");d.uniform.update();c.uniform.update();if(a.length>0&&a.embeddedData().list&&a.embeddedData().list.length)f=a.embeddedData().list[0].states;f.length>0&&b.each(f,function(g,e){b("<option value='"+e[1].name+"'>"+e[1].name+"</option>").appendTo(d)});d.on("change",function(){var g=b(this).val(),e=false;
c.val("");c.uniform.update();b.each(f,function(l,j){if(g==j[1].name){c.children("option:gt(0)").remove();b.each(j[1].cities,function(m,i){b("<option value='"+i[1].name+"'>"+i[1].name+"</option>").appendTo(c)});e=true}if(e)return false});d.val()==""?c.prop("disabled","disabled").closest(".dropdown").addClass("disabled"):c.prop("disabled",false).closest(".dropdown").removeClass("disabled")})}}})(jQuery);

(function(a){var c={init:function(){a(".disable").length&&a(".disable").on("click",function(b){b.preventDefault()})}};a(function(){c.init()})})(jQuery);
